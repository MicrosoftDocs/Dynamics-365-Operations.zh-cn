---
title: "导入的凭证最佳实践实体使用普通记帐日志"
description: "使用普通记帐日志实体，此主题。数据导入提示提供到普通记帐日志。"
author: twheeloc
manager: AnnBe
ms.date: 04/04/2017
ms.topic: article
ms.prod: 
ms.service: Dynamics365Operations
ms.technology: 
audience: Application User
ms.search.scope: AX 7.0.0, Operations, Core
ms.custom: 94363
ms.assetid: 0b8149b5-32c5-4518-9ebd-09c9fd7f4cfc
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
translationtype: Human Translation
ms.sourcegitcommit: 4d6cf88788dcc5e982e509137aa444a020137a5e
ms.openlocfilehash: 81a52acd1d9baa12fcfe9d848441901894fa5682
ms.lasthandoff: 03/31/2017


---

# <a name="best-practices-for-importing-vouchers-using-the-general-journal-entity"></a>导入的凭证最佳实践实体使用普通记帐日志

使用普通记帐日志实体，此主题。数据导入提示提供到普通记帐日志。  

您可以使用导入实体普通记帐日志中具有帐户还是对方科目类型的分类帐凭证**、客户、供应商或银行**。 此凭证可以作为一行输入，可以使用两种** **帐户字段和** **对方科目"字段中，为一行或多凭证，仅** **帐户使用字段 (和** **对方科目是在每一行上保留为空)。 普通记帐日志实体不支持每个科目类型。 相反，其他实体在需要帐户类型的不同组合的情况下存在。 例如，导入项目交易记录，请使用项目支出日志实体。 每个实体设计支持特定方案，所以该字段中可能可用实体在中为这些方案，但不在中为实体不同的方案。

## <a name="setup"></a>设置
使用普通记帐日志。实体，然后导入，请验证以下设置：

-   **批号日志设置的编号规则** -默认情况下，使用，当普通记帐日志实体时，您导入日志，批号用于总帐参数中定义的编号规则。 对于到日记帐批处理号，如果设置编号规则为**手动**，则不应用默认编号。 不支持此设置。
-   **财务维度配置**每个组织-必须定义财务维度订单，实体时将导入交易记录时。 **订单为分类帐维度集成**格式的定义，在总帐** &gt; ** **会计科目表** &gt; **维度** &gt; **集成的财务维度应用程序的 Configuration ** &gt; **实体**选择的数据。 导入的会计科目的段必须具有相同的顺序。 否则，导入过程中将发生错误。

## <a name="general-journal-entity-setup"></a>普通日记帐实体设置
在数据管理设置影响的两个默认的日志凭证号或批号如何适用：

-   **基于设置的处理** (在数据实体)
-   ** **自动生成 (在字段映射)

以下各部分描述了这些设置的效果，还介绍了如何生成日记帐批处理号和凭证号。

### <a name="journal-batch-number"></a>日记帐批处理号

-   在普通日记帐实体上设置的**基于集的处理**不会影响生成日记帐批处理号的方式。
-   如果**日记帐批处理号**字段设置为**自动生成**，则为导入的每一行创建新的日记帐批处理号。 不建议此行为。 **自动生成**设置在导入项目中，在**查看地图**下，**映射详细信息**选项卡上。
-   如果**日记帐批处理号**字段未设置为**自动生成**，则按如下方式创建日记帐批处理号：
    -   如果导入文件的定义的日志批号在 Microsoft Dynamics 365 中与一存在，未过帐的日志的日常工序具有匹配，日志中的所有行的批号导入现有日志。 行不会导入已过帐的日记帐批处理号。 相反，将创建新编号。
    -   如果导入文件的定义的日志批号不满足一存在，Dynamics 中 365 的未过帐每日日志的工序，具有相同日志批号的所有新行的"组下的日志。 例如，有 1 日记帐批处理号的所有行都导都入到某一新日记帐，并且日记帐批处理号为 2 的所有行都导入到第二个新的日记帐。 通过使用在总帐参数中定义的编号规则创建日记帐批处理号。

### <a name="voucher-number"></a>凭证号

-   当您在普通日记帐实体中使用**基于集的处理**设置时，凭证号必须在导入的文件中提供。 普通日记帐中的每个交易记录被分配在导入文件中提供的凭证编号，即使凭证不均衡。 如果要使用基于设置的处理，不过，您还需要用于在 Dynamics 365 的凭证号。定义工序的编号规则，则将为 2016 年 2 月修补程序提供的。 修补程序编号为 3170316，可从 Lifecycle services (LCS) 下载。 有关详细信息，请参阅[从 Lifecycle Services 下载修补程序](..\migration-upgrade\download-hotfix-lcs.md)。
    -   启用此功能，在用于导入工序中 Dynamics 365 的日志名称，该集合**则计算分配过帐到为** ** **。
    -   仍然必须在导入文件中定义一个凭证号。 但是，在过帐日志时，此编号是临时的和凭证号由工序 Dynamics 365 的覆盖。 您必须确保日记帐的各行按临时凭证号进行正确分组。 例如，在过帐期间，如果有，临时凭证号 1. 的三行找到。 所有三行的临时凭证号由在编号规则中的下一个编号会替代。 如果这三行不是平衡条目，将不过帐凭证。 接下来，如果找到具有临时凭证号 2 的行，这个数字将由编号规则中的下个凭证号覆盖，依此类推。

<!-- -->

-   如果您不使用**基于设置的处理**设置时，您不需要提供导入的文件的凭证号。 在基于日记帐名称的设置导入过程中创建凭证号（**仅一个凭证**，**与余额有关联**等）。 例如，如果日记帐名称定义为**与余额有关联**，第一行接收新的默认凭证号。 然后，系统评估行以确定借方是否等于贷方。 如果行上存在对方科目，导入的下一行接收新的凭证号。 如果对方科目不存在，系统会评估借方是否等于贷方，因为将导入每个新行。
-   如果**凭证号**字段设置为**自动生成**，导入将不会成功。 **凭证号**字段的**自动生成**设置不受支持。

默认情况下，普通日记帐实体使用基于集的处理。 评估您的组织的业务需求之后，您可以通过单击**数据管理**工作区的**数据实体**更改**基于集的处理**设置。 基于集的处理用于加快导入流程。 如果不使用基于集的处理，普通日记帐实体导入的导入将变慢。


