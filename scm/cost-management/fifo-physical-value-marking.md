---
title: "具有实际成本和标记的先进先出"
description: "先进先出 (FIFO) 是一种库存模型，其中，最先的收货将最先发货。 基于库存交易记录的财务日期，按照最先财务更新的入库结算从库存的财务更新的发货。"
author: YuyuScheller
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
ms.search.form: InventJournalLossProfit, InventMarking, InventModelGroup, SalesTable
audience: Application User
ms.search.scope: Core, AX 7.0.0, Operations, UnifiedOperations, Retail
ms.custom: 54682
ms.assetid: dc0e2855-83a0-41a7-a398-3c7852597d1a
ms.search.region: Global
ms.search.industry: Retail
ms.author: yuyus
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: Human Translation
ms.sourcegitcommit: d421b161216d700f7819f1da8c0ca8ad089b5670
ms.openlocfilehash: bb04a7ea1f54f4b5069f22aaaae46a2c04f1de11
ms.contentlocale: zh-cn
ms.lasthandoff: 05/25/2017


---

# <a name="fifo-with-physical-value-and-marking"></a>具有实际成本和标记的先进先出

[!include[banner](../includes/banner.md)]

[!include[retail name](../includes/retail-name.md)]


先进先出 (FIFO) 是一种库存模型，其中，最先的收货将最先发货。 基于库存交易记录的财务日期，按照最先财务更新的入库结算从库存的财务更新的发货。 

在使用先进先出时，无需使用先进先出规则。 相反，您可以标记库存交易记录，以便根据指定发货结算指定物料收货。 我们建议在您使用先进先出库存模型时使用定期库存结转。 以下示例通过三个不同的配置说明了使用先进先出的影响：

-   没有**“包括实际成本”**选项的先进先出
-   具有**“包括实际成本”**选项的先进先出
-   具有标记的先进先出

## <a name="fifo-without-the-include-physical-value-option"></a>没有“包括实际成本”选项的先进先出
在此示例中，将不标记物料模型组以包括实际成本。 随后的插图说明了这些交易记录：

-   1a. 数量 1（单件成本为 USD 10.00）的库存实际收货。
-   1b. 数量 1（单件成本为 USD 10.00）的库存财务收货。
-   2a. 数量 2（单件成本为 USD 10.00）的库存实际收货。
-   2b. 数量 2（单件成本为 USD 10.00）的库存财务收货。
-   3a. 数量 1（单件成本为 USD 25.00）的库存实际收货。
-   4a. 数量 1（单件成本为 USD 30.00）的库存实际收货。
-   4b. 数量 1（单件成本为 USD 30.00）的库存财务收货。
-   5a. 数量 1（单件成本价为 USD 20.00）的库存实际发货（财务更新的交易记录的移动平均）。
-   5b. 数量 1（单件成本价为 USD 20.00）的库存财务发货（财务更新的交易记录的移动平均）。
-   6. 执行库存结转。 基于先进先出方法，将针对最先财务更新的收货来结算最先财务更新的发货。 将对发货交易记录执行 USD 10.00 的调整。

新的移动平均成本价反映财务更新的交易记录的平均值。 下图说明了在未使用**“包括实际成本”**选项时，先进先出库存模型对此系列的交易记录的影响。 ![不具有“包括实际成本”的先进先出](./media/fifowithoutincludephysicalvalue.gif) 

**图形要点**

-   库存交易记录用垂直箭头表示。
-   入库用时间线上的垂直箭头表示。
-   出库用时间线下的垂直箭头表示。
-   在每一垂直箭头之上（或之下），以 Quantity@Unitprice 格式指定库存交易记录的值。
-   用括号括起来的库存交易记录值指示该库存交易记录实际过帐到库存中。
-   未用括号括起来的库存交易记录值指示该库存交易记录财务过帐到库存中。
-   每个新的收货或发货交易记录都用一个新标签标明。
-   每个垂直箭头用连续标识符标记，例如 *1a*。 这些标识符指示时间线中库存交易记录过帐的顺序。
-   库存结转用红色的垂直虚线以及*“库存结转”*标签表示。
-   由库存结转执行的结算用红色对角箭头（从收货指向发货）表示。

## <a name="fifo-with-the-include-physical-value-option"></a>具有“包括实际成本”选项的先进先出
如果为**物料模型组**页面上的物料选中**包括实际成本**复选框，此系统将使用实际收货交易记录和财务收货交易记录来计算移动平均成本价。 如果适用，系统将对实际更新的发货交易记录进行调整。 在清除**“包括实际成本”**复选框时，具有先进先出库存模型的库存结转将只对财务更新的交易记录进行结算。 随后的插图说明了这些交易记录：

-   1a. 数量 1（单件成本为 USD 10.00）的库存实际收货。
-   1b. 数量 1（单件成本为 USD 10.00）的库存财务收货。
-   2a. 数量 1（单件成本为 USD 20.00）的库存实际收货。
-   2b. 数量 1（单件成本为 USD 20.00）的库存财务收货。
-   3a. 数量 1（单件成本为 USD 25.00）的库存实际收货。
-   4a. 数量 1（单件成本为 USD 30.00）的库存实际收货。
-   4b. 数量 1（单件成本为 USD 30.00）的库存财务收货。
-   5a. 数量 1（单件成本价为 USD 21.25）的库存实际发货（财务和实际更新的交易记录的移动平均）。
-   5b. 数量 1（单件成本价为 USD 21.25）的库存财务发货（财务和实际更新的交易记录的移动平均）。
-   6a. 数量 1（单件成本价为 USD 21.25）的库存实际发货。
-   7. 执行库存结转。 基于先进先出方法，将针对最先更新的收货（可以是财务的或实际的）调整或结算第一个财务发货交易记录。

将针对收货交易记录 1b 结算交易记录 5b。 将存在对此发货交易记录的 USD 11.25 的调整。 新的移动平均成本价反映按 USD 27.50 的财务和实际更新的交易记录的平均价。 下图说明了在使用**“包括实际成本”**选项时，先进先出库存模型对此系列的交易记录的影响。 ![具有“包括实际成本”的先进先出](./media/fifowithincludephysicalvalue.gif) 

**图形要点**

-   库存交易记录用垂直箭头表示。
-   入库用时间线上的垂直箭头表示。
-   出库用时间线下的垂直箭头表示。
-   在每一垂直箭头之上（或之下），以 Quantity@Unitprice 格式指定库存交易记录的值。
-   用括号括起来的库存交易记录值指示该库存交易记录实际过帐到库存中。
-   未用括号括起来的库存交易记录值指示该库存交易记录财务过帐到库存中。
-   每个新的收货或发货交易记录都用一个新标签标明。
-   每个垂直箭头用连续标识符标记，例如 *1a*。 这些标识符指示时间线中库存交易记录过帐的顺序。
-   库存结转用红色的垂直虚线以及*“库存结转”*标签表示。
-   由库存结转执行的结算用红色对角箭头（从收货指向发货）表示。

## <a name="fifo-with-marking"></a>具有标记的先进先出
标记是一个过程，您可以将某一发货交易记录链接到（或标记到）某一收货交易记录。 标记可以在过帐交易记录之前或之后发生。 如果您想要在过帐交易记录时或执行库存结转时确保库存的准确成本，则可以使用标记。 例如，客户服务部接受了来自重要客户的一个紧急订单。 由于这是一份紧急订单，因此您必须为此物料支付更多成本才能满足您客户的请求。 您必须确保此库存物料的成本反映在此销售订单发票的毛利中或所售货物成本 (COGS) 中。 在过帐采购订单时，按 USD 120.00 的成本入库。 如果在过帐装箱单或发票前此销售订单单据标记到采购订单，则 COGS 将是 USD 120.00，而不是该物料的当前移动平均成本。 如果在发生标记前过帐销售订单装箱单或发票，则将按移动平均成本价过帐 COGS。 在执行库存结转前，仍可以彼此标记这两个交易记录。 在将某一收货交易记录与某一发货交易记录相匹配时，将不考虑在物料模型组中定义的求值方法，并且此系统将彼此结算这些交易记录。 在过帐交易记录前，您可以将某一发货交易记录标记到某一收货交易记录。 您可以从**“销售订单详细信息”**页上的销售订单行执行此操作。 您可以在**“标记”**页上查看未结收货交易记录。 在过帐交易记录后，您还可以将某一发货交易记录标记到某一收货交易记录。 您可以匹配或标记已过帐库存调整日记帐的清查过物料的未结收货交易记录的发货交易记录。 随后的插图说明了这些交易记录：

-   1a. 数量 1（单件成本为 USD 10.00）的库存实际收货。
-   1b. 数量 1（单件成本为 USD 10.00）的库存财务收货。
-   2a. 数量 1（单件成本为 USD 20.00）的库存实际收货。
-   2b. 数量 1（单件成本为 USD 20.00）的库存财务收货。
-   3a. 数量 1（单件成本为 USD 25.00）的库存实际收货。
-   4a. 数量 1（单件成本为 USD 30.00）的库存实际收货。
-   4b. 数量 1（单件成本为 USD 30.00）的库存财务收货。
-   5a. 数量 1（单件成本价为 USD 21.25）的库存实际发货（财务和实际更新的交易记录的移动平均）。
-   5b. 在过帐交易记录前将数量为 1 的库存财务发货标记为库存收货 2b。 此交易记录按 USD 20.00 的单件成本价过帐。
-   6a. 数量 1（单件成本价为 USD 21.25）的库存实际发货。
-   7. 执行库存结转。 由于财务更新的先进先出交易记录标记为现有收货，因此将彼此结算这些交易记录并且不进行调整。

新的移动平均成本价反映按 USD 27.50 的财务和实际更新的交易记录的平均价。 下图说明在使用发货和收货之间的标记时，先进先出库存模型对此系列的交易记录的影响。 ![具有标记的先进先出](./media/fifowithmarking.gif) 

**图形要点**

-   库存交易记录用垂直箭头表示。
-   入库用时间线上的垂直箭头表示。
-   出库用时间线下的垂直箭头表示。
-   在每一垂直箭头之上（或之下），以 Quantity@Unitprice 格式指定库存交易记录的值。
-   用括号括起来的库存交易记录值指示该库存交易记录实际过帐到库存中。
-   未用括号括起来的库存交易记录值指示该库存交易记录财务过帐到库存中。
-   每个新的收货或发货交易记录都用一个新标签标明。
-   每个垂直箭头用连续标识符标记，例如 *1a*。 这些标识符指示时间线中库存交易记录过帐的顺序。
-   库存结转用红色的垂直虚线以及*“库存结转”*标签表示。
-   由库存结转执行的结算用红色对角箭头（从收货指向发货）表示。





