---
title: Retail peripheral simulator
description: "此主题描述随 Microsoft Dynamics 365 将用于零售的工序) 的外围模拟-表工具。"
author: josaw1
manager: AnnBe
ms.date: 04/04/2017
ms.topic: article
ms.prod: 
ms.service: Dynamics365Operations
ms.technology: 
audience: Application User
ms.search.scope: AX 7.0.0, Operations, Core
ms.custom: 266544
ms.assetid: 16f31e70-15fc-441e-9727-e6a31c3a48f5
ms.search.region: global
ms.search.industry: Retail
ms.author: rubendel
ms.search.validFrom: 2016-05-31
ms.dyn365.ops.version: AX 7.0.1
translationtype: Human Translation
ms.sourcegitcommit: 42dc414ff2bb6359b47d89c3bd3c510e4258f816
ms.openlocfilehash: b2229466040351d8c2b9494b30b4c928651820b8
ms.lasthandoff: 03/31/2017


---

# <a name="retail-peripheral-simulator"></a>Retail peripheral simulator

此主题描述随 Microsoft Dynamics 365 将用于零售的工序) 的外围模拟-表工具。

<a name="overview"></a>概览
--------

工序的 Microsoft Dynamics 365 -零售外围模拟程序是帮助您设置，测试，故障排除和外围设备在零售环境的工具。 您可以使用外围模拟零售简化和测试外围程序隔离由不正确设置或失败的设备驱动程序导致的问题。 外围模拟该过程包括一工序的桌面的程序-零售支持的设备 Dynamics 365 功能虚拟的版本。 每个虚拟设备的一部分显示设备和零售销售点 (POS) 之间的交互。 您还可以使用它提供针对不同 POS 方案有效的输入。 外围模拟过程支持以下虚拟 POS 和设备之间的互动：

-   ** **打印机–外围模拟程序可以显示为 POS 配置打印机的收货。
-   **查看**行–可以配置虚拟的行显示在一行实际显示的活动。
-   **磁条阅读器 (MSR) ** –您可以发送模拟的磁条事件到从外围模拟程序的 POS。
-   ** **银箱–可以模拟该非定银箱。
-   ** 2 **银箱–通过设置在外围模拟程序，则第二银箱可以模拟涉及一个 POS 收银机都有两个有效倒班的方案。
-   ** **扫描仪–外围模拟过程支持的虚拟条码扫描条码扫描仪能发出事件。
-   ** **秤–一个虚拟的刻度可以模拟将称重物料的交互与 POS 的。
-   **个人标识号 (PIN) 填充** –您可以模拟 PIN 小键盘工序。 **注释：**您必须通过付款 Connector 实施某一实际 PIN 小键盘的支持。
-   **签名获得**外围模拟–程序都包括您可设置提示输入签名。某些支付方式是必需的，例如客户帐户付款的虚拟签名捕获的设备。

您还可以使用外围模拟过程模拟键盘源自条码扫描仪和 MSR 的楔形事件。 虚拟外设模拟过程专门支持 POS Retail (OPOS) 设备的对象链接和嵌入。

## <a name="key-scenarios"></a>关键方案
### <a name="troubleshooting"></a>疑难解答

您可以使用外围模拟过程疑难解答设备设置。 如果您没有外围程序或模拟不同送到的第二设备，确定可能很难的发货源位置。 但是，在您具有要实现，外围模拟时，程序可以设置虚拟，并且运行相同设备，则代码为物理设备使用的路径和业务逻辑。 外围{{从：From_the_perspective_of}}模拟程序的角度，虚拟设备和物理设备之间的主要差异在于服务对象或设备驱动程序。 对于非设备，设备制造商提供服务对象。 作为外围模拟过程的一部分，{{相反：By}}，外围模拟过程，提供服务的对象。 在外围模拟过程正确工作设备，时，如果未正确工作，在硬件配置文件的设备名称更改为一个真正的设备的名称后，可以具有，假定该制造商提供的服务对象的发货。

### <a name="training"></a>培训

在非定硬件设置将不可用时，您可以模拟程序使用外围添加一个可实现的层给出纳的培训。 在外围模拟程序在方案中包括培训，出纳可以与 POS 通过提供输入更有效交互 (如产品贷记凭证和礼品卡和通过刷遵守收货对特定交易记录打印此单据。

### <a name="testing"></a>正在测试

您可以使用外围模拟过程测试产品收据条码，格式，依此类推，而不必部署在虚拟实际环境的硬件。 由于不需要实际，硬件，您不必部署硬件工作站的物理或计算机 POS 一客户，您可以迅速测试在后台系统所做的更改。

## <a name="set-up-the-peripheral-simulator"></a>设置外围模拟程序
### <a name="set-up-a-hardware-profile"></a>设置硬件配置文件

1.  若要设置外围模拟程序，请转到**零售和商务** &gt; **的设置渠道** &gt; **的设置 POS ** &gt; ** POS 模板** &gt; ** **硬件配置文件。
2.  若要创建新的模板，请单击新** **。
3.  **在配置文件编号**和** **描述字段中输入值。
4.  使用下表设置虚拟必须测试的设备。 这是列的说明。表中：
    -   ** **设备–此列允许您设置 FastTab 展开设备的名称。
    -   **设备–此列类型**授予您在" "字段中选择与标记设备的名称的值。
    -   ** **设备名称–此列提供给您针对设备的确切名称输入值。 **重要：**给定此处所需的设备名称，硬件工作站，因为使用特定解决这些设备名称。 如果您不使用特定这些设备名称，不可用。

    | 设备            | 设备类型 | 设备名称              |
    |-------------------|-------------|--------------------------|
    | 打印机           | OPOS        | MockOPOSPrinter          |
    | 行显示内容      | OPOS        | MockOPOSLineDisplay      |
    | MSR               | OPOS        | MockOPOSMSR              |
    | 开票人            | OPOS        | MockOPOSDrawer1          |
    | Drawer2           | OPOS        | MockOPOSDrawers          |
    | 扫描仪           | OPOS        | MockOPOSScanner          |
    | 比例             | OPOS        | MockOPOSScale            |
    | PIN 小键盘           | OPOS        | MockOPOSPinPad           |
    | 签名捕获 | OPOS        | MockOPOSSignatureCapture |

**注释：**在硬件配置文件中的特定设置没有要求从模拟键盘条码扫描仪和楔形 MSR 的事件。

### <a name="assign-the-hardware-profile-to-a-register"></a>将硬件配置文件分配给登记

1.  在硬件配置文件创建后，是**零售和商务** &gt; **的设置渠道** &gt; **的设置 POS ** &gt; ** **登记。
2.  **在 POS 登记**列出，则单击该链接**的收银机编号**为应使用外围模拟登记过程的字段。
3.  单击“编辑”****。
4.  **在模板**区分，请在** **硬件配置文件"字段中，选择要用于创建虚拟外设的硬件配置文件。
5.  Click **Save**.

### <a name="synchronize-changes-to-the-channel-database"></a>同步到通道数据库的更改

1.  **是零售和商务** &gt; **零售 IT ** &gt; ** **分配计划。
2.  ** **选择 1090 分配计划。
3.  ** POS 的更改同步到的单击**立即运行。

在同步数据之后，新的硬件配置文件和更改有关登记的通道中数据库。

## <a name="install-the-peripheral-simulator"></a>外围模拟程序安装
1.  **是零售和商务** &gt; **的设置渠道** &gt; **的设置 POS ** &gt; ** POS 模板** &gt; ** **硬件配置文件。
2.  **下载**单击，然后单击 PeripheralSimulator ** **。 **注释：在外围，可以下载过程模拟之前，必须让**弹出窗口锁定厌恶程序。
3.  在下载完成后，打开** **下载该文件夹，然后双击 VirtualPeripherals.msi ** **启动安装程序。
4.  通过使用默认设置外围模拟，安装程序。

除了外围模拟工具外，必须安装门罗从的公共控件对象咨询您的服务。 否则，外围模拟程序不会正确工作。 若要下载公共控件对象，请转到 http://monroecs.com/oposccos_current.htm>。

## <a name="using-the-peripheral-simulator"></a>使用外围模拟程序
外围模拟启动程序，单击** **开始在您的计算机类型**，外围模拟零售**程序，然后选择时，将会应用的外观在搜索结果。 在外围模拟您启动程序后，单击设备名称以支持的设备。 这些设备将列出为选项卡"窗口的左侧。 要显示特定设备，请单击该设备的选项卡。

### <a name="line-display-capabilities"></a>显示功能性行

显示行在外围模拟过程列出的第一个的设备。 在虚拟的行显示配置后，它会显示行项，以便在"扫描 POS 交易记录。 除了行显示内容外，到期的合计，则在支付方式选择在 POS 时。 它还显示到期的余额，如果支付方式输入，但余额为交易记录的到期的。 在未使用时 POS，可以查看消息指示钱柜关闭。 您必须配置对** **行显示的消息。FastTab 硬件配置文件。

### <a name="cash-drawer-capabilities"></a>银箱功能

银箱是在外围模拟过程列出的第二设备。 在使用硬件配置文件来配置虚拟的 POS 时打开银箱，倒班的可用现金银箱响应银箱操作 (如钱币清点，然后在标准自运付现的交易记录期间，以便出纳，才能进行更改或现金支付。 虚拟银箱的主要有标签**银箱** **和附属**银箱。 这些标签表示银箱和银箱 2 在硬件配置文件中，分别。 银箱在关闭后，已结束银箱中的图像，然后显示，在已结银箱的按钮打开银箱** **标记。 如果您单击此按钮，一图像将打开银箱的替换图像指示当前打开银箱。 在打开银箱的按钮标记**银箱**的结转。 在 POS 的几个工序可以归入打开银箱。 在打开银箱时，现金，大多数工序不能执行。 有一种例外情况是某些日结程序。 如果 POS 用户收到一条错误消息，指出不能执行工序，在打开银箱时，用户必须关闭虚拟的或实际银箱执行。 如果银箱"硬件配置文件共享** **标记，系统不验证银箱在工序前关闭。 照常执行工序，甚至现金打开银箱。 此内容支持在销售员银箱中共享的方案，关联，并且已使用现金银箱的位置，在其他与上执行他们自己的 POS 时的设备无关的任务。 更改对银箱不不释自明，直到当前、关闭，并打开一个新批倒班。

### <a name="msr-capabilities"></a>MSR 功能

外围模拟为程序的虚拟 MSR 工序提供可靠的支持通过工作在 OPOS 模式或楔形键盘模式。 要求 OPOS MSR 模式在硬件配置文件为 OPOS 配置工作设备。 键盘楔形模式键盘数据发送楔形事件为 Microsoft Windows。 除了在差异的设置外，OPOS 和键盘楔形模式以下方式":

-   POS 客户启用特定方案的 OPOS MSR 设备，例如为会员磁条允许数据或礼品卡条目的方案。
-   在"键盘楔形模式，外围模拟程序将发送楔形键盘数据到有效的此字段，则当发送的数据时。 行为此相似使用键盘，发生的行为，则数据输入。 若要使用 MSR 键盘，用户必须为楔形切换 Retail Modern POS (MPOS)，以确保数据在正确接收的字段。 因此，您可以延迟，配置，以便用户具有时间，以确保数据将发送到正确的字段。

#### <a name="testing-gift-and-payment-card-swipes"></a>测试和礼品卡付款刷

外围模拟程序还提供的虚拟 MSR 可以配置特定 MSR 测试数据和礼品卡刷的付款方案。 创建卡，请单击加号 (**)+**按钮和选择卡类型。 然后指定应发送到 POS，并包括到期月和年。卡的您定义的卡号或跟踪数据。 在值**的卡类型**字段选择是可以映射到的卡标签。 在外围模拟，其通过刷此程序时，标签有利于识别卡。 您可以选择"使用外围模拟程序 Configuration 高于卡上&lt;的图像的左箭头的卡 (****&gt;) 和右箭头 (****按钮)。 您可以编辑和删除，卡使用** **编辑，并且删除"按钮。** **旁边的加号 (按+** **)。

### <a name="pin-pad"></a>PIN 小键盘

您可以配置 PIN 小键盘模拟过程模拟 OPOS PIN 小键盘。 在电子资金转帐 (EFT) 交易记录继续在 POS 要求和固定条目时，调用硬件工作站固定设备提示输入固定条目。 若要工作，在外围模拟程序的 PIN 小键盘要求 EFT 付款 Connector 支持。

### <a name="printer"></a>打印机

以便从" POS 外设，虚拟打印机打印显示收货。 如果打印操作导致多个收货，则可以通过收货滚动。

#### <a name="configure-receipt-printing"></a>配置打印收货

1.  **是零售和商务** &gt; **的设置渠道** &gt; **的设置 POS ** &gt; ** POS 模板** &gt; ** **硬件配置文件。
2.  选择要用于创建虚拟外设的硬件配置文件。
3.  **在**打印机，请单击 FastTab ** **编辑。
4.  ** **在收据模板 ID "字段中，选择收据模板。
5.  Click **Save**.

### <a name="scale"></a>比例

在秤产品添加到交易 POS 时，记录，并且一个缩放 POS 配置，从刻度检索重量。 对于虚拟的和实际缩放比例，或产品重量，在产品添加到交易记录之前，应指定。 在秤产品添加到交易记录之前，请转到在外围模拟程序的缩放比例，并使用加号 (+** **) 和减号 (–) ** **按钮调整刻度应报告的重量。 还可以输入预期重量直接在**当前值更**字段。 通过使用加号 (**)，+** ** ** ** **编辑和删除按钮，可以为刻度调整重量单位。 这样，单位可以指定所基于加权或区域设置使用刻度的产品。

#### <a name="configure-a-scale-product"></a>配置产品缩放比例

1.  **是零售** **和商务** &gt; **产品和类别** &gt; **发放的产品、类别**。
2.  打开记录。
3.  选择有关产品。
4.  ** **，在零售 FastTab 设置**秤产品**选项从** ** **不是**。

#### <a name="synchronize-changes-to-the-channel-database"></a>同步到通道数据库的更改

1.  **是零售和商务** &gt; **零售 IT ** &gt; ** **分配计划。
2.  ** **选择 1040 分配计划。
3.  ** POS 的更改同步到的单击**立即运行。

在同步数据之后，在秤产品添加到交易 POS 时，记录 POS 检查重量的刻度。

### <a name="signature-capture"></a>签名捕获

虚拟签名捕获的设备在虚拟的签名的用户填充提示提供签名，以便在使用时的支付方式需要签名。 用户可以接受签名查看它在 POS。 出纳随后可以接受签名。 签名与支付方式。然后保存和后台系统同步到与其他交易记录数据。

#### <a name="set-up-a-tender-to-require-a-signature"></a>设置支付方式需要签名

1.  **是零售和商务** &gt; **通道** &gt; **零售店** &gt; **零售店**所有。
2.  选择各个零售店。
3.  单击“编辑”****。
4.  **设置**单击，然后，在设置** **部分，单击** **付款方式。
5.  单击“编辑”****。
6.  选择需要签名的付款方式。
7.  **请在"常规**区分，下**签名获得**，设置该**请使用签名捕获设备**是** **选项。
8.  **在签名获取最小金额**字段中，输入应触发签名获得的最小金额。

#### <a name="synchronize-changes-to-the-channel-database"></a>同步到通道数据库的更改

1.  **是零售和商务** &gt; **零售 IT ** &gt; ** **分配计划。
2.  ** **选择 1070 分配计划。
3.  ** POS 的更改同步到的单击**立即运行。

在同步数据之后，在的支付方式使用，并且要求签名，签名额达到阈值，POS 即提示在虚拟签名捕获的设备的签名。

## <a name="additional-configuration"></a>其他配置
您可以更正确外围编辑模拟程序的配置文件。地址方案您测试。 您可以查找配置文件在 C:\\Program Files (x86)\\Microsoft Dynamics\\\\\\\\VirtualPeripherals\\Microsoft.Dynamics.Commerce.VirtualPeripherals.Client.exe.config。 配置文件定义用于测试在"卡类型。等级，测试是可用的单位，并且输入，条码。 例如，通过在配置文件修改的文本值，则您可以添加可在运行时选择的新的卡类型或度量单位。 应用，在重新启动后，新值将显示。

## <a name="troubleshooting"></a>疑难解答
外围模拟程序中的活动在外围模拟过程中记录。 您可以找到日志在 C:\\Program Files (x86)\\Microsoft Dynamics\\\\\\\\VirtualPeripherals\\Microsoft.Dynamics.Commerce.VirtualPeripherals.Client.exe.config。 到 Windows 事件日志) 的外围还模拟过程报告问题，您可以在访问**应用程序和服务日志服务** &gt; ** ** &gt; ** Microsoft DynamicsAX **。 如果您对分配给硬件配置文件或其他区域的更改不不释自明，则在您使用外围端或模拟程序后，请检查您使用通道数据库同步数据配送到的计划作业。 如果更改同步，但仍不不释自明在 POS，请重新启动客户 POS。 更改到配置的银箱没有效，直到新的倒班创建。 因此，如果您进行更改到银箱，请确保始终结算现有的倒班测试银箱新的设置。 在某些情况下，则在从门罗的公共控件对象后设置向服务的制造商，司机的驾照可以归入"公共控件对象停止正确工作。 在这种情况下，应重新设置公共控件对象。

<a name="see-also"></a>请参阅
--------

[] (零售外设概览零售外设 overview.md)


