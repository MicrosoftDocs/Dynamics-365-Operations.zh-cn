---
title: 交货信息设置
description: 本主题介绍如何为登陆成本模块设置交货信息。
author: sherry-zheng
ms.date: 12/09/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ITMPortTable, ITMLeadTimeTable, ITMLegTable
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: chuzheng
ms.search.validFrom: 2020-12-09
ms.dyn365.ops.version: 10.0.17
ms.openlocfilehash: 57f17d481f9660d67b96ac2c8e68558407b1bcf9
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/29/2021
ms.locfileid: "7577592"
---
# <a name="delivery-information-setup"></a>交货信息设置

[!include [banner](../../includes/banner.md)]

本主题介绍如何为 **登陆成本** 模块设置交货信息。

## <a name="shipping-ports"></a>装运港口

装运港口确定货物发运和到达的地点。 对于每个航行，基于为航行船只选择的行程定义“到达”港口和“发运”港口。 装运港口用于建立行程的支线以及航行活动。 它们通常使用实际装运港口所在的城市以及国家或地区的名称来定义。

要使用装运港口，请转到 **登陆成本 \> 交货信息设置 \> 装运港口**。 您可以在那里查看、添加和删除装运港口的记录。 下表说明了可用于每个记录的字段。

| 字段 | 说明 |
|---|---|
| 装运港口 | 为装运港口输入唯一标识名称/编号。 |
| 说明 | 输入装运港口的描述。 |

## <a name="tracking-control-center"></a><a name="tracking-control-center"></a>跟踪控制中心

当装运集装箱从一个支线到达下一个支线时，您使用跟踪控制中心来设置与航行关联的提前期、状态更新和信息流。 创建跟踪控制记录时，它将与航行行程的特定支线关联。 将航行更新支线时，关联的记录将按定义更新和填充。 您可以从 **所有航行** 页更新各个航行的跟踪信息。

要打开跟踪控制中心，请转到 **登陆成本 \> 交货信息设置 \> 跟踪控制中心**。

跟踪控制中心显示三个页面视图之一，具体取决于在列表窗格的 **创建类型** 字段中选择的值：*空白*、*提前期* 或 *状态更新*。 每个创建类型将更新一组不同的信息，这些信息与从起始点到最终目的地的航行的进度关联。

### <a name="common-rule-settings"></a>通用规则设置

下表显示了跟踪控制中心中可用于所有三个创建类型的字段。

| 字段 | 说明 |
|---|---|
| 源表、源字段 | 这些字段确定数据库中的源表和字段。 规则将在字段中加载值，然后以规则的其他设置定义的方式使用它。 |
| 目标表、目标字段 | 这些字段确定数据库中的目标表和字段。 规则将在字段中加载值，然后以规则的其他设置定义的方式使用它（或覆盖）。 |
| 活动 | 此字段确定应该应用于规则匹配的装运集装箱的活动类型。 |
| 匹配条件 | 此字段确定系统如何确定规则的匹配项。 在每种情况下，系统会检查源表和目标表中的数据，以确定是否应该以及何时在目标表中更新某个字段。<p>例如，源表是 *航行*，目标表是 *采购订单头* 或 *采购订单行*。 *航行* 表的 **发运港口** 值为 *香港特别行政区*，*采购订单头* 表的 **发运港口** 值为 *上海*。 然后一个规则将创建，将 *香港特别行政区* 作为“发运”港口。 在这种情况下，**匹配条件** 字段的值将以以下方式工作：</p><ul><li>**二者** – 目标字段不会更新，因为两个港口中有一个不匹配。</li><li>**源** – 目标字段将更新，因为源表的“发运”港口为 *香港特别行政区*。</li><li>**目标** – 目标字段不会更新，因为目标表的“发运”港口为 *上海*（不是 *香港特别行政区*）。</li></ul> |
| 复制操作 | 可用值为 *复制* 和 *默认*。 选择 *复制* 可将源字段中的值复制到目标字段。 选择 *默认* 可为目标字段设置静态值。 |
| 默认值 | 当 **复制操作** 字段设置为 *默认* 时，**默认** 字段定义目标字段的默认值。 例如，如果操作与港口更新相关，并且 **复制操作** 字段设置为 *默认*，**默认** 字段将确定港口。 |
| 支线 | 此字段确定发生指定操作（如装载或报关）的行程的支线。 |
| 服务提供商 | 如果特定服务提供商用于行程的当前状态更新/支线，此字段确定服务提供商。 服务提供商在供应商帐户中定义。 |

### <a name="lead-time-rules"></a>提前期规则

提前期是指完成航行行程的一个定义的支线，航行所需的估计时间。 行程每个支线的提前期用于计算航行的估计交货日期。 该日期然后将输入到航行中每个采购订单行上的 **确认交货日期** 字段。

您使用提前期规则来管理日期的更新。 当行程模板用于航行时，活动将自动生成。

要将提前期规则添加到跟踪控制中心，请按照下列步骤操作。

1. 按以下步骤之一：

    - 转到 **登陆成本 \> 多支线行程设置 \> 支线**。 选择要为其设置提前期的支线，然后在操作窗格上选择 **跟踪控制中心**。 跟踪控制中心已预加载有关选定支线的信息。
    - 转到 **登陆成本 \> 交货信息设置 \> 跟踪控制中心**。 然后，您必须在此过程的步骤 4 中手动选择一个支线。

1. 在列表窗格中，将 **创建类型** 字段设置为 *提前期*。
1. 在操作窗格上，选择 **新建**。
1. 如果在步骤 1 中您是从跟踪控制中心开始的，则将 **支线** 字段设置为要为其创建提前期规则的支线。 如果您是从 **支线** 页开始的，**支线** 字段会预设为您在打开跟踪控制中心之前选择的字段。

    根据 **支线** 字段的值，将自动设置几个字段，如下所示：

    - **源表**：*集装箱活动*
    - **源字段**：*开始日期*
    - **目标表**：*集装箱活动*
    - **目标字段**：*估计结束日期*

1. 在 **活动** 字段中，选择当前规则应该应用的活动。
1. 在 **提前期** 字段中，输入在触发当前规则时应该应用的提前期（以天为单位）。

### <a name="status-update-rules"></a>状态更新规则

**创建类型** 字段设置为 *状态更新* 的记录将更新采购订单行的状态，或航行、装运集装箱或帐页级别的状态。 状态可以独立设置。 使用它们可以通知用户或部门航行的阶段信息（如收到单据或货物正在运输中）。

当 **创建类型** 字段设置为 *状态更新* 时，跟踪控制中心将包括一个 **行** 快速选项卡，您可以在其中定义成本区域和航行的更新状态。 例如，您有一个行，其中 **成本区域** 字段设置为 *集装箱*，**航行状态** 字段设置为 *在途货物*。 在这种情况下，当订单完成指定支线时，装运集装箱的 **航行状态** 字段将更新为 *在途货物*。

状态更新会一直在航行行和与该航行关联的采购订单行提供航行的状态。 在航行从港口、航行和海关到目的地仓库的整个行程中，航行记录的 **航行状态** 字段提供物料所在阶段的快速视图。

要将状态更新规则添加到跟踪控制中心，请按照下列步骤操作。

1. 按以下步骤之一：

    - 转到 **登陆成本 \> 多支线行程设置 \> 支线**。 选择要为其设置状态更新的支线，然后在操作窗格上选择 **跟踪控制中心**。 跟踪控制中心已预加载有关选定支线的信息。
    - 转到 **登陆成本 \> 交货信息设置 \> 跟踪控制中心**。 然后，您必须在此过程的步骤 4 中手动选择一个支线。

1. 在列表窗格中，将 **创建类型** 字段设置为 *状态更新*。
1. 在操作窗格上，选择 **新建**。
1. 如果在步骤 1 中您是从跟踪控制中心开始的，则将 **支线** 字段设置为要为其创建状态更新规则的支线。 如果您是从 **支线** 页开始的，**支线** 字段会预设为您在打开跟踪控制中心之前选择的字段。

    根据 **支线** 字段的值，将自动设置几个字段，如下所示：

    - **源表**：*集装箱活动*
    - **源字段**：*实际结束日期*
    - **目标表：** 此字段留为空白。
    - **目标字段：** 此字段留为空白。

1. 在 **活动** 字段中，选择您的规则应该应用的活动。
1. 在 **行** 快速选项卡上，输入每个成本区域的状态更新。

### <a name="blank-type-rules"></a>空白类型规则

您使用 **创建类型** 值为 *空白* 的记录基于另一个字段的数据替代或输入字段值。 “登陆成本”中的字段将根据在跟踪控制中心中设置的规则覆盖 Microsoft Dynamics 365 Supply Chain Management 的其他区域的数据。

1. 转到 **登陆成本 \> 交货信息设置 \> 跟踪控制中心**。
1. 在列表窗格中，将 **创建类型** 字段设置为 *空白*。
1. 在操作窗格上，选择 **新建**。
1. 根据您的规则要求定义源和目标值、匹配条件、复制操作以及其他相关参数。

### <a name="required-tracking-control-setup"></a>所需的跟踪控制设置

对于每个行程模板，必须在跟踪控制中心设置两个记录。 这两个记录的 **创建类型** 值都为 *空白*，它们在所有登陆成本实施中使用。 它们帮助确保以预期方式为航行和相关采购订单行更新采购确认日期和在途货物预期日期。

更新采购订单行需要第一个记录。 它必须具有以下设置：

- **源表**：*集装箱活动*
- **源字段**：*估计结束日期*
- **目标表**：*采购订单行*
- **目标字段**：*确认或交货日期*

更新在途货物交易需要第二个记录。 它必须具有以下设置：

- **源表**：*集装箱活动*
- **源字段**：*估计结束日期*
- **目标表**：*在途货物订单*
- **目标字段**：*预期日期*
