---
title: 工程版本和工程产品类别
description: 本主题提供有关工程版本概念的信息。 工程版本确保产品及其数据的不同状态保持最新，并可以在系统中进行可视化。
author: t-benebo
ms.date: 04/07/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: EngChgLookupDynastring, EngChgProductVersionNumberRule, EngChgEcmProductRoute, EngChgEcmRequestProducts, EngChgEcmProductRoute, EngChgEcmProductPreview,EngChgEcmProductBOMItemIdLookup, EngChgEcmProductBOMConsistOf, EngChgEcmProductCreate, EngChgEcmProductLookup, EngChgProductVersionPrCompany, ngChgProductTypeLookup, EngChgProductType, EngChgProductItemPart, EngChgProductItem, EngChgEcmCategory, EngChgEcmBomDesignerEditBom, EngChgEcmBomDesigner, EngChgEcmBOMCopyDialog
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: benebotg
ms.search.validFrom: 2020-09-28
ms.dyn365.ops.version: 10.0.15
ms.openlocfilehash: a4d057c603e6592e491af7597e50fce2497860ec
ms.sourcegitcommit: b96e0c70553bca9b3f5eb65105a52cb71d978a36
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/07/2022
ms.locfileid: "8553353"
---
# <a name="engineering-versions-and-engineering-product-categories"></a>工程版本和工程产品类别

[!include [banner](../includes/banner.md)]

出于许多原因，工程产品在其产品生命周期中不断发展。 例如，为了改进产品可用性而引入更改，由于供应商不再提供组件而进行更改，响应新见解或修复初始设计中的错误。 还有许多原因说明为什么将这些更改存储为正在进行的产品的一部分，这样将不会覆盖以前的数据。 以下是这些原因中的一部分：

- 您想要在前面的生命周期状态中制造产品并将其交付给客户时跟踪产品。
- 在审核和应用更改之前，需要提前期。
- 您希望每个更改都有一个时间戳，并且希望能够彼此分开交付以前制造的产品。

*工程版本* 确保产品及其数据的各种状态保持最新，并可以在系统中进行可视化。 此概念可帮助您保持一致性，锁定生产的物料清单 (BOM)，消除可变性并轻松标识更改。

通常，应用 *形式-适合度-功能* 规则以确定更改是需要新产品、新版本还是对现有版本的更新。 此规则名称中的三个术语中的每一个均指零件的特定方面，可帮助工程师使零件与需求相匹配。 形式-适合度-功能规则增加了设计更改的灵活性，因为只要保持产品的形式-适合度-功能，更改零件所需的文件和设计成本就最少。

- **适合度** 是指零件或功能与装配中的另一个功能或零件的连接、配合或联接能力。 适合度使零件能够满足所需的装配容差，因此它很有用。
- **形式** 是指零件或装配的特征，例如外部尺寸、重量、大小和可视外观。 形式是受工程师的美学选择影响最大的方面。 它包括外壳、机箱和控制面板，它们是产品的外向“面”。
- **功能** 是零件有效且可靠地履行其指定用途时所满足的标准。 例如，在电子产品中，功能可能取决于所使用的固态组件以及软件或固件。 通常，它也可能取决于所选外壳的功能。 外壳不满足功能标准的两个最常见原因是端口放置不正确或端口尺寸不正确和标签误导或丢失。 

## <a name="engineering-versions"></a>工程版本

使用工程产品时，每个产品至少具有一个工程版本。 创建工程产品时，将自动创建初始工程版本。 每个工程版本都存储特定于该版本的工程相关数据。 下面是此数据的一些示例：

- 版本号和以前的版本号（如果适用）
- 生效开始日期和生效截止日期
- 产品版本活动状态，指示该版本是否可以在交易中发布并使用（有关详细信息，请参阅[产品准备](product-readiness.md)。）
- 已创建并拥有产品的工程公司（有关详细信息，请参阅[工程公司和数据所有权规则](engineering-org-data-ownership-rules.md)。）
- 相关工程文档，例如装配手册、用户说明、图片和链接
- 工程属性（有关详细信息，请参阅[工程属性和工程属性搜索](engineering-attributes-and-search.md)。）
- 工程产品的物料清单 (BOM)
- 处理制造产品的配方
- 工程工艺路线

您可以使用 *工程更改订单* 在现有版本上更新此数据，活创建新版本。 （有关详细信息，请参阅[管理工程产品的更改](engineering-change-management.md)。）如果您创建产品的新版本，系统会将所有工程相关数据复制到该新版本。 然后，您可以修改该新版本的数据。 这样，您可以跟踪每个连续版本的特定数据。 若要比较连续工程版本之间的差异，请检查工程更改订单，其中包括指示所有更改的更改类型。

如前所述，创建工程产品时，将自动创建初始工程版本。 此版本的版本号遵循在产品的工程类别中定义的版本号规则。 若要过渡到后续版本，必须将产品作为行添加到工程更改订单，并且必须将 **影响** 字段设置为 *新版本*。 工程更改订单将包含从当前版本到下一个版本的更改的详细信息。

请注意，一个工程更改订单中一次只能有一个工程产品。 此限制可确保数据准确性，并有助于避免产品发生重叠或矛盾的更改。 另请注意：工程更改订单的 **标题** 视图中的 **工程师** 字段显示负责更改订单的工程师。 如果工程师属于在系统中定义的团队，**负责** 字段将显示该团队的负责人。

## <a name="track-versions-in-transactions"></a>跟踪交易中的版本

使用工程更改管理时，您的产品主数据始终包含一个或多个工程版本。 在工程产品的设置中，您可以选择工程版本是否也是 *物流交易* 的一部分。 （有关详细信息，请参阅本主题后面的[设置工程产品类别](#product-category)部分。）如果与物流影响相关，则针对每个产品和每个公司有所不同。 有时，仅使用产品的最新版本。 因此，当您引入新版本时，将不再使用以前的版本。 在其他情况下，物流交易需要使用以前的版本来克服以下挑战：

- 物流部门必须将两件产品装运给客户。 在这种情况下，您必须决定是想要还是允许装运两个不同的版本。
- 后来发现出现问题，并且与特定更改有关。 在这种情况下，最好是确定在每个订单中装运的具体版本。
- 公司通常希望先装运旧版本，以将其从库存中逐步淘汰。 特别是对于小批量产品，通常可以通过确定新版本的生效日期（相对于何时耗尽旧版本存货的预测）管理此方法。 但是，有时您可能无法进行此项比较，或者您可能认为存货级别预测的不确定性过高。

是否在库存中显示版本的决定取决于前面提到的因素，以及公司惯例和特定于每个公司的其他注意事项。 您可以指定 *工程产品类别* 的行为。 然后，它将针对将产品发布到的所有公司应用于从该类别创建的所有产品。

对于设置为具有物流影响的产品，必须在每个交易上指定工程版本。 尽管系统将建议 *最新活动版本*，您可以在可用于公司的所有活动版本中进行选择。 对于设置为不具有物流影响的产品，不在每个交易上指定工程版本。 但是，系统将使用最新活动版本。 例如，在您将产品添加到生产 BOM 时，将使用最新版本，并且在运行主规划时，将使用最新版本。

## <a name="set-up-engineering-product-categories"></a><a name="product-category"></a>设置工程产品类别

工程产品类别提供用于创建特定工程产品的基础。 每个类别建立一组默认值和策略。 因此，在创建工程产品时，首先选择要从中创建该产品的类别。

请注意，将为您自动设置新的类别层次结构类型（*工程产品层次结构*）。 您可以通过转到 **工程更改管理 \> 设置 \> 工程产品类别详细信息** 手动创建类别。

每个工程产品类别都建立基于该类别创建的工程产品的默认行为。 创建工程产品后，无法更改其工程产品类别。 但是，如果选择的类别不正确，可以删除产品，然后重新创建它。

创建工程产品类别后，将无法更改以下设置：

- 工程公司
- 产品类型
- 产品子类型
- 产品维度组
- 配置技术
- 版本号规则

其他设置可能会继承为工程产品类别设置的默认值。 但是，根据系统规则，可以更改这些值。

若要使用工程产品类别，请转到 **工程更改管理 \> 设置 \> 工程产品类别详细信息**。 然后按照以下步骤之一操作。

- 若要创建新类别，在操作窗格上选择 **新建**，然后按照以下子部分中的说明设置字段。
- 若要编辑现有类别，在列表窗格中选择它，在操作窗格上选择 **编辑**，然后按照以下子部分中的说明设置字段。
- 若要删除现有类别，在列表窗格中选择它，然后在操作窗格上选择 **删除**。

### <a name="header"></a>单头

在工程产品类别的标题上设置以下字段。

| 字段 | 说明 |
|---|---|
| 姓名 | 输入工程产品类别的名称。 |
| 工程公司 | 选择可以在其中创建此工程产品类别中的产品并维护这些产品的工程公司。 |

### <a name="details-fasttab"></a>详细信息快速选项卡

在工程产品类别的 **详细信息** 快速选项卡上设置以下字段。

| 字段 | 说明 |
|---|---|
| 产品类型 | 选择类别是否适用于产品或服务。 |
| 生产类型 | 此字段仅在您在系统中启用了[配方更改管理](manage-formula-changes.md)时出现。 选择此工程产品类别适用的生产类型：<ul><li>**计划物料** – 使用此工程类别对计划物料进行配方更改管理。 计划物料使用配方。 它们类似于配方物料，但仅用于生产联产品和副产品，不用于生产成品。 配方在处理制造过程中使用。</li><li>**物料清单** – 使用此工程类别管理不使用配方、通常（但不一定）包括物料清单的工程产品。</li><li>**配方** – 使用此工程类别对成品进行配方更改管理。 这些物料将有配方，但没有物料清单。 配方在处理制造过程中使用。</li></ul> |
| 实际称重 | 此选项仅在您在系统中启用了[配方更改管理](manage-formula-changes.md)时出现。 仅在 **生产类型** 字段设置为 *计划物料* 或 *配方* 时可用。 如果您将使用此工程类别管理需要实际称重支持的物料，将此选项设置为 *是*。 |
| 跟踪交易中的版本 | 选择是否应在所有交易（物流影响）上标记产品的版本。 例如，如果您跟踪交易中的版本，每个销售订单都将显示在该销售订单中出售了产品的哪个特定版本。 如果您不跟踪交易中的版本，销售订单将不会显示出售了哪个特定版本。 相反，它们始终显示最新版本。<ul><li>如果此选项设置为 *是*，将为产品创建基础产品，并且该产品的每个版本都是使用 *版本* 产品维度的变型。 **产品子类型** 字段将自动设置为 *基础产品*，并且，在 **产品维度组** 字段中，您必须选择 *版本* 维度处于活动状态的产品维度组。 将仅显示 *版本* 是活动维度的产品维度组。 您可以通过选择 **编辑** 按钮（铅笔符号）创建新的产品维度组。</li><li>如果此选项设置为 *否*，将不使用 *版本* 产品维度。 然后，您可以选择是否创建使用其他维度的产品或基础产品。</li></ul><p>此选项通常用于版本之间具有成本差异的产品，或针对客户适用不同条件的产品。 因此，指示在每个交易中使用了哪个版本很重要。</p> |
| 产品子类型 | 选择类别是否将包含产品或基础产品。 对于基于产品，将使用产品维度。
| 产品维度组 | **跟踪交易中的版本** 设置可帮助您选择产品维度组。 如果您指定了要跟踪交易中的版本，将显示使用 *版本* 维度的产品维度组。 否则，将仅显示不使用 *版本* 维度的产品维度组。 |
| 创建时的产品生命周期状态 | 设置工程产品在首次创建时应具有的默认产品生命周期状态。 有关详细信息，请参阅[产品生命周期状态和交易](product-lifecycle-state-transactions.md)。 |
| 版本号规则 | 选择适用于该类别的版本号规则：<ul><li>**手动** – 您为每个新版本选择版本号。</li><li>**自动** – 系统根据您定义的格式设置版本号。 设置格式时，请使用数字符号 (\#) 表示一个数字，任何其他字符表示一个常数值。 例如，如果您将格式定义为 *V-\#\#*，第一个版本将为“V-01”，第二个版本将为“V-02”，依此类推。</li><li>**列表** – 系统从您定义的自定义值的预定义列表中获取下一个编号。</li></ul> |
| 强制实施有效性 | 选择工程版本的生效日期必须是连续的，还是可能存在空白和重叠。 此设置会影响您使用该类别适用的每个工程版本的 **生效开始日期** 和 **生效截止日期** 字段的方式。<ul><li>如果此选项设置为 *是*，必须为每个版本指定 **生效开始日期** 值，并且版本之间不允许存在重叠或空白。 每个工程版本的日期范围都直接连接到上一个和下一个工程版本（如果存在）。 在这种情况下，始终使用最新版本，而不再使用旧版本。</li><li>如果此选项设置为 **否**，对于工程版本的生效日期字段没有任何限制，并且允许存在重叠和空白。 在这种情况下，多个版本可以同时处于活动状态，并且您可以使用任何活动版本。</li></ul><p>此选项还会影响连接到产品版本的 BOM 和工艺路线。 有关详细信息，请参阅本主题后面的[将 BOM 和工艺路线连接到工程版本](#boms-routes)部分。</p> |
| 使用编号规则命名法 | 将此选项设置为 *是*，通过使用编号规则、工程属性名称和值以及文本常量作为分段来启用用于定义产品编号的规则。 若要创建或修改规则，请选择 **编辑** 按钮。 |
| 使用名称规则命名法 | 将此选项设置为 *是*，通过使用工程属性名称、工程属性值以及文本常量作为分段来启用用于定义名称的规则。 若要创建或修改规则，请选择 **编辑** 按钮。 |
| 使用描述规则命名法 | 将此选项设置为 *是*，通过使用工程属性名称、工程属性值以及文本常量作为分段来启用用于定义描述的规则。 若要创建或修改规则，请选择 **编辑** 按钮。 |

### <a name="attributes-fasttab"></a>属性快速选项卡

使用 **属性** 快速选项卡上的网格设置适用于属于此类别的产品的工程属性。 有关如何创建工程属性的信息，请参阅[工程属性和工程属性搜索](engineering-attributes-and-search.md)。

使用 **属性** 快速选项卡上的按钮在网格中添加、删除和排列属性。

如果更改工程类别的属性选择，并且已经存在基于该类别的产品，您必须决定是否将更改应用于这些产品。 如果您希望现有产品反映更改，请在 **属性** 快速选项卡上选择 **更新现有产品**。

对于添加到网格的每一行，设置以下字段。

| 字段 | 说明 |
|---|---|
| 姓名 | 选择要添加的属性。 |
| 值 | 选择属性的默认值。 |
| 强制 | 选择该属性是否为必需项，这意味着用户必须为该属性指定一个有效值，然后才能保存产品。 此设置的效果会根据所选属性的数据类型而略有不同，如下表定义。<ul><li>**布尔** – 将此项设置为 *是* 将要求属性具有 *是* 值（系统将拒绝保存属性设置为 *否* 的产品）。 将此项设置为 *否* 可接受 *是* 或 *否* 值。 （*布尔* 类型的属性不能有空值。）</li><li>**整数或小数** – 将此项设置为 *是* 将要求用户为此属性输入非零值。 将此项设置为 *否* 将允许用户以零值保存。  （这些类型的属性不能有空值。）</li><li>**列表** – 列表的数据类型为 *文本*，但也包括预定义的可能值列表。 因此，无法为此类型的属性输入空白值，所以此设置没有任何作用，只用于提供信息。</li><li>**所有其他数据类型** – 将此项设置为 *是* 将使属性成为必需项。 将此项设置为 *否* 将允许用户在不为此属性提供值的情况下保存产品。</li></ul> |
| 批次属性 | 选择是否应通过批处理功能传播属性。 |

### <a name="readiness-policy-fasttab"></a>准备策略快速选项卡

使用 **产品准备策略** 字段选择应该应用于基于此工程类别创建的产品的准备策略。 有关详细信息，请参阅[产品准备](product-readiness.md)。

> [!NOTE]
> 如果您在系统中打开了 *产品就绪情况检查* 功能，**产品准备策略** 字段的工作方式略有不同。 （该功能可让您将准备策略应用于标准\[非工程\]产品）。 有关详细信息，请参阅[为标准和工程产品分配准备策略](product-readiness.md#assign-policy)。

### <a name="release-policy-fasttab"></a>发布策略快速选项卡

使用 **产品发布策略** 字段，选择适用于属于此类别的产品的发布策略。 有关详细信息，请参阅[发布产品结构](release-product-structure.md)。

## <a name="connect-boms-and-routes-to-engineering-versions"></a><a name="boms-routes"></a>将 BOM 和工艺路线连接到工程版本

对于 BOM 和工艺路线到每个工程版本的连接，**强制实施有效性** 选项的设置很重要。 仅在以下任何设置中存在差异时，才能针对每个产品激活多个 BOM 和工艺路线：

- 产品维度
- 数量
- 站点
- 生效日期

从其适用的工程版本中创建工程 BOM 和工艺路线。 可以通过 **工程控制** 复选框中的复选标记确定它们。 使用工程 BOM 和工艺路线时，通常不会使用不同的数量来设计它们。 通常也不会针对每个站点设计不同的 BOM。 此外，对于 BOM 和工艺路线，生效日期始终取自工程版本。 因此，工程版本、其 BOM 和工艺路线将具有相同的生效日期。

对于您正在使用 *版本* 产品维度的产品（具有对交易的物流影响），该版本也会添加到 BOM 和工艺路线中。 此行为有助于区分连续版本的 BOM 和工艺路线，无论 **强制实施有效性** 设置如何。

对于您不使用 *版本* 产品维度的产品（没有对交易的物流影响），该版本不会添加到 BOM 或工艺路线中。 因此，连续版本的 BOM 和工艺路线之间不存在差异。 在这种情况下，我们强烈建议您将 **强制实施有效性** 选项设置为 *是*。 这样，可以帮助防止工程版本重叠，并且还可以激活新版本的 BOM 和工艺路线，而无需先停用以前版本的 BOM 和工艺路线。 如果您将 **强制实施有效性** 选项设置为 *是*，必须先手动停用旧版本的 BOM 和工艺路线，然后才能激活最新版本。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
