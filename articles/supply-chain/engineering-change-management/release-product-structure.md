---
title: 发布产品结构
description: 此主题说明除了发布产品及其工程版本外，还可以发布完整的产品结构。 这样，您可以确保与工程相关的产品数据可以轻松地在不同法人中重复使用。
author: t-benebo
ms.date: 09/28/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: EngChgProductReleaseSiteBulkEdit, EngChgProductReleaseSendListPage, EngChgProductReleaseSendDetails,EngChgProductReleaseSelection,EngChgProductReleaseReceiveListPage, EngChgProductReleaseReceiveDetails, EngChgProductReleasePreviewPane, EngChgProductReleasePolicy, EngChgProductReleasePart, EngChgProductReleaseNote
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: benebotg
ms.search.validFrom: 2020-09-28
ms.dyn365.ops.version: Release 10.0.15
ms.openlocfilehash: e9cd90d74b92754d4a5432485d5dd59c31e34c61
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/01/2021
ms.locfileid: "5841977"
---
# <a name="release-product-structures"></a>发布产品结构

[!include [banner](../includes/banner.md)]

为了确保与工程相关的产品数据可以轻松地在不同法人中重复使用，除了发布产品及其工程版本外，您还可以发布完整的产品结构。 因此，您可以在单个发布操作中与父级一起发布多级物料清单 (BOM) 结构。 在这种情况下，物料清单和更低级别的产品也会发布。

工程产品由其工程公司创建和维护，所采取的方式满足设计的质量要求。 制造产品的每个运营公司需要相同的产品和基础物料清单。 根据生产设施，工艺路线可能在本地创建。 在这种情况下，您不会随产品一起发布工艺路线。 对于出售产品但不制造产品的法人，物料清单可能不是必需的。

要提高流程效率，可以将所有与工程相关的数据同时发布给其他运营公司。 这些数据包括产品结构。 在发布流程中，您可以选择应发布产品数据的哪一部分。

有关工程公司和运营公司的详细信息，请参阅[工程公司和数据所有权规则](engineering-org-data-ownership-rules.md)。

请注意，您可以连同发布产品结构一起同时发布标准产品和工程产品。 在此流程中，将发布整个产品结构，甚至是发布产品的公司的物料清单和工艺路线。

有关如何发布产品的示例，请参阅[向本地公司发布工程产品](engineering-scenarios.md#release)

## <a name="released-data-for-a-product-when-the-release-product-structure-is-used"></a>使用发布产品结构时产品的发布数据

工程产品的发布中包含以下数据：

- **产品数据** – 创建新的已发布产品。
- **工程版本数据** – 创建或更新工程版本及其数据。 请注意，如果您再次向运营公司发布相同的工程版本，工程数据将被覆盖。
- **工程属性** – 创建或更新工程属性及其值。
- **工程物料清单** – 可以创建或更新工程物料清单及行。 有关数据所有权的详细信息，请参阅[产品所有者](product-owner.md)。
- **工程工艺路线** – 可以创建或更新工程工艺路线及其工序。 有关数据所有权的详细信息，请参阅[产品所有者](product-owner.md)。
- **工程文档** – 创建或更新连接到工程版本的工程文档。

当您在系统上打开工程更改管理时，发布产品结构可用。 此外，标准产品在发布时会包括其物料清单和工艺路线。

## <a name="product-acceptance"></a>产品接受

**产品接受** 是影响发布流程的关键参数。 您可以通过转到 **工程更改管理 \> 设置 \> 工程更改管理参数** 为每个公司设置此参数。 有关详细信息，请参阅[工程更改管理参数](engineering-parameters.md)。

### <a name="automatic-product-acceptance"></a>自动产品接受

每个工程产品发布在工程公司有人选择要发布的产品时开始。 当 **产品接受** 参数设置为 *自动* 时，工程公司的用户要决定应将哪些产品数据自动发布给运营公司。 然后，产品将自动发布给在发布向导中选择的公司。

### <a name="manual-product-acceptance"></a>手动产品接受

每个工程产品发布在工程公司有人选择要发布的产品时开始。 当 **产品接受** 参数设置为 *手动* 时，工程公司的用户要决定应将哪些产品数据发布给运营公司。 每个运营公司的用户然后查看产品数据并决定是否接受发布。 运营公司的用户在收到数据时可以设置以下选项：

- 如果产品（更新）与该运营公司无关，用户可以选择不接受发布。
- 用户可以更改新产品的物料模板。
- 用户可以选择产品是否应连同其物料清单和/或工艺路线一起发布，以及是否应发布为经过审核且有效。
- 用户可以更改产品的生效日期。

有关如何接受产品的示例，请参阅[在本地公司发布产品之前先审核并接受产品](engineering-scenarios.md#accept)。

> [!NOTE]
> 对于标准产品，您可以从任何法人发布到任何其他法人。 对于工程产品，可以从其发布的唯一一个法人是工程公司。

## <a name="release-policies"></a>发布策略

并非所有运营公司都需要相同的产品数据。 通常，制造工程产品的运营公司需要物料清单，而只是销售工程产品的运营公司不需要物料清单。 您可以使用发布策略来建立用于产品发布的参数。

有关工程产品类别的详细信息，请参阅[工程版本和工程产品类别](engineering-versions-product-category.md)。

在发布流程中，您可以影响设置。

## <a name="create-and-manage-product-release-policies"></a>创建和管理产品发布策略

要使用产品发布策略，请转到 **工程更改管理 \> 设置 \> 产品发布策略**。 然后按照以下步骤之一操作。

- 要创建新策略，在操作窗格上选择 **新建**，然后按照以下小节中的说明设置字段。
- 要编辑现有策略，在列表窗格中选择它，在操作窗格上选择 **编辑**，然后按照以下小节中的说明设置字段。
- 要删除现有策略，在列表窗格中选择它，在操作窗格上选择 **编辑**，然后在 **常规** 快速选项卡上，确保 **可用** 选项设置为 *否*。 然后在操作窗格上选择 **删除**。

### <a name="header"></a>单头

在产品发布策略的标头上设置以下字段。

| 字段 | 说明 |
|---|---|
| 姓名 | 为策略输入名称。 |
| 说明 | 输入策略的描述。 |

### <a name="general-fasttab"></a>常规快速选项卡

在产品发布策略的 **常规** 快速选项卡上设置以下字段。

| 字段 | 说明 |
|---|---|
| 产品类型 | 选择策略是否应用于 *物料* 或 *服务* 类型的产品。 保存记录后，您将无法更改此设置。 |
| 应用模板 | 选择以下选项之一，指定使用策略时是否以及如何应用产品发布模板：<ul><li>**始终** – 必须始终将已发布产品模板用于发布。 如果选择此选项，请使用 **所有产品** 快速选项卡指定用于向其发布的每个公司的模板。 如果没有为 **所有产品** 快速选项卡上列出的每个公司指定模板，在尝试保存策略时您会收到错误。</li><li>**可选** – 如果为 **所有产品** 快速选项卡上列出的公司指定了已发布产品模板，当您发布到该公司时将使用该模板。 否则，不会使用模板。 如果选择此选项，可以在不将模板分配给所有公司的情况下保存策略。 （不会显示警告。）</li><li>**从不** – 不会将已发布产品模板用于向其发布的任何公司，即使为 **所有产品** 快速选项卡上列出的公司指定了模板。 模板列将不可用。</li></ul> |
| 可用 | 使用此选项可以帮助您维护发布策略。 为您使用的所有发布策略设置为 *是*。 设置为 *否* 将在不使用发布策略时将其标记为不可用。 请注意，您不能停用分配给工程产品类别的发布策略，只能删除不可用的发布策略。 |

### <a name="all-products-fasttab"></a>“所有产品”快速选项卡

在 **所有产品** 快速选项卡上，为要使用此策略向其发布的每个运营公司添加一行。 使用 **所有产品** 快速选项卡上的按钮，根据需要添加和删除行。 为您添加的每一行设置以下字段。

> [!NOTE]
> **所有产品** 快速选项卡上的设置将应用于工程产品和标准产品。

| 字段 | 说明 |
|---|---|
| 公司帐户 ID | 选择行将应用的公司。 行上的参数将在产品发布给此公司时应用。 |
| 模板已发布产品 | 为产品添加模板。 |
| 复制物料清单审核 | 选中此复选框可将物料清单审核状态复制到接收公司。 |
| 复制物料清单启用 | 选中此复选框可将物料清单激活状态复制到接收公司。 |
| 复制工艺路线审核 | 选中此复选框可将工艺路线审核状态复制到接收公司。|
| 复制工艺路线启用 | 选中此复选框可将工艺路线激活状态复制到接收公司。 |

### <a name="option-parameters-for-engineering-products-fasttab"></a>“工程产品的选项参数”快速选项卡

每次在 **所有产品** 快速选项卡上添加一行时，都会在 **工程产品的选项参数** 快速选项卡上创建一个具有匹配的 **公司帐户 ID** 值的行。 然后，如果您从 **所有产品** 快速选项卡中删除一行，具有匹配的 **公司帐户 ID** 值的行也会从 **工程产品的选项参数** 快速选项卡中删除。

对于 **工程产品的选项参数** 快速选项卡上显示的每一行，设置以下字段。

> [!NOTE]
> **工程产品的选项参数** 快速选项卡上的设置仅应用于工程产品。

| 字段 | 说明 |
|---|---|
| 物料清单模板 | 发布具有物料清单的产品时，将添加指定物料清单模板的行。 此字段对于添加本地组件（如包装或使用本地语言的说明）很有用。 |
| 模板工艺路线 | 发布具有工艺路线的产品时，将添加指定模板的行。 |
| 复制有效性 | 选择在发布产品时是否应将生效日期从工程公司复制到运营公司。 |
| 自动添加到发布方案 | 为应在工程更改订单上自动发布的产品选择此复选框。 这样，属于使用此发布策略的工程产品类别的产品可以自动发布到设置了此选项的运营公司。 （有关详细信息，请参阅[管理工程产品的更改](engineering-change-management.md)。）

### <a name="review-each-product-when-you-release-it"></a>发布产品时对每个产品进行审核

当发布具有物料清单或工艺路线的工程产品时，参数将设置为默认值，如发布策略中所示。 作为用户，当您使用发布产品结构时，可以在发布一方影响此行为。

要发布工程产品，在 **已发布产品** 页上，选择要发布的产品，然后选择 **发布产品结构** 打开发布向导。 **选择要发布的工程产品** 页将显示产品。 选择一个产品，然后选择 **发布详细信息** 查看产品的发布详细信息。

在 **发布详细信息** 页上，您可以更改 **接收物料清单**、**复制物料清单审核**、**复制物料清单激活**、**接收物料清单**、**复制工艺路线审核** 和 **复制工艺路线激活** 字段的值。 在收发场景中，您可以在接收方更改相同字段的值，前提是物料清单和工艺路线已发布。

## <a name="product-owners-and-product-releases"></a>产品所有者和产品发布

因为产品所有者知道哪些法人需要他们的产品，所以产品只能由该产品的产品所有者组的成员发布。 其他用户无法发布他们没有的产品。

此行为仅在直接选择要发布的产品时适用。 通过物料清单成为另一产品结构的一部分的产品 *可以* 由非所有者用户在发布父产品时发布，前提是他们有该父产品。

例如，产品 X 被分配到 *设计柜* 产品所有者组。 产品 X 也是产品 Y 的物料清单的一部分，后者被分配到 *设计扬声器* 产品所有者组。 如果来自 *设计扬声器* 产品所有者组的用户发布产品 Y 及其物料清单，产品 X 将与产品 Y 一起发布。

有关详细信息，请参阅[产品所有者](product-owner.md)。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
