---
title: 工程更改管理功能演练
description: 本文提供一个端到端演练，显示如何使用工程更改管理。
author: t-benebo
ms.date: 09/28/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: benebotg
ms.search.validFrom: 2020-09-28
ms.dyn365.ops.version: 10.0.15
ms.openlocfilehash: e66cda6e529a70d40e599718332152bac95b061e
ms.sourcegitcommit: c98d55a4a6e27239ae6b317872332f01cbe8b875
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/02/2022
ms.locfileid: "9220018"
---
# <a name="engineering-change-management-feature-walkthrough"></a>工程更改管理功能演练

[!include [banner](../includes/banner.md)]

本文提供一个端到端演练，显示如何使用工程更改管理。 它演示了每个最重要的场景：

- 基本功能配置
- 工程公司如何创建新的工程产品
- 工程公司如何向本地公司发布工程产品
- 本地公司如何审查和接受工程公司向其发布的产品
- 本地公司如何在标准交易中使用工程产品
- 如何将工程产品添加到销售订单
- 如何通过创建工程更改请求来请求对工程产品的更改
- 如何通过创建工程更改订单来计划和实施请求的更改
- 如何发布已更改的产品

本文中的所有练习都使用为 Microsoft Dynamics 365 Supply Chain Management 提供的标准示例数据。 此外，每个练习都以先前的练习为基础。 因此，我们建议您从头到尾依次进行练习，如果您以前从未使用过工程更改管理功能，更应如此。 这样，您将完全了解该功能。

## <a name="set-up-for-the-sample-scenario"></a>设置示例场景

若要执行本文中提供的示例场景，您必须首先通过提供演示数据并添加一些自定义记录来准备功能。

在尝试执行本文其余部分中的任何练习之前，请遵循以下所有小节中的说明。 这些子部分还介绍了几个重要的设置页面，当您为自己的组织设置工程更改管理时将使用这些页面。

### <a name="make-standard-demo-data-available"></a>提供标准演示数据

在已安装标准[演示数据](../../fin-ops-core/fin-ops/get-started/demo-data.md)的系统上工作。 标准演示数据添加几个演示法人（公司和组织）的数据。 在进行练习时，您将使用导航栏右侧的公司选择器在设置为 *工程组织* 的一家公司 (*DEMF*) 和设置为 *运营组织* 的另一家公司 (*USMF*) 之间进行切换。

### <a name="set-up-an-engineering-organization"></a>设置工程组织

工程组织拥有工程数据，并负责产品设计和产品更改。 若要设置工程组织，请按照以下步骤操作。

1. 转到 **工程更改管理 &gt; 设置 &gt; 工程组织**。
1. 选择 **新建** 以向网格添加一行，然后为其设置以下值：

    - **工程组织：***DEMF*
    - **组织名称：***德国 Contoso 娱乐系统*

    ![添加工程组织。](media/engineering-org.png "添加工程组织")

### <a name="set-up-the-version-product-dimension-group"></a>设置版本产品维度组

1. 转到 **产品信息管理 &gt; 设置 &gt; 维度和变型组 &gt; 产品维度组**。
1. 选择 **新建** 以创建产品维度组。
1. 将 **名称** 字段设置为 *版本*。
1. 选择 **保存** 以保存新的维度并将值加载到 **产品维度** 快速选项卡上。
1. 在 **产品维度** 快速选项卡上，将 **版本** 设置为有效的产品维度。

    ![添加产品维度组。](media/product-dimension-groups.png "添加产品维度组")

### <a name="set-up-product-lifecycle-states"></a>设置产品生命周期状态

当工程产品经历生命周期时，您能够控制每个生命周期状态允许哪些交易这一点很重要。 若要设置产品生命周期状态，请按照以下步骤操作。

1. 转到 **工程更改管理 &gt; 设置 &gt; 产品生命周期状态**。
1. 选择 **新建** 以添加生命周期状态，然后为其设置以下值：

    - **状态：***运营*
    - **描述：***运营*

1. 选择 **保存** 以保存新的生命周期状态并将值加载到 **已启用业务流程** 快速选项卡上。
1. 在 **已启用业务流程** 快速选项卡上，选择应该可用的业务流程。 对于此示例，针对所有业务流程将 **策略** 字段设置为 *已启用*。

    ![为生命周期状态启用业务流程。](media/product-lifecycle-states-1.png "为生命周期状态启用业务流程")

1. 选择 **新建** 以添加另一个生命周期状态，然后为其设置以下值：

    - **状态：***原型*
    - **描述：***原型*

1. 选择 **保存** 以保存新的生命周期状态并将值加载到 **已启用业务流程** 快速选项卡上。
1. 在 **已启用业务流程** 快速选项卡上，选择应该可用的业务流程。 对于此示例，针对所有业务流程将 **策略** 字段设置为 *已启用，但有警告*。

    ![为生命周期状态启用（有警告）业务流程。](media/product-lifecycle-states-2.png "为生命周期状态启用（有警告）业务流程")

### <a name="set-up-a-version-number-rule"></a>设置版本号规则

1. 转到 **工程更改管理 &gt; 设置 &gt; 产品版本号规则**。
1. 选择 **新建** 以添加规则，然后为其设置以下值：

    - **名称：***自动*
    - **编号规则：***自动*
    - **格式：***V-\#\#*

    ![添加产品版本号规则。](media/version-number-rule.png "添加产品版本号规则")

### <a name="set-up-a-product-release-policy"></a>设置产品发布策略

1. 转到 **工程更改管理 &gt; 设置 &gt; 产品发布策略**。
1. 选择 **新建** 以添加发布策略，然后为其设置以下值：

    - **名称：***组件*
    - **描述***组件*

1. 在 **常规** 快速选项卡上，设置以下值：

    - **产品类型**：*物料*
    - **应用模板：***始终*
    - **有效：***是*

1. 在 **所有产品** 快速选项卡上，选择 **添加** 以添加一行，然后为其设置以下值：

    - **公司：***DEMF*
    - **已发布产品模板：***D0006*

1. 选择 **添加** 再添加一行，然后为其设置以下值：

    - **公司帐户 ID：***USMF*
    - **已发布产品模板：***D0006*
    - **接收 BOM：** 选中此复选框。
    - **复制 BOM 审批：** 选中此复选框。
    - **复制 BOM 激活：** 选中此复选框。
    - **接收工艺路线：** 选中此复选框。
    - **复制工艺路线审批：** 选中此复选框。
    - **复制工艺路线激活：** 选中此复选框。

    ![添加产品发布策略。](media/product-release-policy.png "添加产品发布策略")

### <a name="set-up-an-engineering-product-category"></a>设置工程产品类别 

工程产品类别提供用于创建工程产品（即通过工程更改管理进行版本控制的产品）的基础。 若要设置工程产品类别，请按照以下步骤操作。

1. 转到 **工程更改管理 &gt; 工程产品类别详细信息**。
1. 选择 **新建** 以创建类别。
1. 在 **详细信息** 快速选项卡上，设置以下值：

    - **名称：***组件*
    - **工程组织：***DEMF*
    - **产品类型**：*物料*
    - **跟踪交易中的版本：***是*
    - **产品维度组：***版本*
    - **创建时的产品生命周期状态：***运营*
    - **版本号规则：***自动*
    - **强制实施有效性：***否*
    - **使用编号规则命名法：***否*
    - **使用名称规则命名法：***否*
    - **使用描述规则命名法：***否*

1. 在 **发布策略** 快速选项卡上，将 **产品发布策略** 设置为 *组件*。
1. 选择 **保存**。

    ![添加工程产品类别。](media/product-category-details.png "添加工程产品类别")

### <a name="set-up-product-acceptance-conditions"></a>设置产品接受条件

1. 使用导航栏右侧的公司选择器切换到 *USMF* 法人（公司）。
1. 转到 **工程更改管理 &gt; 设置 &gt; 工程更改管理参数**。
1. 在 **发布控制** 选项卡上的 **产品接受** 部分中，将 **产品接受** 字段设置为 *手动*。

    ![设置产品接受条件。](media/engineering-change-management-parameters.png "设置产品接受条件")

## <a name="create-a-new-engineering-product"></a>创建新工程产品

工程产品是通过工程更改管理进行版本控制的产品。 换句话说，您可以在其生命周期内控制更改，并且将使用工程更改订单保存更改信息。 若要创建工程产品，请执行以下步骤。

1. 确保您在工程组织的法人中（对于此示例，在 *DEMF* 中）。 根据需要使用导航栏右侧的公司选择器。
1. 通过执行以下步骤之一打开 **已发布产品** 页面：

    - 转到 **产品信息管理 &gt; 产品 &gt; 已发布产品**。
    - 转到 **工程更改管理 &gt; 通用 &gt; 已发布产品**。

1. 在操作窗格的 **产品** 选项卡上的 **新建** 组中，选择 **工程产品**。
1. 在 **新产品** 对话框中，设置以下值：

    - **工程产品类别：***组件*
    - **产品编号**：*Z0001*
    - **产品名称：***扬声器组*

    ![添加工程产品。](media/new-product-dialog.png "添加工程产品")

    请注意，使用您之前设置的产品版本号规则自动设置 **版本** 字段。

1. 选择 **确定** 创建产品，然后关闭对话框。
1. 打开新产品的详细信息页面。 请注意，某些字段（例如 **存储维度组**、**跟踪维度组** 和/或 **物料模型组**）中已经填写了值。 这些字段已自动设置，因为产品已在 *DEMF* 法人中发布并使用 *组件* 产品发布策略，这与 *组件* 工程产品类别相关联。 因为您之前使用了物料 *D0006* 作为模板来为 *DEMF* 法人设置行，填写的值取自物料 *D0006*。

    ![已发布产品详细信息。](media/product-details.png "已发布产品详细信息")

1. 在操作窗格的 **工程师** 选项卡上，在 **工程更改管理** 组中，选择 **工程版本** 以查看产品的版本。

    ![工程版本。](media/engineering-versions-list.png "工程版本")

1. 在 **工程版本** 页面上，请注意该产品只有一个版本，并且该版本处于活动状态。
1. 选择版本以查看其详细信息。

    ![工程版本详细信息。](media/engineering-version-details.png "工程版本详细信息")

1. 在 **工程版本** 页面上的 **物料清单** 快速选项卡上，选择 **创建 BOM**。
1. 在 **创建 BOM** 对话框中，设置以下值：

    - **BOM 编号：** Z0001
    - **名称：** 扬声器组
    - **站点：** 1

    ![创建物料清单。](media/create-bom.png "创建 BOM")

1. 选择 **确定** 以添加 BOM，然后关闭对话框。
1. 在 **物料清单** 快速选项卡上，选择 **物料清单**。
1. 在 **物料清单** 页面上的 **物料清单行** 快速选项卡上，添加三行，每一行对应于物料编号 *D0001*、*D0003* 和 *D0006*。

    ![添加物料清单行。](media/bom.png "添加 BOM 行")

1. 选择 **保存**。
1. 关闭该页面。
1. 在 **工程版本** 页面上的 **物料清单** 快速选项卡上，选择 **审核**。
1. 在显示的对话框中，选择 **确定**。

    ![审核物料清单。](media/approve-dialog.png "审核 BOM")

1. 在 **工程版本** 页面上的 **物料清单** 快速选项卡上，选择 **激活**。
1. 请注意，已针对 BOM 选中 **活动** 和 **已审核** 复选框。

    ![活动和已审核物料清单。](media/approved-bom.png "活动和已审核 BOM")

1. 关闭该页面。

## <a name="release-an-engineering-product-to-a-local-company"></a><a name="release"></a>向本地公司发布工程产品

该产品现已由工程部门设计。 对于此示例，产品是工程部门为客户设计的原型。 因为客户是 *USMF* 法人的客户，因此必须将产品发布给该法人。

1. 将法人设置为 *DEMF*。 （根据需要使用导航栏右侧的公司选择器。）
1. 转到 **产品信息管理 &gt; 产品 &gt; 已发布产品**。
1. 选择产品 *Z0001*。
1. 在操作窗格的 **产品** 选项卡上，在 **维护** 组中，选择 **发布产品结构** 以打开 **发布产品** 向导。
1. 在 **选择要发布的工程产品** 页面上，针对产品 *Z0001* 选中 **选择** 复选框。

    ![选择要发布的工程产品。](media/select-eng-product-to-release.png "选择要发布的工程产品")

1. 选择 **发布详细信息**。
1. 将显示 **产品发布详细信息** 页面，您可以在其中查看将要发布的产品的详细信息及其产品结构。 请注意，**发送 BOM** 选项将设置为 *是*。 因此，将发布 BOM 中的产品 *Z0001* 及其所有子物料。

    您可以在左窗格中选择任何子物料以查看其详细信息。 如果任何子物料具有 BOM，您还可以选择发布该子物料的 BOM。

    ![查看产品发布详细信息。](media/product-release-details.png "查看产品发布详细信息")

1. 关闭页面以返回到 **发布产品** 向导。
1. 选择 **下一步** 以打开 **选择要发布的产品** 页面。 如果您选择了任何标准（非工程）产品，它们将显示在此页面上。 请注意，当您通过选择 **发布产品结构** 发布标准产品时，也将发布其 BOM 和工艺路线。

    ![选择要发布的标准产品。](media/select-std-product-to-release.png "选择要发布的标准产品")

1. 选择 **下一步** 以打开 **选择要发布的产品变型** 页面。 对于此示例，没有任何变型。
1. 选择 **下一步** 以打开 **选择公司** 页面。
1. 选择产品应发布到的公司。 对于此示例，选中 **USMF** 的复选框。

    ![选择要发布到的公司。](media/select-release-companies.png "选择要发布到的公司")

1. 选择 **下一步** 以打开 **确认选择** 页面。
1. 选择 **完成**。

## <a name="review-and-accept-the-product-before-you-release-it-in-the-local-company"></a><a name="accept"></a>审查并接受产品，然后在本地公司中发布该产品

工程部门现已将信息发布给将使用该产品的本地公司。 对于本示例，该本地公司为 *USMF*。

因为您在 *USMF* 公司的 **工程更改管理参数** 页面上将 **产品接受** 字段设置为 *手动*，因此必须先手动接受产品，然后才能将其发布给该公司。 换句话说，必须先审查并接受产品，它们才能成为已发布产品。

若要审查产品并在 *USMF* 公司中发布它，请按照以下步骤操作。

1. 将法人设置为 *USMF*。 （使用导航栏右侧的公司选择器。）
1. 转到 **工程更改管理 &gt; 通用 &gt; 产品发布 &gt; 打开产品发布**。

    **打开产品发布** 页面显示产品 *Z0001*，其状态为 *等待接受*。

    ![打开产品发布。](media/open-product-releases.png "未处理的产品发布")

1. 在 **产品编号** 列中选择该值以打开 **产品发布详细信息** 页面。 注意以下详细信息：

    - **常规** 快速选项卡显示有关产品发布的信息，例如发布公司（对于此示例为 *DEMF*）、发布站点 (*1*) 和接收站点 (*1*)。 因为您没有在 **发布产品** 向导中指定接收站点，因此将发布站点值复制到接收站点。
    - **发布详细信息** 快速选项卡显示有关产品和已发布版本的信息。 在此处，您可以修改设置，例如生效日期。
    - **工艺路线** 快速选项卡显示产品的工艺路线。 但是，对于此示例，您没有发布任何工艺路线。

    ![产品发布详细信息。](media/product-release-details-2.png "产品发布详细信息")

1. 查看完信息后，您就可以准备接受产品，并通过这种方式在 *USMF* 公司中发布它。 在操作窗格上，选择 **操作 &gt; 接受**。
1. 现在，在 *USMF* 公司中发布产品。 转到 **产品信息管理 &gt; 产品 &gt; 已发布产品**。 您应该看到物料 *Z0001*。

## <a name="use-the-product-in-transactions-in-the-local-company"></a>在本地公司中使用交易中的产品

*USMF* 公司的主数据管理器想要确保产品处于 *原型* 状态，以确保用户在意外将其添加到您正在执行的流程时收到警告。

1. 转到 **产品信息管理 &gt; 产品 &gt; 已发布产品**。
1. 选择产品 *Z0001* 以打开其详细信息页面。 （您可以使用筛选器查找产品。）
1. 在操作窗格的 **工程师** 选项卡上，在 **工程更改管理** 组中，选择 **工程版本**。
1. 在 **工程版本** 页面上，选择版本号 *V-01* 以打开其详细信息页面。
1. 在操作窗格的 **产品** 选项卡上，在 **生命周期状态** 组中，选择 **更改生命周期状态**。
1. 在 **更改生命周期状态** 下拉对话框中，将 **状态** 字段设置为 *原型*，然后选择 **确定**。

    ![更改生命周期状态。](media/change-lifecycle-state.png "更改生命周期状态")

## <a name="add-the-engineering-product-to-a-sales-order"></a>将工程产品添加到销售订单

现在可以将产品出售给客户。 若要将产品添加到销售订单，请执行以下步骤。

1. 转到 **销售和营销 &gt; 销售订单 &gt; 所有销售订单**。
1. 在操作窗格上，选择 **新建**。
1. 在 **创建销售订单** 对话框中，将 **客户帐户** 字段设置为 *US-0002*，然后选择 **确定**。
1. 将打开新销售订单。 在 **销售订单行** 快速选项卡上，添加一行，然后针对该行将 **物料编号** 设置为 *Z000*。
1. 在操作窗格上，选择 **保存**。

    您会收到一条警告消息，通知您该物料的状态为 *原型*。 但是，由于该消息只是警告，因此仍然创建销售订单。

    ![工程产品的销售订单。](media/sales-order-eng-product.png "工程产品的销售订单")

## <a name="request-changes-in-the-engineering-product"></a>在工程产品中请求更改

产品已发送给客户，但客户并不完全满意，并提供包括改进建议的反馈。 当客户通过电话与销售人员交谈时，销售人员可以请求客户描述的更改。

1. 转到 **销售和营销 &gt; 销售订单 &gt; 所有销售订单**。
1. 查找并打开您在上一个练习中创建的销售订单。
1. 在 **销售订单行** 快速选项卡上，选择 **工程更改管理 &gt; 新工程更改请求**。

    ![根据销售订单创建工程更改请求。](media/sales-order-eng-change-request.png "根据销售订单创建工程更改请求")

1. 根据客户的反馈填写工程更改请求。 对于此示例，设置以下值：

    - **更改请求：***555*
    - **标题：***Z0001 客户更改*
    - **优先级：***低*
    - **类别：** 设置更改
    - **严重性：***中*

1. 在 **信息** 快速选项卡上，选择 **新建 &gt; 注释** 以向网格添加注释。
1. 在新注释的 **描述** 字段中，指示应从 BOM 中删除该物料 *D0003*。 如果您必须添加注释的详细信息，可以在 **注释** 字段中输入文本。

    ![工程更改请求。](media/eng-change-request.png "工程更改请求")

1. 在操作窗格上，选择 **保存**。
1. 请注意，物料已自动添加到 **产品** 快速选项卡上，并且工程更改请求的来源（销售订单）已添加到 **来源** 快速选项卡上。

## <a name="make-changes-to-the-product-by-using-an-engineering-change-order"></a>使用工程更改订单对产品进行更改

销售人员知道产品很重要，并且专为客户而设计。 因此，销售人员致电 *DEMF* 公司中的工程师来通知他们更改请求。 这样，工程师可以加快流程。

工程师现在审查客户的请求并为产品创建更改订单。

1. 因为工程师任职于 *DEMF* 公司，因此将法人设置为 *DEMF*。 （使用导航栏右侧的公司选择器。）
1. 转到 **工程更改管理 &gt; 通用 &gt; 工程更改请求**。
1. 打开更改请求 *555*。
1. 查看信息，然后审核更改。 在操作窗格的 **更改请求** 选项卡上，在 **更改状态** 组中，选择 **审核**。
1. 转到 **工程更改管理 &gt; 通用 &gt; 工程更改订单**。
1. 在操作窗格上，选择 **新建** 以创建更改订单，并为其设置以下值：

    - **更改订单：***555*
    - **标题：***Z0001 客户更改*
    - **类别：***客户更改*
    - **优先级：***低*
    - **严重性：***中*

1. 在 **受影响产品** 快速选项卡上，选择 **新建 &gt; 添加现有产品** 以向网格添加一行，然后为其设置以下值：

    - **产品：***Z0001*
    - **影响：***新版本*

    ![创建工程更改订单。](media/eng-change-order.png "创建工程更改订单")

1. 请注意，因为您将 **影响** 字段设置为 *新版本*，因此 **产品详细信息** 快速选项卡的 **详细信息** 选项卡上的 **新版本** 字段将显示新的版本号（对于此示例为 *V-02*）。

    ![工程更改订单的产品详细信息。](media/eng-change-order-product-details.png "工程更改订单的产品详细信息")

1. 在操作窗格上，选择 **保存**。
1. 在 **产品详细信息** 快速选项卡的 **物料清单** 选项卡上，选择 **行** 以打开产品 *Z0001* 的版本 *V-01* 的 BOM。

    ![工程产品物料清单行。](media/eng-product-bom-lines.png "工程产品 BOM 行")

1. 选择物料编号 *D0003* 的行，然后在操作窗格上选择 **删除**。 此行的 **更改类型** 字段的值将更改为 *已删除*。
1. 在操作窗格上，选择 **保存**。

    ![已修改工程产品物料清单行。](media/eng-product-bom-lines-modified.png "已修改工程产品 BOM 行")

1. 关闭 **BOM 行** 页面以返回到 **工程更改订单** 页面。
1. 请注意，在 **产品详细信息** 快速选项卡的 **物料清单** 选项卡上，BOM *Z0001* 的 **更改类型** 字段的值现在为 *已更改*。

    ![包含已更改物料清单的工程更改订单。](media/eng-change-order-changed-bom.png "包含已更改 BOM 的工程更改订单")

    现在，必须先审核订单，才能处理更改。 处理更改后，将使用工程更改订单中包含的更改更新产品。 对于此示例，已将创建工程更改订单的人指定为审批者。

1. 在操作窗格的 **更改订单** 选项卡上，在 **更改状态** 组中，选择 **审核**。
1. 选择 **处理** 以更新产品的信息。

## <a name="release-the-changed-product"></a>发布更改的产品

现在，产品可以再次发布到 *USMF* 公司，然后发送给客户。 若要直接从工程更改订单中发布产品，请按照下列步骤操作。

1. 打开您在上一个练习中创建的工程更改订单（如果尚未打开）。
1. 在操作窗格的 **更改订单** 选项卡上，在 **产品发布** 组中，选择 **搜索**。
1. 搜索结果显示已向哪些公司发布了受影响的产品。 关闭搜索结果。
1. 在操作窗格的 **更改订单** 选项卡上，在 **产品发布** 组中，选择 **视图** 以打开 **发布** 对话框，您可以在其中查看上一次搜索的结果。
1. 选择要向其发布产品的每个公司。
1. 选择 **确定** 以关闭 **发布** 对话框并返回到更改订单。
1. 在操作窗格的 **更改订单** 选项卡上，在 **产品发布** 组中，选择 **处理** 以将受影响的产品发布给所选公司。 或者，选择 **发布产品结构** 以启动发布流程。

## <a name="complete-the-change-order"></a>完成更改订单

要将更改订单标记为已完成，指示没有其他操作，在操作窗格中选择 **完成**。

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
