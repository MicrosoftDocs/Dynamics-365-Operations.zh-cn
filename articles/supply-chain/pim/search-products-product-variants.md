---
title: 在输入订单时搜索产品和产品变型
description: 当您手动创建销售订单行或采购订单行时，使用**物料编号**字段搜索产品和产品变型。 当您仅有配置字符串或一个产品维度可用时，它可以让您迅速找到产品变型。
author: cvocph
manager: tfehr
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: MCRFullTextIndexField, MCRFullTextParameters, PurchTable, SalesTable
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 248534
ms.assetid: 99dd5ce1-0029-4f06-90e7-865e6d46d86e
ms.search.region: global
ms.search.industry: Manufacturing
ms.author: conradv
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
ms.openlocfilehash: 15a6439595174978e379aaf248cd565bdf636428
ms.sourcegitcommit: 4f9912439ff78acf0c754d5bff972c4b85763093
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/02/2020
ms.locfileid: "3209399"
---
# <a name="search-for-products-and-product-variants-during-order-entry"></a><span data-ttu-id="f7776-104">在输入订单时搜索产品和产品变型</span><span class="sxs-lookup"><span data-stu-id="f7776-104">Search for products and product variants during order entry</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="f7776-105">当您手动创建销售订单行或采购订单行时，使用**物料编号**字段搜索产品和产品变型。</span><span class="sxs-lookup"><span data-stu-id="f7776-105">Use the **Item number** field to search for products and product variants when you manually create a sales order line or a purchase order line.</span></span>  <span data-ttu-id="f7776-106">当您仅有配置字符串或一个产品维度可用时，它可以让您迅速找到产品变型。</span><span class="sxs-lookup"><span data-stu-id="f7776-106">This lets you quickly find product variants when you only have the configuration string or one of the product dimensions available.</span></span>

<span data-ttu-id="f7776-107">在某些情况下，拥有的太多往往不是最有利的情况，如果是当销售一系列类似产品，以及当您试图记住物料编号或产品搜索名称以查找要放在销售订单上的正确产品时。</span><span class="sxs-lookup"><span data-stu-id="f7776-107">Sometimes, having too much of something is not the best situation to be in, and this is especially true if you sell a number of products that are similar, and you are trying to remember item numbers or product search names in order to find the right product to put on a sales order.</span></span><span data-ttu-id="f7776-108">您可以使用销售订单行或采购订单行上的**物料编号**字段作为搜索字段。</span><span class="sxs-lookup"><span data-stu-id="f7776-108"> You can use the **Item number** field on a sales order line or a purchase order line as a search field.</span></span> <span data-ttu-id="f7776-109">您可以输入产品名称的任何部分、编号或维度，获得显示与搜索词匹配的所有物料的查找。</span><span class="sxs-lookup"><span data-stu-id="f7776-109">You can enter any part of a product name, number, or dimension and get a lookup that displays all the items that match the search word.</span></span>

## <a name="how-searchworks"></a><span data-ttu-id="f7776-110">搜索的工作方式</span><span class="sxs-lookup"><span data-stu-id="f7776-110">How search works</span></span>
<span data-ttu-id="f7776-111">当您搜索产品或产品变型时，了解搜索功能如何查找与您输入的文本匹配的产品非常重要。</span><span class="sxs-lookup"><span data-stu-id="f7776-111">When you search for products or product variants, it is important to understand how the search feature finds the products that match the text that you enter.</span></span> <span data-ttu-id="f7776-112">交付搜索结果中的关键搜索规则为：</span><span class="sxs-lookup"><span data-stu-id="f7776-112">The key search rules in delivering search results are:</span></span>

-   <span data-ttu-id="f7776-113">搜索结果将返回所有匹配的记录，无论在哪个字段中输入搜索文本。</span><span class="sxs-lookup"><span data-stu-id="f7776-113">Search results will return any matching record, disregarding the field that the search text is entered in.</span></span>
-   <span data-ttu-id="f7776-114">搜索文本需以完整的长度显示在匹配记录中。</span><span class="sxs-lookup"><span data-stu-id="f7776-114">The search text needs to be present in the matching record in its full length.</span></span>
-   <span data-ttu-id="f7776-115">即使是在匹配记录中的文本字符串的中间找到搜索文本，也会发生匹配。</span><span class="sxs-lookup"><span data-stu-id="f7776-115">A match will occur even if the search text is found in the middle of a text string in the matching record.</span></span> <span data-ttu-id="f7776-116">不必出现在文本字符串的开头。</span><span class="sxs-lookup"><span data-stu-id="f7776-116">It does not have to appear in the beginning of a text string.</span></span>
-   <span data-ttu-id="f7776-117">搜索文本即使含有空格，也会被视为单个文本字符串。</span><span class="sxs-lookup"><span data-stu-id="f7776-117">The search text is treated as a single text string even if it contains white space.</span></span>

### <a name="examples"></a><span data-ttu-id="f7776-118">示例</span><span class="sxs-lookup"><span data-stu-id="f7776-118">Examples</span></span>

<span data-ttu-id="f7776-119">以下示例通过产品和产品变型说明如何在不同的环境中处理搜索。</span><span class="sxs-lookup"><span data-stu-id="f7776-119">The following examples use products and product variants to illustrate how search is handled in various scenarios.</span></span> <span data-ttu-id="f7776-120">**先决条件：** 在**销售和营销 &gt; 设置 &gt; 搜索 &gt; 搜索参数 &gt; 搜索类型**下，选择此 **完全匹配**选项。</span><span class="sxs-lookup"><span data-stu-id="f7776-120">**Prerequisite:** Under **Sales and marketing &gt; Setup &gt; Search &gt; Search parameters &gt; Search type**, select the **Full match** option.</span></span>

| <span data-ttu-id="f7776-121">产品类型</span><span class="sxs-lookup"><span data-stu-id="f7776-121">Product type</span></span>     | <span data-ttu-id="f7776-122">产品名称</span><span class="sxs-lookup"><span data-stu-id="f7776-122">Product name</span></span>    | <span data-ttu-id="f7776-123">显示产品编号</span><span class="sxs-lookup"><span data-stu-id="f7776-123">Display product number</span></span> | <span data-ttu-id="f7776-124">物料编号</span><span class="sxs-lookup"><span data-stu-id="f7776-124">Item number</span></span> | <span data-ttu-id="f7776-125">配置</span><span class="sxs-lookup"><span data-stu-id="f7776-125">Configuration</span></span> |
|------------------|-----------------|------------------------|-------------|---------------|
| <span data-ttu-id="f7776-126">独特产品</span><span class="sxs-lookup"><span data-stu-id="f7776-126">Distinct product</span></span> | <span data-ttu-id="f7776-127">SpeakerMidRange</span><span class="sxs-lookup"><span data-stu-id="f7776-127">SpeakerMidRange</span></span> | <span data-ttu-id="f7776-128">D0001</span><span class="sxs-lookup"><span data-stu-id="f7776-128">D0001</span></span>                  | <span data-ttu-id="f7776-129">D0001</span><span class="sxs-lookup"><span data-stu-id="f7776-129">D0001</span></span>       | <span data-ttu-id="f7776-130">NA</span><span class="sxs-lookup"><span data-stu-id="f7776-130">NA</span></span>            |
| <span data-ttu-id="f7776-131">产品变型</span><span class="sxs-lookup"><span data-stu-id="f7776-131">Product variant</span></span>  | <span data-ttu-id="f7776-132">有源扬声器</span><span class="sxs-lookup"><span data-stu-id="f7776-132">Active speaker</span></span>  | <span data-ttu-id="f7776-133">D0010:::Black：</span><span class="sxs-lookup"><span data-stu-id="f7776-133">D0010:::Black:</span></span>         | <span data-ttu-id="f7776-134">D0010</span><span class="sxs-lookup"><span data-stu-id="f7776-134">D0010</span></span>       | <span data-ttu-id="f7776-135">000005</span><span class="sxs-lookup"><span data-stu-id="f7776-135">000005</span></span>        |
| <span data-ttu-id="f7776-136">产品变型</span><span class="sxs-lookup"><span data-stu-id="f7776-136">Product variant</span></span>  | <span data-ttu-id="f7776-137">有源扬声器</span><span class="sxs-lookup"><span data-stu-id="f7776-137">Active speaker</span></span>  | <span data-ttu-id="f7776-138">D0010:::White：</span><span class="sxs-lookup"><span data-stu-id="f7776-138">D0010:::White:</span></span>         | <span data-ttu-id="f7776-139">D0010</span><span class="sxs-lookup"><span data-stu-id="f7776-139">D0010</span></span>       | <span data-ttu-id="f7776-140">白色</span><span class="sxs-lookup"><span data-stu-id="f7776-140">White</span></span>         |

<span data-ttu-id="f7776-141">如果您在**物料编号**字段中键入“扬声器”，您将在查找结果中获得以上所有产品。</span><span class="sxs-lookup"><span data-stu-id="f7776-141">If you type 'speak' in the **Item number** field, you will get all the products above as a result in the lookup.</span></span> <span data-ttu-id="f7776-142">如果您在**物料编号**字段中键入“黑色”，您将在结果中获得第二个产品，因为它的显示产品编号中含有文本“黑色”。</span><span class="sxs-lookup"><span data-stu-id="f7776-142">If you type 'black' in the **Item number** field, you will get the second product as a result, because it has the text 'black' in the display product number.</span></span> <span data-ttu-id="f7776-143">这两个示例说明搜索不仅发生在字段的开头，在匹配记录的文本字符串的中间找到搜索文本时，也会发生匹配。</span><span class="sxs-lookup"><span data-stu-id="f7776-143">These two examples illustrate that the search is not only at the beginning of the field, a match will occur even if the search text is found in the middle of a text string in the matching record.</span></span>  

<span data-ttu-id="f7776-144">如果您键入“05”，您在结果中将仅获得第二个产品变型，因为它的配置中含有“05”。</span><span class="sxs-lookup"><span data-stu-id="f7776-144">If you type '05' you will only get the second product variant as a result, because it has '05' in the configuration.</span></span> <span data-ttu-id="f7776-145">这说明搜索发生在**搜索条件**页面上的所有已启用字段中。</span><span class="sxs-lookup"><span data-stu-id="f7776-145">This illustrates that the search is across all the enabled fields on the **Search criteria** page.</span></span>  

<span data-ttu-id="f7776-146">如果您键入“扬声器 05”，您不会获得任何结果。</span><span class="sxs-lookup"><span data-stu-id="f7776-146">If you type 'speak 05' you will not get any results.</span></span> <span data-ttu-id="f7776-147">这是因为搜索会查找输入的完整文本。</span><span class="sxs-lookup"><span data-stu-id="f7776-147">This is because the search looks for the full text that is entered.</span></span> <span data-ttu-id="f7776-148">搜索不会尝试查找“扬声器”，然后将结果缩小到包含“05”的结果。</span><span class="sxs-lookup"><span data-stu-id="f7776-148">The search will not try to find 'speak' and then narrow the results to those containing '05'.</span></span>  

<span data-ttu-id="f7776-149">使用**销售和营销 &gt; 设置 &gt; 搜索 &gt; 搜索参数** 页面上的**结果数量**字段可以限制搜索结果的数量。</span><span class="sxs-lookup"><span data-stu-id="f7776-149">You can limit the number of search results by using the **Number of results** field on the **Sales and marketing &gt; Setup &gt; Search &gt; Search parameters** page.</span></span> <span data-ttu-id="f7776-150">如果您将此字段设置为 0，则将返回所有搜索结果。</span><span class="sxs-lookup"><span data-stu-id="f7776-150">If you set this field to 0, all search results will be returned.</span></span> <span data-ttu-id="f7776-151">例如如果您设置为 10，它将返回最多 10 个搜索结果。</span><span class="sxs-lookup"><span data-stu-id="f7776-151">If you set it to 10, for example, it will return a maximum 10 search results.</span></span>

## <a name="configure-the-productsearch"></a><span data-ttu-id="f7776-152">配置产品搜索</span><span class="sxs-lookup"><span data-stu-id="f7776-152">Configure the product search</span></span>
<span data-ttu-id="f7776-153">在可以使用产品和产品变型搜索功能之前，请执行以下步骤配置产品搜索。</span><span class="sxs-lookup"><span data-stu-id="f7776-153">Before you can use the product and product variant search feature, follow these steps to configure the product search.</span></span> <span data-ttu-id="f7776-154">[![配置产品搜索的 3 个步骤\_AXAppFall](./media/3-steps-to-configure-product-search_axappfall.png)](./media/3-steps-to-configure-product-search_axappfall.png)</span><span class="sxs-lookup"><span data-stu-id="f7776-154">[![3 steps to configure product search\_AXAppFall](./media/3-steps-to-configure-product-search_axappfall.png)](./media/3-steps-to-configure-product-search_axappfall.png)</span></span>

### <a name="step-1include-all-the-relevant-product-and-product-variant-identifiers-and-dimensions-in-the-search-criteria"></a><span data-ttu-id="f7776-155">第 1 步： 在搜索条件中包括所有相关产品和产品变型标识符和维度</span><span class="sxs-lookup"><span data-stu-id="f7776-155">Step 1: Include all the relevant product and product variant identifiers and dimensions in the search criteria</span></span>

<span data-ttu-id="f7776-156">比如，您在搜索中可以使用的产品和产品变型标识符和维度包括 **产品名称、物料编号**、**显示产品编号、配置、颜色、尺寸、样式、搜索名称等**。</span><span class="sxs-lookup"><span data-stu-id="f7776-156">Examples of product and product variant identifiers and dimensions that you can search by are **Product name, Item number**, **Display product number, Configuration, Color, Size, Style, Search name, etc**.</span></span>  

<span data-ttu-id="f7776-157">转到**销售和市场 &gt; 设置 &gt; 搜索 &gt; 搜索条件**页面。</span><span class="sxs-lookup"><span data-stu-id="f7776-157">Go to **Sales and marketing &gt; Setup &gt; Search &gt; Search criteria** page.</span></span> <span data-ttu-id="f7776-158">**搜索条件**页允许您定义客户、目标客户和产品搜索的条件。</span><span class="sxs-lookup"><span data-stu-id="f7776-158">The **Search criteria** page allows you to define criteria for customer, prospect, and product search.</span></span> <span data-ttu-id="f7776-159">确保您使用产品搜索条件筛选页面。</span><span class="sxs-lookup"><span data-stu-id="f7776-159">Make sure you filter the page by using product search criteria.</span></span> <span data-ttu-id="f7776-160">为此，您可以切换至页面菜单中的**产品**。</span><span class="sxs-lookup"><span data-stu-id="f7776-160">You can do this by switching to **Product** in the page's menu.</span></span>  

<span data-ttu-id="f7776-161">要将显示产品编号添加到搜索条件，请单击页面菜单中的**新建**。</span><span class="sxs-lookup"><span data-stu-id="f7776-161">To add the display product number to the search criteria, click **New** in the page's menu.</span></span> <span data-ttu-id="f7776-162">这将在**搜索条件**网格中添加新的记录。</span><span class="sxs-lookup"><span data-stu-id="f7776-162">This will add a new record in the **Search criteria** grid.</span></span> <span data-ttu-id="f7776-163">打开**字段名称**列查找并选择**DisplayProductNumber**。</span><span class="sxs-lookup"><span data-stu-id="f7776-163">Open the **Field name** column lookup and chose **DisplayProductNumber**.</span></span> <span data-ttu-id="f7776-164">若要将产品配置添加到搜索条件，请在**搜索条件**网格中创建新记录，并选择**字段名称**列中的**configId**。</span><span class="sxs-lookup"><span data-stu-id="f7776-164">To add the product's configuration to the search criteria, create a new record in the **Search criteria** grid and chose **configId** in the **Field name** column.</span></span> <span data-ttu-id="f7776-165">同样，使用**字段名称** **InventColorId**对颜色维度创建记录，使用**InventSizeId**对尺寸维度创建记录，使用**InventStyleId**对样式维度创建记录。</span><span class="sxs-lookup"><span data-stu-id="f7776-165">In the same manner, create a record with **Field name** **InventColorId** for the color dimension, **InventSizeId** for the size dimension, and **InventStyleId** for the style dimension.</span></span>

### <a name="step-2-populate-the-database-table-that-is-used-for-product-search"></a><span data-ttu-id="f7776-166">第 2 步：填充用于产品搜索的数据库表格</span><span class="sxs-lookup"><span data-stu-id="f7776-166">Step 2: Populate the database table that is used for product search</span></span>

<span data-ttu-id="f7776-167">在**搜索条件**页面，单击**更新搜索数据**按钮。</span><span class="sxs-lookup"><span data-stu-id="f7776-167">In the **Search criteria** page, click the **Update search data** button.</span></span> <span data-ttu-id="f7776-168">在**更新搜索数据**对话框中，确保将 **来源**设置为**产品**，然后单击**确定**。</span><span class="sxs-lookup"><span data-stu-id="f7776-168">In the **Update search data** dialog box, make sure that **Source** is set to **Product**, and then click **OK**.</span></span> <span data-ttu-id="f7776-169">系统将在第 1 步指定的所有选定搜索条件聚合到一个表格中。</span><span class="sxs-lookup"><span data-stu-id="f7776-169">The system will aggregate in one table all the selected search criteria specified in step 1.</span></span> <span data-ttu-id="f7776-170">如果您有许多产品和产品变型，这一操作将非常耗时，因此您可能收到警告。</span><span class="sxs-lookup"><span data-stu-id="f7776-170">If you have a lot of products and product variants, this operation can be quite lengthy and you may receive a warning.</span></span> <span data-ttu-id="f7776-171">我们建议您安排在服务器不忙时在批处理服务器上进行搜索表填充。</span><span class="sxs-lookup"><span data-stu-id="f7776-171">We recommend that you schedule the search table population on the batch server at a time when the server is not too busy.</span></span>  

<span data-ttu-id="f7776-172">填充完表格之前，产品搜索不会提供正确的结果。</span><span class="sxs-lookup"><span data-stu-id="f7776-172">Until the table is populated, product search will not provide the correct results.</span></span> <span data-ttu-id="f7776-173">如果您无法获得任何搜索结果，请确保此表已填充。</span><span class="sxs-lookup"><span data-stu-id="f7776-173">If you do not get any search results, make sure that this table is populated.</span></span>  

<span data-ttu-id="f7776-174">仅当修订搜索条件时，才须填充表格。</span><span class="sxs-lookup"><span data-stu-id="f7776-174">The table only has to be populated when the search criteria is modified.</span></span> <span data-ttu-id="f7776-175">新发布的产品和变型自动添加到表格中。</span><span class="sxs-lookup"><span data-stu-id="f7776-175">Newly released products and variants are automatically added to the table.</span></span> <span data-ttu-id="f7776-176">已删除的产品和变型自动从表中移除。</span><span class="sxs-lookup"><span data-stu-id="f7776-176">Deleted products and variants are automatically removed from the table.</span></span>

### <a name="step-3-enable-the-lookup-for-product-search-on-sales-and-purchase-order-lines"></a><span data-ttu-id="f7776-177">第 3 步：在销售和采购订单行上启用产品搜索查找</span><span class="sxs-lookup"><span data-stu-id="f7776-177">Step 3: Enable the lookup for product search on sales and purchase order lines</span></span>

<span data-ttu-id="f7776-178">您可以转至**销售和营销 &gt; 设置 &gt; 搜索 &gt; 搜索参数**，将**常规**选项卡上的**启用搜索查找**设置为**是**，启用此功能。</span><span class="sxs-lookup"><span data-stu-id="f7776-178">You can enable this functionality by going to **Sales and marketing &gt; Setup &gt; Search &gt; Search parameters** and setting **Enable lookup for search** to **Yes** on the **General** tab.</span></span>  

<span data-ttu-id="f7776-179">对于销售订单行输入，默认行为是当您开始键入 **物料编号**字段，然后按下 **Tab**键时，打开**产品搜索**页面。</span><span class="sxs-lookup"><span data-stu-id="f7776-179">For sales order line entry, the default behavior is to open the **Product search** page when you start typing in the **Item number** field, and then press the **Tab** key.</span></span> <span data-ttu-id="f7776-180">**产品搜索**页面在创建订单行期间更改上下文，因此可能被视为不需要自动插入。</span><span class="sxs-lookup"><span data-stu-id="f7776-180">The **Product search** page changes the context during order line creation and may be considered unnecessarily intrusive.</span></span> <span data-ttu-id="f7776-181">如果您希望获得查找中的搜索结果，并且在订单行输入期间不丢失上下文，您可以使用搜索查找。</span><span class="sxs-lookup"><span data-stu-id="f7776-181">If you prefer to get the search results in a lookup and not lose context during order line entry, you can use the search lookup instead.</span></span> <span data-ttu-id="f7776-182">如果您搜索产品或产品变型，但在查找中不选择任何内容就按**Tab**键，将显示**产品搜索**页面。</span><span class="sxs-lookup"><span data-stu-id="f7776-182">If you search for a product or product variant, but you don't select anything in the lookup and press the **Tab** key, the **Product search** page will display.</span></span>



