---
title: BOM 计算
description: 成本累积和销售价计算称为物料清单 (BOM) 计算，您从“计算”页启动这些计算。 此主题提供了有关物料清单计算的信息。
author: AndersGirke
manager: tfehr
ms.date: 05/01/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: BOMCalcDialog, BOMCalcTable, CostingVersion, InventItemPrice
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 273763
ms.assetid: c6fa3348-eafa-4847-9132-e65c5f55cbf4
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: shylaw
ms.dyn365.ops.version: AX 7.0.0
ms.search.validFrom: 2016-02-28
ms.openlocfilehash: 6e83d438f4f1a913bfa86827d7ba0c1d9366030f
ms.sourcegitcommit: 4f9912439ff78acf0c754d5bff972c4b85763093
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/02/2020
ms.locfileid: "3202000"
---
# <a name="bom-calculations"></a>BOM 计算

[!include [banner](../includes/banner.md)]

成本累积和销售价计算称为物料清单 (BOM) 计算，您从“计算”页启动这些计算。 此主题提供了有关物料清单计算的信息。

成本累积和销售价计算称为物料清单 (BOM) 计算，您从**计算**页启动这些计算。 使用**计算**页执行以下任务：

-   计算制造物料的成本，并在成本计算版本内生成关联的物料成本记录。
-   计算制造物料的销售价，并在成本计算版本内生成关联的物料销售价记录。

您使用**计算**页的方法可能稍有不同，取决于如何启动物料清单计算。 使用**计算**页的方法还取决于物料清单计算是涉及标准成本还是计划成本的成本计算版本，并且取决于在物料清单计算中正使用的成本计算版本内定义的若干策略。 **注意：** 在销售订单、销售报价单或服务订单行项的上下文中将使用**计算**页的变体。 这些计算称为订单特定的物料清单计算。 特定于订单的物料清单计算并不在某一成本计算版本内生成物料成本记录。 相反，它生成显示在**物料清单计算详细信息**页的计算记录。 该计算记录包括计算出的成本和计算出的销售价。 可以为单个制造物料或成本计算版本打开**计算**页。

-   若要计算单个制造物料的成本，从**物料价格**页启动物料清单计算。 **计算**页继承物料标识符。 必须指定成本计算版本、物料清单版本、工艺路线版本、计算数量、计算日期和站点。
    -   默认情况下，物料清单版本和工艺路线版本设置为物料、站点、日期和计算数量的有效版本。 不过，您可以使用审核后的版本覆盖这些默认值。
    -   默认情况下，计算数量设置为物料的标准订单数量。 不过，您可以覆盖默认值。
    -   计算日期或站点可由成本计算版本规定，或者在成本计算版本中未规定该日期或站点时可以设置用户指定值。 将来计算日期将确定如何使用未决成本记录。 物料清单计算使用具有计算日期时或之前的最近开始日期的未决成本记录。
-   若要计算所有制造物料的成本或者所选物料的成本，或者为了在用途的基础上更新物料，从**成本计算版本设置**或**成本计算版本维护**页启动物料清单计算。 **计算**页继承成本计算版本。
    -   对于计算，假定使用有效物料清单版本和工艺路线版本来用于制造物料（以及相关站点、日期和数量），除非某一制造组件具有指定的下级物料清单或下级工艺路线。
    -   对于计算，假定标准订单数量用于制造物料。 标准订单数量提供计算组件数量、确定相关物料清单版本和工艺路线版本（在您使用数量敏感的物料清单和工艺路线时）和摊销固定成本的基础。 但是，在制造组件具有**生产**或**供应商**类型的物料清单行时，或者在您使用按订单生产分解模式来用于物料清单计算时，这一假设并不适用，因为数量将反映指定的计算数量。
    -   计算日期或站点可由成本计算版本规定，或者在成本计算版本中未规定该日期或站点时可以设置用户指定值。

物料清单计算的其他差异反映成本计算版本的成本计算类型和限制：

-   使用标准成本的物料清单计算必须由成本计算版本策略限制，因为这些限制帮助确保使用标准成本计算原则。 标准成本计算原则要求强制执行与将标准成本用于采购物料、单级别分解模式和在单位成本中包括杂项费用有关的限制。
-   使用计划成本的物料清单计算不必遵循标准成本计算原则。 这些物料清单计算可使用不同的分解模式、用于采购物料的成本数据的备选来源以及成本计算版本内限制的可选强制执行。

### <a name="bom-calculations-that-use-standard-costs"></a>使用标准成本的物料清单计算

成本计算版本内的策略（用于标准成本）可以规定强制执行五个物料清单计算策略。 成本计算版本内的**记录限制**选项规定这些策略之一，而杂项费用必须包括在单位价格中。 可以手动输入针对采购物料的杂项费用，而针对制造物料的杂项费用反映计算出的固定价格摊销。 成本计算版本内的**计算限制**选项规定其他四个物料清单计算策略：

-   采购物料的成本份额的来源必须基于标准成本。 也就是说，物料清单计算必须使用指定成本计算版本内或者包含标准成本的回退内的物料成本记录。
-   为帮助确保精确、统一地计算标准成本，分解模式必须是单级别。
-   为了帮助确保在计算物料的销售价时获取一致的结果，必须规定利润设置。 仅当成本计算版本允许销售价的内容时，可以使用利润设置和生成物料销售价记录。
-   回退原则必须规定，可以设置为**无**、**有效**（对于有效的成本记录）或**成本计算版本**（对于指定的成本计算版本）。

### <a name="bom-calculations-that-use-planned-costs"></a>使用计划成本的物料清单计算

成本计算版本内的策略（用于计划成本）可以选择是否规定强制执行五个物料清单计算策略。 或者，策略可以只提供默认值。 成本计算版本内的**记录限制**选项确定是规定与杂项费用有关的物料清单计算策略，还是充当默认值。 可以选择是否将杂项费用包括在单位价格中。 成本计算版本内的**计算限制**选项确定是规定其他四个物料清单计算策略，还是充当默认值：

-   已采购物料的成本份额来源可以是成本计算版本内的物料成本记录。 或者，该来源可以由分配给物料的物料清单计算组定义。 例如，物料清单计算组可以将采购价贸易协议定义为成本份额数据的来源。
-   分解模式可以是单级别、多级别或按订单生产或可以基于物料清单行物料。 用于物料清单行类型的分解模式为生产订单预估重复成本计算逻辑。
-   利润设置可以规定或可以是某一默认值。 仅当成本计算版本允许销售价的内容时，可以使用利润设置和生成物料销售价记录。
-   回退原则可以规定或可以是某一默认值。 回退原则可以设置为**无**、**有效**（对于有效的成本记录）或**成本计算版本**（对于指定的成本计算版本）。

物料清单计算生成警告消息和其他类型的消息。 若干物料清单计算策略确定消息的类型。 在分配给物料的物料清单计算组中定义警告条件。 但是，当您启动物料清单计算时，您可以覆盖这些警告条件。 在使用回退原则时，将回退作为信息日志消息显示通常会很有帮助。 在尝试为包含缺少成本记录的物料更新计算出的成本时，信息消息标识未更新的物料也很有帮助。

## <a name="bom-calculations-that-use-the-fallback-principle"></a>使用回退原则的物料清单计算
以下情况说明回退原则的两种用法：

-   **针对标准成本更新的双版本方法** − 成本计算版本可以包含对标准成本的增量变化，例如表示新物料或成本变化的未决成本记录。 在此情况下，该回退原则可以标识在其他成本计算版本内包含的有效标准成本的使用。
-   **使用计划成本模拟成本变化的影响** - 计划成本的成本计算版本可以出于模拟目的包含增量变化。 此成本计算版本将包括表示对物料、成本类别和计算公式的模拟成本更改间接成本的未决成本记录。 在此情况下，该回退原则可以标识在其他成本计算版本内包含的有效标准成本的使用。

## <a name="bom-calculation-of-a-suggested-sales-price"></a>建议的销售价的物料清单计算
使用成本加上加价方法时，物料的已计算销售价反映物料清单计算指定的一组利润设置百分比，且成本与物料组件物料、工艺路线工序和适用的制造开销关联。 加价反映分配给成本组和成本组分配给物料、用于工艺路线工序的成本类别和制造开销的间接成本计算公式的利润设置百分比。 利润设置百分比组标记为**标准**、**利润 1**、**利润 2**和**利润 3**。 例如，在“利润 1”组中，可为分配给采购材料的成本组定义 50% 的利润设置百分比，可为分配给工艺路线工序成本类别的成本组定义 80% 的利润设置百分比。 该物料清单计算的环境确定将如何处理计算出的销售价结果：

-   **针对某一物料和指定成本计算版本的物料清单计算** - 该物料清单计算在成本计算版本内生成未决销售价记录。 此销售价记录为查看计算详细信息提供起始点（例如，在**计算物料成本**页）。 该销售价记录主要用作参考信息，不用作销售订单上的销售价的基础。
-   **特定于订单的物料清单计算** - 在销售订单、销售报价单或服务订单行项的环境中采用不同形式的**物料清单计算**页。 订单特定的物料清单计算在成本计算版本内不生成记录。 相反，它生成显示在**物料清单计算结果**页的计算记录。 此计算记录为查看计算详细信息提供起始点（例如，在**计算物料成本**页）。 有关所选计算记录的信息可以转移到原始行项。 例如，计算的销售价可以转移到销售订单行项。

## <a name="order-specific-bom-calculations"></a>特定于订单的物料清单计算
特定于订单的物料清单计算表示针对制造物料的物料清单计算的变化形式。 针对销售订单、销售报价单或服务订单行项执行特定于订单的物料清单计算。 订单特定的物料清单计算生成显示在**物料清单计算结果**页的计算记录。 该计算记录包括计算出的权重、基于有效成本记录的计算出的成本以及计算出的销售价。 每个特定于订单的物料清单计算在**物料清单计算结果**页为物料生成的计算记录由一个计算编号唯一标识。 可以选择将某一计算记录的结果转移到原始行项中。 特定于订单的物料清单计算不同于针对制造物料的物料清单计算，通过两种方法：

-   特定于订单的物料清单计算并不在某一成本计算版本内生成物料成本记录。 因此，物料清单计算策略不适用于创建某一物料成本记录或覆盖某一成本记录。
-   特定于订单的物料清单计算始终使用有效成本记录来用于组件、成本类别和间接成本计算公式。





