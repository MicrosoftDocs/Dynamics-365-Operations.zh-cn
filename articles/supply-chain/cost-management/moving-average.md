---
title: 移动平均
description: 移动平均是一种基于平均原则的永久成本方法，在执行采购成本时在库存发货的成本不更改。 该差异基于一种比例的计算资本化。 支出剩余金额。
author: JennySong-SH
ms.date: 08/28/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: InventModelGroup
audience: Application User
ms.reviewer: kamaybac
ms.custom: 65531
ms.assetid: dfd10099-8f7f-44b1-917e-df37c2fe8773
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: yanansong
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 0be72c8ba3c123300be83513531d2f805dc8f5e3
ms.sourcegitcommit: 9166e531ae5773f5bc3bd02501b67331cf216da4
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/03/2022
ms.locfileid: "8676094"
---
# <a name="moving-average"></a>移动平均

[!include [banner](../includes/banner.md)]

移动平均是一种基于平均原则的永久成本方法，在执行采购成本时在库存发货的成本不更改。 该差异基于一种比例的计算资本化。 支出剩余金额。

在您使用移动平均时，不支持库存结算和库存标记。 库存结转不会影响具有作为库存模型组的移动平均的产品，并且不生成交易记录之间的任何结算。

在您使用移动平均成本作为成本计算方法时，以下选项是先决条件。

1. 在 **物料模型组** 页中，设置在 **库存模型** 字段中选择了 **移动平均** 的物料模型组。

    > [!NOTE]
    > 默认情况下，当选择了 **移动平均** 后，**过帐实际库存** 和 **过帐财务库存** 字段也将选择。

1. 在 **过帐** 页上，将科目分配给 **移动平均价差**。 在成本必须按比例支出时，使用 **移动平均价差** 科目。 以下两种情况下会发生这种情况：
    - 因为原始库存数量和现有数量之间存在差异，所以采购收货和采购发票之间存在成本差异。
    - 交易记录导致库存从负变为零，并且交易记录成本和当前移动平均成本之间存在差异。

1. 在 **过帐** 页中，将科目分配给 **库存** 选项卡上的 **重估移动平均成本** 科目。当您要为产品调整移动平均成本到新的单位价格时，请使用 **重估移动平均成本** 科目。

1. 在 **已发布产品** 页中，分配移动平均物料模型组到产品。

    > [!NOTE]
    > 库存结转过程只结束会计期间。 不影响具有作为物料模型组分配到它们的移动平均的产品。

## <a name="convert-to-the-moving-average-costing-method"></a>转换到移动平均成本计算方法

转换产品使用移动平均库存评估方法。 在当前年度的最后一个月结束后，转换的此类型通常在年末完成。 通过使用产品的当前成本模型执行。 您可以从基于平均成本或标准成本的成本计算方法更改您的库存结转法到基于移动平均的方法。

如果您从标准成本计算方法更改您的成本计算方法到移动平均方法，必须完成以下任务:

1. 进行调整记下库存数量和值为 0（零）。
1. 在库存值和数量为 0（零）后，更改物料模型组到移动平均。
1. 进行调整获取数量和值直接移回库存。

您不能将您的库存结转法从移动平均方法更改到先进先出 (FIFO) 方法、后进先出 (LIFO) 方法或加权平均方法。

> [!NOTE]
> 从未标准成本到移动加权平均的转换是手动程序。

以下示例说明使用移动平均成本计算方法的影响。 有以下四种配置：

- 采购订单和比例支出的成本差异
- 移动平均产品和库存调整
- 具有生产的移动平均
- 使用回溯交易记录的移动平均

## <a name="purchase-order-and-proportionally-expensed-cost-difference"></a>采购订单和比例支出的成本差异

使用移动平均，采购收货取决于产品的成本。 在过帐采购发票时，如果存在在采购收货和采购发票之间的成本差异，差额按比例调整到库存的当前产品，并且支出所有剩余金额。

在此示例中，以一致的成本创建和接收采购订单，使用不同的成本过帐采购发票。

1. 创建针对数量 2 和单价为 10.00 的采购订单。
1. 创建产品的采购收货。
1. 创建针对数量 1 和单价为 10.00 的销售订单。
1. 创建针对数量 2 和单价为 12.00 的采购发票。

在采购发票过帐时，在单位价格中 2.00 的差异过帐到“移动平均价差”帐户。 该原因是为成本 20.00 购置两种产品。 为单位价格 10.00 销售产品中的一个。 采购发票以单位价格 12.00 和数量 2 过帐。 产品的单位价格不能以 14.00 过帐。

## <a name="moving-average-product-and-inventory-adjustment"></a>移动平均产品和库存调整

如果您需要调整产品的移动平均成本，库存调整截至今天的日期设置访问权限。 您不能追溯库存调整更正产品的移动平均成本。 您不能通过后续交易记录具有成本流。

在此示例中，移动平均成本为产品进行调整。

1. 选择要调整移动平均成本的产品。 

 > [!NOTE]
 > **重估移动平均** 页检查库存是否可用于产品。 所选产品具有已过帐的数量 1，过帐值 12.00，已过帐的单位成本 12.00 和单位成本 12.00。
    
1. 更新 **单位成本** 字段为 16.00。 系统计算其余字段。
1. 过帐调整。

> [!NOTE]
> 您可以从今天的日期仅调整移动平均成本。

在 **凭证的结算** 页中，您可以看到调整 4.00 过帐到成本重估。

## <a name="moving-average-with-production"></a>具有生产的移动平均

移动平均支持生产物料。 如果您计划在生产环境中使用移动平均，请选择 **生产控制参数** 页的 **使用估计的成本价**。 这意味着使用估计期间计算的成本价而不使用实际物料清单计算成本价。

## <a name="moving-average-with-a-backdated-transaction"></a>使用回溯交易记录的移动平均

回溯交易记录分配当前移动平均成本，并且更新产品的实际数量，不过，不影响产品的移动平均成本。 在此移动平均示例中，过帐移动平均产品的一个回溯交易记录。

1. 为数量 1 和成本 20.00 的移动平均产品创建库存调整。
1. 产品的库存交易记录历史记录将类似于以下操作:
    - 库存交易记录 1、成本 16.00、过帐日期 1 月 15 日和交易记录日期 1 月 15 日。
    - 库存调整 1、成本 20.00、过帐日期 1 月 1 日和交易记录日期 1 月 15 日。
1. 过帐调整。

在 **库存交易记录** 页中，您可以查看为产品作为当前移动平均支出的 4.00 是 16.00。 您可以在以前过帐，但是支出成本差异，以便不影响移动平均成本。

## <a name="negative-inventory-balances"></a>库存余额为负

交易记录的处理方式取决于交易记录后新的现有数量为负、零还是正。

### <a name="new-balance-is-negative-or-zero"></a>新余额为负或零

如果新的现有数量为负或零，则按当前的平均成本计算交易记录的成本。 如果采购价和当前平均成本之间存在差异，则将其过帐到 **移动平均价差**。

### <a name="new-balance-is-positive"></a>新余额为正

如果交易记录后新的现有数量为正，这将交易记录拆分为两个部分并对这两个部分以不同方式计算成本，然后汇总到下表中。

| 部分 | 说明 |
|---|---|
| 数量从负到零 | 库存使用物料的当前移动平均成本，而不是将现有余额从负增加到零的该部分收货数量的交易记录成本。 将把交易记录成本和当前移动平均成本之间的差异过帐到 **移动平均价差**。 |
| 数量从零到负 | 存货使用将现有余额从零增加到正的该部分收货数量的交易记录成本。                                                  |

## <a name="inventory-value-report"></a>库存值报表

在此移动平均示例中，打印库存值报表支持产品的当前移动平均计算。 库存价值报表可以按时间顺序打印交易记录，与成本一起支持产品的移动平均成本计算。 报表显示产品的移动平均成本。 在 **库存价值报表** 对话框中，日期间隔允许您选择对报表排序使用的 **交易记录时间** 或 **过帐日期**。 **过帐日期** 选项是传统上打印报表的方式。 **交易记录时间** 选项是报表交易记录和更新产品的移动平均成本的实际日期。 如果您要随时间查看移动平均成本，可以通过使用 **交易记录时间排序** 选项打印库存价值报表。 下表显示使用 **交易记录时间排序** 选项时打印报表的产品的交易记录。

| 交易记录时间 | 日期         | 交易记录类型           | 已 | 金额 | 平均单位成本 |
|------------------|--------------|----------------------------|----------|--------|-------------------|
|                  | 10 月 1 日    | 起初余额          | 0        | 0.00   | 0.00              |
| 10 月 8 日        | 9 月 28 日 | 追溯的收货          | 1        | 16.00  | 16.00             |
| 10 月 3 日        | 10 月 3 日    | 采购收货           | 2        | 20.00  | 12.00             |
| 10 月 5 日        | 10 月 5 日    | 销售订单                | -1       | -10.00 | 13.00             |
| 10 月 7 日        | 10 月 7 日    | 采购发票           |          | 2.00   | 14.00             |
| 10 月 8 日        | 10 月 8 日    | 移动平均重估 |          | 4.00   | 16.00             |
|                  | 10 月 31 日   | 合计                      | 2        | 32.00  | 16.00             |

> [!NOTE]
> 您不能通过使用 **交易记录时间排序** 选项对帐具有库存的总帐。 必须通过使用 **过帐日期** 选项打印报表。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]