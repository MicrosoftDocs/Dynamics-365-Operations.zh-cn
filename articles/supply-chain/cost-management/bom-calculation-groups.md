---
title: "物料清单计算组"
description: "本文提供有关物料清单 (BOM) 的计算组以及如何设置它们的信息。 若要运行物料清单计算，您必须设置计算组并将它们分配到各个物料，或设置默认计算组。 然后，计算组的计算设置在物料清单计算时用作物料清单计算页的默认值。"
author: AndersGirke
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
ms.search.form: BOMCalcGroup, BOMCalcTable, BOMCalcTrans, InventItemPrice
audience: Application User
ms.reviewer: yuyus
ms.search.scope: Core, Operations
ms.custom: 94063
ms.assetid: 63e1b7dc-c2c5-41b0-81ed-e3e02d1b39e0
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: yuyus
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: 2771a31b5a4d418a27de0ebe1945d1fed2d8d6d6
ms.openlocfilehash: 48d1bc67038c6080bb96d524a549deddbc8d4e0b
ms.contentlocale: zh-cn
ms.lasthandoff: 11/03/2017

---

# <a name="bom-calculations-groups"></a>物料清单计算组

[!INCLUDE [banner](../includes/banner.md)]

本文提供有关物料清单 (BOM) 的计算组以及如何设置它们的信息。 若要运行物料清单计算，您必须设置计算组并将它们分配到各个物料，或设置默认计算组。 然后，计算组的计算设置在物料清单计算时用作物料清单计算页的默认值。 

默认计算组需要在**库存和仓库管理参数**页，或产品特定计算组需要在**发布产品详细信息**页。 此系统首先在**发布产品详细信息**页查找计算组设置。 如果在那找不到计算组，将查找**库存和仓库管理参数**页。 如果此系统找不到计算组，用户在计算过程中会收到一条错误消息。 计算组包含成本价模型、销售价模型和警告清单的策略。 计算组的计算设置在物料清单计算时用作**物料清单计算**页的默认值。

## <a name="purposes-of-bom-calculation-groups"></a>物料清单计算组的目的
有几个原因将物料清单计算组分配给物料︰

-   通过设置**成本价模型**字段，在计算制造物料的计划成本时指示采购组件的成本份额数据的来源。 某些制造商通过使用针对采购组件的采购价贸易协议或其他基础（例如，某一成本计算版本内的采购价记录），计算计划成本。
-   通过设置**销售价模型**，指示物料的数据将如何用于计算建议的销售价。 您可以指定物料销售价或成本组。 某些制造商想要为制造物料计算建议的销售价。 计算的销售价可以基于反映组件的销售价记录的累积价格方法。 或者，计算出的销售价可以反映基于组件成本和适用的利润百分比（与物料的成本组相关联）的成本加上加价方法。
-   通过使用**停止分解**字段，在物料清单计算时出于成本累计目的指示制造物料应被视作采购物料。 典型的情况包括偶尔制造的采购物料或现在正在采购的制造物料。 该物料最初指定为制造物料，以定义物料清单和工艺路线信息以及为物料支持生产订单。 但是，**停止分解**标志阻止成本计算使用物料的物料清单和工艺路线。 而物料清单计算则使用物料的指定成本。

## <a name="calculation-groups"></a>计算组
您在“成本管理”的**预先确定的成本策略设置**中定义计算组。 分配给物料的计算组允许您指定如何使组件的成本或销售价（计算组中所述）作为计算来源。 在**计算组**页，您可以定义成本价模型、备选成本价模型、销售价模型和警告。

### <a name="cost-price-model"></a>成本价模型

**成本价模型**字段有四个选项︰

-   **物料成本价** – 使用**已发布产品**表的成本价，或物料维度组合用作成本价。
-   **物料采购价** – 使用**已发布产品列表**页**采购**选项卡上**成本价**字段的采购价。
-   **贸易协议** – 您可以配置特定物料和供应商组合或特定站点的贸易协议。 然后，在此处选择**贸易协议**选项，您为采购价以及物料和站点创建的贸易协议将被使用。
-   **库存价格** – 物料的当前库存值用于计算物料清单计算中的单位成本。 仅当已过帐的数量和实际数量均大于 0（零）时计算单位成本价。

### <a name="alternative-cost-price"></a>备选成本价

**备选成本价**字段具有与**成本价模型**字段相同的选项。 但是，仅当在主要成本价格模型中找不到价格时使用此字段。

### <a name="sales-price-model"></a>销售价模型

**销售价**字段有两个选项用于计算︰

-   **成本组** – 选中此选项后，基于成本价和成本组的利润设置百分比计算销售价。
-   **物料销售价** – 选中此选项后，使用“已发布产品”表的**销售**快速选项卡。

### <a name="stop-explosion"></a>停止分解

**停止分解**复选框用于指示何时应将制造物料视作采购物料。 通常情况下，您将保留**停止分解**复选框处于清除状态。 选中此复选框指示必须将制造物料视为采购组件（而非制造组件），目的在于进行物料清单计算。 仍然可以使用物料清单计算来计算物料的成本，具体取决于站点。 计划采购订单和生产订单的分解在其组件与为其选择**停止分解**复选框的计算组相关的物料清单停止。 主计划编制会在该物料清单自身上（而不是在该物料清单包含的物料上）生成计划订单。 基本上，通过选择此复选框，您指定成本不会添加到具有此计算组的物料的物料清单计算。

### <a name="warnings"></a>警告

在**警告**快速选项卡上，您为用户应在他们执行物料清单计算时收到的任何警告消息选择选项。 

例如，如果您选择**无物料清单**复选框，如果没有找到某个组件的有效物料清单版本或为其运行物料清单计算的父物料时，用户将收到一条警告。 如果选中**无工艺路线**复选框，如果找不到有效工艺路线版本用户将收到一个警告。 如果您对工艺路线和工序使用资源，您可以指示系统检查那些资源。 那么，如果未在有效工艺路线的每一行上找到资源，用户会收到一条警告。 

您还可以验证并检查消耗量。 消耗量是特定工艺路线中的数量。 通常情况下，它代表了执行生产流程的特定工序所需的时间量。 您可以检查物料是否有成本价。 如果特意没有有效成本价，则没有成本添加到物料清单计算。 

您还可以检查并验证成本价的年限。 例如，输入 **60** 指示必须在 60 天后重新评估单位成本价。 如果达到此限制，系统将生成一个警告。 例如，在今年 1 月输入物料的成本价。 如果现在是 8 月，即超过输入成本价后 60 天，运行物料清单计算时用户会收到警告。 您可以在**最小边际收益**字段中输入百分比。 此值指示未达到最小边际收益的点。 如果未达到特定组件的边际收益，用户会收到一条警告。 因此，该字段可帮助确保您不会损失成本以及物料可能需要的其他储存成本。

### <a name="default-setup-in-inventory-and-warehouse-management-parameters"></a>库存和仓库管理参数的默认设置

由于运行计算需要计算组，您必须在库存管理参数中设置默认计算组。 这种设置使公司能够具有所有物料的标准成本组和利润设置。 然后，如果某个特定物料有特殊计算要求，用户可以将不同的计算组分配到该物料。 通常情况下，您可以在物料清单组件物料而不是物料清单物料上设置计算组。 但是，当显示警告消息时，可以应用计算组。 分配给物料的计算组覆盖在库存管理参数中设置的默认值。 

您可以在**成本管理** &gt; **库存会计政策设置** &gt; **参数** &gt; **库存会计** &gt; **计算组**设置默认参数。 通过设置默认配置组，您还可以配置在物料清单计算流程中提示用户的警告条件（如果所选的组件可能会造成计算错误）。

### <a name="view-warning-messages-on-the-complete-page"></a>在完成页上查看警告消息

物料清单计算生成警告消息。 您可以查看有关所选物料的警告。 例如，在“销售和市场营销”中，创建物料 D0001 的新销售订单。 然后，在销售订单行中，在**更新行**菜单上，单击**基于物料清单/公式计算**来查看计算详细信息和警告。 还可以在**完成**页上查看物料清单计算结果。 对于警告消息，只有两个警告条件适用于制造物料，有四个警告条件适用于任何物料：
-   标识制造物料何时不具有有效的物料清单。
-   标识制造物料何时不具有有效的工艺路线。
-   标识物料清单行中的物料何时具有 0（零）数量。
-   标识物料清单行中的物料何时具有 0（零）成本或者何时不具有成本记录。
-   标识物料清单行中的物料何时具有过期成本。 警告反映计算日期与成本的最大年限的指定天数之间的比较。
-   标识物料清单行中的物料何时具有少于您所需的收益率百分比。

您可以定义多个物料清单计算组，具体取决于您在警告消息中的变型要求。 例如，具有与有效物料清单、0（零）组件数量和0（零）组件成本有关的警告条件的一个物料清单计算组可能就足够了。 在您开始执行物料清单计算时，可以覆盖与物料清单计算组相关联的警告条件。 您还可以添加或删除警告条件。 例如，如果当前情况不涉及路线选择数据，您可以取消与有效工艺路线有关的警告条件。 **注意︰**时间和出勤包括**计算组**页，但是该页与物料清单计算组没有关系。 在“时间和出勤”中，可以将工作人员分配至反映与相同主管或经理相关联的工作人员分组的计算组。 工作人员的登记计算可由主管或经理自动或手动完成。




