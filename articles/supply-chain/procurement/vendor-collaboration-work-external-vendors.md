---
title: "供应商与外部供应商的协作"
description: "本主题说明采购代理如何与外部供应商协作交换关于采购订单和托运库存的信息。"
author: mkirknel
manager: AnnBe
ms.date: 11/02/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
ms.search.form: PurchRFQCaseTableListPage, VendVendorPortalInvoicePart
audience: Application User
ms.reviewer: bis
ms.search.scope: Core, Operations
ms.custom: 221264
ms.assetid: dde49743-1541-4353-a030-63ca3069cd7d
ms.search.region: Global
ms.author: mkirknel
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
ms.translationtype: HT
ms.sourcegitcommit: 24a17d3734e39815684098f694a77e96cdbc1cfe
ms.openlocfilehash: 2d879ee5a23e3263c9dce52f4732a2be74e60f8e
ms.contentlocale: zh-cn
ms.lasthandoff: 03/07/2018

---

# <a name="vendor-collaboration-with-external-vendors"></a>供应商与外部供应商的协作

[!include[banner](../includes/banner.md)]

**供应商协作**模块针对的是没有与 Microsoft Dynamics 365 for Finance and Operations Enterprise Edition 进行电子数据交换 (EDI) 集成的供应商。 它允许供应商处理采购订单 (PO)、发票、托运库存信息和询价 (RFQ)，也可用来访问一部分供应商主数据。 本主题介绍您可以如何与使用供应商协作界面的外部供应商协作处理 PO、询价和托运库存。 还介绍了如何允许特定供应商使用供应商协作，以及如何定义所有供应商在响应采购订单时将看到的信息。

有关外部供应商在供应商协作界面上可执行操作的详细信息，请参阅[供应商与客户协作](vendor-collaboration-work-customers-dynamics-365-operations.md)。

> [!NOTE]
> 此主题中有关供应商协作的信息仅适用于当前版本的 Finance and Operations。 在 Microsoft Dynamics AX 7.0（2016 年 2 月）和 Microsoft Dynamics AX 应用程序版本 7.0.1（2016 年 5 月）中，使用**供应商门户**模块与供应商协作。 有关**供应商门户**模块的信息，请参阅[使用供应商门户与供应商协作](collaborate-vendors-vendor-portal.md)。

有关供应商在开票流程中如何使用供应商协作的详细信息，请参阅[供应商协作开票工作区](../../financials/accounts-payable/vendor-portal-invoicing-workspace.md)。 有关如何提供新供应商协作用户的信息，请参阅 [管理供应商协作用户](manage-vendor-collaboration-users.md)。

## <a name="defining-the-information-that-is-shown-to-vendors-when-they-respond-to-pos"></a>定义向响应采购订单的供应商显示的信息

供应商响应您发送给他们的采购订单时，他们将看到三个消息框的其中一个，并且必须使用它来确认他们是否想要接受、拒绝或更改后接受采购订单。 由于此时须向供应商显示的信息可能具体针对您的业务，因此您可以指定每条确认消息中分别要显示的文本。 例如，文本可以向供应商介绍流程后续步骤或条款和条件。

要定义采购订单响应中显示的文本，请执行以下操作

1. 在**响应采购订单的供应商的信息**页上，选择响应类型，然后选择**编辑**。
2. 在**信息消息**框中，输入应在消息框中显示给供应商的信息。

如果您必须添加多种语言的消息，则创建单独的消息并分别指定相应的语言代码。 向每位供应商显示的消息将采用该供应商使用的语言。

## <a name="setting-the-vendor-collaboration-options-for-a-specific-vendor"></a>设置特定供应商的供应商协作选项

管理员在 Finance and Operations 中配置供应商协作的常规设置，例如对与您协作的所有供应商可用的安全角色。 但还有某些设置可能对每个供应商帐户不同。 您应当配置这些设置。

- 启用供应商协作。
- 指定供应商是否应看到价格信息。

### <a name="enabling-vendor-collaboration"></a>启用供应商协作

对外部供应商创建用户帐户前，您必须配置供应商帐户，以允许供应商使用供应商协作。 在**供应商**页面的**常规**选项卡上，设置**协作激活**字段。 以下是可用的选项：

- **活动（自动确认采购订单）**- 供应商在不修改采购订单的情况下接受采购订单时，自动确认采购订单。
- **活动（不自动确认采购订单）**- 供应商接受采购订单后，须由您的组织手动确认采购订单。

### <a name="specifying-whether-the-vendor-should-see-price-information"></a>指定供应商是否应看到价格信息

若要通过供应商协作界面共享 PO 的价格信息，必须为该供应商帐户将**采购订单默认值**选项卡上的**采购订单价格/金额**选项设置为**是**。 此价格信息包括单位价格、折扣和费用。

## <a name="working-with-pos-when-vendor-collaboration-is-used"></a>使用供应商协作时处理采购订单

### <a name="sending-a-po-to-a-vendor"></a>向供应商发送采购订单

在 Finance and Operations 中编制采购订单。 采购订单的状态为**已批准**时，选择**采购订单**页面上的**发送以供确认**操作，将采购订单发送给供应商。 之后，采购订单状态更改为**正在进行外部审核**。 发送采购订单后，供应商可以在供应商协作界面中的**要审核的采购订单**上看到。 供应商可以接受、拒绝或建议更改采购订单。 供应商还可以添加注释来沟通信息，如对 PO 的更改。 如果您希望供应商关注新的 PO，也可以使用打印管理系统通过电子邮件发送 PO。

### <a name="confirmation-and-acceptance-of-a-po-by-a-vendor"></a>供应商确认和接受采购订单

在供应商接受 PO 后，可以自动确认 PO，否则可能必须手动确认。 该行为取决于**协作激活**字段对供应商设置为**活动（自动确认采购订单）**或**活动（不自动确认采购订单）**。

下表显示了典型的信息交换，具体取决于您向供应商发送要确认的采购订单时他们如何响应。

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr>
<th>供应商响应</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr class="even">
<td>供应商<strong>接受</strong>订单，且 Finance and Operations 配置为自动确认供应商接受的 PO。</td>
<td>订单的状态更新为<strong>已确认</strong>。 如果因为某些原因而无法更新订单，则供应商响应仍然记录为<strong>已接受</strong>，但采购订单的状态仍为<strong>正在进行外部审核</strong>。 

已发送给供应商且处于<strong>正在进行外部审核</strong>状态的采购订单使用行上已确认的交货日期进行更新。 此更新发起自动设置为<strong>已确认</strong>状态的新版本。 确认采购订单后，采购订单将显示在供应商协作界面中。</td>
</tr>
<tr class="odd">
<td>供应商<strong>接受</strong>订单，但 Finance and Operations 未配置为自动确认供应商接受的 PO。</td>
<td>供应商响应将记录为<strong>已接受</strong>，但采购订单的状态仍为<strong>正在进行外部审核</strong>。

已发送给供应商且处于<strong>正在进行外部审核</strong>状态的采购订单使用行上已确认的交货日期进行更新。 此更新发起自动设置为<strong>正在进行外部审核</strong>状态的新版本。 随后可以手动确认采购订单。</td>
</tr>
<tr class="even">
<td>供应商<strong>拒绝</strong>订单。</td>
<td>供应商响应将记录为<strong>已拒绝</strong>，且 PO 的状态将保持为<strong>正在进行外部审查</strong>。 收到拒绝及供应商备注。</td>
</tr>
<tr class="odd">
<td>供应商<strong>更改</strong>后<strong>接受</strong>订单。 在行级别建议更改。 供应商可以接受或拒绝个别行。 以下是供应商可以建议的一些其他更改：
<ul>
<li>更改日期或数量。</li>
<li>拆分不同交货日期或数量的行。</li>
<li>替换物料。 </li>
</ul>
供应商无法更改价格信息和费用。 但供应商可以使用注释建议这些更改。</td>
<td>供应商响应将记录为<strong>更改后接受</strong>，但采购订单的状态仍为<strong>正在进行外部审核</strong>。 状态显示供应商已建议的更改类型。 有关自动使用更改的信息，请参阅本主题下面的“在供应商建议更改时更新采购订单”部分。 </td>
</tr>
</tbody>
</table>

您可以使用**采购订单准备**工作区监控供应商已经响应哪些采购订单。 此工作区包含两个含有状态为**正在进行外部审核**的采购订单的列表：

- 在外部审核中需要采取操作
- 处于等待供应商响应的外部审查中

### <a name="changing-a-po"></a>更改 PO

要更改供应商已经响应的采购订单，必须向供应商发送采购订单的新版本。 新采购订单将具有版本后缀，表示是先前发送的采购订单的修订版本。 **采购订单供应商确认历史记录**页允许您和您的供应商跟踪每个订单的历史记录。 以前确认的采购订单版本将保留在已确认的采购订单列表中，直到新的采购订单确认。

### <a name="canceling-a-po"></a>取消采购订单

取消采购订单后，状态更改为“**已批准**”。 您必须将 PO 发送回供应商处，以便供应商确认或拒绝取消。 在取消被确认后，PO 在已确认 PO 的供应商列表中显示为**已取消**。

### <a name="adding-attachments-to-a-po"></a>添加附加到采购订单

您可以使用文档管理系统将文件、图片和附注等附件添加到采购订单中。 您发送采购订单时，供应商将能够看到类型为**外部**的附件。

## <a name="updating-a-po-when-a-vendor-suggests-changes"></a>当供应商建议更改时更新采购订单

如果供应商已响应采购订单且建议更改，下一步是处理响应。

在**采购订单准备**工作区的**正在进行外部审核需要采取操作**列表中，您可以识别供应商更改后接受的采购订单。 从此列表中，还可以导航到供应商的响应。

在响应上，供应商可以更改标题上的以下信息：
 
- 供应商文档引用
- 交货方式
- 交货条款
- 确认的交货日期

供应商还可以添加注释或附件。

在行上，供应商可以更改数量和交货日期、添加注释和附件、拒绝行、使用输入为文本的其他产品替代行，以及将行拆分为多个交货。 行的状态根据供应商建议的更改而有所变化：
    
- **已接受更改**
- **已拒绝**
- **已替代** - 在此情况下将添加状态为**替代**的额外行。
- **已确认**
- **拆分为计划** - 在此情况下将添加状态为**计划行**的额外行。

如果行没有更改，行状态为**已接受**。

在响应上，行状态将告知您供应商做出的更改类型。 此外，所有更改的字段显示为粗体以帮助您识别更改。

您可以通过在响应上或一次在一行上选择**处理采购订单更新**的方式更新采购订单。 标题和行上的**是否已处理采购订单更新？**字段指示系统是否已处理标题或行以使用源自响应的更改更新采购订单。 每个标题或行仅可以运行一次**处理采购订单更新**操作。

并非所有建议的更改都可以在采购订单上进行更新。 仅标题上的更新以及行上的日期和数量更新可以自动在采购订单上进行更新。 对于其他更改，您必须手动更新采购订单。 在这种情况下，**是否已处理采购订单更新？**字段的值为**手动更新**。 例如，如果供应商建议将行拆分为计划，必须手动进行此更改。

处于**已接受**状态的每一行都将具有一个确认的交货日期。 在您运行**处理采购订单更新**操作时，采购订单上的此日期进行更新。 注释和附件不自动转移到当前采购订单。 此外，当您通过**处理采购订单更新**操作更新当前采购订单时，将不会在采购订单行上重新评估贸易协议。

## <a name="po-statuses-and-versions"></a>PO 状态和版本

本节介绍采购订单截至已确认时可能具有的不同状态。 还介绍新版本的采购订单何时对供应商可用。 行为各不相同，这取决于您是否对采购订单使用变更管理。 

### <a name="versions-and-statuses-if-you-dont-use-change-management"></a>不使用变更管理时的版本和状态

下表展示了一个 PO 可能会经过的状态和版本更改示例。

| 行为 | 状态和版本 |
|--------|--------------------|
| PO 的初始版本是在 Finance and Operations 中创建的。 | 状态为**已审核**。 |
| PO 已发送至供应商。 | 供应商协作界面上登记了一个版本，状态更改为**正在进行外部审核**。 |
| 供应商发送“**已接受更改**”响应。 | 状态仍然为“**正在进行外部审核**”。 |
| 您按供应商要求进行了一些更改。 | 状态更改为**已批准**。 |
| 您将 PO 的新版本发送给供应商。 | 供应商协作界面上登记了一个新版本，状态更改为**正在进行外部审核**。 |
| 供应商接受了 PO 的新版本。 | 状态仍然为**正在进行外部审核**，直到供应商帐户被配置为供应商接受 PO 时自动将 PO 设置为**已确认**状态。 |

供应商无需通过供应商协作界面确认 PO。 它们还可通过其他渠道发送电子邮件或传达对 PO 的接受。 然后您可以在 Finance and Operations 中手动确认该订单。 在这种情况下，您将收到警告，指示该订单正在确认，即使没有供应商响应。 之后，PO 将在确认历史记录中显示为没有任何响应的未结已确认订单。 此时，供应商将不能再选择确认或拒绝 PO。

> [!NOTE]
> 对 Finance and Operations 中的其他流程可用的 PO 版本始终是最新版本，即使该版本尚未在供应商协作界面中登记。

### <a name="versions-and-statuses-if-you-use-change-management"></a>使用变更管理时的版本和状态

如果您为 PO 启用了变更管理，PO 将通过审核工作流，然后到达**已审核**状态。 此流程对供应商不可见。

下表展示了启用更改管理时一个 PO 可能会经过的状态和版本更改示例。 版本在 PO 通过审核时登记，而不是在将 PO 发送给供应商或已确认时。

| 行动 | 状态和版本 |
|--------|--------------------|
| PO 的初始版本是在 Finance and Operations 中创建的。 | 状态为**草稿**。 |
| 将 PO 提交到审核流程。 （该审核流程是一个不涉及供应商的内部流程。） | 如果在审核流程中，拒绝 PO，状态从**草稿**更改为**正在审核**。 已审核的 PO 将注册为一个版本。 | 
| PO 已发送至供应商。 | 供应商协作界面上登记了一个版本，状态更改为**正在进行外部审核**。 |
| 你通过手动方式或使用响应更新 PO 上的**处理采购订单更新**操作按照供应商的请求做出一些更改。 | 状态更改回**草稿**。 |
| 将 PO 再次提交到审核流程。 | 如果在审核流程中，拒绝 PO，状态从**草稿**更改为**正在审核**。 或者，也可以配置系统，这样特定字段更改时就不需要重新审核。 在这种情况下，状态将首先更改为**草稿**，然后将自动更新为**已审核**。 已审核的 PO 将注册为一个新版本。 |
| 您将 PO 的新版本发送给供应商。 | 供应商协作界面上登记了一个新版本，状态更改为**正在进行外部审核**。 |
| 供应商批准了 PO 的新版本。 | 状态将自动更改为**已确认**，或者在您收到供应商响应并确认 PO 时更改为“已确认”。 |

## <a name="sharing-information-about-consignment-inventory"></a>共享关于托运库存的信息

如果正在使用托运库存，供应商可以使用供应商协作界面查看有关以下页面的信息：

- **使用托运库存的采购订单** - 库存的所有权从供应商更改为您的公司时，生成托运库存的采购订单。 同时对产品收据过帐。 这些托运采购订单仅显示在**使用托运库存的采购订单**页面上。 它们不包含在**供应商协作**模块的**所有已确认的采购订单**页面中。
- **从托运库存接收的产品** - 此页列出产品所有权从供应商转移至您的公司的所有交易记录。 供应商可以使用此信息对客户开票。
- **现有托运库存** - 此页显示了您的仓库已经收到的供应商拥有的现有托运库存。

## <a name="working-with-rfqs-when-you-use-vendor-collaboration"></a>使用供应商协作时处理询价

本节介绍客户与供应商在询价流程中的互动。 它还介绍了如何将信息传达给供应商。 有关询价流程支持的基本概述，请参阅[询价 (RFQ)](request-quotations.md)。

### <a name="alternates-attachments-amendments-and-returns"></a>备选、附件、改正和返回

- **备选** - 在询价案例的标题上，可以指定允许对非目录物料行使用备选。 启用备选时，供应商可以对每个请求的行添加备选行。
- **附件** - 询价案例的标题级别和行级别均可以添加附件。 附件可归类为内部或外部。 内部附件仅可以在客户端查看，而供应商可以查看发送后的外部附件。

    供应商还可以在出价回复上添加附件。 供应商提交出价回复后，可以在客户端查看这些附件。 供应商添加的附件始终归类为外部。 若要访问供应商与出价一起提交的附件，请选择**出价附件**或**出价行附件**。
    
    若要打开与询价案例一起发送的附件，请使用回复上的文档处理回形针符号。

- **改正** - 完成改正后，删除现有的出价回复，替换为更新的值。 通过询价案例上的日记帐可以查看之前的出价回复的信息（如行价格和数量）。

    若要实施改正处理，在**采购参数**页的**询价**快速选项卡上，将**发送询价时将其锁定**设置为**是**。 （必须对公共部门设置此选项。）

- **返回** - 如果供应商提交了出价，但询价案例需要更多信息或修改后的信息，客户可以将出价返回给供应商。 来自之前提交的出价的数据被保留，且供应商可以按照请求进行修改，无需重新启动出价流程。

## <a name="public-sector-extensions"></a>公共部门扩展

对于公共部门，扩展功能可用于将询价案例发送到供应商和发布询价案例。 发布询价后，请求信息的任何人都可以查看符合大部分公共部门规章的工作。 所有可用工作均反映在**打开发布的询价**列表页，还可以在**关闭的已发布询价**列表页上查看已取消、挂起或分配的询价。 也可以通过与以下数据实体集成在 Finance and Operations 外部站点上查看这些文档：

- 已发布的询价
- 已发布的询价行
- 已发布的询价标题附件

通过这些实体，不是 Finance and Operations 中设置的用户但拥有外部站点匿名访问权限的人员也可以查看可用工作和关闭的工作。 此外，**发送和发布**中的扩展功能允许设置询价流程参数的用户定义电子邮件模板。 随后，当采购专业人员创建询价案例时，该专业人员必须选择电子邮件模板，以便将所需信息发送至询价案例上的供应商。 

设置询价流程参数的用户可以创建多个电子邮件模板。 这些电子邮件模板可以包含静态文本和以下替换标记。 创建电子邮件时，这些标记将被替换为上下文值。

- %RFQCase%
- %RFQCaseName%
- %bidType%
- %inviteOnly%
- %expiryDateTime%
- %requester%
- %requestingDepartment%
- %accountnum%
- %todaysdate%
- %createddate%

如果需要改正，并且在发送询价后发送，将重新向所有受邀请的供应商发送询价。 **打开发布的询价**页面上的已发布文档也会更新。

