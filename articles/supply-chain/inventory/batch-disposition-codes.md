---
title: 使用批次处置代码将批次标记为可用或不可用
description: 本文介绍如何设置和使用批次处置代码将批次标记为可用于或不可用于主计划、预留、领料和/或装运。
author: t-benebo
ms.date: 09/16/2022
ms.topic: article
ms.search.form: PdsDispositionMaster, InventBatch
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: benebotg
ms.search.validFrom: 2022-09-16
ms.dyn365.ops.version: 10.0.29
ms.openlocfilehash: cfb0743a573550de93d75063df517e0c143f2568
ms.sourcegitcommit: 20ce54cb40290dd116ab8b157c0a02d6757c13f5
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/20/2022
ms.locfileid: "9542464"
---
# <a name="use-batch-disposition-codes-to-mark-batches-as-available-or-unavailable"></a>使用批次处置代码将批次标记为可用或不可用

本文介绍如何设置和使用 *批次处置代码*。 每个批次处置代码的状态为 *可用* 或 *不可用*。 您将批次处置代码分配给库存批次，来指示每个批次是否可用于主计划、预留、领料和/或装运。

要使用批次处置代码，您必须设置代码并将它们分配给您要管理的批次。

## <a name="set-up-batch-disposition-codes"></a>设置批次处置代码

您必须设置要在系统中使用的每个批次处置代码。 您可以根据需要创建任意多的代码。 （例如，您可以创建代码来识别批次可用或不可用的不同原因）。 但是，您通常只有两个代码：一个代表 *可用*，另一个代表 *不可用*。 您还可以创建自定义代码，让批次可用于某些操作，但不能用于其他操作。

按照以下步骤设置批次处置代码。

1. 转到 **库存管理 \> 设置 \> 批次 \> 批次处置主数据**。
1. **批次处置主数据** 页面将列出您当前的批次处置代码，允许您创建、删除和编辑它们。 按以下步骤之一：

    - 要编辑现有代码，在列表窗格中选择它。
    - 要创建新代码，在操作窗格上选择 **新建**。

1. 在新代码或选定代码的标题上设置以下字段：

    - **批次处置代码** – 输入代码的显示名称。
    - **描述** – 描述代码应该如何使用。
    - **批次处置状态** – 选择适用于分配代码的批次的状态：

        - *不可用* – 批次不能用于主计划、预留、领料或装运。 当您选择此值时，**设置** 快速选项卡上的所有 **锁定** 选项都将设置为 *是*，所有 **可用库存** 选项都将设置为 *否*。 不过，您可以更改其中一些设置来添加例外。
        - *可用* – 批次可以用于主计划、预留、领料和/或装运。 当您选择此值时，**设置** 快速选项卡上的所有 **锁定** 选项都将设置为 *否*，所有 **可用库存** 选项都将设置为 *是*。 当 **批次处置状态** 字段设置为 *可用* 时，这些设置将为只读。

1. 如果您将 **批次处置状态** 字段设置为 *不可用*，您可以为每种类型的订单（销售、转移和生产）自定义每个操作（预留、领料和装运）的锁定状态。 对于生产订单，您可以选择锁定或解锁生产领料日记帐。 您还可以选择锁定或解锁主计划。 使用 **设置** 快速选项卡上的选项根据需要锁定或解锁每个操作。 将 **可用库存** 选项设置为 *是* 启用主计划，或将其设置为 *否* 锁定主计划。

## <a name="assign-batch-disposition-codes-to-batches"></a>将批次处置代码分配给批次

定义所需的批次处置代码后，按照以下步骤将它们分配给批次。

1. 转到 **仓库管理 \> 设置 \> 库存 \> 批次**。
1. 选择一个或多个批次向其分配批次处置代码。
1. 在操作窗格上的 **重置** 选项卡中，选择 **重置批次处置代码**。
1. 在 **更改库存批次的限制** 对话框中，将 **新批次处置代码** 字段设置为您要分配的代码的名称。
1. 选择 **确定** 应用新设置并保存更改。

    在 **批次** 页面上，**批次处置代码** 和 **批次处置状态** 列中的值将更新，以反映所选批次的新设置。

## <a name="master-planning-example"></a>主计划示例

此示例显示批次处置代码如何影响主计划。

对于此示例，批次处置代码是按以下方式设置的：

- *P-Available：*

    - **批次处置状态**：*可用*
    - **可用库存**：*是*

- *P-Unavailable：*

    - **批次处置状态**：*不可用*
    - **可用库存**：*否*

有一个产品（*产品-1*）有两个批次：*批次-A* 和 *批次-B*。 这些批次按以下方式设置：

- *批次-A：*

    - **批次处置代码**：*P-Available*
    - **现有数量：** 1

- *批次-B：*

    - **批次处置代码**：*P-Unavailable*
    - **现有数量：** 1

*产品-1* 有一个数量为 2 的销售订单 (*SO1*)。 交货日期是从今天起三天。

您运行主计划并设置以下与此示例相关的值：

- **计划订单**：*采购订单*
- **补货策略**：*要求*
- **提前期**：*0*

作为计划运行的结果，系统使用可用批次（*批次-A*）覆盖销售订单 *SO1* 的产品 *产品-1* 的数量 1。 但是，不能使用批次 *批次-B*，因为该批次被标记为不可用于计划。 因此，为了覆盖剩余数量，系统为产品 *产品-1* 的新批次创建计划采购订单 (*PPO1*)。

下图显示了计划结果的时间线。

![显示批次处置代码如何影响主计划的示例。](media/batch-codes-planning-example.png "显示批次处置代码如何影响主计划的示例")
