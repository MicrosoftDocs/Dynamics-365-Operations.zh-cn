---
title: 库存日记帐审核工作流
description: 本主题介绍如何为各种类型的实际库存交易设置和使用库存日记帐审核工作流。 库存日记帐工作流有助于确保仅将批准的库存日记帐过帐到交易记录中。
author: sherry-zheng
manager: tfehr
ms.date: 07/21/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: InventJournalTableWorkflowDropDialog
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: chuzheng
ms.search.validFrom: 2020-07-21
ms.dyn365.ops.version: Release 10.0.13
ms.openlocfilehash: 623c628f3359efc1f76e1d06387905f981deca0b
ms.sourcegitcommit: 199848e78df5cb7c439b001bdbe1ece963593cdb
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/13/2020
ms.locfileid: "4422756"
---
# <a name="inventory-journal-approval-workflows"></a>库存日记帐审核工作流

[!include [banner](../includes/banner.md)]

本主题介绍如何为各种类型的实际库存交易（如发货和收货、库存变动、物料清单 (BOM) 和实际库存对帐）设置和使用库存日记帐审核工作流。 库存日记帐工作流有助于确保仅将批准的库存日记帐过帐到交易记录中。

> [!NOTE]
> 库存日记帐审核工作流仅适用于使用库存管理模块记录的交易。 不适用于仓库管理模块触发的库存日记帐。

## <a name="create-your-inventory-journal-approval-workflows"></a>创建库存日记帐审核工作流

要设置此功能，必须为要控制的每种库存日记帐类型创建工作流。 由于不同的库存日记帐类型可以具有不同的审核层次结构和工作流步骤，因此可以为每种库存日记帐类型配置单独的工作流。

工作流支持版本控制，每个工作流都有一个工作流 ID 和一个有效版本。 您可以选择在创建后立即激活每个新的工作流版本，或不进行激活。 如果同一日记帐类型需要不同的工作流，请为该日记帐类型创建多个工作流，然后将每个工作流分配给使用该类型的不同日记帐名称。

创建库存日记帐审核工作流：

1. 转到 **库存管理 \> 设置 \> 库存管理工作流**。
1. 在操作窗格上选择 **新建**。
1. 选择要为其设置工作流的库存日记帐类型：
    - **库存标签盘点日记帐**
    - **库存所有权更改日记帐**
    - **库存变动日记帐**
    - **库存转移日记帐**
    - **库存盘点日记帐**
    - **库存物料清单日记帐**
    - **库存调整日记帐**

    ![“创建工作流”对话框](media/journal-workflow-create-workflow.png "“创建工作流”对话框")

1. 工作流编辑器应用将在您的计算机上启动。 （可能会要求您批准此操作。）请根据需要使用它来设计工作流。 有关如何使用工作流编辑器的详细信息，请参阅[工作流系统概览](../../fin-ops-core/fin-ops/organization-administration/overview-workflow-system.md)。
1. 保存并关闭工作流编辑器应用后，您必须选择是激活此工作流版本还是保持非活动状态。

> [!NOTE]
> 工作流提供版本控制，这意味着您可以查看已创建的版本列表并选择哪个版本处于活动状态。 要查看可用版本列表和选择要激活的版本，请选择 **库存管理工作流** 页列出的工作流。 在操作窗格上，打开 **工作流** 选项卡，然后选择 **版本**。 每个工作流 ID 一次只能激活一个版本。

## <a name="assign-approval-workflows-to-inventory-journal-names"></a>将审核工作流分配给库存日记帐名称

下一步是为每个库存日记帐名称分配一个库存日记帐工作流。 对于每种库存日记帐类型，您可以设置多个库存日记帐名称。

将库存日记帐工作流与库存日记帐名称关联：

1. 转到 **库存管理 \> 设置 \> 日记帐名称 \> 库存**。
1. 从列表列中选择一个日记帐名称来打开其设置页面。
1. 在 **常规** 快速选项卡上，将 **审核工作流** 设置为 **是**。 如果提示批准操作，请选择 **是**。

    ![将工作流分配给日记帐名称](media/journal-workflow-journal-name.png "将工作流分配给日记帐名称")

1. 打开 **工作流** 下拉列表，选择适当的工作流。 此列表显示您使用工作流编辑器应用创建的每个活动工作流。

## <a name="create-an-inventory-journal-and-send-it-for-approval"></a>创建库存日记帐并发送进行审核

将库存日记帐名称与其匹配的库存日记帐审核工作流关联之后，您将能够创建使用该名称的新库存日记帐，然后使用该工作流发送这些日记帐进行审核。 在工作流中配置的审核人批准库存日记帐之前，您将无法过帐。

1. 在导航窗格上，展开 **库存管理 \> 日记帐条目 \> 商品**，然后选择库存日记帐类型。
1. 选择 **新建** 创建所选类型的新日记帐。
1. **创建库存日记帐** 对话框将打开。 根据需要填写表单，然后选择 **确定** 保存日记帐。
1. 根据需要完成日记帐。
1. 当创建或打开具有关联的审核工作流的库存日记帐时，**工作流** 按钮将在操作窗格中处于活动状态。 当您准备好要提交日记帐以供审核时，选择 **工作流** 按钮打开一个下拉对话框，然后选择 **提交**。 然后，审核请求将路由到相关审核人，系统将使用为工作流配置的通知方法提醒审核人。

    ![提交日记帐以供审核](media/journal-workflow-inventory-journal.png "提交日记帐以供审核")

要撤回审核请求，请打开相关日记帐，选择 **工作流** 按钮，然后选择 **撤回**。 这将重置工作流。

日记帐被批准后，您可以进行过帐。 要过帐日记帐，请从操作窗格中选择 **过帐**。 如果 **过帐** 按钮未处于活动状态，说明日记帐还未被批准。

## <a name="respond-to-an-inventory-journal-approval-request"></a>响应库存日记帐审核请求

如果您是审核人，每次需要您审核时，您会收到一条消息（在相关工作流中配置）。 然后，您可以通过执行以下操作批准或拒绝日记帐审核请求：

1. 在导航窗格上，展开 **库存管理 \> 日记帐条目 \> 商品**，然后选择库存日记帐类型。
1. 打开相关日记帐进行审核。
1. 选择操作窗格上的 **工作流** 按钮打开一个下拉对话框。 选择以下选项之一：
    - **批准** - 批准请求。
    - **拒绝** - 拒绝请求。
    - **更多 \> 请求更改** - 向申请人发送消息，要求他们更改特定内容，然后重新提交。
    - **更多 \> 委托** - 将审核委托给另一个用户。
    - **更多 \> 撤回** - 撤回审核请求（重置工作流）。
    - **更多 \> 工作流历史记录** - 查看到目前为止此审核工作流的历史记录。

## <a name="review-the-approval-history"></a>查看审核历史记录

与其他类型的工作流一样，您可以使用 **工作流历史记录** 页查看任意日记帐的审核工作流历史记录。

查看日记帐的工作流历史记录：

1. 在导航窗格上，展开 **库存管理 \> 日记帐条目 \> 商品**，然后选择库存日记帐类型。
1. 打开相关日记帐。
1. 选择操作窗格上的 **工作流** 按钮打开一个下拉对话框。 选择 **工作流历史记录**。 有关详细信息，请参阅[查看工作流历史记录](../../fin-ops-core/fin-ops/organization-administration/tasks/view-workflow-history.md)。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]