---
title: 采购订单行数据差异
description: 您看到采购订单行上有数据差异或数据损坏。
author: SmithaNataraj
ms.date: 12/07/2021
ms.topic: troubleshooting
ms.search.form: PurchLineManualCorrection, PurchTable, PurchLine, InventTrans
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: smnatara
ms.search.validFrom: 2021-12-07
ms.dyn365.ops.version: 10.0.24
ms.openlocfilehash: ee2cb9a07c8a00a92c71e3e99d8ec20aa27fb20e
ms.sourcegitcommit: b9799a58d6ec221df86788bc37c4fbd28b435e89
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/08/2022
ms.locfileid: "8100796"
---
# <a name="purchase-order-line-data-discrepancies"></a>采购订单行数据差异

## <a name="symptoms"></a>故障特征

当您检查采购订单行时，您会注意到以下一个或多个问题：

- 采购订单行其余部分（交货或发票）中存在数据差异或损坏。
- 采购订单行或标头状态存在损坏。
- 您无法为采购订单开票，因为您收到以下一条或多条错误消息（举例）：

    - “已停止（错误）：交易记录已过帐。”
    - “无法对此数量开票，因为状态为“已收到”的库存交易记录不足。”
    - “物料 %0 数量 %1 的状态为‘已购买’的库存交易记录不足。”

- 由于以下问题之一（举例），您无法完成或关闭采购订单：

    - **完成** 按钮不可用。
    - 对于处于已确认和已接收状态的采购订单，您无法取消采购订单行的订购数量。

## <a name="cause"></a>原因

这些问题通常是由数据损坏或一个或多个采购订单行中其余数量的差异引起的。

## <a name="resolution"></a>解决方法

您通常可以通过更新相关采购订单行的采购状态、剩余交货量和/或未开票数量来解决这些问题，如以下过程中所述。

1. 转到 **采购 \> 定期任务 \> 清理 \> 手动更正采购订单行**。
1. 在 **采购订单** 字段中，找到并选择给您带来问题的采购订单。
1. 在 **采购订单行** 部分，选择一个发现有差异的行。
1. 在 **库存交易记录** 部分，检查显示的数据。 如果您发现采购订单行与其库存交易记录之间存在任何不一致，请在操作窗格中选择以下命令之一，具体取决于您看到不一致的位置：

    - **重新计算 \> 重新计算剩余交货量** – 自动更新采购订单行和标头状态。 此函数仅适用于库存采购订单行（即物料为贮存物料的行）。 当前不支持非贮存物料和实际称重物料。
    - **重新计算 \> 重新计算未开票数量** – 自动更新采购订单行和标头状态。 此函数仅适用于库存采购订单行（即物料为贮存物料的行）。 当前不支持非贮存物料和实际称重物料。
    - **重新计算 \> 重新计算状态** – 重新计算所选行的状态。 此计算基于现有逻辑。 因此，采购订单标头状态将根据新的采购订单行状态根据需要进行更新。

1. 如果您仍然看到剩余数量不一致，您可以根据需要使用以下字段直接编辑它们：

    - 剩余交货量
    - 库存剩余交货量
    - 未开票数量
    - 按库存单位计算的未开票数量
