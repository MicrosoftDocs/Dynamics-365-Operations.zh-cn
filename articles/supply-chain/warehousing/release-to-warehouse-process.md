---
title: 发放到仓库
description: 本文详细介绍发放到仓库流程。 其介绍在将订单发放到仓库时创建的条目，以及可用于启动此流程的选项。
author: Mirzaab
ms.date: 8/13/2021
ms.topic: article
ms.search.form: WHSReleaseToWarehouse, WHSReleaseToWarehouseSalesOrder, WHSReleaseToWarehouseTransferOrder, WHSLoadPlanningWorkbench, WHSWaveTemplateTable, WHSWorkTemplateTable, WHSLocDirTable
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-08-13
ms.dyn365.ops.version: 10.0.20
ms.openlocfilehash: c3280b2e39d7af5ca99cad703cad6ecc7b307bff
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/03/2022
ms.locfileid: "8893169"
---
# <a name="release-to-warehouse"></a>发放到仓库

[!include [banner](../../includes/banner.md)]

本文详细介绍发放到仓库流程。 其介绍在将订单发放到仓库时创建的条目，以及可用于启动此流程的选项。

## <a name="release-to-warehouse-overview"></a>发放到仓库概述

发放到仓库是使库存准备好进行派遣处理的流程。 当您将订单发放到仓库时，系统将创建负荷行和装运。 如果设置了自动波次处理，也将创建负荷和必需的工作。 所涉及实体的配置取决于系统设置。 本文的这一节将查看在发放到仓库流程中创建的实体和定义这些实体的系统设置。

*装运* 是客户相同或交货地址相同的一组销售订单或转移单行。

*负荷* 是组合在一起，并且通常使用同一辆卡车、轨道车或其他运输方式运输的销售订单或转移单行。 一个负荷可以包含一个或多个装运。 可以通过向新负荷添加订单行，手动创建负荷。 在这种情况下，将在启动发放到仓库流程之前为负荷分配订单行，并且只能从 **负荷计划工作台** 页面发放。

仓库 *工作* 是仓库工作人员执行的任何仓库操作。 通常，仓库工作工序包括至少两个连续操作：仓库工作人员在一个库位领取现有库存，然后将其存放到另一个库位。

当您将订单发放到仓库时，系统将创建 *负荷行*，并将其组合为装运。 装运合并流程用于在发放到仓库流程期间自动合并装运。 有关详细信息，请参阅[装运合并策略](about-shipment-consolidation-policies.md)。

系统使用 *波次* 为装运创建领料工作和负荷。 必须为您要创建的波次类型和订单行的仓库提供 *波次模板*。 类型为 *装运* 的波次模板用于装运销售订单和转移单的物料。

每个波次模板中都包含 *波次方法*。 波次方法执行操作，例如，为波次创建工作或创建负荷。 例如，装运波次的波次模板可以包含用于创建负荷、将行分配到波次、补货和为波次创建领料工作的方法。 波次模板确定用于定义以下属性的设置：如何生成和处理波次，哪些步骤必须手动完成，以及哪些步骤将自动完成。 有关详细信息，请参阅[波次模板](wave-templates.md)。 因此，在将订单发放到仓库时将自动创建，处理和发放波次，或者在完成发放到仓库后自动执行这些操作中的部分或全部，具体取决于波次模板的配置。

处理波次时，系统将根据适合的 *工作模板* 和 *库位指令* 创建领料工作，并将该工作提供给移动设备。 工作模板决定如何为每个仓库流程执行工作，而库位指令则为库存变动指定领料和放置库位。 有关详细信息，请参阅[使用工作模板和位置指令控制仓库工作](control-warehouse-location-directives.md)。

> [!NOTE]
> 默认情况下，波次以批处理模式处理。

在波次处理期间，系统通常为尚未获得负荷的每个装运创建一个新装运。 如果希望系统改为将未分配的装运分配给现有负荷，可以使用高级波次负荷生成功能。 有关详细信息，请参阅[波次期间的高级负荷生成](advanced-load-building-during-wave.md)。

在 **销售订单** 和 **转移单** 页面中，可以查看发放到仓库流程中为订单行创建的实体。

- **销售订单** 页面：

    - 在 **销售订单行** 快速选项卡上，选择 **仓库**，然后在菜单中选择 **装运详细信息** 将打开相关装运，选择 **负荷详细信息** 将打开相关负荷，或选择 **工作详细信息** 则打开相关工作详细信息。
    - 在 **行详细信息** 快速选项卡上，选择 **负荷** 选项卡可查看相关负荷。

- **转移单** 页面：

    - 在操作窗格的 **装运** 选项卡上，选择 **装运详细信息** 打开相关装运，或选择 **负荷详细信息** 打开相关负荷。
    - 在 **转移单行** 快速选项卡上，选择 **工作详细信息** 将打开相关工作详细信息。

总之，将订单发放到仓库时，大多数自动化流将以以下方式工作：

1. 系统为订单和波次创建装运。
1. 处理波次。
1. 系统创建负荷和工作 ID。

流中的某些步骤可能变为手动步骤，具体取决于波次模板、工作模板和库位指令设置。 但是，整体流保持不变。

可选择多种方法将订单发放到仓库。 可以手动执行操作，也可以设置批处理作业。 本文的其余几节将详细回顾发放到仓库操作的多种执行方法。

## <a name="manual-release-to-the-warehouse-from-the-sales-orders-and-transfer-orders-pages"></a>从“销售订单”和“转移单”页面手动发放到仓库

可通过选择 **发放到仓库** 直接从 **销售订单** 页面或 **转移单** 页面将订单发放到仓库。

- 在 **销售订单** 页面上，该按钮位于操作窗格的 **仓库** 选项卡中。
- 在 **转移单** 页面上，该按钮位于操作窗格的 **装运** 选项卡中。

可以从 **销售订单** 页面同时发放多个销售订单。

## <a name="manual-release-to-the-warehouse-from-the-release-to-warehouse-pages"></a>从“发放到仓库”页面手动发放到仓库

系统目前提供三个页面，可以在这些页面中查看多个订单的行，并将其发放到仓库：

- **发放到仓库**（**Warehouse Management \> 发放到仓库 \> 发放到仓库**）– 此页面可用于处理销售订单和转移单。 但是，相比其他两个页面，此页面的性能更低。 很快将弃用此页面。
- **将销售订单发放到仓库**（**Warehouse Management \> 发放到仓库 \> 将销售订单发放到仓库**）– 此页面只能用于处理销售订单。 但是，其提供的性能比 **发放到仓库** 页面更出色。
- **将转移单发放到仓库**（**Warehouse Management \> 发放到仓库 \> 将转移单发放到仓库**）– 此页面只能用于处理转移单。 但是，其提供的性能比 **发放到仓库** 页面更出色。

所有这三个页面都提供相似的功能，如此部分其余部分中所述。 所有这些页面都允许您选择订单行或整个订单，然后将其发放到仓库。

每个页面都包含上半部分和下半部分，前者可用于选择订单行，后者可用于启动发放到仓库流程。 可以使用上半部分中的筛选器搜索要发放的销售订单行。 **发放到仓库** 页面在上半部分中为销售订单和转移单单独提供一个选项卡，而其他两个页面每个仅显示一种订单。

上半部分中的工具栏中包含以下按钮，可用于选择要发放到仓库的订单行：

- **添加** – 在上半部分中选择一个或多个订单行，然后选择此按钮以将这些行添加到下半部分中。
- **全部添加** – 将上半部分中的所有行全部添加到下半部分中。
- **添加订单** – 选择订单，然后选择此按钮将该订单中的所有行添加到下半部分中。

将行添加到下半部分中之后，标记要发放的每行。 然后选择工具栏中的 **发放到仓库** 将这些行发放到仓库。

## <a name="manual-release-to-the-warehouse-from-the-load-planning-workbench-page"></a>从“负荷计划工作台”页面手动发放到仓库

也可以使用 **负荷计划工作台** 页面将订单手动发放到仓库。 可通过此页面将订单行组织成为负荷，然后将这些负荷发放到仓库。

若要打开 **负荷计划工作台** 页面，请转到 **Warehouse Management \> 负荷**。 也可以从 **销售订单** 和 **转移单** 页面打开。 在该页面的上半部分中，可以在 **销售行** 选项卡中选择销售订单行，在 **转移单** 选项卡中选择转移单行，然后将这些行添加到新负荷或现有负荷中。

操作窗格上的 **供应与需求** 选项中有以下按钮，可用于将上半部分中的订单行添加到负荷中：

- **至新负荷** – 在上半部分中选择一个或多个订单行，然后选择此按钮创建一个新负荷，再将这些行添加到该负荷中。
- **至现有负荷** – 在上半部分中选择一个或多个订单行，然后选择此按钮将这些行添加到现有负荷中。
- **整个订单至新负荷** – 选择订单，然后选择此按钮创建一个新负荷，再将这些订单的所有行添加到该负荷中。
- **整个订单至现有负荷** – 选择一个订单，然后选择此按钮将该订单的所有行添加到现有负荷中。

在下半部分中，可以查看创建的负荷。 若要将负荷发放到仓库，请选择负荷，然后在工具栏中选择 **发放 \> 发放到仓库**。 如果使用自动波次处理，因为负荷已分配给订单行，因此在执行发放到仓库操作时，系统将创建装运和工作 ID。

## <a name="automatic-release-to-the-warehouse"></a>自动发放到仓库

若要将订单自动发放到仓库，请使用 **自动发放销售订单** 和 **自动发放转移单** 作业。

若要设置用于发放销售订单的批处理作业，请执行以下步骤。

1. 转到 **仓库管理 \> 发放到仓库 \> 自动发放销售订单**。
1. 在 **自动发放销售订单** 对话框中的 **参数** 快速选项卡上，设置以下字段：

    - **要发放的数量** – 选择应将全部数量还是仅实际预留的数量发放到仓库。
    - **允许发放已部分发放的订单** – 指定是否应将已部分发放订单的剩余数量发放到仓库。
    - **在发放失败时保留预留** – 指定如果发放到仓库流程失败时，是否应继续预留为销售订单自动预留的数量。
    - **按客户分组发布** – 指定系统应该为每个客户单独处理下达到仓库操作还是同时下达所有销售订单。 当此选项设置为 *是* 时，系统将收集选定客户的所有销售订单行，将这些订单下达到仓库，然后处理下一个客户。 当此选项设置为 *否* 时，系统将一次发布所有可用的销售订单行到仓库工序。 通过启用此选项，您可以帮助提高下达到仓库流程的性能和弹性。 但是，当您将此选项与配置为在下达到仓库时处理波次的波次模板一起使用时必须小心，因为这种组合可能会生成很多单一客户波次，每个波次都有仅为该客户生成的工作。 如果要生成将多个客户的货件合并在一起的工作，则应关闭 *按客户分组发布* 选项，或将波次模板配置为使用延迟处理。
    - **处理锁定订单** – 选择系统应如何处理因为正在被用户或流程编辑当前锁定的销售订单：

        - *等待订单解锁* – 系统应等待订单解锁，然后再将其发放到仓库。 在此情况下，发放到仓库流程可能需要更多时间。
        - *跳过锁定的订单* - 系统应跳过锁定的订单。

    - **有效订单类型** - 选择批处理中要包括的销售订单类型。
    - **信用额度类型** - 选择是否应在发放到仓库流程期间进行信用额度检查，如果应执行检查，则选择要包括在其中的交易记录信息。

1. 若要控制应处理哪些订单，请在 **要包括的记录** 快速选项卡中选择 **筛选器**。 将出现一个标准查询对话，您可以在其中定义选择条件、排序条件和联接。 这些字段的工作方式与它们用于 Microsoft Dynamics 365 Supply Chain Management 中其他类型的查询时一样。
1. 在 **在后台运行** 快速选项卡上，选择作业是否应该以批处理模式运行，和/或设置定期计划。 这些字段的工作方式与它们用于 Supply Chain Management 中其他类型的[后台作业](../../fin-ops-core/dev-itpro/sysadmin/batch-processing-overview.md)时一样。
1. 选择 **确定** 以应用您的设置，并启动发放到仓库流程。

若要设置用于发放转移单的批处理作业，请执行以下步骤。

1. 转到 **仓库管理 \> 发放到仓库 \> 自动发放转移单**。
1. 在 **自动发放转移单** 对话框中的 **参数** 快速选项卡上，设置以下字段：

    - **要发放的数量** – 选择应将全部数量还是仅实际预留的数量发放到仓库。
    - **允许发放已部分发放的订单** – 指定是否应将已部分发放订单的剩余数量发放到仓库。
    - **按目标仓库分组发放** – 指定系统应该同时发放所有转移单，还是应该先按目标仓库分组转移单行，再将每组分别发放到仓库。

1. 若要控制应处理哪些订单，请在 **要包括的记录** 快速选项卡中选择 **筛选器**。 将出现一个标准查询对话，您可以在其中定义选择条件、排序条件和联接。 这些字段的工作方式与它们用于 Supply Chain Management 中其他类型的查询时一样。
1. 在 **在后台运行** 快速选项卡上，选择作业是否应该以批处理模式运行，和/或为定期设置计划。 这些字段的工作方式与它们用于 Supply Chain Management 中其他类型的[后台作业](../../fin-ops-core/dev-itpro/sysadmin/batch-processing-overview.md)时一样。
1. 选择 **确定** 以应用您的设置，并启动发放到仓库流程。

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
