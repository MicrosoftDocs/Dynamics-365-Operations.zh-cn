---
title: 系统导向的群集领料
description: 本主题概述 Microsoft Dynamics 365 Supply Chain Management 中的系统导向的群集领料。
author: Mirzaab
manager: tfehr
ms.date: 05/26/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSWorkCluster, WHSClusterProfile
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations, Supply Chain Management
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: 2019-12-31
ms.dyn365.ops.version: 10.0.1
ms.openlocfilehash: 0838405bcb5ee0d8e582093fbbd69553228cb2b6
ms.sourcegitcommit: 827d77c638555396b32d36af5d22d1b61dafb0e8
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/16/2020
ms.locfileid: "4423389"
---
# <a name="system-directed-cluster-picking"></a>系统导向的群集领料

[!include [banner](../includes/banner.md)]

群集领料是一个单件领料流程，通过将订单归并到领料群集中，您可以同时为多个订单领取物料。 然后，您只需访问一次领料库位。 通常，此功能用于小订单领料或数量少于案例数量的情况。

设置系统导向的群集领料后，您可以基于系统生成的群集来群集选择工作标题。 系统最多可以群集选择订单的数量是在群集配置文件中指定的位置数。 因此，您可以同时选择多个订单，而不必手动创建群集。

系统导向的群集领料提供了手动群集构建的替代方法，在手动群集中，群集配置文件用于创建群集。 在使用集群配置文件之前，必须定义几个与设置相关的行：

- **位置数** 对应于将要放在群集上的订单数。 因此，它对应于负荷数。
- **分解群集** 确定何时应分解群集。
- **生成群集 ID** 控制群集 ID 是由系统生成还是由用户输入。
- **对验证类型进行排序** 确定是否需要位置验证。

系统导向的群集领料使用新的移动设备菜单项。 必须为所选 **导向方式** 选项指定 **群集配置文件 ID**。 此外，系统导向的工作序列查询可以根据公司特定的条件对订单进行分组。 因此，您可以通过使用系统导向的工作序列查询指定自定义的排序条件来进一步优化工作订单的分配。

启用系统导向的群集领料后，仓库工作人员将看到一个群集，其中的领料订单已预先分配到群集位置。 因此，工作人员只需访问一次领料库位就可以开始为多个工作订单领取物料。 系统导向的群集领料的领料流程与用户导向的群集领料的流程相同。

## <a name="enable-the-system-directed-cluster-picking-feature"></a>启用系统导向的群集领料功能

此功能只有在系统中启用了之后才能使用。 管理员可以使用[功能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)页面检查功能状态，并在需要时启用。 此功能在此处列出为：

- **模块** - 仓库管理
- **功能名称** - 系统导向的群集领料

此功能还需要启用依赖功能。 依赖功能是：

- **模块** - 仓库管理
- **功能名称** - 组织范围内的系统导向工作序列

## <a name="set-up-system-directed-cluster-picking"></a>设置系统导向的群集领料

### <a name="create-cluster-profiles"></a>创建群集配置文件

群集配置文件控制系统如何创建每个群集。 如果需要不同的群集，则应为每个移动设备菜单项创建不同的群集配置文件。

1. 转到 **仓库管理 \> 设置 \> 移动设备 \> 群集配置文件**。
2. 选择 **新建**。
3. 在 **群集配置文件 ID** 字段中，输入 **2 位置**。
4. 在 **名称** 字段中，输入 **2 位置**。
5. 在 **常规** 快速选项卡上，输入以下信息：

    - **生成群集 ID** - 选择 **是**。 此选项确定群集 ID 是由系统自动创建，还是由用户在领料开始时创建。 
    - **激活位置** - 选择 **是**。 此选项确定是否根据位置名称设置自动生成位置名称。 如果此选项设置为 **否**，则使用位置的牌照 ID。
    - **位置数** - 选择 **2**。 此字段确定群集可以有的最大位置数量（即，箱子、负荷等的最大数量）。
    - **位置名称** - 选择 **数字**，以使用连续数字命名位置。 如果选择 **按字母顺序**，位置将以字母顺序命名。
    - **群集分解位置** - 选择 **放置**。 此字段确定群集何时分解。 
    - **对验证类型进行排序** - 选择 **位置扫描**。 此字段确定放置到位置步骤是否经过验证。
        
6. 在 **群集排序** 快速选项卡上，您通过创建新行并输入以下信息来定义排序条件：

    - **序列号** - 选择 **1**。 此字段确定系统排序的顺序。 会自动输入一个值，不过您可以根据需要进行更改。
    - **字段名称** - 输入 **WMSLocationId**。 此字段确定行用于排序条件的字段。
    - **排序** - 选择 **升序**。 此字段定义排序是按升序还是降序进行。

### <a name="create-a-mobile-device-menu-item"></a>创建移动设备菜单项

要为系统导向的群集领料创建新的移动设备菜单项并将群集配置文件 ID 链接到移动设备菜单项，请按照以下步骤操作。

1. 转到 **仓库管理 > 设置 > 移动设备 > 移动设备菜单项**。
1. 选择 **新建**。
1. 在标题部分，输入以下信息：
    - **菜单项名称** - SD 群集
    - **标题** - SD 群集
    - **模式** - 工作
    - **使用现有工作** - 是

1. 在 **常规** 快速选项卡上，输入以下信息：
    - **导向方式** - 系统导向的群集领料
    - **生成牌照** - 是
    - **群集配置文件 ID** - 2 位置

1. 在 **工作类** 快速选项卡上，通过设置以下字段来为此移动设备菜单项设置有效的工作类：
    - **工作类 ID** - 销售
    - **工作订单类型** - 销售订单

1. 在 **移动设备菜单项** 操作窗格中，选择 **系统导向的工作序列查询** 并按照以下步骤指定一个新的系统导向的工作序列查询：
    - 在操作窗格中，选择 **新建**。
    - **序列号** - 1
    - **描述** - 工作优先级 – 工作 ID

1. 在操作窗格上，选择 **编辑查询**
1. 选择 **排序** 选项卡。
1. 选择 **添加** 添加新行，然后输入以下内容：
    - **表** - 工作
    - **派生表** - 工作
    - **字段** - 工作优先级
    - **搜索方向** - 升序
1. 选择 **添加** 添加第二行，然后输入以下内容：
    - **表** - 工作
    - **派生表** - 工作
    - **字段** - 工作 ID
    - **搜索方向** - 升序

1. 系统现在将对群集中的工作 ID 进行排序，首先按工作优先级然后按工作 ID。

### <a name="set-up-a-mobile-device-menu"></a>设置移动设备菜单

1. 转到 **仓库管理 > 设置 > 移动设备 > 移动设备菜单**。
1. 将您刚才创建的 **SD 群集** 菜单项添加到移动设备菜单。
1. 选择 **出货** 菜单。
1. 从操作窗格选择 **编辑**。
1. 滚动直到找到 **SD 群集**。
1. 选择 **SD 群集**，指向 **菜单结构** 列表的箭头将启用。
1. 选择 **箭头** 按钮将 **SD 群集** 菜单项移入 **出货** 菜单结构。
1. 从 **菜单结构** 列表选择 **SD 群集**，然后选择 **向上** 或 **向下** 箭头将菜单项移动到移动设备菜单上的所需位置。

## <a name="scenario"></a>应用场景

### <a name="create-picking-work"></a>创建领料工作

您必须先创建合格的出货工作，然后才能设置系统导向的群集领料。 您先前创建的群集配置文件将指定两个群集位置。 因此，您必须至少创建两个工作 ID。 在这种情况下，您将创建两个销售订单、预留库存、将销售订单下达到仓库，然后手动处理波次。

1. 转至 **销售和市场营销 > 销售订单 > 所有销售订单**。
1. 在操作窗格中选择 **新建** 创建第一个销售订单。
    - **创建销售订单** 菜单将打开，输入以下信息：
        - 在 **客户** 快速选项卡上，输入 **客户帐户** - **US-004**。
        - 在 **常规** 快速选项卡上，输入 **仓库** - **62**。
        - 选择 **确定** 关闭菜单并创建销售订单。
    - 在 **销售订单行** 快速选项卡上，选择 **添加行**（如果没有自动添加新行），输入以下信息：
        - **物料编号** - A0001
        - **数量** - 1
        - 选择 **添加行** 添加第二行。
        - **物料编号** - A0002
        - **数量** - 3
    - 为刚才创建的两个行预留库存。
        - 选择 **行 1**。
        - 在 **销售订单行** 操作窗格上，选择 **库存**，然后从列表中选择 **预留**。
        - 在 **预留** 窗体上，选择 **预留批次** 预留库存。
        - 预留完成后，关闭 **预留** 窗体。
        - 重复这些步骤为 **行 2** 预留库存。
1. 在操作窗格中选择 **新建** 创建第二个销售订单
    - **创建销售订单** 菜单将打开，输入以下信息：
        - 在 **客户** 快速选项卡上，输入 **客户帐户** - **US-005**。
        - 在 **常规** 快速选项卡上，输入 **仓库** - **62**。
        - 选择 **确定** 关闭菜单并创建销售订单
    - 在 **销售订单行** 快速选项卡上，选择 **添加行**（如果没有自动添加新行），输入以下信息：
        - **物料编号** - A0001
        - **数量** - 4
        - 选择 **添加行** 添加第二行。
        - **物料编号** - A0002
        - **数量** - 2
    - 为刚才创建的两个行预留库存。
        - 选择 **行 1**。
        - 在 **销售订单行** 操作窗格上，选择 **库存**，然后从列表中选择 **预留**。
        - 在 **预留** 窗体上，选择 **预留批次** 预留库存。
        - 预留完成后，关闭 **预留** 窗体。
        - 重复这些步骤为 **行 2** 预留库存。
    - 关闭销售订单并返回 **所有销售订单** 列表页。
1. 找到您刚刚创建的两个销售订单（您可能需要刷新页面）。 在表中，使用部分复选标记选择两个销售订单。
    - 在 **所有销售订单** 操作窗格中，选择 **仓库** 选项卡。
    - 在 **操作** 组中，选择 **发放到仓库** 将两个销售订单发放到仓库。
1. 完成发放到仓库流程后，将显示信息性消息。
    - 将为每个销售订单创建装运。
    - 将创建一个波次，并将两个装运都分配到该波次。 记下 **波次 ID**。
1. 转到 **仓库管理 > 出站波次 > 装运波次 > 所有波次**。
    - 在 **所有波次** 列表中，找到并选择您在上一步中创建的 **波次 ID**。
    - 在操作窗格上，选择 **波次** 选项卡，
    - 在 **波次** 组中，选择 **处理** 处理波次并创建 **工作**。
    - 处理完成后，将生成信息性消息，指示已创建工作并已过帐波次。
1. **可选**：转到 **仓库管理 > 工作 > 工作详细信息** 查看创建的工作。 两个不同的工作 ID 已创建。 每个工作 ID 都有两个领料行。

### <a name="run-the-mobile-device-flow"></a>运行移动设备流

1. 登录仓库 **62** 中用户的移动设备。
1. 在 **主菜单** 上，选择 **出货**。
1. 在 **出货** 菜单上，选择 **SD 群集** 启动领料。
    - 群集已创建，您先前创建的两个工作 ID 已附加。 如果您创建了两个以上工作 ID，只有前两个会添加到群集中。 请注意，工作 ID 已经以升序添加到群集中，如您在查询设置中所指定的。

    > [!NOTE]
    > 仅当先前创建了足够的其他工作 ID 时，才会自动创建新群集。 否则，将显示以下消息：“找不到足够的工作来建立群集。”

    - 选择菜单后，将出现第一个领料屏幕。 系统会汇总来自两个工作 ID 的所有匹配的领料行，并引导您访问一次领料库位，以便您可以使用一次领料来同时满足两个订单的需求。 此流程的完成方式与用户导向的群集领料流程相同。

1. 通过选择 **确定** 确认第一个领料库位和物料。
    - 领料数量将是群集中销售订单上显示的物料总计。
1. 输入位置名称（数字或字母），以确认为该位置领取的物料数量已放入正确的位置。
1. 重复此过程，直到所有物料数量都被领取并放到正确的位置。
1. 移动设备上的最后一步是将群集 **放置** 到最终位置。 选择 **确定**
    - 确认此放置操作后，将根据您在群集配置文件中为 **群集分解位置** 字段设置的值关闭和分解群集。 工作 ID 也将关闭。
1. 移动设备上显示“群集完成”消息。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]