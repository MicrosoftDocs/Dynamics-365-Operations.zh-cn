---
title: 定位
description: 本主题说明如何启用和使用定位。
author: GalynaFedorova
ms.date: 07/29/2021
ms.topic: article
ms.search.form: WHSRFMenuItem
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: gfedorova
ms.search.validFrom: 2021-07-29
ms.dyn365.ops.version: 10.0.21
ms.openlocfilehash: 26a7bf60912ff1e8a23305e9331d520fe8d65727
ms.sourcegitcommit: 9166e531ae5773f5bc3bd02501b67331cf216da4
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/03/2022
ms.locfileid: "8676486"
---
# <a name="anchoring"></a>定位

[!include [banner](../includes/banner.md)]

本主题详细介绍定位流程。 其中介绍了所需的配置，以及当仓库工作人员更改暂存位置或装载位置时运行的逻辑。

通过定位功能，您可以替代暂存或装载位置。 然后，所有打开的放置将被定向到您指定的新暂存或装载位置。

此功能可以帮助工作人员在装运货物时提高效率。 下面举了一些示例加以说明：

- 必须将订单 1 的物料放置到 1 号码头的暂存位置的工作人员无法完成此操作，因为此位置未清空之前的负荷。 工作人员将决定使用 2 号码头的暂存位置，而不是等待 1 号码头有可以使用的暂存位置。 因此，工作人员将替代建议的暂存位置。 然后，工作订单中所有剩余物料的放置位置将更新到 2 号码头暂存位置。
- 必须为同一交货执行多个领料的工作人员可以确定所有放置物料都集中在同一位置。 因此，将物料装载到卡车所需的时间会更少。

您将使用 **定位点** 选项配置移动设备菜单项的定位。 如果您将此选项设置为 *是*，您可以使用 **定位依据** 字段指定是要按装运还是按负荷进行定位。 如果您将 **定位依据** 字段设置为 *装运*，后续的打开放置将更改为该装运的新位置。 如果您将此字段设置为 *负荷*，后续的打开放置将更改为该负荷的新位置。

> [!IMPORTANT]
> 后续打开放置的位置将仅在从同一工作模板行生成的工作行上更改。 换言之，系统将定位源自同一工作模板行的放置行。

本主题提供了一个展示定位工作原理的场景。 在此场景中，您将创建一组订单并将它们发放到仓库。 然后，您将替代建议的暂存位置，并验证剩余的所有储存工作是否已定向到新位置。

## <a name="scenario-prerequisite-make-demo-data-available"></a>场景先决条件：提供演示数据

此主题中的方案引用为 Microsoft Dynamics 365 Supply Chain Management 提供的标准演示数据中包含的值和记录。 如果要在进行此练习时使用此处提供的值，请务必在安装了演示数据的环境中操作，并且在开始前将法人设置为 *USMF*。

## <a name="scenario-setup"></a>方案设置

在演练示例场景之前，必须为相关移动设备菜单项启用定位。

### <a name="set-up-a-mobile-device-menu-item-to-enable-anchoring"></a>设置启用定位的移动设备菜单项

请按照这些步骤为移动设备菜单项启用定位。

1. 转到 **仓库管理 \> 设置 \> 移动设备 \> 移动设备菜单项**。
1. 在列表窗格中，选择名为 *销售领料* 的记录。 如果没有现有记录具有此名称，则创建它。 确认或设置记录的以下值：

    - **菜单项名称**：*销售领料*
    - **标题**：*销售领料*
    - **模式：***工作*
    - **使用现有工作**：*是*
    - **导向方式**：*用户导向*
    - **定位**：*是*

        此设置会让系统在销售领料期间将多个工作订单行定位到一起。

    - **定位依据**：*负荷*

        此设置会让系统按负荷定位。

    - **覆盖目标牌照**：*是*
    - **放置时覆盖牌照**：*是*
    - **保留用户锁定的工作**：*是*
    - **允许过量领料**：*是*

### <a name="set-up-a-work-template-to-enable-staging"></a>设置工作模板以启用暂存

请按照这些步骤配置工作模板以启用暂存。 此配置将支持工作人员将订单的物料放到暂存位置的场景。

1. 转到 **仓库管理 \> 设置 \> 工作 \> 工作模板**。
1. 在 **工作订单类型** 字段中，选择 *销售订单*。
1. 在网格中，选择 **61 SO 阶段** 工作模板。
1. 在 **工作模板详细信息** 部分，确保存在以下行并且这些行已按此处所示配置：

    - 行 1：

        - **工作类型：** *领料*
        - **必需：** 选定（= *是*）
        - **工作类 ID**：*SO 领料*

    - 行 2：

        - **工作类型：** *放入*
        - **必需：** 选定（= *是*）
        - **指令代码**：*Stage*
        - **工作类 ID**：*SO 领料*

    - 行 3：

        - **工作类型：** *领料*
        - **必需：** 选定（= *是*）
        - **停止工作**：*是*
        - **工作类 ID**：*SO 负荷*

    - 行 4：

        - **工作类型：** *放入*
        - **必需：** 选定（= *是*）
        - **指令代码**：*Baydoor*
        - **工作类 ID**：*SO 负荷*

1. 在操作窗格上，选择 **编辑查询** 打开查询编辑器。
1. 在 **范围** 选项卡上，确保存在以下行：

    - **表**：*临时工作事务*
    - **派生表**：*临时工作事务*
    - **字段**：*仓库*
    - **条件**：*61*

1. 在 **分类** 选项卡上，确保存在以下行：

    - **表**：*临时工作事务*
    - **派生表**：*临时工作事务*
    - **字段**：*装运 ID*
    - **搜索方向**：*升序*

1. 选择 **确定** 应用设置并关闭查询编辑器。 如果出现提示，接受更改。
1. 在“操作窗格”中选择 **工作标题中断**。
1. 在 **字段名称** 字段设置为 *装运 ID* 的行上，确保选择了 **按此字段分组** 复选框。

### <a name="set-up-license-plates-locations-and-inventory"></a>设置牌照、位置和库存

在创建销售订单和装运之前，必须确保所需的位置、牌照和库存已存在。

1. 转到 **仓库管理 \> 设置 \> 仓库 \> 牌照**，创建两个牌照：

    - MyLP1
    - MyLP2

1. 转到 **仓库管理 \> 设置 \> 仓库 \> 位置**，创建以下位置（如果不存在）。

    | 仓库 | 库位   | 库位模板 ID | 区域 ID   |
    |-----------|------------|---------------------|-----------|
    | 61        | 06A01R2S1B | PICK-06             | FLOOR     |
    | 61        | 06A01R3S1B | PICK-06             | FLOOR     |
    | 61        | STAGE01    | STAGE               | *（空白）* |
    | 61        | STAGE02    | STAGE               | *（空白）* |
    | 61        | STAGE03    | STAGE               | *（空白）* |
    | 61        | STAGE04    | STAGE               | *（空白）* |

1. 确保以下库存可用。 如果必须调整库存，可创建手动移动，使用补货，或使用其他任何流。

    | 物料编号 | 数量 | 仓库 | 库位   | 牌照 |
    |-------------|----------|-----------|------------|---------------|
    | A0001       | 100      | 61        | 06A01R2S1B | MyLP1         |
    | A0002       | 100      | 61        | 06A01R3S1B | MyLP2         |

### <a name="create-demand"></a>创建需求

您必须创建一些需求，然后才能够试用定位功能。 对于此场景，您将为同一客户创建三个销售订单。

1. 转到 **销售和营销 \> 销售订单 \> 所有销售订单**。
1. 选择 **新建** 创建第一个销售订单。
1. 在 **创建销售订单** 对话框中，设置以下值：

    - **客户帐户**：*US-001*
    - **仓库**：*61*

1. 选择 **确定**。
1. 将打开新销售订单。 将在 **销售订单行** 快速选项卡上添加一个空白行。 设置此行的以下值：

    - **物料编号：***A0001*
    - **数量：** *1*

1. 在工具栏上，选择 **添加行** 添加第二个销售订单行，并为其设置以下值：

    - **物料编号：***A0002*
    - **数量：** *1*

1. 为订单上的每个销售行执行以下步骤为其预留库存：

    1. 在 **销售订单行** 快速选项卡上，选择一个销售订单行。
    1. 在工具栏上，选择 **库存 \> 预留**。
    1. 在 **预留** 页上，选择 **预留批次**，然后关闭页面。
    1. 在操作窗格上，选择 **保存**。

1. 重复步骤 2 到 6 创建第二个销售订单。 为它设置以下值：

    - 在 **创建销售订单** 对话框中：

        - **客户帐户**：*US-001*
        - **仓库**：*61*

    - 在销售订单行 1 上：

        - **物料编号：***A0001*
        - **数量：** *2*

    - 在销售订单行 2 上：

        - **物料编号：***A0002*
        - **数量：** *2*

1. 重复步骤 7 预留销售订单 2 上的每个行。
1. 重复步骤 2 到 6 创建第三个销售订单。 为它设置以下值：

    - 在 **创建销售订单** 对话框中：

        - **客户帐户**：*US-001*
        - **仓库**：*61*

    - 在销售订单行 1 上：

        - **物料编号：***A0001*
        - **数量：** *3*

    - 在销售订单行 2 上：

        - **物料编号：***A0002*
        - **数量：** *3*

1. 重复步骤 7 预留销售订单 3 上的每个行。

### <a name="use-the-load-planning-workbench-to-create-a-load-and-release-it-to-the-warehouse"></a>使用装载计划工作台创建负荷并将其发放到仓库

按照以下步骤为您为此场景创建的订单创建负荷，然后将其发放到仓库。

1. 转到 **仓库管理 \> 装载 \> 装载计划工作台**。
1. 在 **销售行** 选项卡上，查找并选择销售订单 1 和销售订单 2 的所有销售订单行。
1. 在操作窗格上 **供应与需求** 选项卡上 **添加** 组中，选择 **至新负荷**。
1. 在 **装载模板分配** 对话框的 **装载模板 ID** 字段中，选择一个装载模板，如 *标准装载模板*。
1. 选择 **确定** 关闭对话框。
1. 在 **负荷** 部分中，找到并选择您创建的负荷。
1. 在工具栏上，选择 **发放 \> 发放到仓库**。
1. 在 **将负荷发放到仓库** 对话框中，选择 **确定** 以将选定负荷发放到仓库。
1. 转到 **仓库管理 \> 工作 \> 所有工作** 查看创建的工作。 您应会找到两个新工作 ID，对应每个装运。 每个工作 ID 都有将库存从领料位置带到暂存位置、从暂存位置带到货架门的领料行和放置行。 记下第一个装运的 **工作 ID** 值，因为您在下一个过程中需要用到。

### <a name="sales-order-picking-to-the-staging-location-for-the-first-shipment"></a>第一个装运的到暂存位置的销售订单领料

1. 以仓库 *61* 工作人员身份登录到 Warehouse Management 移动应用。 （在标准演示数据中，您可以使用 _61_ 作为用户 ID，使用 _1_ 作为密码登录。）
1. 在主菜单上，选择 **出站**。
1. 在 **出站** 菜单上，选择 **销售领料**。
1. 选择 **ID** 字段，然后输入第一个装运的工作 ID。
1. 确认您的输入。
1. 在 **牌照** 字段中，为第一个物料输入牌照编号 (*MyLP1*)。
1. 确认您的输入。
1. 在 **目标牌照** 字段中，输入任意数字（目标牌照不是必须存在）。

    您要将从已处理的波次创建的所有行领取到同一目标牌照。

1. 确认您的输入。
1. 在 **牌照** 字段中，为第二个物料输入牌照编号 (*MyLP2*)。
1. 确认您的输入。

    假设工作人员现在已经收集了订单，但是当他们到达工作中指定的暂存位置时，他们发现该空间已经被占用。 但工作人员可以看到附近另一个位置 (*STAGE03*) 可用。 因此，他们将请求更改暂存位置。 由于启用了定位功能，系统随后将自动更新此工作和所有相关工作的暂存位置。

1. 选择 **替代位置** 替代建议的暂存位置。
1. 在 **工作异常** 字段中，指定 *暂存通道已更改*。
1. 在 **位置** 字段中，输入新的暂存位置 (*STAGE03*)。
1. 确认您的输入。 您将收到“工作已完成”消息。
1. 转到 **仓库管理 \> 工作 \> 所有工作**。
1. 打开第一个装运的工作 ID。 验证暂存位置是否已更新为使用移动设备定义的新位置 (*STAGE03*)。
1. 打开第二个装运的工作 ID。 验证暂存位置是否已由于定位设置而更新为新的暂存位置 (*STAGE03*)。

> [!NOTE]
> 具有相同暂存位置、从同一工作模板行生成的所有剩余的已打开放置工作行的位置将更新为新位置。

### <a name="use-the-load-planning-workbench-to-add-the-new-sales-order-to-the-existing-load"></a>使用装载计划工作台将新的销售订单添加到现有负荷

请按照这些步骤将订单添加到负荷，然后将其发放到仓库。

1. 转到 **仓库管理 \> 装载 \> 装载计划工作台**。
1. 在 **销售行** 选项卡上，查找并选择销售订单 3 的所有销售订单行。
1. 在操作窗格上的 **供应与需求** 选项卡中，在 **添加** 组中，选择 **至现有负荷** 将所选订单行添加到现有负荷。
1. 选择 **确定** 关闭对话框。
1. 在 **负荷** 部分，从前面的步骤中找到并选择负荷。
1. 选择 **发放 \> 发放到仓库**。
1. 在 **将负荷发放到仓库** 对话框中，选择 **确定** 以将选定负荷发放到仓库。
1. 转到 **仓库管理 \> 工作 \> 所有工作** 查看创建的工作。 记下 **工作 ID** 值，因为您在下一个过程中需要用到。

### <a name="sales-order-picking-to-the-staging-location-for-the-third-shipment"></a>第三个装运的到暂存位置的销售订单领料

1. 以仓库 *61* 中的工作人员身份登录移动应用。
1. 在主菜单上，选择 **出站**。
1. 在 **出站** 菜单上，选择 **销售领料**。
1. 选择 **ID** 字段，然后输入第三个装运的工作 ID。
1. 确认您的输入。
1. 在 **牌照** 字段中，为第一个物料输入牌照编号 (*MyLP1*)。
1. 确认您的输入。
1. 在 **目标牌照** 字段中，输入任意数字（目标牌照不是必须存在）。
1. 确认您的输入。
1. 在 **牌照** 字段中，为第二个物料输入牌照编号 (*MyLP2*)。
1. 确认您的输入。

    对于第一个负荷，假设工作人员发现指定的暂存位置不可用。 因此，他们想要使用其他暂存位置 (*STAGE04*)。

1. 选择 **替代位置** 替代建议的暂存位置。
1. 在 **工作异常** 字段中，指定 *暂存通道已更改*。
1. 在 **位置** 字段中，输入新的暂存位置 (*STAGE04*)。
1. 确认您的输入。 您将收到“工作已完成”消息。
1. 转到 **仓库管理 \> 工作 \> 所有工作**。
1. 打开第一个装运的工作 ID。 验证暂存位置是否由于剩余的打开放置行与已完成放置行的工作模板行不对应，而没有更新为新的暂存位置 (*STAGE04*)。
1. 打开第二个装运的工作 ID。 验证暂存位置是否由于暂存位置与已完成放置行的暂存位置不对应，而没有更新为新的暂存位置 (*STAGE04*)。 换言之，已完成的放置工作行和剩余的打开工作行具有不同的暂存位置，在这种情况下，将仅更新具有相同暂存位置的行。
1. 打开第三个装运的工作 ID。 验证暂存位置是否已更新为新的暂存位置 (*STAGE04*)。

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
