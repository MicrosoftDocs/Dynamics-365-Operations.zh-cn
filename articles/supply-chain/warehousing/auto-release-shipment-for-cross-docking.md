---
title: 越库配送的自动下达装运
description: 本主题介绍越库配送策略，当提供需求数量的生产订单完工入库时，它让您可以自动将需求订单下达到仓库，以便将数量直接从生产输出位置移动到出货库位。
author: omulvad
manager: tfehr
ms.date: 10/15/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSCrossDockingTemplate
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: omulvad
ms.search.validFrom: 2019-10-1
ms.dyn365.ops.version: 10.0.6
ms.openlocfilehash: d11db378be6b2ba845de0ac0a2252092a50bc96a
ms.sourcegitcommit: 4f9912439ff78acf0c754d5bff972c4b85763093
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/02/2020
ms.locfileid: "3201471"
---
# <a name="auto-release-shipment-for-cross-docking"></a>越库配送的自动下达装运

[!include [banner](../includes/banner.md)]

本主题介绍越库配送策略，当提供需求数量的生产订单完工入库时，它让您可以自动将需求订单下达到仓库。 以此方式，履行需求订单所需的数量将直接从生产输出位置移动到出货库位。

越库配送是一种仓库处理流程，其中履行出站订单所需的数量从接收入站订单的位置定向到订单的出货台或暂存区域。 （入站订单可以是采购订单、转移单或生产订单。）而高级越库配送功能支持所有供应和需求订单，它需要在确定越库配送机会之前下达出站需求，自动下达装运功能具有以下特征：

- 它仅支持将生产订单作为供应，将销售订单和转移单作为需求。
- 即使在登记供应收货之前（即在生产完工入库之前）未将需求订单下达到仓库，也可以开始越库配送操作。

此越库配送功能具有两个优点：

- 如果只是再次提取这些数量的成品以履行出站订单，则仓库操作可以跳过将一定数量的成品入库到常规仓库存储区的步骤。 取而代之的是，这些数量可以一次从输出位置移动到包装/运输位置。 这样，该功能有助于最大程度地减少存货的处理次数，并最终帮助最大限度地节省仓库车间的时间和空间。
- 仓库操作可以推迟销售订单的下达，并将订单转移到仓库，直到关联生产订单的成品输出已完工入库。 此优点在按订单生产环境中尤其重要，在这种环境中，制造提前期往往比按库存生产环境中的提前期要长。

## <a name="prerequisites"></a>先决条件

| 必备项 | 说明 |
|---|---|
| 项目 | 物料必须在仓库管理流程中启用。<p>**注意：** 启用实际称重的物料不能包含在越库配送流程中。</p> |
| 存放地点 | 仓库必须在仓库管理流程中启用。 |
| 越库配送模板 | 必须为指定仓库至少设置一个使用**在供应收货时**需求下达政策的越库配送模板。 |
| 工作类 | 必须为**越库配送**工作订单类型创建越库配送工作类 ID。 |
| 工作模板 | 需要使用**越库配送**工作订单类型的工作模板才能创建越库配送领料和放置工作。 |
| 位置指令 | 需要使用**越库配送**工作订单类型的位置指令，以指导将打包和装运批量销售订单的位置的放置工作。 |
| 需求订单和生产订单之间的标记 | 仅当根据生产订单预留销售订单和转移单并进行标记时，仓库系统才可以触发出站订单装运的自动下达，并从输出位置按完工入库操作创建越库配送工作。 |

## <a name="example-cross-docking-flow"></a>越库配送流示例

典型的越库配送流包括以下主要步骤。

1. 销售订单接受者为按订单生产产品创建销售订单。 通常，请求数量并不是现有量，必须先进行生产。
2. 销售订单接受者直接从销售订单行创建生产订单。 这样，销售订单接受者就可以根据生产订单数量预留和标记销售订单数量。 

    或者，生产规划员指定在确认计划订单时必须更新标记。

3. 生产订单执行以下步骤：

    1. 生产规划员评估并下达生产订单。 （评估包括原材料预留，下达包括下达到仓库。）
    2. 仓库工作人员根据生产领料工作开始并完成从存储位置到生产输入位置的原材料领料。
    3. 车间操作员开始生产订单。
    4. 在最后一项操作中，机器操作员使用移动设备报告生产订单已完工入库。

4. 系统使用设置来标识两个链接的订单的越库配送事件，然后完成以下任务：

    1. 自动将关联的销售订单下达到仓库以创建装运。
    2. 自动创建越库配送工作，该工作具有从输出位置提取成品并将其移动到越库配送位置指令分配给销售订单的出货库位的说明。
    3. 在生产订单已完工入库后，提示机器操作员立即完成越库配送工作。

5. 在越库配送工作完成并将数量装载到车辆上后，出货仓库规划员确认销售装运。

## <a name="example-scenario"></a>示例场景

对于此情况，必须安装演示数据，并且必须使用 **USMF** 演示数据公司。

### <a name="set-up-cross-docking-that-uses-the-auto-release-shipment-feature"></a>设置使用自动下达装运功能的越库配送

#### <a name="cross-docking-template"></a>越库配送模板

1. 转到**仓库管理** \> **设置** \> **工作** \> **越库配送模板**。
2. 选择**新建**。
3. 在**序列号**字段中，输入 **1**。
4. 在**越库配送模板 ID** 字段中，输入名称，如 **XDock\_RAF**。
5. 在**需求下达政策**字段中，选择**在供应收货时**。
6. 在**仓库**字段中，输入您要在其中设置越库配送流程的仓库的编号。 在这个例子中选择 **51**。

    > [!NOTE]
    > 一旦选择**在供应收货时**作为模板的需求下达政策，页面上的所有其他字段将不可用。 同样，您不能定义任何供应来源。 发生此行为的原因在于，使用自动下达装运功能的越库配送仅支持将生产订单作为供应来源，并且需要销售订单与生产订单之间存在标记。 如果您选择**在供应收货前**作为需求下达政策，则**计划**和**供应来源**选项卡上的字段可用，并且可以进行编辑。

#### <a name="work-classes"></a>工作类

1. 转到**仓库管理** \> **设置** \> **工作** \> **工作类**。
2. 选择**新建**。
3. 在**工作类 ID** 字段中，输入名称，如 **CrossDock**。
4. 在**工作订单类型**字段中，选择**越库配送**。

要限制可以放置越库配送的成品的库位类型，您可以指定一种或多种有效的库位类型。

#### <a name="work-templates"></a>工作模板

1. 转到**仓库管理** \> **设置** \> **工作** \> **工作模板**。
2. 在**工作订单类型**字段中，选择**越库配送**。
3. 选择**新建**。
4. 在**序列号**字段中，输入 **1**。
5. 在**工作模板**字段中，输入名称，如 **CrossDock\_51**。
6. 选择**保存**。
7. 在**工作模板详细信息**部分，选择**新建**。
8. 对于新行，在**工作类型**字段中，选择**领料**。 在**工作类 ID** 字段中，选择 **CrossDock**。
9. 选择**新建**。
10. 对于新行，在**工作类型**字段中，选择**放置**。 在**工作类 ID** 字段中，选择 **CrossDock**。

#### <a name="location-directives"></a>位置指令

成品的标准储存流程需要**放置**位置指令，以指导将领料的生产数量移动到常规存储空间。 同样，您必须设置越库配送**放置**位置指令，以指示工作将完成的数量放置在供关联的销售订单的装运使用的指定出货库位。

对于越库配送，对于常规的成品储存，您不必为领料工作操作创建位置指令，因为已经指定了输出位置。 此外，此输出位置应该设置为资源相关记录之一（即资源、资源组关系或资源组）上的默认输出位置，或者设置为仓库的默认生产成品位置。

1. 转到**仓库管理** \> **设置** \> **库位指令**。
2. 在**工作订单类型**字段中，选择**越库配送**。
3. 选择**新建**。
4. 在**序列号**字段中，输入 **1**。
5. 在**名称**字段中，输入名称，如 **Baydoor**。
6. 在**工作类型**字段中，选择**放置**。
7. 在**站点**字段中，选择 **5**。
8. 在**仓库**字段中，选择 **51**。
9. 在**行**快速选项卡上，选择**新建**。
10. 在**目标数量**字段中，输入范围的最大数量，如 **1000000**。
11. 选择**保存**。
12. 在**位置指令操作**快速选项卡上，选择**新建**。
13. 在**名称**字段中，输入名称，如 **Baydoor**。
14. 选择**保存**。
15. 您可以使用标准查询工具将放置位置限制为一个或多个特定位置。 选择**编辑查询**，然后在**位置**表中选择 **51** 作为**仓库**字段的条件。

### <a name="cross-dock-finished-goods-to-the-outbound-location"></a>将成品越库配送到出货库位

要将成品数量越库配送到关联的销售订单的出货库位，请按照以下步骤操作。

1. 转到**销售和营销** \> **销售订单** \> **所有销售订单**。
2. 选择**新建**。
3. 对于销售订单抬头，选择客户帐户 **US-001** 以及为使用自动下达装运功能的越库配送设置的仓库。
4. 为成品添加一行，然后输入 **10** 作为数量。
5. 在**销售订单行**部分，选择**产品和供应** \> **生产订单**。
6. 在**创建生产订单**对话框中，查看默认值，然后选择**创建**。 新生产订单已创建并链接到销售订单（即其已预留并标记）。
7. 可选：更改**数量**字段的值，使其大于履行销售订单所需的值。 当生产数量已完工入库时，系统将根据处理成品储存的常规过程为标记的数量创建越库配送工作，并为剩余数量创建储存工作。

    如前所述，销售订单和生产订单之间必须存在标记。 否则，越库配送将无法运行。 可以通过多种方式创建标记：

    - 在以下情况下，系统可以自动创建标记：

        - 生产订单直接从销售订单行手动创建（请参见步骤 6）。
        - 计划生产订单已确认，并且**更新标记**字段设置为**标准**。

    - 用户可以通过从需求订单行打开**标记**页面来手动创建标记。

    > [!NOTE]
    > 无法为设置为使用标准和加权平均作为库存模型的物料手动创建标记。

8. 在**生产订单**页面上的“操作”窗格上，在**生产订单**选项卡上的**流程**组中，选择**评估**，然后选择**确定**。 订单已评估，并为生产预留了原材料数量。
9. 在“操作”窗格上，在**生产订单**选项卡上的**流程**组中，选择评估，选择**下达**，然后选择**确定**。 将为原材料创建仓库领料工作。
10. 打开并查看工作。 在“操作”窗格的**仓库**选项卡上，在**常规**组中，选择**工作详细信息**。 记录工作 ID。
11. 打开并登录到 Dynamics 365 for Finance and Operations – 仓库应用以在仓库 51 中运行工作。
12. 转到**生产** \> **生产领料**。
13. 输入工作 ID 以开始并完成原材料领料。 

    在工作完工入库后，将在生产输入位置（USMF 演示数据中的 **005**）提供原材料的数量，然后可以开始执行生产订单。

14. 在**生产订单**页面上的“操作”窗格上，在**生产订单**选项卡上的**流程**组中，选择**开始**，然后选择**确定**。
15. 在应用中，转到**生产** \> **RAF 和储存**。
16. 在**生产 ID** 字段中，输入生产订单编号和其他必填详细信息，然后选择**确定**。

请注意，将发生以下事件：

- 为链接的销售订单触发下达到仓库。
- 根据下达，装运和越库配送工作将创建。 此工作指示仓库操作员领取履行销售订单行所需的数量，并将它们放入越库配送位置指令中指定的出货库位。
- 如果生产订单数量大于销售订单所需的数量，则会创建常规储存工作。 此工作指示仓库操作员根据位置指令，领取越库配送后剩余的成品数量，并将其移至常规存储。
