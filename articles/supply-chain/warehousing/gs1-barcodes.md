---
title: GS1 条码
description: 本主题介绍如何设置 GS1 条码和 QR 码，以便可以在仓库中扫描标签。
author: Mirzaab
ms.date: 03/21/2022
ms.topic: article
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-08-02
ms.dyn365.ops.version: 10.0.25
ms.openlocfilehash: ea928bc8a020035adb36ae2e7873c656e8c3985d
ms.sourcegitcommit: 1050e58e621d9a0454895ed07c286936f8c03320
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/21/2022
ms.locfileid: "8625269"
---
# <a name="gs1-bar-codes"></a>GS1 条码

[!include [banner](../includes/banner.md)]

仓库工作人员使用移动设备扫描仪登记物料、货盘或集装箱的移动时，通常必须完成多个任务。 这些任务包括在移动设备上扫描条码和手动输入信息。 条码使用您使用 Microsoft Dynamics 365 Supply Chain Management 定义和管理的公司特定格式。

已开发发货标签的 GS1 条码，以便为公司间的数据交换提供全局标准。 这些条码在线性 (1D) 符号系统（条码格式）（如 GS1-128）以及 2D 符号系统（如 GS1 DataMatrix 和 GS1 QR 码）中均可用。 GS1 条码不仅对数据进行编码，还允许您使用预定义的 *应用程序标识符* 列表来定义该数据的含义。 GS1 标准定义数据格式以及可用其进行编码的各种数据。 与旧条码标准不同，GS1 条码可以包含多个数据元素。 因此，单条码扫描可以捕获多种类型的产品信息，例如批处理和到期日期。

通过使用 GS1 格式的条码标记货盘和集装箱，Supply Chain Management 中的 GS1 支持可大大简化仓库中的扫描流程。 仓库工作人员可以通过对 GS1 条码进行一次扫描来提取所有必需信息。 利用 GS1 条码，不需要多次扫描和/或手动输入信息，有助于减少与任务关联的时间。 同时，它们还有助于提高准确性。

物流经理必须设置所需的应用程序标识符列表，并将每个标识符与适当的移动设备菜单项相关联。 然后，应用程序标识符可跨仓库用作用于移动和装箱目的的全局设置。 因此，所有发货标签都将需要统一窗体。

除非另有说明，否则本主题将使用术语 *条码* 来同时指代线性 (1D) 条码和 2D 条码。

## <a name="the-gs1-bar-code-format"></a>GS1 条码格式

GS1 一般规范指定了哪些符号系统可用于 GS1 条码以及如何对条码中的数据进行编码。 本节简要介绍了此主题。 有关完整详细信息，请参阅 GS1 发布的 [GS1 一般规范](https://www.gs1.org/docs/barcodes/GS1_General_Specifications.pdf)。 GS1 规范文档会定期更新，其中提供的信息来自最新的 GS1 一般规范版本 22.0。

GS1 条码使用以下符号系统：

- **线性或 1D 条码** – GS1-128 和 GS1 DataBar
- **2D 条码** – GS1 DataMatrix、GS1 QR 码和 GS1 Dotcode

请注意，GS1-128 中特别提到了 GS1，它是普通 Code-128 线性条码、GS1 DataMatrix、GS1 QR 码的特例。 GS1 版本和非 GS1 版本之间的区别在于存在一个特殊字符 (FNC1) 作为条码数据中的第一个字符。 存在 FNC1 字符表示条码中的数据应根据 GS1 规范进行解释。

条码本身的数据由多个数据元素组成，每个数据元素由字段开头的应用程序标识符标识。 通常，此数据同时以人类可读的格式显示在条码下方，应用程序标识符在其中显示在括号中。 下面是一个示例：`(01) 09521101530001 (17) 210119 (10) AB-123`。 此条码包含三个元素：

- **应用程序标识符 01** – 物料的 GS1 全球贸易标识号 (GTIN)。
- **应用程序标识符 17** – 到期日期。
- **应用程序标识符 10** – 批处理号。

对于每个元素，数据可能具有预定义的长度或可变长度。 具有预定义长度的应用程序标识符有一个固定列表。 所有其他应用程序标识符的长度都是可变的，GS1 应用程序标识符列表指定了数据的最大长度和格式。 例如，应用程序标识符 01 的预定义长度为 16 个字符（两个是应用程序标识符本身，另外 14 个是 GTIN），应用程序标识符 17 的预定义长度为 8 个字符（两个是应用程序标识符本身，另外六个是日期）。 但是，应用程序标识符 10 有两个数字表示应用程序标识符本身，另外最多包含 20 个字母数字字符。

将元素放在一起时，如果元素跟在可变长度元素之后，则必须使用分隔符字符。 此分隔符可以是特殊的 FNC1 字符或组分隔符字符（具有 ASCII 码 29 和十六进制代码 1D 的非打印字符）。 最后一个元素之后不应使用分隔符。 虽然分隔符也不应该在具有预定义长度的元素之后使用，但如果使用也不属于严重错误。

在上一个包含应用程序标识符 01、17 和 10 的条码示例的条码数据中，Code-128、QR 码或 DataMatrix 符号中的数据将被编码为 `<FNC1>`**`01`**`09521101530001`**`17`**`210119`**`10`**`AB-123`（应用程序标识符以粗体显示）。 作为最佳做法，任何长度可变的元素都应放在最后，这样就不需要额外使用组分隔符字符。 不过，条码也可以有不同的元素顺序，其中必须使用分隔符。 这里是一个示例：`<FNC1>`**`01`**`09521101530001`**`10`**`AB-123<GS>`**`17`**`210119`。

### <a name="dates-and-decimal-numbers"></a>日期和小数

日期始终以 *YYMMDD* 格式表示，其中的年份世纪由 GS1 规范确定。 只能表示从过去 49 年到未来 50 年（相对于当前年份）的日期。

部分数据元素包含小数。 例如，应用程序标识符 3100、3101 ... 3105 表示以千克为单位的净重。 由于这些应用程序标识符的预定义长度为 10，因此数量可使用六个数字。 小数点的位置由应用程序标识符的最后一个数字指定。 因此，此应用程序标识符系列也可以表示为 *310n*。 由于 GS1 标准规定小数点左边必须始终至少有一个数字，所以最多允许有五个小数位。

下面是几个例子，显示了数字 *123456* 如何通过不同的应用程序标识符解释（以粗体显示）：

- **`3100`**`123456` &rarr; 123456（整数）
- **`3101`**`123456` &rarr; 12345.6（一个小数位）
- **`3102`**`123456` &rarr; 1234.56（两个小数位）
- **`3103`**`123456` &rarr; 123.456（三个小数位）
- **`3104`**`123456` &rarr; 12.3456（四个小数位）
- **`3105`**`123456` &rarr; 1.23456（五个小数位）

## <a name="scanning-gs1-bar-codes-in-supply-chain-management"></a>在 Supply Chain Management 中扫描 GS1 条码

要扫描 GS1 条码，仓库工作人员使用内置或连接到移动设备的扫描仪。 然后，扫描仪将扫描的条码作为一系列键盘事件传输到 Warehouse Management 移动应用。 这种操作模式也称为 *键盘 wedge* 或 *wedge*。 然后，移动应用将接收到的文本按原样发送到 Supply Chain Management。 当系统接收到输入数据时，它首先确定数据是否以配置的表明数据实际上是 GS1 条码的其中一个前缀开头（请参阅[设置全局 GS1 选项](#set-gs1-options)一节）。 如果扫描的数据确实以这些前缀中的一个开头，系统将使用 GS1 分析程序来分析数据并根据其应用程序标识符提取各个数据元素。 数据分析完成后，当前输入字段或多个字段将填充扫描的数据。

### <a name="configuration-of-bar-code-scanner-hardware-and-software"></a>条码扫描仪硬件和软件配置

为使 Supply Chain Management 正确识别和解码 GS1 条码，硬件扫描仪或支持软件必须配置为执行以下操作：

- 为扫描的条码添加前缀，以便系统识别 GS1 条码。
- 将非打印 ASCII 组分隔符字符（ASCII 码 29 或十六进制代码 1D）转换为可打印字符，如波浪号 (~)。

虽然您可以为扫描的条码添加任何前缀，但一种选择是添加 ISO/IEC 15424 符号系统标识符，也称为 *AIM 标识符*。 这个三字符标识符以 `]` 开头，然后有一个字符标识所使用的符号系统，然后是一个用作进一步修饰符的数字。 例如，AIM 标识符 `]C1` 指定 Code 128 条码（由于有字符 `C`），修饰符 `1` 指定在数据的第一个位置有一个 FNC1 字符。 另一方面，`]C0` 是 Code 128 条码，它使用任何其他字符作为数据的第一个字符。

以下五个符号标识符对应于具有应用标识符元素的 GS1 条码：

- `]C1` – 第一个位置 (`1`) 是 FNC1 字符的 Code 128 (`C`)，也称为 GS1-128。
- `]e0` – GS1 DataBar。
- `]d2` – 第一个位置 (`2`) 是 ECC 200 和 FNC1 的 DataMatrix (`d`)，也称为 GS1 DataMatrix。
- `]Q3` – 第一个位置 (`3`) 是 FNC1 的 QR 码 (`Q`) 模型 2 符号，也称为 GS1 QR 码。
- `]J1` – GS1 DotCode。

如果您使用这些标识符，与非 GS1 条码兼容要求扫描仪或扫描软件被配置为删除与 GS1 标识符不对应的任何标识符。 例如，如果您扫描“普通”的 Code 39 条码，将添加前缀 `]A0`。 由于系统不会将此前缀理解为 GS1 前缀之一，因此会将其解释为数据并产生意外结果。

> [!NOTE]
> 为方便起见，Warehouse Management 移动应用版本 2.0.17.0 及更高版本将删除之前列表中未包含的所有 AIM 前缀。 此行为支持您可以将扫描仪配置为添加 AIM 前缀但不删除不需要的前缀的情况。

### <a name="single-and-multiple-field-scanning"></a>单字段和多字段扫描

从条码中分析出数据后，它将被输入到移动设备的流控件中。 有两个方法将被依次处理：

- **单字段扫描** – 此方法仅填充条码被扫描到的字段。 例如，如果您在光标位于 **物料** 字段时扫描条码 `<FNC1>`**`01`**`09521101530001`**`17`**`210119`**`10`**`AB-123`，条码中的 GTIN `09521101530001` 将被输入该字段。 如果您在光标位于 **批处理 ID** 字段时扫描同一个条码，将输入条码中的批处理号 `AB-123`。 此模式适用于所有流中的所有字段，只需要配置 GS1 通用设置。 如果条码包含多个元素，则仍必须对其进行多次扫描，因为一次只能将一条条码输入到移动设备流中。 此行为由 GS1 通用设置控制，如[确定通用 GS1 设置](#generic-gs1-setup)一节所述。
- **多字段扫描** – 此方法通过将其他数据推送到移动设备流状态，在扫描一个条码时填充多个字段。 例如，策略被配置为将应用标识符 01 推入 `ItemId` 控件，将应用标识符 10 推入 `InventBatchId` 字段。 在这种情况下，如果您扫描条码 `<FNC1>`**`01`**`09521101530001`**`17`**`210119`**`10`**`AB-123`，两个变量的数据将被同时推送。 因此，系统不会提示您在流中输入物料和/或批处理号。 此行为由链接到菜单项的 GS1 策略控制，如[将 GS1 策略设置为移动设备菜单项](#policies-for-menus)一节所述。

> [!WARNING]
> 默认 GS1 策略已经过测试，不会出现意外行为。 但是，链接到菜单项的 GS1 策略的自定义可能会导致意外行为，因为流可能无法预期到某些数据在特定时间可用。

## <a name="turn-on-the-gs1-feature"></a>开启 GS1 功能

必须在系统中开启此功能，然后才能使用。 管理员可以使用[功能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)设置检查功能状态和开启功能。 在 **功能管理** 工作区中，此功能按照下面的方式列出：

- **模块**：*仓库管理*
- **功能名称**：*扫描 GS1 条码*

### <a name="turn-on-the-enhanced-parser-for-gs1-barcodes-feature"></a>启用增强型 GS1 条码分析程序功能

如果您使用 GS1 条码，我们建议您同时启用 *增强型 GS1 条码分析程序* 功能。 此功能提供了改进的 GS1 条码分析程序的实现。 它增加了以下改进：

- 它遵循 GS1 一般规范算法进行符号数据分析，并根据此规范验证符号中的数据是否有效。
- 它不需要您设置 **标识符的最大长度** 值，而是使用配置的应用程序标识符中的最长前缀匹配。
- 它使用字母 *n* 来匹配任何数字，让您可以更轻松地配置十进制应用程序标识符。 例如，您可以只配置一个应用程序标识符 (*310n*)，而不是单独的应用程序标识符（*3101*、*3102*、*3103* 等）。
- 它修复了错误编码的数据被解释为字段数据的问题。
- 它作为一个单独的类出现，可以在其他上下文中重用，并支持在填充流字段之前使用可扩展点来操作扫描的数据。

## <a name="set-up-global-gs1-options"></a><a name="set-gs1-options"></a>设置全局 GS1 选项

**仓库管理参数** 页面提供了一些用于确定全局 GS1 选项的设置。

要设置全局 GS1 选项，请按照以下步骤操作。

1. 转到 **仓库管理 \> 设置 \> 仓库管理参数**。
1. 在 **条码** 快速选项卡上，设置以下字段：

    - **FNC1 字符**、**Datamatrix 字符** 和 **QR 码字符** – 指定应被解释为每种 GS1 条码类型前缀的字符。
    - **组分隔符** – 指定替换 ASCII 组分隔符字符的字符。
    - **标识符的最大长度** - 指定应用程序标识符允许的最大字符数。 如果您的系统中打开了 *增强型 GS1 分析程序* 功能，则不需要此字段。

> [!NOTE]
> 前缀告诉系统条码是根据 GS1 标准编码的。 最多可同时使用三个前缀（**FNC1 字符**、**数据矩阵字符** 和 **QR 码字符**）。

## <a name="gs1-application-identifiers"></a>GS1 申请标识符

GS1 格式不仅对数据进行编码，还允许您使用预定义的应用程序标识符列表来定义数据的含义。 物流经理必须设置所需的应用程序标识符列表，并将每个标识符与适当的移动设备菜单项相关联。 然后，标识符可跨仓库用作用于移动和装箱目的的全局设置。 因此，所有发货标签都将需要统一窗体。

系统使用数据（特别是预定义的应用程序标识符）来建立应该应用于相关扫描信息的规则。

每个应用程序标识符都向系统发出信号，表明扫描的条码中的后续字符应被视为加密信息块。 应用程序标识符的设置定义了系统应如何解释条码并将其保存为系统中的值。

物流经理可以使用标准国际应用程序标识符和/或创建自己的标识符。

### <a name="load-the-standard-application-identifiers"></a>加载标准应用程序标识符

若要开始使用，您可以加载一系列通用国际应用程序标识符。 然后，您可以根据需要稍后扩展或编辑列表。

若要加载标准应用程序标识符，请按照以下步骤操作。

1. 转到 **仓库管理 \> 设置 \> GS1 \> GS1 应用程序标识符**。
1. 在“操作窗格”中选择 **创建默认设置**。

> [!WARNING]
> **创建默认设置** 命令将删除所有当前定义的应用程序标识符，并将它们替换为标准列表。 但是，加载默认设置后，您可以根据需要自定义列表。

### <a name="set-up-custom-application-identifiers"></a>设置自定义应用程序标识符

如果您公司使用的部分或全部应用程序标识符不同于标准集，则您可以从头开始创建自己的代码或根据需要自定义标准集。

若要设置和自定义 GS1 自己的应用程序标识符，请按照以下步骤操作。

1. 转到 **仓库管理 \> 设置 \> GS1 \> GS1 应用程序标识符**。
1. 按以下步骤之一：

    - 要创建新标识符，请在操作窗格上选择 **新建**。
    - 若要编辑现有标识符，请选择标识符，然后在操作窗格上选择 **编辑**。

1. 为新的或选定的标识符设置以下字段：

    - **应用程序标识符** - 输入应用程序标识符的标识符代码。 通常，此代码是两位数整数，但可以更长。 对于小数值，最后一位指示小数位的数目。 有关详细信息，请参阅此列表后面的 **十进制** 复选框的描述。 如果启用了 *增强型 GS1 条码分析程序* 功能，您可以通过使用字母 *n* 作为应用程序标识符中的最后一个字符来为所有小数位变型创建单个应用程序标识符。 例如，您可以只配置一个应用程序标识符 (*310n*)，而不是为每个小数位数配置单独的应用程序标识符（*3101*、*3102*、*3103* 等）。
    - **描述** – 输入对此标识符的简短描述。
    - **固定长度** - 如果使用此应用程序标识符扫描的值具有固定字符数，请选中此复选框。 如果值长度可变，请清除此复选框。 在这种情况下，您必须使用您在 **仓库管理参数** 页面上指定的组分隔符字符指示值的末尾。
    - **长度** - 输入可以出现在使用此应用程序标识符扫描的值中的最大字符数。 如果选中 **固定长度** 复选框，则应正好有这么多个字符。
    - **类型** - 选择使用此应用程序标识符（*数字*、*字母数字* 或 *日期*）扫描的值的类型。 有关如何在条码数据中表示日期和数字的详细信息，请参阅[日期和小数](#dates-and-decimal-numbers)一节。
    - **小数** - 如果值包含隐含的小数点，请选中此复选框。 如果选中此框，系统将使用应用程序标识符的最后一位来确定小数位的数目。 有关如何在条码数据中表示日期和数字的详细信息，请参阅[日期和小数](#dates-and-decimal-numbers)一节。

> [!WARNING]
> 虽然系统允许您为任何应用程序标识符设置 **固定长度** 复选框，但它只能用于根据 GS1 一般规范具有预定义长度的应用程序标识符子集。 增强型 GS1 分析程序已经包含所有具有预定义长度的应用程序标识符的列表。

> [!NOTE]
> 如果后跟应用程序标识符的值具有固定长度，在 **仓库管理参数** 页面上指定的 **组分隔符** 值将为可选值。

## <a name="establish-the-generic-gs1-setup"></a><a name="generic-gs1-setup"></a>确定通用 GS1 设置

通用 GS1 设置将建立一个通用映射集合。 这些映射将移动应用中的每个相关输入字段与应用程序标识符相匹配，该标识符控制应如何解释扫描条码中的值并将其存储在该字段中。 默认情况下，这些设置适用于所有移动设备菜单项的所有扫描。 但是，可以通过分配给特定菜单项的 GS1 策略针对一个或多个特定字段将其覆盖。

通用 GS1 设置一次只允许扫描一个值。 因此，如果要从单次扫描中加载多个字段值，则必须为相关菜单项设置 GS1 策略。

有关 GS1 策略的详细信息，请参阅下一个部分。

### <a name="load-the-standard-generic-gs1-setup"></a>加载标准通用 GS1 设置

通过 **GS1 通用设置** 页面，您可以在移动设备字段和由默认设置创建的标准应用程序标识符之间加载一组标准映射。

若要确定通用 GS1 设置，请转到 **仓库管理 \> 设置 \> GS1 \> GS1 通用设置**。 然后选择 **创建默认设置**，以将合适的应用程序标识符自动分配给移动设备菜单项常用的每个字段。

> [!WARNING]
> 如果已存在任何通用 GS1 设置，则 **创建默认设置** 命令将完全删除它并加载标准设置。

### <a name="customize-the-standard-generic-gs1-setup"></a>自定义标准通用 GS1 设置

若要自定义通用 GS1 设置，请遵循以下步骤。

1. 转到 **仓库管理 \> 设置 \> GS1 \> GS1 通用设置**。
1. 按以下步骤之一：

    - 要创建新映射，请在操作窗格中选择 **新建**。
    - 若要编辑现有映射，请选择映射，然后在操作窗格上选择 **编辑**。

1. 为新的或选定的映射设置以下字段：

    - **字段** - 选择或输入传入值应分配给的移动应用输入字段。 该值不是工作人员看到的显示名称。 相反，它是分配给基础代码中的字段的键名称。 默认设置提供可能有用的字段集合，并且包含每个字段的直观键名称和匹配的编程功能。 但是，您可能必须与开发合作伙伴联系以查找正确的实现选择。
    - **应用程序标识符** - 选择 **GS1 应用程序标识符** 页面上定义的适用应用程序标识符。 此标识符确定如何解释条码并将其存储为指定字段的值。 选择应用程序标识符后，**说明** 字段将显示其描述。

## <a name="set-up-gs1-policies-to-be-to-mobile-device-menu-items"></a><a name="policies-for-menus"></a>将 GS1 策略设置为移动设备菜单项

GS1 标准的目的是让工作人员在扫描一次单个条码时加载多个值。 为了实现此目的，物流经理必须设置 GS1 策略，告知系统如何解释多值条码。 稍后，您可以将策略分配给移动设备菜单项，以控制工作人员在使用特定菜单项期间扫描条码时如何解释条码。

如果未将 GS1 策略分配给菜单项，则系统只能捕获一个值。 此值会应用于工作人员进行通用 GS1 设置所指定的扫描时选择的移动应用输入。 如果将 GS1 策略分配给菜单项，则系统仍使用通用 GS1 设置将第一个条码值映射到所选字段。 但是，它随后可以捕获适用策略所指定的其他字段值。

### <a name="load-the-standard-specific-gs1-policies"></a>加载标准特定 GS1 策略

要快速开始使用，您可以加载一组 GS1 策略。 然后，您可以根据需要稍后扩展或编辑策略。

若要加载标准应用程序标识符，请按照以下步骤操作。

1. 转到 **仓库管理 \> 设置 \> GS1 \> GS1 策略**。
1. 在“操作窗格”中选择 **创建默认设置**。

> [!WARNING]
> **创建默认设置** 命令将删除所有当前定义的策略，并将它们替换为标准策略集。 但是，加载默认设置后，您可以根据需要自定义策略。

### <a name="set-up-custom-specific-gs1-policies"></a>设置自定义的特定 GS1 策略

> [!WARNING]
> 有些 GS1 策略可能不能适用于您使用的每个移动流。 当您配置自定义 GS1 策略时，您必须使用在流中不同点扫描的不同信息来测试移动设备流，这样您可以确定流的行为是否符合您的预期。

若要设置和自定义您的 GS1 策略，请执行以下步骤。

1. 转到 **仓库管理 \> 设置 \> GS1 \> GS1 策略**。
1. 按以下步骤之一：

    - 要创建新策略，请在操作窗格中选择 **新建**。
    - 要编辑现有策略，请在列表窗格中选择策略。

1. 在新策略或选定策略的标题上，设置以下字段：

    - **策略名称** - 输入策略的名称。
    - **描述** – 输入对此策略的简短描述。

1. 在标题下方的快速选项卡上，根据当前策略的需要将字段名称映射到应用程序标识符。 使用工具栏上的按钮可以根据需要添加或删除行。 对于每一行，设置以下字段：

    - **字段** - 选择或输入传入值应分配给的移动应用输入字段。 该值不是工作人员看到的显示名称。 相反，它是分配给基础代码中的字段的键名称。 默认设置提供可能有用的字段集合，并且包含每个字段的直观键名称和匹配的编程功能。 但是，您可能必须与开发合作伙伴联系以查找正确的实现选择。
    - **应用程序标识符** - 选择 **GS1 应用程序标识符** 页面上定义的适用应用程序标识符。 此标识符确定如何解释条码并将其存储为指定字段的值。 选择应用程序标识符后，**说明** 字段将显示其描述。
    - **排序** - 每个多值条码都包含一系列应用程序标识符，每个标识符后跟一个值。 适用的 GS1 策略确定将哪个应用程序标识符映射到每个数据库字段。 但是，如果条码多次使用同一应用程序标识符，则系统使用应用程序标识符在代码中的显示顺序将它们映射到字段。 对于与一个或多个其他行共享应用程序标识符的行，请使用此字段确定匹配行的处理顺序。 将首先处理排序值最低的行。

> [!NOTE]
> 对于包含多个相同应用程序标识符的条码，您 *必须* 使用 **排序** 字段来确定字段的顺序。

## <a name="assign-gs1-policies-to-mobile-device-menu-items"></a>将 GS1 策略分配给移动设备菜单项

默认情况下，根据通用 GS1 设置，所有移动设备菜单项都会提供输入字段，工作人员可以在其中扫描单个值。 如果您希望工作人员能够在一次扫描中扫描任何移动设备菜单项的多个字段值，您必须按照以下步骤分配 GS1 策略。

1. 转到 **仓库管理 \> 设置 \> 移动设备 \> 移动设备菜单项**。
1. 创建或打开菜单项。
1. 在 **常规** 快速选项卡上，将 **GS1 策略** 字段设置为适用于菜单项的策略。

## <a name="gs1-setup-example"></a>GS1 设置示例

此示例适用于按以下方式设置 GS1 选项的系统：

- 在 **仓库管理参数** 页面上，已确定以下全局设置：

    - **FNC1 字符**：*\]C1*
    - **组分隔符**：*\~*

- 在 **GS1 应用程序标识符** 页面上，以下应用程序标识符与此示例相关。

    | 申请标识符 | 说明 | 固定长度 | 长度 | 类型 | 十进制 |
    |---|---|---|---|---|---|
    | 01 | GTIN | 已选择 | 14 | 数字 | 已清除 |
    | 10 | 批处理号 | 已清除 | 20 | 字母数字 | 已清除 |
    | 17 | 到期日期 | 已选择 | 6 | 日期 | 已清除 |
    | 30 | 收货数量 | 已清除 | 8 | 数字 | 已清除 |

- 在 **GS1 通用设置** 页面上，通用 GS1 策略的以下设置与此示例相关。

    | 字段 | 申请标识符 | 说明 |
    |---|---|---|
    | ItemId | 01 | GTIN |

- 在 **GS1 策略** 页上，存在 **策略名称** 字段设置为 *采购接收* 的策略。 此策略包括以下行。

    | 字段 | 申请标识符 | 说明 | 排序 |
    |---|---|---|---|
    | ExpDate | 17 | 到期日期 | 0 |
    | InventBatchId | 10 | 批处理号 | 0 |
    | 数量 | 30 | 收货数量 | 0 |

- 在 **移动设备菜单项** 页面上，有一个名为 *采购接收* 的菜单项。 其 **GS1 策略** 字段设置为 *采购接收*。

采购订单的货物到达仓库后，工作人员将执行以下步骤。

1. 在移动设备上，选择 **采购接收** 菜单项。
1. 输入采购订单编号。
1. 选择 **物料** 字段，然后扫描以下条码：`]C10100000012345678~3030~10b1~17220215`。

由于为此示例已确定设置，系统会按以下方式分析扫描的条码。

| 字段键 | 申请 ID | 值 | 备注 |
|---|---|---|---|
| ItemId | 01 | 00000012345678 | 由于工作人员已扫描到 **物料** 字段，因此条码中的第一个值将映射到该字段。 映射取自 GS1 通用设置。 |
| 数量 | 30 | 30 | 由于在一次扫描中捕获了多个字段值，因此，会从分配给 **采购接收** 菜单项的 GS1 策略中获取此映射和所有剩余映射。 该值是收到的数量。 |
| InventBatchId | 10 | b1 | 此值为批 ID。 |
| ExpDate | 17 | 220215 | 日期格式为 YYMMDD。 因此，到期日期为 2022 年 2 月 15 日。 |

然后登记收据，并在单次扫描后输入相关的数据库值。
