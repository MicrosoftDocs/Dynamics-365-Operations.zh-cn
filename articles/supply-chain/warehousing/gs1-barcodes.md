---
title: GS1 条码和 QR 码
description: 本主题介绍如何设置 GS1 条码和 QR 码，以便可以在仓库中扫描标签。
author: Mirzaab
ms.date: 08/02/2021
ms.topic: article
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-08-02
ms.dyn365.ops.version: 10.0.21
ms.openlocfilehash: 8f438e18356a6c16cc75bb59153ae7353d984a5a
ms.sourcegitcommit: ecd4c148287892dcd45656f273401315adb2805e
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/18/2021
ms.locfileid: "7500322"
---
# <a name="gs1-bar-codes-and-qr-codes"></a>GS1 条码和 QR 码

[!include [banner](../includes/banner.md)]

仓库工作人员使用移动设备扫描仪登记物料、货盘或集装箱的移动时，通常必须完成多个任务。 这些任务包括在移动设备上扫描条码和手动输入信息。 条码使用您使用 Microsoft Dynamics 365 Supply Chain Management 定义和管理的公司特定格式。

已开发发货标签的 GS1 条码和 QR 码格式，以便为公司间的数据交换提供全局标准。 GS1 格式不仅对数据进行编码，还允许您使用预定义的 *应用程序标识符* 列表来定义数据的含义。 GS1 标准定义数据格式以及可用其进行编码的各种数据。 与旧条码不同，GS1 条码可以包含多个数据元素。 因此，单条码扫描可以捕获多种类型的产品信息，例如批处理和到期日期。

通过使用 GS1 格式的代码标记货盘和集装箱，Supply Chain Management 中的 GS1 支持可大大简化仓库中的扫描流程。 仓库工作人员可以通过对 GS1 条码进行一次扫描来提取所有必需信息。 利用 GS1 条码，不需要多次扫描和/或手动输入信息，有助于减少与任务关联的时间。 同时，它们还有助于提高准确性。

物流经理必须设置所需的应用程序标识符列表，并将每个标识符与适当的移动设备菜单项相关联。 然后，应用程序标识符可跨仓库用作用于移动和装箱目的的全局设置。 因此，所有发货标签都将需要统一窗体。

除非另有说明，否则本主题将使用术语 *条码* 来同时指代条码和 QR 码。

## <a name="turn-on-the-gs1-feature"></a>开启 GS1 功能

此功能只有在系统中开启之后才能使用。 管理员可以使用[功能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)设置检查功能状态和开启功能。 在 **功能管理** 工作区中，此功能按照下面的方式列出：

- **模块**：*仓库管理*
- **功能名称**：*扫描 GS1 条码*

## <a name="set-up-global-gs1-options"></a>设置全局 GS1 选项

**仓库管理参数** 页面提供了一些用于确定全局 GS1 选项的设置。

要设置全局 GS1 选项，请按照以下步骤操作。

1. 转到 **仓库管理 \> 设置 \> 仓库管理参数**。
1. 在 **条码** 快速选项卡上，设置以下字段：

    - **FNC1 字符** - 指定在解析条码时应解释为前缀的字符。
    - **数据矩阵字符** - 指定在解析数据矩阵时应解释为前缀的字符。
    - **QR 码字符** - 指定在解析 QR 码时应解释为前缀的字符。
    - **组分隔符** - 指定标识条码或 QR 码的单独部分的字符。
    - **标识符的最大长度** - 指定应用程序标识符允许的最大字符数。

> [!NOTE]
> 前缀告诉系统条码是根据 GS1 标准加密的。 最多可同时使用三个前缀（**FNC1 字符**、**数据矩阵字符** 和 **QR 码字符**）。

## <a name="gs1-application-identifiers"></a>GS1 申请标识符

GS1 格式不仅对数据进行编码，还允许您使用预定义的应用程序标识符列表来定义数据的含义。 物流经理必须设置所需的应用程序标识符列表，并将每个标识符与适当的移动设备菜单项相关联。 然后，标识符可跨仓库用作用于移动和装箱目的的全局设置。 因此，所有发货标签都将需要统一窗体。

系统使用数据（特别是预定义的应用程序标识符）来建立应该应用于相关扫描信息的规则。

每个应用程序标识符都向系统发出信号，表明扫描的条码中的后续字符应被视为加密信息块。 应用程序标识符的设置定义了系统应如何解释条码并将其保存为系统中的值。

物流经理可以使用标准国际应用程序标识符和/或创建自己的标识符。

### <a name="load-the-standard-application-identifiers"></a>加载标准应用程序标识符

若要开始使用，您可以加载一系列通用国际应用程序标识符。 然后，您可以根据需要稍后扩展或编辑列表。

若要加载标准应用程序标识符，请按照以下步骤操作。

1. 转到 **仓库管理 \> 设置 \> GS1 \> GS1 应用程序标识符**。
1. 在“操作窗格”中选择 **创建默认设置**。

> [!WARNING]
> **创建默认设置** 命令将删除所有当前定义的应用程序标识符，并将它们替换为标准列表。 但是，加载默认设置后，您可以根据需要自定义列表。

### <a name="set-up-custom-application-identifiers"></a>设置自定义应用程序标识符

如果您公司使用的部分或全部应用程序标识符不同于标准集，则您可以从头开始创建自己的代码或根据需要自定义标准集。

若要设置和自定义 GS1 自己的应用程序标识符，请按照以下步骤操作。

1. 转到 **仓库管理 \> 设置 \> GS1 \> GS1 应用程序标识符**。
1. 按以下步骤之一：

    - 要创建新标识符，请在操作窗格上选择 **新建**。
    - 若要编辑现有标识符，请选择标识符，然后在操作窗格上选择 **编辑**。

1. 为新的或选定的标识符设置以下字段：

    - **应用程序标识符** - 输入应用程序标识符的标识符代码。 通常，此代码是两位数整数，但可以更长。 对于小数值，最后一位指示小数位的数目。 有关详细信息，请参阅此列表后面的 **十进制** 复选框的描述。
    - **描述** – 输入对此标识符的简短描述。
    - **固定长度** - 如果使用此应用程序标识符扫描的值具有固定字符数，请选中此复选框。 如果值长度可变，请清除此复选框。 在这种情况下，您必须使用您在 **仓库管理参数** 页面上指定的组分隔符字符指示值的末尾。
    - **长度** - 输入可以出现在使用此应用程序标识符扫描的值中的最大字符数。 如果选中 **固定长度** 复选框，则应正好有这么多个字符。
    - **类型** - 选择使用此应用程序标识符（*数字*、*字母数字* 或 *日期*）扫描的值的类型。 对于日期，预期格式为 YYMMDD（不含空格或连字符）。
    - **小数** - 如果值包含隐含的小数点，请选中此复选框。 如果选中此框，系统将使用应用程序标识符的最后一位来确定小数位的数目。 例如，如果应用程序标识符为 *3205*，则值的最右五位将被解释为在小数点之后。

> [!NOTE]
> 如果应用程序标识符之后的值具有固定长度，或者其长度已达到最大（即，如果长度等于为应用程序标识符设置的 **长度** 值），则在 **仓库管理** 参数页上指定的组分隔符是可选分隔符。

## <a name="establish-the-generic-gs1-setup"></a>确定通用 GS1 设置

通用 GS1 设置将建立一个通用映射集合。 这些映射将移动应用中的每个相关输入字段与应用程序标识符相匹配，该标识符控制应如何解释扫描条码中的值并将其存储在该字段中。 默认情况下，这些设置适用于所有移动设备菜单项的所有扫描。 但是，可以通过分配给特定菜单项的 GS1 策略针对一个或多个特定字段将其覆盖。

通用 GS1 设置一次只允许扫描一个值。 因此，如果要从单次扫描中加载多个字段值，则必须为相关菜单项设置 GS1 策略。

有关 GS1 策略的详细信息，请参阅下一个部分。

### <a name="load-the-standard-generic-gs1-setup"></a>加载标准通用 GS1 设置

通过 **GS1 通用设置** 页面，您可以在移动设备字段和由默认设置创建的标准应用程序标识符之间加载一组标准映射。

若要确定通用 GS1 设置，请转到 **仓库管理 \> 设置 \> GS1 \> GS1 通用设置**。 然后选择 **创建默认设置**，以将合适的应用程序标识符自动分配给移动设备菜单项常用的每个字段。

> [!WARNING]
> 如果已存在任何通用 GS1 设置，则 **创建默认设置** 命令将完全删除它并加载标准设置。

### <a name="customize-the-standard-generic-gs1-setup"></a>自定义标准通用 GS1 设置

若要自定义通用 GS1 设置，请遵循以下步骤。

1. 转到 **仓库管理 \> 设置 \> GS1 \> GS1 通用设置**。
1. 按以下步骤之一：

    - 要创建新映射，请在操作窗格中选择 **新建**。
    - 若要编辑现有映射，请选择映射，然后在操作窗格上选择 **编辑**。

1. 为新的或选定的映射设置以下字段：

    - **字段** - 选择或输入传入值应分配给的移动应用输入字段。 该值不是工作人员看到的显示名称。 相反，它是分配给基础代码中的字段的键名称。 默认设置提供可能有用的字段集合，并且包含每个字段的直观键名称和匹配的编程功能。 但是，您可能必须与开发合作伙伴联系以查找正确的实现选择。
    - **应用程序标识符** - 选择 **GS1 应用程序标识符** 页面上定义的适用应用程序标识符。 此标识符确定如何解释条码并将其存储为指定字段的值。 选择应用程序标识符后，**说明** 字段将显示其描述。

## <a name="set-up-gs1-policies-that-you-can-assign-to-mobile-device-menu-items"></a>设置可分配给移动设备菜单项的 GS1 策略

GS1 标准的目的是让工作人员在扫描一次单个条码时加载多个值。 为了实现此目的，物流经理必须设置 GS1 策略，告知系统如何解释多值条码。 稍后，您可以将策略分配给移动设备菜单项，以控制工作人员在使用特定菜单项期间扫描条码时如何解释条码。

如果未将 GS1 策略分配给菜单项，则系统只能捕获一个值。 此值会应用于工作人员进行通用 GS1 设置所指定的扫描时选择的移动应用输入。 如果将 GS1 策略分配给菜单项，则系统仍使用通用 GS1 设置将第一个条码值映射到所选字段。 但是，它随后可以捕获适用策略所指定的其他字段值。

### <a name="load-the-standard-specific-gs1-policies"></a>加载标准特定 GS1 策略

要快速开始使用，您可以加载一组 GS1 策略。 然后，您可以根据需要稍后扩展或编辑策略。

若要加载标准应用程序标识符，请按照以下步骤操作。

1. 转到 **仓库管理 \> 设置 \> GS1 \> GS1 策略**。
1. 在“操作窗格”中选择 **创建默认设置**。

> [!WARNING]
> **创建默认设置** 命令将删除所有当前定义的策略，并将它们替换为标准策略集。 但是，加载默认设置后，您可以根据需要自定义策略。

### <a name="set-up-custom-specific-gs1-policies"></a>设置自定义的特定 GS1 策略

若要设置和自定义您的 GS1 策略，请执行以下步骤。

1. 转到 **仓库管理 \> 设置 \> GS1 \> GS1 策略**。
1. 按以下步骤之一：

    - 要创建新策略，请在操作窗格中选择 **新建**。
    - 要编辑现有策略，请在列表窗格中选择策略。

1. 在新策略或选定策略的标题上，设置以下字段：

    - **策略名称** - 输入策略的名称。
    - **描述** – 输入对此策略的简短描述。

1. 在标题下方的快速选项卡上，根据当前策略的需要将字段名称映射到应用程序标识符。 使用工具栏上的按钮可以根据需要添加或删除行。 对于每一行，设置以下字段：

    - **字段** - 选择或输入传入值应分配给的移动应用输入字段。 该值不是工作人员看到的显示名称。 相反，它是分配给基础代码中的字段的键名称。 默认设置提供可能有用的字段集合，并且包含每个字段的直观键名称和匹配的编程功能。 但是，您可能必须与开发合作伙伴联系以查找正确的实现选择。
    - **应用程序标识符** - 选择 **GS1 应用程序标识符** 页面上定义的适用应用程序标识符。 此标识符确定如何解释条码并将其存储为指定字段的值。 选择应用程序标识符后，**说明** 字段将显示其描述。
    - **排序** - 每个多值条码都包含一系列应用程序标识符，每个标识符后跟一个值。 适用的 GS1 策略确定将哪个应用程序标识符映射到每个数据库字段。 但是，如果条码多次使用同一应用程序标识符，则系统使用应用程序标识符在代码中的显示顺序将它们映射到字段。 对于与一个或多个其他行共享应用程序标识符的行，请使用此字段确定匹配行的处理顺序。 将首先处理排序值最低的行。

> [!NOTE]
> 对于包含多个相同应用程序标识符的条码，您 *必须* 使用 **排序** 字段来确定字段的顺序。

## <a name="assign-gs1-policies-to-mobile-device-menu-items"></a>将 GS1 策略分配给移动设备菜单项

默认情况下，根据通用 GS1 设置，所有移动设备菜单项都会提供输入字段，工作人员可以在其中扫描单个值。 如果您希望工作人员能够在一次扫描中扫描任何移动设备菜单项的多个字段值，您必须按照以下步骤分配 GS1 策略。

1. 转到 **仓库管理 \> 设置 \> 移动设备 \> 移动设备菜单项**。
1. 创建或打开菜单项。
1. 在 **常规** 快速选项卡上，将 **GS1 策略** 字段设置为适用于菜单项的策略。

## <a name="gs1-setup-example"></a>GS1 设置示例

此示例适用于按以下方式设置 GS1 选项的系统：

- 在 **仓库管理参数** 页面上，已确定以下全局设置：

  - **FNC1 字符**：*\]C1*
  - **组分隔符**：*\~*

- 在 **GS1 应用程序标识符** 页面上，以下应用程序标识符与此示例相关。

    | 申请标识符 | 说明 | 固定长度 | 长度 | 类型 | 十进制 |
    |---|---|---|---|---|---|
    | 01 | GTIN | 已选择 | 14 | 数字 | 已清除 |
    | 10 | 批处理号 | 已清除 | 20 | 字母数字 | 已清除 |
    | 17 | 到期日期 | 已选择 | 6 | 日期 | 已清除 |
    | 30 | 收货数量 | 已清除 | 8 | 数字 | 已清除 |

- 在 **GS1 通用设置** 页面上，通用 GS1 策略的以下设置与此示例相关。

    | 字段 | 申请标识符 | 说明 |
    |---|---|---|
    | ItemId | 01 | GTIN |

- 在 **GS1 策略** 页上，存在 **策略名称** 字段设置为 *采购接收* 的策略。 此策略包括以下行。

    | 字段 | 申请标识符 | 说明 | 排序 |
    |---|---|---|---|
    | ExpDate | 17 | 到期日期 | 0 |
    | InventBatchId | 10 | 批处理号 | 0 |
    | 数量 | 30 | 收货数量 | 0 |

- 在 **移动设备菜单项** 页面上，有一个名为 *采购接收* 的菜单项。 其 **GS1 策略** 字段设置为 *采购接收*。

采购订单的货物到达仓库后，工作人员将执行以下步骤。

1. 在移动设备上，选择 **采购接收** 菜单项。
1. 输入采购订单编号。
1. 选择 **物料** 字段，然后扫描以下条码：*\]C10100000012345678\~3030\~10b1\~17220215*。

由于为此示例已确定设置，系统会按以下方式分析扫描的条码。

| 字段键 | 申请 ID | 值 | 备注 |
|---|---|---|---|
| ItemId | 01 | 00000012345678 | 由于工作人员已扫描到 **物料** 字段，因此条码中的第一个值将映射到该字段。 映射取自 GS1 通用设置。 |
| 数量 | 30 | 30 | 由于在一次扫描中捕获了多个字段值，因此，会从分配给 **采购接收** 菜单项的 GS1 策略中获取此映射和所有剩余映射。 该值是收到的数量。 |
| InventBatchId | 10 | b1 | 此值为批 ID。 |
| ExpDate | 17 | 220215 | 日期格式为 YYMMDD。 因此，到期日期为 2022 年 2 月 15 日。 |

然后登记收据，并在单次扫描后输入相关的数据库值。
