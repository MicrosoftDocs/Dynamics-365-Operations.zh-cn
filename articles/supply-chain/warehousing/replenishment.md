---
title: 补货概览
description: 此主题介绍可用于使用仓库管理提供功能的仓库的补货策略。
author: Mirzaab
manager: tfehr
ms.date: 02/19/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSReplenishmentTemplates, WHSReplenishmentTemplates, WHSInventFixedLocation
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 90043
ms.assetid: 49fa97eb-8e10-49a5-9261-1e393159f178
ms.search.region: Global
ms.search.industry: Distribution
ms.author: mirzaab
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 6c53596f9b11b1a7be4b8f1e18d58a202c74acd4
ms.sourcegitcommit: a36a4f9915ae3eb36bf8220111cf1486387713d9
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/16/2020
ms.locfileid: "4016508"
---
# <a name="replenishment-overview"></a><span data-ttu-id="bd38f-103">补货概览</span><span class="sxs-lookup"><span data-stu-id="bd38f-103">Replenishment overview</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="bd38f-104">此主题介绍可用于使用仓库管理提供功能的仓库的补货策略。</span><span class="sxs-lookup"><span data-stu-id="bd38f-104">This topic describes the replenishment strategies that are available for warehouses that use the functionality that is available in Warehouse management.</span></span> <span data-ttu-id="bd38f-105">此主题中的信息不适用于可用于库存管理的仓库解决方案。</span><span class="sxs-lookup"><span data-stu-id="bd38f-105">The information in this topic doesn't apply to the warehousing solution that is available in Inventory management.</span></span>

<span data-ttu-id="bd38f-106">提供了以下补货策略︰</span><span class="sxs-lookup"><span data-stu-id="bd38f-106">The following replenishment strategies are available:</span></span>

- <span data-ttu-id="bd38f-107">**波次需求补货** –在由波次创建工作时，如果库存不可用，则此策略创建出站订单或负荷的补货工作。</span><span class="sxs-lookup"><span data-stu-id="bd38f-107">**Wave demand replenishment** – This strategy creates replenishment work for outbound orders or loads if inventory isn't available when the wave creates work.</span></span> <span data-ttu-id="bd38f-108">例如，在处理波次时，如果销售订单的所需数量不可用，可以创建补货工作。</span><span class="sxs-lookup"><span data-stu-id="bd38f-108">For example, replenishment work can be created if the quantity that is required for a sales order isn't available when a wave is processed.</span></span>
- <span data-ttu-id="bd38f-109">**最小/最大补货** –此策略使用最小和最大库存限制以确定何时补货位置。</span><span class="sxs-lookup"><span data-stu-id="bd38f-109">**Min/Max replenishment** – This strategy uses minimum and maximum stocking limits to determine when locations should be replenished.</span></span> <span data-ttu-id="bd38f-110">物料和位置条件定义为补货进行评估的库存。</span><span class="sxs-lookup"><span data-stu-id="bd38f-110">The item and location criteria define the inventory that is evaluated for replenishment.</span></span> <span data-ttu-id="bd38f-111">最小/最大补货模板是用于维护领料库位最佳级别的主要机制。</span><span class="sxs-lookup"><span data-stu-id="bd38f-111">Min/Max replenishment templates are the primary mechanism for maintaining optimal levels in picking locations.</span></span> <span data-ttu-id="bd38f-112">为了保证足够的拣选面库存以满足波次要求，可以作为最小/最大补货周期之间的补充来使用需求补货。</span><span class="sxs-lookup"><span data-stu-id="bd38f-112">To help guarantee that enough pick face inventory is available to meet wave demand, you can use demand replenishment as a supplement between Min/Max replenishment cycles.</span></span>
- <span data-ttu-id="bd38f-113">**负荷需求补货** –此策略将多个负荷需求累加，并创建所需补货工作以储备相关领料库位。</span><span class="sxs-lookup"><span data-stu-id="bd38f-113">**Load demand replenishment** – This strategy sums the demand for several loads and creates the replenishment work that is required in order to stock the relevant picking locations.</span></span> <span data-ttu-id="bd38f-114">此策略有助于保证发布负荷后可以在在仓库中领取创建的负荷。</span><span class="sxs-lookup"><span data-stu-id="bd38f-114">This strategy helps guarantee that the loads that are created can be picked in the warehouse after they are released.</span></span>
- <span data-ttu-id="bd38f-115">**即时补货** - 此策略为如果具有补货模板的库位指令行的分配失败，则在波次运行前补充库存。</span><span class="sxs-lookup"><span data-stu-id="bd38f-115">**Immediate replenishment** – This strategy replenishes inventory before a wave is run if allocation fails for a location directive line that has a replenishment template.</span></span> 

<span data-ttu-id="bd38f-116">所有四种策略均基于补货模板创建补货工作。</span><span class="sxs-lookup"><span data-stu-id="bd38f-116">All four strategies create replenishment work, based on a replenishment template.</span></span>

## <a name="wave-demand-replenishment"></a><span data-ttu-id="bd38f-117">波次需求补货</span><span class="sxs-lookup"><span data-stu-id="bd38f-117">Wave demand replenishment</span></span>
<span data-ttu-id="bd38f-118">当波次创建工作时，如果生产订单、看板、出站订单或负荷所需的数量不可用，波次需求补货将根据需求创建补货工作。</span><span class="sxs-lookup"><span data-stu-id="bd38f-118">Wave demand replenishment creates replenishment work, based on demand, if the quantity that is required for production orders, kanbans, outbound orders, or loads isn't available when a wave creates work.</span></span> <span data-ttu-id="bd38f-119">补货模板包含项条件有关物料条件、测量单位、需求增加以及库位的信息。</span><span class="sxs-lookup"><span data-stu-id="bd38f-119">The replenishment template contains information about the item criteria, the unit of measure, the demand increment, and the location.</span></span> 

<span data-ttu-id="bd38f-120">库位指令用于确定应补货的库位。</span><span class="sxs-lookup"><span data-stu-id="bd38f-120">Location directives are used to determine which location should be replenished.</span></span> <span data-ttu-id="bd38f-121">您通过使用 **指令代码** 字段将这些库位指令链接到补货模板。</span><span class="sxs-lookup"><span data-stu-id="bd38f-121">You link these location directives to the replenishment template by using the **Directive code** field.</span></span> <span data-ttu-id="bd38f-122">如果 **指令代码** 字段未设置，则查询被用来确定应该使用哪个库位指令。</span><span class="sxs-lookup"><span data-stu-id="bd38f-122">If the **Directive code** field isn't set, queries are used to determine which location directive should be used.</span></span> <span data-ttu-id="bd38f-123">请注意，如果指令代码未在补货模板中指定，并且库位指令已有指令代码，库位指令将被忽略，即使是正确的库位指令查询。</span><span class="sxs-lookup"><span data-stu-id="bd38f-123">Note that if a directive code isn't specified in the replenishment template, and the location directive has a directive code, the location directive will be ignored, even if the query on the location directive is correct.</span></span> <span data-ttu-id="bd38f-124">领料位置指令用于确定从何处获取补货库存。</span><span class="sxs-lookup"><span data-stu-id="bd38f-124">Pick location directives are used to determine where to get inventory for the replenishment.</span></span> 

<span data-ttu-id="bd38f-125">除创建模板外，还必须指定波次模板中的某些补货设置。</span><span class="sxs-lookup"><span data-stu-id="bd38f-125">In addition to creating a template, you must specify some replenishment settings in the wave template.</span></span> <span data-ttu-id="bd38f-126">波次模板应包含仅当物料分配不成功时才运行的补货的波次步骤。</span><span class="sxs-lookup"><span data-stu-id="bd38f-126">The wave template should contain a wave step for replenishment that is run only if an item isn't successfully allocated.</span></span> <span data-ttu-id="bd38f-127">此补货波次步骤使用波次步骤代码来确定应该使用哪个补货模板。</span><span class="sxs-lookup"><span data-stu-id="bd38f-127">This replenishment wave step uses a wave step code to determine which replenishment template should be used.</span></span> <span data-ttu-id="bd38f-128">除了具有补货的波次步骤外，您还必须确保在波次模板的 **方法** 部分选择 **补货** 。</span><span class="sxs-lookup"><span data-stu-id="bd38f-128">In addition to having a wave step for replenishment, you must make sure that **Replenish** is selected in the **Methods** section of the wave template.</span></span> 

<span data-ttu-id="bd38f-129">**补货模板** 页中包含 **允许波次需求使用未预留的数量** 复选框。</span><span class="sxs-lookup"><span data-stu-id="bd38f-129">The **Replenishment template** page includes an **Allow wave demand to use unreserved quantities** check box.</span></span> <span data-ttu-id="bd38f-130">如果需求补货应从所选补货模板生成的工作中扣减未预留数量，请选择此复选框。</span><span class="sxs-lookup"><span data-stu-id="bd38f-130">Select this check box if demand replenishment should be able to deduct unreserved quantities from work that is generated from the selected replenishment template.</span></span> <span data-ttu-id="bd38f-131">若要让需求补货模板使用此逻辑，为每个现有的补货模板选择此复选框。</span><span class="sxs-lookup"><span data-stu-id="bd38f-131">To enable demand replenishment templates to use this logic, select this check box for every existing replenishment template.</span></span> <span data-ttu-id="bd38f-132">当仓库中触发了需求补货时，如果该工作源自补货模板并且已选择 **允许波次需求使用未预留数量** 复选框，将从带有未预留数量的现有补货工作中扣减需求。</span><span class="sxs-lookup"><span data-stu-id="bd38f-132">When demand replenishment is triggered in the warehouse, it will deduct the demand from existing replenishment work that has unreserved quantities, if the work originates from replenishment templates where the **Allow wave demand to use unreserved quantities** check box is selected.</span></span>

<span data-ttu-id="bd38f-133">**补货单位** 是要补货的最小单位。</span><span class="sxs-lookup"><span data-stu-id="bd38f-133">**Replenishment unit** is the minimum unit to replenish.</span></span> <span data-ttu-id="bd38f-134">这必须是整数，并且必须是单位的倍数。</span><span class="sxs-lookup"><span data-stu-id="bd38f-134">This must be a whole number that is a multiple of the unit.</span></span> <span data-ttu-id="bd38f-135">创建工作时，系统将舍入到可能的最大单位。</span><span class="sxs-lookup"><span data-stu-id="bd38f-135">The system will round up to the highest unit possible when creating work.</span></span>

<span data-ttu-id="bd38f-136">需求补货支持销售订单、转移单、生产订单和看板。</span><span class="sxs-lookup"><span data-stu-id="bd38f-136">Demand replenishment is supported for sales orders, transfer orders, production orders, and kanbans.</span></span> 

## <a name="minmax-replenishment"></a><span data-ttu-id="bd38f-137">最小/最大补货</span><span class="sxs-lookup"><span data-stu-id="bd38f-137">Min/Max replenishment</span></span>
<span data-ttu-id="bd38f-138">在最小/最大补货中，存货将得到补充，使其在设置的最小和最大限制之间。</span><span class="sxs-lookup"><span data-stu-id="bd38f-138">In Min/Max replenishment, stock is replenished so that it's between the minimum and maximum limits that have been set.</span></span> <span data-ttu-id="bd38f-139">通常情况下，此流程每天将发生一次，来保证在领料开始之前所有领料库位都填充至最大水平。</span><span class="sxs-lookup"><span data-stu-id="bd38f-139">Typically, this process occurs one time every day, to help guarantee that all picking locations are filled to the maximum level before picking starts.</span></span> 

<span data-ttu-id="bd38f-140">在补货模板中设置最小值和最大金额。</span><span class="sxs-lookup"><span data-stu-id="bd38f-140">The minimum and maximum amounts are set in a replenishment template.</span></span> <span data-ttu-id="bd38f-141">模板中的很多其他设置类似于波次需要补货中使用的模板中的设置。</span><span class="sxs-lookup"><span data-stu-id="bd38f-141">Many of the other settings in the template resemble the settings in templates that are used in Wave demand replenishment.</span></span> <span data-ttu-id="bd38f-142">模板应为每个物料和位置包含一行。</span><span class="sxs-lookup"><span data-stu-id="bd38f-142">The template should contain one line for each item and location.</span></span> <span data-ttu-id="bd38f-143">通过使用批处理作业运行补货时，系统使用所组织的行的序列评估是否需要补货。</span><span class="sxs-lookup"><span data-stu-id="bd38f-143">When you run replenishment by using the batch job, the system evaluates whether replenishment is required by using the sequence that the lines are organized in.</span></span> 

<span data-ttu-id="bd38f-144">请注意，最小/最大补货策略无法补充空位置，除非该位置设置为该物料的固定库位。</span><span class="sxs-lookup"><span data-stu-id="bd38f-144">Note that the Min/Max replenishment strategy can't replenish an empty location unless the location is set as the fixed location for the item.</span></span> <span data-ttu-id="bd38f-145">如果必须补货的库位不是固定库位，系统无法确定要补货的物料。</span><span class="sxs-lookup"><span data-stu-id="bd38f-145">If the location that must be replenished isn't a fixed location, the system can't determine which item should be replenished.</span></span> <span data-ttu-id="bd38f-146">因此，在补货发生之前至少需要一定的现有数量。</span><span class="sxs-lookup"><span data-stu-id="bd38f-146">Therefore, at least some on-hand quantity is required before replenishment occurs.</span></span>

## <a name="load-demand-replenishment"></a><span data-ttu-id="bd38f-147">负荷需求补货</span><span class="sxs-lookup"><span data-stu-id="bd38f-147">Load demand replenishment</span></span>
<span data-ttu-id="bd38f-148">负荷需求补货将多个负荷需求累加，并创建所需补货工作以储备相关领料库位。</span><span class="sxs-lookup"><span data-stu-id="bd38f-148">Load demand replenishment sums the demand for several loads and creates the replenishment work that is required in order to stock the relevant picking locations.</span></span> <span data-ttu-id="bd38f-149">负荷需求补货类似于多种方式的波次需求补货。</span><span class="sxs-lookup"><span data-stu-id="bd38f-149">Load demand replenishment resembles Wave demand replenishment in many ways.</span></span> <span data-ttu-id="bd38f-150">主要的差异在于如何以及何时运行负荷需求补货和波次需求补货。</span><span class="sxs-lookup"><span data-stu-id="bd38f-150">The main difference is how and when Load demand replenishment and Wave demand replenishment are run.</span></span> <span data-ttu-id="bd38f-151">类似于最小/最大补货，负荷需求补货通过使用批处理作业运行。</span><span class="sxs-lookup"><span data-stu-id="bd38f-151">Like Min/Max replenishment, Load demand replenishment is run by using a batch job.</span></span> <span data-ttu-id="bd38f-152">若要设置批处理作业，在 **负荷需求补货** 页上，选择要使用的补货模板，然后设置筛选器查询来指定用于确定需求的负荷。</span><span class="sxs-lookup"><span data-stu-id="bd38f-152">To set up the batch job, on the **Load demand replenishment** page, select the replenishment template to use, and set a filter query to specify which loads are used to determine the demand.</span></span> <span data-ttu-id="bd38f-153">该库位查询定义从中提取任何可用数量的库位，以满足负荷的聚合需求。</span><span class="sxs-lookup"><span data-stu-id="bd38f-153">The location query defines the locations that any available quantity will be subtracted from to meet the aggregated demand of the loads.</span></span>

## <a name="immediate-replenishment"></a><span data-ttu-id="bd38f-154">即时补货</span><span class="sxs-lookup"><span data-stu-id="bd38f-154">Immediate replenishment</span></span>
<span data-ttu-id="bd38f-155">无需在分配流程结束时汇总需求总计并且基于汇总数量进行补货，您可以应用即时补货策略。</span><span class="sxs-lookup"><span data-stu-id="bd38f-155">Instead of having to sum demand at the end of an allocation process and do replenishment on the basis of the summed up quantity, you can apply the Immediate replenishment strategy.</span></span> <span data-ttu-id="bd38f-156">当您使用此策略时，可以在库位指令行失败后立即补货。</span><span class="sxs-lookup"><span data-stu-id="bd38f-156">When you use this strategy, the inventory can be replenished immediately after a location directive line fails.</span></span> <span data-ttu-id="bd38f-157">因此，您可以设置补货，使其受特定单位的限制，并且使其使用为特定库位设置的数量。</span><span class="sxs-lookup"><span data-stu-id="bd38f-157">Therefore, you can set up the replenishment so that it's restricted by specific units, and so that it uses quantities that are set for specific locations.</span></span>

## <a name="replenishment-prerequisites"></a><span data-ttu-id="bd38f-158">补货先决条件</span><span class="sxs-lookup"><span data-stu-id="bd38f-158">Replenishment prerequisites</span></span>

|      <span data-ttu-id="bd38f-159">必备项</span><span class="sxs-lookup"><span data-stu-id="bd38f-159">Prerequisite</span></span>       |                                                                                                                                <span data-ttu-id="bd38f-160">说明</span><span class="sxs-lookup"><span data-stu-id="bd38f-160">Description</span></span>                                                                                                                                 |
|-------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          <span data-ttu-id="bd38f-161">项</span><span class="sxs-lookup"><span data-stu-id="bd38f-161">Item</span></span>           |                                                                                                        <span data-ttu-id="bd38f-162">物料必须在仓库管理流程中启用。</span><span class="sxs-lookup"><span data-stu-id="bd38f-162">The item must be enabled for warehouse management processes.</span></span>                                                                                                        |
|        <span data-ttu-id="bd38f-163">仓库</span><span class="sxs-lookup"><span data-stu-id="bd38f-163">Warehouse</span></span>        | <span data-ttu-id="bd38f-164">仓库必须在仓库管理流程中启用。</span><span class="sxs-lookup"><span data-stu-id="bd38f-164">The warehouse must be enabled for warehouse management processes.</span></span> <span data-ttu-id="bd38f-165">要在仓库管理流程中启用仓库，请在<strong>仓库</strong>页中，选择仓库，然后选中<strong>使用仓库管理流程</strong>选项。</span><span class="sxs-lookup"><span data-stu-id="bd38f-165">To enable a warehouse for warehouse management processes, on the <strong>Warehouses</strong> page, select the warehouse, and then select the <strong>Use warehouse management processes</strong> option.</span></span> |
| <span data-ttu-id="bd38f-166">补货模板</span><span class="sxs-lookup"><span data-stu-id="bd38f-166">Replenishment templates</span></span> |                                                                   <span data-ttu-id="bd38f-167">必须至少为最小/最大补货、波次需求补货或负荷需求补货设置一个补货模板。</span><span class="sxs-lookup"><span data-stu-id="bd38f-167">At least one replenishment template must be set up for Min/Max replenishment, Wave demand replenishment, or Load demand replenishment.</span></span>                                                                   |
|        <span data-ttu-id="bd38f-168">位置</span><span class="sxs-lookup"><span data-stu-id="bd38f-168">Locations</span></span>        |                                                                                                       <span data-ttu-id="bd38f-169">必须创建库位并连接到库位配置文件。</span><span class="sxs-lookup"><span data-stu-id="bd38f-169">Locations must be created and connected to a location profile.</span></span>                                                                                                       |
|    <span data-ttu-id="bd38f-170">位置配置文件</span><span class="sxs-lookup"><span data-stu-id="bd38f-170">Location profiles</span></span>    |                                                                                                        <span data-ttu-id="bd38f-171">创建库位需要库位配置文件。</span><span class="sxs-lookup"><span data-stu-id="bd38f-171">Location profiles are required in order to create locations.</span></span>                                                                                                        |
|   <span data-ttu-id="bd38f-172">位置指令</span><span class="sxs-lookup"><span data-stu-id="bd38f-172">Location directives</span></span>   |                                                       <span data-ttu-id="bd38f-173">将工作指导到需要补货的库位以及库存来源库位需要库位指令。</span><span class="sxs-lookup"><span data-stu-id="bd38f-173">Location directives are required in order to guide work to the locations where replenishment is required and to the locations that inventory is sourced from.</span></span>                                                        |
|     <span data-ttu-id="bd38f-174">工作模板</span><span class="sxs-lookup"><span data-stu-id="bd38f-174">Work templates</span></span>      |                                                   <span data-ttu-id="bd38f-175">创建补货工作以将库存移至所需库位需要<strong>补货</strong>类型的工作模板。</span><span class="sxs-lookup"><span data-stu-id="bd38f-175">Work templates of the <strong>Replenishment</strong> type are required in order to create replenishment work so that inventory can be moved to the desired locations.</span></span>                                                    |

