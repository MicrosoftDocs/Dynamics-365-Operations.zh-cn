---
title: 补货
description: 此主题介绍可用于使用仓库管理提供功能的仓库的补货策略。
author: Mirzaab
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSReplenishmentTemplates
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: 90043
ms.assetid: 49fa97eb-8e10-49a5-9261-1e393159f178
ms.search.region: Global
ms.search.industry: Distribution
ms.author: mirzaab
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 37a5509b6161caffa8f3ab65f1fd8378966c2c30
ms.sourcegitcommit: 0f530e5f72a40f383868957a6b5cb0e446e4c795
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/29/2019
ms.locfileid: "344516"
---
# <a name="replenishment"></a>补货

[!include [banner](../includes/banner.md)]

此主题介绍可用于使用仓库管理提供功能的仓库的补货策略。 此主题中的信息不适用于可用于库存管理的仓库解决方案。

提供了以下补货策略︰

- **波次需求补货**–在由波次创建工作时，如果库存不可用，则此策略创建出站订单或负荷的补货工作。 例如，在处理波次时，如果销售订单的所需数量不可用，可以创建补货工作。
- **最小/最大补货**–此策略使用最小和最大库存限制以确定何时补货位置。 物料和位置条件定义为补货进行评估的库存。 最小/最大补货模板是用于维护领料库位最佳级别的主要机制。 为了保证足够的拣选面库存以满足波次要求，可以作为最小/最大补货周期之间的补充来使用需求补货。
- **负荷需求补货**–此策略将多个负荷需求累加，并创建所需补货工作以储备相关领料库位。 此策略有助于保证发布负荷后可以在在仓库中领取创建的负荷。
- **即时补货** - 此策略为如果具有补货模板的库位指令行的分配失败，则在波次运行前补充库存。 

所有四种策略均基于补货模板创建补货工作。

## <a name="wave-demand-replenishment"></a>波次需求补货
当波次创建工作时，如果生产订单、看板、出站订单或负荷所需的数量不可用，波次需求补货将根据需求创建补货工作。 补货模板包含项条件有关物料条件、测量单位、需求增加以及库位的信息。 

库位指令用于确定应补货的库位。 您通过使用**指令代码**字段将这些库位指令链接到补货模板。 如果**指令代码**字段未设置，则查询被用来确定应该使用哪个库位指令。 请注意，如果指令代码未在补货模板中指定，并且库位指令已有指令代码，库位指令将被忽略，即使是正确的库位指令查询。 领料位置指令用于确定从何处获取补货库存。 

除创建模板外，还必须指定波次模板中的某些补货设置。 波次模板应包含仅当物料分配不成功时才运行的补货的波次步骤。 此补货波次步骤使用波次步骤代码来确定应该使用哪个补货模板。 除了具有补货的波次步骤外，您还必须确保在波次模板的**方法**部分选择**补货**。 

**补货模板**页中包含**允许波次需求使用未预留的数量**复选框。 如果需求补货应从所选补货模板生成的工作中扣减未预留数量，请选择此复选框。 若要让需求补货模板使用此逻辑，为每个现有的补货模板选择此复选框。 当仓库中触发了需求补货时，如果该工作源自补货模板并且已选择**允许波次需求使用未预留数量**复选框，将从带有未预留数量的现有补货工作中扣减需求。

需求补货支持销售订单、转移单、生产订单和看板。 

## <a name="minmax-replenishment"></a>最小/最大补货
在最小/最大补货中，存货将得到补充，使其在设置的最小和最大限制之间。 通常情况下，此流程每天将发生一次，来保证在领料开始之前所有领料库位都填充至最大水平。 

在补货模板中设置最小值和最大金额。 模板中的很多其他设置类似于波次需要补货中使用的模板中的设置。 模板应为每个物料和位置包含一行。 通过使用批处理作业运行补货时，Microsoft Dynamics 365 for Finance and Operations 使用所组织的行的序列评估是否需要补货。 

请注意，最小/最大补货策略无法补充空位置，除非该位置设置为该物料的固定库位。 如果必须补货的库位不是固定库位，系统无法确定要补货的物料。 因此，在补货发生之前至少需要一定的现有数量。

## <a name="load-demand-replenishment"></a>负荷需求补货
负荷需求补货将多个负荷需求累加，并创建所需补货工作以储备相关领料库位。 负荷需求补货类似于多种方式的波次需求补货。 主要的差异在于如何以及何时运行负荷需求补货和波次需求补货。 类似于最小/最大补货，负荷需求补货通过使用批处理作业运行。 若要设置批处理作业，在**负荷需求补货**页上，选择要使用的补货模板，然后设置筛选器查询来指定用于确定需求的负荷。 该库位查询定义从中提取任何可用数量的库位，以满足负荷的聚合需求。

## <a name="immediate-replenishment"></a>即时补货
无需在分配流程结束时汇总需求总计并且基于汇总数量进行补货，您可以应用即时补货策略。 当您使用此策略时，可以在库位指令行失败后立即补货。 因此，您可以设置补货，使其受特定单位的限制，并且使其使用为特定库位设置的数量。

## <a name="replenishment-prerequisites"></a>补货先决条件

|      必备项       |                                                                                                                                说明                                                                                                                                 |
|-------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          项           |                                                                                                        物料必须在仓库管理流程中启用。                                                                                                        |
|        仓库        | 仓库必须在仓库管理流程中启用。 要在仓库管理流程中启用仓库，请在<strong>仓库</strong>页中，选择仓库，然后选中<strong>使用仓库管理流程</strong>选项。 |
| 补货模板 |                                                                   必须至少为最小/最大补货、波次需求补货或负荷需求补货设置一个补货模板。                                                                   |
|        位置        |                                                                                                       必须创建库位并连接到库位配置文件。                                                                                                       |
|    位置配置文件    |                                                                                                        创建库位需要库位配置文件。                                                                                                        |
|   位置指令   |                                                       将工作指导到需要补货的库位以及库存来源库位需要库位指令。                                                        |
|     工作模板      |                                                   创建补货工作以将库存移至所需库位需要<strong>补货</strong>类型的工作模板。                                                    |

