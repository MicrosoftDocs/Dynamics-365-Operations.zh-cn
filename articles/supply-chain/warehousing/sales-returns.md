---
title: "销售退货"
description: "此主题提供有关退货单流程的信息。 其中包含有关客户退货及其对成本计算和现有库存数量的影响的信息。"
author: omulvad
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
ms.search.form: ReturnTableListPage
audience: Application User
ms.reviewer: bis
ms.search.scope: Core, Operations
ms.custom: 269384
ms.assetid: 98a4b517-e606-4036-b55f-1ab248898bdf
ms.search.region: Global
ms.author: omulvad
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: efcb77ff883b29a4bbaba27551e02311742afbbd
ms.openlocfilehash: d4da2ed8d61ffae3a4a4dc24793d82de22e86e59
ms.contentlocale: zh-cn
ms.lasthandoff: 05/08/2018

---

# <a name="sales-returns"></a>销售退货

[!include [banner](../includes/banner.md)]

此主题提供有关退货单流程的信息。 其中包含有关客户退货及其对成本计算和现有库存数量的影响的信息。

客户可能因为各种原因退货。 例如，物品可能有瑕疵，或者可能不满足客户的期望。 客户发出退货请求时，退货流程开始。 收到客户的请求后，将在 Microsoft Dynamics 365 for Finance and Operations 中创建退货单。

## <a name="return-order-process"></a>退货单流程
下图提供退货单流程的概览。  

[![退货单流程](./media/salesreturns01.jpg)](./media/salesreturns01.jpg)  

退货单流程有两种：实际退货和仅贷记。

-   **实际退货** – 退货单授权实际退回产品。
-   **仅贷记** – 退货单为客户贷记授权，但是不需要客户实际退回产品。

### <a name="physical-return-order-process"></a>实际退货单流程

1.  **创建退货单。** 正式记录授权，供客户退回任何瑕疵产品或不想要的产品。 退货单不需要公司接受退回的产品或为客户提供贷记。 如果接受了退货，您可以在退回瑕疵物料之前，授权发出更换物料。
2.  **到达仓库待检查。** 对照退货单文档完成初始检查和验证。 退货单还支持检验退回的物料，以便提高检查和质量控制。
3.  **确定处置。** 完成检查流程，并确定应如何处理退回的产品。 此步骤中，确定为客户授予贷记，拒绝客户退货，还是接受产品退货，报废产品，然后将更换产品发给客户。
4.  **生成装箱单。** 生成装箱单，并且确认您在步骤 3 中做出的处置决定。 完成物流流程。
5.  **生成发票。** 关闭退货单。

### <a name="credit-only-process"></a>仅贷记流程

1.  **创建退货单。** 正式记录授权，供客户在不退回任何瑕疵产品或不想要的产品的情况下接收贷记。 **仅贷记**处置代码为不实际退货的客户授予贷记的决定授权。
2.  **生成发票。** 生成贷方通知单，然后关闭退货单。

## <a name="return-material-authorization"></a>退料授权
退料授权 (RMA) 处理以销售订单功能为基础。 RMA 登记为销售订单，创建为销售订单，并且可能有其他销售订单（称为更换订单）与其关联。 两个销售订单行都链接到原始 RMA 号。

-   **退货单** – 要登记 RMA，请创建一个退货单，这是分配的类型为**退货单**的销售订单。 对 RMA 信息所做的任何更改都将在该销售订单上自动更新。 退货单的状态为**未结**之前，不在销售订单列表中显示。 可使用 RMA 处理退货物料的到达和接收，以及为仅贷记处置操作授权（请参阅**处置代码和处置操作**部分）。 其他所有后续流程都必须在销售订单中处理。
-   **更换订单** – 必须向客户发送更换订单时，RMA 可以包含第二关联销售订单。 可以手动为 RMA 创建更换订单，以便支持立即发货。 也可以在为有处置代码指示换货的 RMA 行项完成了到达、检查和接收之后，自动创建更换订单。 更换订单有与销售订单相同的功能。 例如，您可以将其用于把自定义产品配置为更换物料，创建生产订单以维修退回的物料，创建直接交付采购订单以从供应商发送更换件，或者为其他目的提供支持。

## <a name="create-a-return-order"></a>创建退货单
客户联系您的组织以退回瑕疵产品或不想要的产品和/或要为其贷记时，退货单流程启动。 您的组织接受退货后，将通过退货订单记录退货。 此退货订单成为所退货产品的内部处理基础点。 下图显示退货单的创建过程。  

[![退货单的创建过程](./media/salesreturn02.png)](./media/salesreturn02.png)

### <a name="create-a-return-order-header"></a>创建退货单标题

在创建退货单时，必须包含下表中的信息。

| 字段              | 说明                                              | 评论                                                                                                                                                                                                                                                                                                                                        |
|--------------------|----------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 客户帐户   | 对客户表的引用                       | 必须提供现有客户帐户。                                                                                                                                                                                                                                                                                                  |
| 交货地址   | 将物料返回到的地址                 | 默认情况下，使用组织的地址。 如果在标题中选择了特定仓库，交货地址将改为仓库的交货地址。 您可以在**退货详细信息**页面中更改此地址。                                                                                                  |
| 站点/仓库     | 接收退回的产品的站点或仓库 | 退货单的交货地址基于站点或仓库的交货地址确定。                                                                                                                                                                                                                                 |
| 物料退回授权号         | 分配给退货单的 ID。              | 在整个退货单流程中，RMA 号都用作备用键。 分配的 RMA 号基于**应收账款参数**页中设置的 RMA 编号规则。                                                                                                                              |
| 截止日期           | 上次退回物料的日期               | 默认值的计算方法是，当前日期减去有效期。 例如，退货的有效期仅为创建退货单开始的 90 天，而退货单是在 5 月 1 号创建的，则该字段中的值为 **7 月 30 日**。 有效期在**应收账款参数**页中设置。 |
| 退货原因代码 | 客户的退货原因          | 原因代码在用户定义的原因代码列表中选择。 您随时可以更新此字段。                                                                                                                                                                                                                                    |

### <a name="create-return-order-lines"></a>创建退货单行

完成退货标题后，可以通过使用以下方法之一创建退货行：

-   为每个退货行手动输入物料详细信息、数量和其他信息。
-   使用**查找销售订单**功能创建退货行。 建议在创建退货单时使用此功能。 **查找销售订单**功能建议从退货行到开票销售订单行的引用，并从销售行检索行详细信息，如物料编号、数量、价格、折扣和成本值。 产品退回公司时，此引用帮助确保其价值为销售时的相同单位成本。 此引用还验证退货单不是为超过了发票中销售的数量创建的。

>[注释!] 引用了销售订单的退货行作为销售的更正或撤销处理。 有关详细信息，请参阅本主题后面部分的“过帐到分类帐”。

### <a name="charges"></a>费用

可以通过下面的一种或多种方法向退货单添加费用：

-   可以手动向退货单标题和/或退货单行添加费用。
-   可以将费用作为退货原因代码的一项函数自动添加到退货单标题。
-   可以根据行的处置代码将费用自动添加到退货单行。

为行分配了退货原因代码或处置代码之后，自动添加费用。 如果以后更改原因代码，将不删除现有费用条目，而是可能根据新的原因代码添加一个新的费用条目。 向退货订单行添加费用时，如果行或行订单为负，计算为行或订单值的百分比的费用将成为负值，除非该百分比也为负数。 负值费用表示向客户放贷。

### <a name="return-reason-codes"></a>多个退货原因代码

通过将原因代码应用于退货，您可以帮助简化退货模式的分析。 原因代码提供有关客户为何要退货的信息。 某些组织有很多原因代码。 这些组织可能将原因代码分为原因代码组，以便更好地浏览和累积报告。

### <a name="disposition-codes-and-disposition-actions"></a>处置代码和处置操作

退货单流程的一个重要步骤是在到达登记时将处置代码分配给退货单行。 处置代码决定以下信息：

-   **财务影响** – 是否为退回的物料为客户贷记？是否应该向退货单行添加任何费用？
-   **处置退回的物料** – 应该将物料添加回库存，报废还是退回给客户？
-   **退回的物料的物流** – 是否应该将更换物料发给客户？

除了确定如何处置退回的货物之外，处置代码还可以导致将费用应用于退货行。 还可将其用于为退货分组，以便进行统计分析。 处置代码在退货单的设置时定义。 但是，每个处置代码都必须引用一个内置处置操作。 下表列出内置处置代码及其操作。 **重要信息：** 如果不应返回某个物料，但是仍然应该为客户贷记，请为退货行分配**仅贷记**处置代码。

<table>
<thead>
<tr class="header">
<th>处置代码</th>
<th>财务影响</th>
<th>对物流的影响</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>只贷记</td>
<td><ul>
<li>为客户贷记销售价减去任何费用。</li>
<li>报废物料导致的损失将过帐到分类帐。</li>
</ul></td>
<td>不应退回物料。 此处置操作用于以下情况：
<ul>
<li>各方之间信任够。</li>
<li>退回瑕疵物料的成本太高。</li>
<li>不允许将物料退回库存。 由于其他原因，不需要实际退货。</li>
</ul></td>
</tr>
<tr class="even">
<td>贷记</td>
<td><ul>
<li>为客户贷记销售价减去任何费用。</li>
<li>退回的物料的成本增加库存值。</li>
</ul></td>
<td>物料退回并添加回库存。</td>
</tr>
<tr class="odd">
<td>更换并贷记</td>
<td><ul>
<li>为客户贷记销售价减去任何费用。</li>
<li>退回的物料的成本增加库存值。</li>
<li>为更换创建一个单独订单并单独处理。</li>
</ul></td>
<td>物料退回并添加回库存。</td>
</tr>
<tr class="even">
<td>更换并报废</td>
<td><ul>
<li>为客户贷记销售价减去任何费用。</li>
<li>报废物料导致的损失将过帐到分类帐。</li>
<li>为更换创建一个单独订单并单独处理。</li>
</ul></td>
<td>退回并报废物料。</td>
</tr>
<tr class="odd">
<td>返还客户</td>
<td>无，除任何成本或费用。</td>
<td>物料已退回，但在检查后发还客户。 如果已故意毁坏物料或保修作废，可能使用此处置操作。</td>
</tr>
<tr class="even">
<td>废料</td>
<td><ul>
<li>为客户贷记销售价减去任何费用。</li>
<li>报废物料导致的损失将过帐到分类帐。</li>
</ul></td>
<td>退回或报废物料。</td>
</tr>
</tbody>
</table>

## <a name="arrival-at-the-warehouse-for-inspection"></a>到达仓库待检查
必须先为物料进行到达登记和可选检查，才能实际接收退回的物料并入库。 下图提供到达流程的概览。 下面的部门介绍图中所示每个步骤。  

[![到达流程](./media/salesreturn03.png)](./media/salesreturn03.png)  

此过程有几个本主题未涵盖的其他变体。 以下是这些验证中的一部分。

-   请勿使用**到达概览**列表创建到达日记帐。 请改为手动创建到达日记帐。 退货单将拥有**销售订单**作为引用。
-   如果您在使用仓库管理，则生成托盘运输。 托盘运输期间，退货行的状态为**已到达**。
-   通过使用**登记**功能，直接从退货单行登记退回物料的到达。

到达流程期间，退货与仓库到达的一般流程集成。 到达流程还支持为必须进行单独检查的退回物料创建检验单。

### <a name="identify-products-in-the-arrival-overview-list"></a>在到达概览列表中标识产品

**到达概览**页列出计划的所有传入到达。 
>[注释!] 从退货单的到达必须与其他类型的到达事物分开处理。 在**到达概览**页中标识传入的包（如通过使用随附的 RMA 文档）之后，请在操作窗格中，单击**开始到达**创建并启动与到达匹配的到达日记帐。

### <a name="edit-the-arrival-journal"></a>编辑到达日记帐

通过将**检验管理**选项设置为**是**，可以为退货行创建检验单。 如果已将行发送到检验待检查，则不能指定处置代码。 
 
如果在物料的库存模型组中将**检验管理**选项设置为**是**，将针对到达日记帐行标记**日记帐行**页中的**检验管理**选项，并且此选项不可更改。 如果将行发送到检验，则必须指定合适的检验仓库。 

如果不发送到达行进行检验，则仓库到达职员必须直接在到达日记帐行上指定处置代码，然后过帐到达日记帐。 如果不应将相同处置代码分配给退货行的完整数量，或者如果尚未接收此行的完整数量，则必须拆分该行。 拆分到达日记帐行时，还必须拆分退货行 (**SalesLine**) 并创建一个新的批次 ID。 可通过减少到达日记帐行的数量拆分行。 过程日记帐时，将为其余数量创建一个状态为**预期**的新退货行。 还可以通过单击**功能** &gt; **拆分**，拆分行。

### <a name="process-the-quarantine-order"></a>处理检验单

如果退回的产品发送到检验仓库进行检验，将完成检验单中的所有其他处理。 将为发送到检验的每个到达行创建一个检验单。 处置代码指示检查流程的结果。 

可拆分检验单，正如可以拆分到达日记帐。 如果拆分检验单，将相应拆分退货行。 输入处置代码之后，请通过使用**结束**或**完工入库**功能完成检验单。 如果选择**完工入库**，将在指定仓库中创建一个新到达。 然后可以通过使用**到达概览**页处理此到达。 

如果到达来自检查单，则不能更改检查期间分配的处置代码。 如果通过使用**结束**功能完成检验单，将自动登记批次。 有时可能将物料从检验发送回装运和接收部门。 例如，检验员可能不知道将物料存放到库存中的何处。 在这种情况下，必须更新相应的装箱单，以便正确登记和处理因为检验而指定的处置代码。 

登记退货行后，可以将收据确认发送给客户。 **退货确认**报告类似退货单单据。 **退货确认**报告不记入日记帐，也不在系统中登记，因此不是退货单流程的必要步骤。

## <a name="replace-a-product"></a>更换产品
可通过两种方法管理产品的更换：

-   **首先更换** – 收到客户退回的产品之前更换产品。
-   **按处置代码更换** – 自动创建新的更换单行。

### <a name="up-front-replacement"></a>事先更换

在事先更换中，可以在物料退回前将更换物料发给客户。 此方法非常有用，例如，如果物料是有备件来替换才能取下的机器部件，或者如果您希望客户尽快收到更换产品。 事先更换单是独立销售订单。 标题信息源自客户，而行信息则源自退货单。 您可以独立于退货单编辑、处理和删除更换单。 删除更换单时，将收到一条消息，说明订单是创建为更换单的。 下图显示事先更换的流程。  

![事先更换流程](./media/SalesReturn04.png)

退货单中包含对更换单的引用。 如果在退回瑕疵物料前为退货单创建了事先更换单，则在已退回瑕疵物料之后，不能为更换选择处置代码。

### <a name="replacement-by-disposition-code"></a>按处置代码更换

如果将更换物料发给客户，并对退货单使用**更换并报废**或**更换并贷记**处置操作，请使用下图中显示的过程。  

![使用处置代码时的更换过程](./media/SalesReturn05.png)

更换物料将通过使用独立销售订单（即更换销售订单）交付。 为退货单生成装箱单时创建此销售订单。 订单标题使用退货单标题中引用的客户提供的信息。 行信息收集自**更换物料**页中输入的信息。 必须为具有以单词“更换”开头的处置操作的行填写**更换物料**页。 但是，更换物料的数量和标识都未经过验证或受到限制。 此行为允许以下情况：客户需要配置或尺寸不同的相同物料，以及客户需要完全不同的物料。 默认情况下，在**更换物料**页中输入相同物料。 但是，如果已设置了此功能，则可选择其他物料。 

>[注释!] 更换销售订单在创建后可以编辑和删除。

## <a name="generate-a-packing-slip"></a>生成装箱单
在退回物料可以入库前，必须更新其所属订单的装箱单。 就像发票更新流程是对财务交易记录进行的更新一样，装箱单更新流程是对库存记录的物理更新。 也就是说，此流程对库存进行更改。 在退货时，分配给处置操作的步骤在装箱单更新期间执行。 在生成装箱单时，将发生以下事件：

-   在仓库中，使用标准流程执行实际收货。 如果正确设置了库存模型组（**过帐实际库存**）和应收账款参数（**装箱单记入分类帐**），将生成分类帐过帐。
-   将报废使用包含单词“报废”的处置操作标记的物料，并将库存损失记入分类帐。
-   将接收使用**返还客户**处置操作标记的物料，并交货给客户。 这些物料对库存无实际影响。
-   将创建更换销售订单。 此销售订单基于**更换物料**页中的信息。

只能为退货状态为**已登记**的行生成装箱单，并且只能为退货行中的完整数量生成。 如果退货单中的多行有**已登记**状态，则可通过从**将装箱单过帐**页删除其他行，为一小组行生成装箱单。 

部分退货根据退货单行（而非退货单装运）定义。 因此也就是说，如果您收到在一个退货单行上指示的完整数量、但未收到退货单的其他行中的任何数量，则该交货不是部分交货。 但是，如果某一退货单行要求退回 10 个单位的特定物料，但您只收到四个单位，则该交货是部分交货。 如果并非所有预期退货物料均已到达，则可搁置装运，等待退货数量到达。 也可以登记并过帐部分数量。 在过帐装箱单的流程中，可以将来自客户装运文档的装箱单参考编号与订单行相关联。 此关联可选且仅供参考。 它并不创建任何交易记录更新。 

总之，可以跳过装箱单流程，直接进入开票阶段。 在这种情况下，您本应在生成装箱单期间执行的步骤在开票期间完成。

## <a name="generate-an-invoice"></a>生成发票
尽管**退货单**页面中包含处理退货单物流特殊事项所需信息和操作，您还是必须使用**销售订单**页完成开票流程。 然后，您的组织可以同时为退货单和销售订单开票，而同一人可以根据需要完成开票流程。 若要从**销售订单**页查看退货单，单击销售订单编号的链接打开关联的销售订单。 也可以在**所有销售订单**页中找到退货单。 退货单是订单类型为**退货单**的销售订单。

### <a name="credit-correction"></a>信用更正

开票流程中，请验证是否所有杂费均正确无误。 若要让分类帐过帐成为更正 (Storno)，请在过帐发票/贷方通知单时，考虑使用**过帐发票**页中**其他**选项卡上的**信用更正**。 
>[注释!] 默认情况下，如果已启用了**应收账款参数**页中的**用于更正的贷方通知单**选项，则已激活**信用更正**选项。 但是，建议您不使用 Storno 过帐退货。

## <a name="create-intercompany-return-orders"></a>创建内部公司退货单
可以在组织内的两家公司之间完成退货单。 支持以下方案：

-   涉及内部公司关系的两家公司之间的简单内部公司退货
-   客户退货单是在销售公司中创建的时建立的内部公司链
-   供应商退货单是在买方公司中创建的时建立的内部公司链
-   外部客户与涉及内部公司关系的两家公司之间的直接交货装运退货

### <a name="setup"></a>设置

下图显示两家公司建立内部公司关系并利用内部公司贸易需要满足的最低设置。  

![最低设置](./media/SalesReturn06.png)

在以下方案中，CompBuy 是买方公司，CompSell 是销售公司。 通常，销售公司将货物装运给买方公司，或在直接交货装运方案中，直接发给最终客户。 在 CompBuy 中，供应商 IC\_CompSell 被定义为与公司 CompSell 关联的内部公司终结点。 同时，在 CompSell 中，客户 IC\_CompBuy 被定义为与公司 CompBuy 关联的内部公司终结点。 必须同时在两家公司中定义相应的操作策略详细信息和值映射。 在直接交货装运方案中，在销售公司内创建一个内部公司退货单（也是内部公司销售订单）。 可以从 CompSell 中的 RMA 编号规则选取内部公司退货单的 RMA 编号，也可以从在 CompBuy 中分配给原始退货单的 RMA 编号复制。 CompBuy 中 **PurchaseRequisition** 操作策略上的 RMA 编号决定这些操作。 如果同步了 RMA 编号，并且两家公司使用相同的编号规则，则应计划缓解编号冲突的风险。

### <a name="simple-intercompany-returns"></a>简单内部公司退货

此方案涉及同一组织中的两家公司，如下图中所示。  

![简单内部公司退货](./media/SalesReturn07.png)

买方公司中创建了供应商退货单或销售公司中创建了客户退货单时，可以建立订单链。 Finance and Operations 将在另一家公司中创建相应订单，并确保供应商订单中的标题和行信息体现客户退货单中的设置。 建立的退货单中可以包含或排除对现有客户发票的引用（**查找销售订单**）。 可以分开处理这两个订单的装箱单和发票。 例如，为客户退货单生成装箱单之前，无需为供应商退货单生成装箱单。

### <a name="direct-delivery-shipment-returns-among-three-parties"></a>三方之间的直接交运装运退货

如果已完成了上一笔**直接交货**类型的销售，并且与客户交互的公司中有针对该客户的发票，则可建立此方案。 在下图中，公司 CompBuy 曾经向客户 Extern 销售过产品并为其开过发票。 产品通过内部公司订单链从公司 CompSell 直接装运到客户。  

![三方之间的直接交运装运退货](./media/SalesReturn08.png)

如果客户 Extern 希望退还产品，将在公司 CompBuy 内为客户创建一个退货单 (RMA02)。 若要建立内部公司链，必须将退货单标记为直接交货。 使用**查找销售订单**功能为要退货的客户发票拣货时，将建立有以下票据组成的内部公司订单链：

-   **原始退货单：** RMA02（公司 CompBuy）
-   **采购订单：** PO02（公司 CompBuy）
-   **内部公司退货单：** RMA\_00032（公司 CompSell）

创建直接交货内部公司链之后，必须在内部公司退货单（公司 CompSell 中的 RMA\_00032）环境中实际处理退货。 不能在公司 CompBuy 中接收产品。 如果为内部公司退货单分配了处置代码，将把其与原始退货单同步，以便为原始订单正确开票。

## <a name="post-to-the-ledger"></a>过帐到分类帐
为退货单开票时生成的分类帐过帐受到一些重要设置和参数的影响：

-   **退货成本价** – 对于非**标准成本**的库存模型，**退货成本价**参数决定物料在被接受回库或报废时的成本。 若要计算正确的库存估价，务必正确设置**退货成本价**。 如果使用**查找销售订单**功能创建引用客户发票的退货单行，则**退货成本价**值等于所售物料的成本价。 否则，成本价的值来自物料设置，或者可以手动输入。
-   **信用更正/Storno** – **过帐发票**页中的**信用更正**参数决定应记录为正 (DR/CR) 条目还是负更正条目。

在下面的示例中，退货成本价表示为**发票成本价**。

### <a name="example-1-the-return-order-doesnt-reference-a-customer-invoice"></a>示例 1：退货单不引用客户发票

退货单不引用客户发票。 将贷记退回的物料。 生成退货单发票或贷方通知单时不选择**信用更正**参数。  

![退货单不引用客户发票](./media/SalesReturn09.png)  

>[注释!] 物料主价格用作**退货成本价**参数的默认值。 默认价格与出库时的成本价不同。 因此，影响是相差 3。 此外，退货单中不包含在销售订单中向客户提供的折扣。 因此，将出现透支。

### <a name="example-2-credit-correction-is-selected-for-the-return-order"></a>示例 2：为退货单选择了信用更正

示例 2 与示例 1 相同，除了生成退货单发票时选择了**信用更正**参数。  

![选择了信用更正的退货单 ](./media/SalesReturn10.png)  

>[注释!] 分类帐过帐作为负更正输入。

### <a name="example-3-the-return-order-line-is-created-by-using-the-find-sales-order-function"></a>示例 3：退货单行通过使用“查找销售订单”功能创建

在此示例中，退货单行通过使用**查找销售订单**功能创建。 创建发票时不选择**信用更正**参数。  

![通过使用“查找销售订单”创建的退货单行 ](./media/SalesReturn11.png)  

>[注释!] 正确设置了**折扣**和**退货成本价**。 因此，正是客户发票的逆转。




