---
title: 通过从装载计划工作台下达到仓库合并装运
description: 此主题提供以下方案：通过同一个装载将多个订单发放到仓库，然后将其合并到装运中。
author: GarmMSFT
ms.date: 05/12/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSShipConsolidationPolicy, WHSShipConsolidationWorkbench
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: kamaybac
ms.search.validFrom: 2020-05-01
ms.dyn365.ops.version: 10.0.3
ms.openlocfilehash: 2dda45f475f0119b202008f6f8d95c8ccc59a1e63108dbd766a49b3551cdf778
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/05/2021
ms.locfileid: "6720100"
---
# <a name="consolidate-shipments-by-releasing-to-warehouse-from-the-load-planning-workbench"></a>通过从装载计划工作台下达到仓库合并装运

[!include [banner](../includes/banner.md)]

此主题提供以下方案：通过同一个装载将多个订单发放到仓库，然后将其合并到装运中。

## <a name="make-demo-data-available"></a>提供演示数据

此主题中的方案引用为 Microsoft Dynamics 365 Supply Chain Management 提供的标准演示数据中包含的值和记录。 如果要在进行此练习时使用此处提供的值，请务必在安装了演示数据的环境中操作，并且在开始前将法人设置为 **USMF**。

## <a name="set-up-shipment-consolidation-policies-and-product-filters"></a>设置装运合并策略和产品筛选器

此处介绍的方案假设已经开启了此功能，完成了[配置装运合并策略](configure-shipment-consolidation-policies.md)中的练习，并创建了其中介绍的策略和其他记录。 务必先完成这些练习，再继续完成此方案。

## <a name="create-the-sales-orders-for-this-scenario"></a>为此方案创建销售订单

首先创建可以使用的销售订单的集合。 必须使用为高级仓库 (WMS) 流程启用的仓库。 除非明确提及其他仓库，否则必须为下面的每组订单使用同一个仓库。

转到 **应收帐款 \> 订单 \> 所有销售订单**，然后创建具有以下小节中介绍的设置的销售订单的集合。

### <a name="create-order-set-1"></a>创建订单集 1

#### <a name="sales-order-1-1"></a>销售订单 1-1

1. 创建具有以下设置的销售订单：

    - **客户帐户**：*US-001*
    - **交货方式**：*航空公司-航运*

1. 添加具有以下设置的订单行：

    - **物料编号**：*A0001*（未为其分配 **代码 4** 筛选器的物料）
    - **数量：** *1.00*

1. 选择 **库存 \> 预留**，然后在操作窗格上选择 **预留批次** 预留订单行。

#### <a name="sales-order-1-2"></a>销售订单 1-2

1. 创建具有以下设置的销售订单：

    - **客户帐户**：*US-001*
    - **交货方式**：*航空公司-航运*

1. 添加具有以下设置的订单行：

    - **物料编号**：*A0001*（未为其分配 **代码 4** 筛选器的物料）
    - **数量：** *1.00*

1. 选择 **库存 \> 预留**，然后在操作窗格上选择 **预留批次** 预留订单行。

#### <a name="sales-order-1-3"></a>销售订单 1-3

1. 创建具有以下设置的销售订单：

    - **客户帐户**：*US-001*
    - **交货方式**：*10*

1. 添加具有以下设置的订单行：

    - **物料编号**：*A0001*（未为其分配 **代码 4** 筛选器的物料）
    - **数量：** *1.00*

1. 选择 **库存 \> 预留**，然后在操作窗格上选择 **预留批次** 预留订单行。
1. 添加第二个具有以下设置的订单行：

    - **物料编号**：*A0002*（未为其分配 **代码 4** 筛选器的物料）
    - **数量：** *1.00*
    - **交货方式**：*航空公司-航运*

1. 选择 **库存 \> 预留**，然后在操作窗格上选择 **预留批次** 预留第二个订单行。

### <a name="create-order-set-2"></a>创建订单集 2

#### <a name="sales-orders-2-1-and-2-2"></a>销售订单 2-1 和 2-2

1. 创建具有以下设置的两个相同销售订单：

    - **客户帐户**：*US-002*

1. 添加具有以下设置的订单行：

    - **物料编号**：*M9200*（其中的 **代码 4** 筛选器设置为 *易燃* 的物料）
    - **数量：** *1.00*

1. 选择 **库存 \> 预留**，然后在操作窗格上选择 **预留批次** 预留订单行。
1. 添加第二个具有以下设置的订单行：

    - **物料编号**：*M9201*（其中的 **代码 4** 筛选器设置为 *易爆* 的物料）
    - **数量：** *1.00*
    - **交货方式**：*航空公司-航运*

1. 选择 **库存 \> 预留**，然后在操作窗格上选择 **预留批次** 预留第二个订单行。

### <a name="create-order-set-3"></a>创建订单集 3

#### <a name="sales-orders-3-1-and-3-2"></a>销售订单 3-1 和 3-2

1. 创建具有以下设置的两个相同销售订单：

    - **客户帐户**：*US-001*
    - **客户申请**：*1*

1. 添加具有以下设置的订单行：

    - **物料编号**：*A0001*（未为其分配 **代码 4** 筛选器的物料）
    - **数量：** *1.00*

1. 选择 **库存 \> 预留**，然后在操作窗格上选择 **预留批次** 预留订单行。

#### <a name="sales-orders-3-3-and-3-4"></a>销售订单 3-3 和 3-4

1. 创建具有以下设置的两个相同销售订单：

    - **客户帐户**：*US-001*
    - **客户申请**：*2*

1. 添加具有以下设置的订单行：

    - **物料编号**：*A0001*（未为其分配 **代码 4** 筛选器的物料）
    - **数量：** *1.00*

1. 选择 **库存 \> 预留**，然后在操作窗格上选择 **预留批次** 预留订单行。

### <a name="create-order-set-4"></a>创建订单集 4

#### <a name="sales-orders-4-1-and-4-2"></a>销售订单 4-1 和 4-2

1. 创建具有以下设置的两个相同销售订单：

    - **客户帐户**：*US-003*

1. 添加具有以下设置的订单行：

    - **物料编号**：*A0001*（未为其分配 **代码 4** 筛选器的物料）
    - **数量：** *1.00*

1. 选择 **库存 \> 预留**，然后在操作窗格上选择 **预留批次** 预留订单行。

#### <a name="sales-orders-4-3-and-4-4"></a>销售订单 4-3 和 4-4

1. 创建具有以下设置的两个相同销售订单：

    - **客户帐户**：*US-004*

1. 添加具有以下设置的订单行：

    - **物料编号**：*A0001*（未为其分配 **代码 4** 筛选器的物料）
    - **数量：** *1.00*

1. 选择 **库存 \> 预留**，然后在操作窗格上选择 **预留批次** 预留订单行。

#### <a name="sales-orders-4-5-and-4-6"></a>销售订单 4-5 和 4-6

1. 创建具有以下设置的两个相同销售订单：

    - **客户帐户**：*US-007*
    - **站点**：*6*
    - **仓库**：*61*
    - **池**：*ShipCons*

1. 添加具有以下设置的订单行：

    - **物料编号**：*A0001*（未为其分配 **代码 4** 筛选器的物料）
    - **数量：** *1.00*

1. 选择 **库存 \> 预留**，然后在操作窗格上选择 **预留批次** 预留订单行。

#### <a name="sales-orders-4-7-and-4-8"></a>销售订单 4-7 和 4-8

1. 创建具有以下设置的两个相同销售订单：

    - **客户帐户**：*US-007*
    - **站点**：*6*
    - **仓库**：*61*
    - **池**：保持此字段为空。

1. 添加具有以下设置的订单行：

    - **物料编号**：*A0001*（未为其分配 **代码 4** 筛选器的物料）
    - **数量：** *1.00*

1. 选择 **库存 \> 预留**，然后在操作窗格上选择 **预留批次** 预留订单行。

## <a name="use-the-load-planning-workbench-to-create-loads-and-release-them-to-the-warehouse"></a>使用装载计划工作台创建装载并将其发放到仓库

请按照以下步骤为您为此方案创建的每个订单集创建一个装载，然后将其发放到仓库。

1. 转到 **仓库管理 \> 装载 \> 装载计划工作台**。
1. 在 **销售行** 选项卡上，找到并选择为此方案创建的一个订单集中的所有销售订单行。
1. 在操作窗格上的 **供应与需求** 选项卡中，选择 **添加 \> 至新装载** 将所选订单行添加到新装载。
1. 在 **装载模板分配** 对话框的 **装载模板 ID** 字段中，选择一个装载模板，如 *标准装载模板*。
1. 选择 **确定** 关闭对话框。 
1. 在 **装载** 部分中，找到并选择刚才创建的装载。
1. 选择 **发放 \> 发放到仓库** 将所选装载发放到仓库。
1. 对为此方案创建的其他三个订单集重复此过程。

## <a name="verify-the-shipments"></a>验证装运

以下过程用于验证装运合并导致已创建或更新的装运。 将其用于查看您为此方案创建的每个订单集，然后查看后面的小节以确保获取了预期结果。

1. 转到 **仓库管理 \> 装运 \> 所有装运**。
1. 找到并选择所需装运。
1. 如果创建或更新装运时使用了合并策略，应该可以在 **装运合并策略** 字段中看到此策略。

### <a name="release-order-set-1-in-one-load"></a>通过一个装载发放订单集 1

应该已经创建了两个装运：

- 第一个装运中包含三行，该装运是使用 *CustomerMode* 装运合并策略创建的。
- 第二个装运（该装运不使用 *航空公司* 交装运输方式）是使用 *CustomerOrderNo* 装运合并策略创建的。

### <a name="release-order-set-2-in-one-load"></a>通过一个装载发放订单集 2

应该已经创建了三个装运：

- 第一个装运中包含 *易燃* 物品。
- 其他两个装运每个包含一行，该行有 *易爆* 物品。

### <a name="release-order-set-3-in-one-load"></a>通过一个装载发放订单集 3

应该已经创建了两个装运：

- 第一个装运中包含其中的 **客户申请** 字段设置为 *1* 的销售订单中的订单行。
- 第二个装运中包含其中的 **客户申请** 字段设置为 *2* 的销售订单中的订单行。

### <a name="release-order-set-4-in-one-load"></a>通过一个装载发放订单集 4

应该已经创建了四个装运：

- 使用 *订单池* 装运合并策略将客户帐户 *US-003* 的两个订单的行合并到了一个装运中。
- 使用 *订单池* 装运合并策略将客户帐户 *US-004* 的两个订单的行合并到了一个装运中。
- 使用 *订单池* 装运合并策略将客户帐户 *US-007* 的销售订单 4-5 和 4-6 的行合并到了一个装运中。
- 使用 *交叉订单* 装运合并策略将客户帐户 *US-007* 的销售订单 4-7 和 4-8 的行合并到了一个装运中。

## <a name="additional-resources"></a>其他资源

- [装运合并政策](about-shipment-consolidation-policies.md)
- [配置装运合并策略](configure-shipment-consolidation-policies.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]