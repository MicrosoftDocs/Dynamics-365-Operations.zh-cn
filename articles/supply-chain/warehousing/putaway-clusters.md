---
title: 储存群集
description: 储存群集提供了一种可以同时为多个牌照领料，然后将它们带到不同位置进行储存的方法。 它们对于零售业务非常有用，因为零售业务的牌照通常不是全部的库存托盘。
author: Mirzaab
manager: tfehr
ms.date: 10/19/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-10-19
ms.dyn365.ops.version: Release 10.0.7
ms.openlocfilehash: 6a330ddccbd17c92443232fc8488e36a59235773
ms.sourcegitcommit: cfd84321fba38e02e270d361df369a536a48efa3
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/11/2020
ms.locfileid: "4512322"
---
# <a name="putaway-clusters"></a>储存群集

[!include [banner](../includes/banner.md)]

储存群集提供了一种可以同时为多个牌照领料，然后将它们带到不同位置进行储存的方法。 此流程通常称为 *循环取货*。 储存群集对于零售业务非常有用，因为零售业务的牌照通常不是全部的库存托盘。 

## <a name="turn-on-the-cluster-putaway-feature"></a>开启群集储存功能

此功能只有在系统中开启之后才能使用。 管理员可以使用[功能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)工作区检查功能状态和开启功能（如果需要）。 在那里，此功能以以下方式列出：

- **模块**：*仓库管理*
- **功能名称**：*群集储存功能*

## <a name="setup-for-the-example-scenario"></a>针对示例场景设置

### <a name="cluster-profiles"></a>群集配置文件

储存群集配置文件根据收货时分配给物料的位置来确定物料的去向。 如果需要不同的群集，则应创建不同的储存群集，每个移动设备菜单项创建一个。

1. 转到 **仓库管理 \> 设置 \> 移动设备 \> 群集配置文件**。
1. 在操作窗格上，选择 **新建**。
1. 在 **标头** 视图中，设置以下值：

    - **储存群集配置文件 ID**：*Cluster putaway*
    - **储存群集配置文件 ID 名称**：*群集储存*
    - **群集类型**：*储存*
    - **序列号：** 接受默认值。

1. 选择 **保存** 让 **常规** 快速选项卡上的必填字段显示。
1. 在 **常规** 快速选项卡上，设置以下值：

    - **群集分配时间**：*收货时*

        此字段定义是否应在收到库存时立即分配储存群集，还是应在以后分类。

    - **群集分配规则**：*手动*

        此字段定义应由系统自动确定群集分配还是由用户手动进行。

    - **指令代码：** 将此字段保留为空。
    - **储存群集查找**：*收货*

        提供以下值：

        - **收货** – 收货期间立即找到位置。
        - **群集关闭** – 在群集关闭时找到位置。
        - **用户导向** – 从群集为牌照领料以进行储存时找到位置。 在这种情况下，不在创建储存工作时指定位置。 在储存过程中，用户必须扫描牌照或工作 ID 来启动放置步骤。 然后，系统将再次查找放置位置，并告诉用户放置所领取数量的位置。

    - **按用户分配储存群集**：*否*

        此字段定义在自动分配群集时每个群集对每个用户是否应是唯一的。 它仅在 **群集分配规则** 字段设置为 *自动* 时显示。

    - **单位限制：** 将此字段留空。

        此字段定义要让配置文件有效必须接收的单位。 如果为空，所有单位有效。

    - **工作单位中断**：*单个*

        此字段定义群集关闭时是否应将所有库存合并（使用库存 ID 和牌照）到一个牌照，以及是应将其作为单个牌照储存还是应在接收的牌照上单独储存。 此字段在 **储存群集查找** 字段设置为 *收货* 时不显示。

    - **群集作为父牌照保留**：*否*

        如果此选项设置为 *是*，完成放置步骤后，群集 ID 将成为父牌照，群集 ID 上的所有物料都将链接到该父牌照。

1. 在 **群集排序** 快速选项卡上，您可以定义储存排序条件。 在工具栏上选择 **新建** 添加一行，然后设置以下值：

    - **序列号：** 接受默认值。
    - **字段名称**：*WMSLocationId*

        此字段定义此行应用作排序条件的字段。

    - **排序**：*升序*

        此字段定义排序应按升序还是降序进行。

1. 在 **群集工作模板** 快速选项卡上，在工具栏上选择 **新建** 添加一行，然后设置以下值：

    - **工作订单类型**：*采购订单*
    - **工作模板**：*61 PO Direct*

1. 在操作窗格上，选择 **保存**，然后选择 **编辑查询**。
1. 在 **群集储存** 对话框中的 **范围** 选项卡中，选择 **添加** 向查询再添加一行。 然后更新查询行，如下表所示。

    | 表 | 派生表 | 字段 | 条件 |
    |---|---|---|---|
    | 工作 | 工作 | 仓库 | *61* |
    | 工作 | 工作 | 工作 ID | 保持此字段为空。 |

1. 选择 **确定** 保存查询并关闭对话框。
1. 在操作窗格上，选择 **保存**，然后关闭页面。

> [!IMPORTANT]
> 当 **生成群集 ID** 设置为 *是* 时，群集配置文件中灰显的字段不可用，不会在使用此功能时考虑。

### <a name="mobile-device-menu-items"></a>移动设备菜单项

此功能提供了两个新的移动设备菜单项。 **群集接收和分类** 菜单项用于在收货后将收到的库存分类到储存群集。 **群集储存** 菜单项用于在分配群集后对其进行储存。

#### <a name="receive-and-sort-cluster"></a>群集接收和分类

创建一个新的移动设备菜单项，用于接收库存并将其分类到群集。 此菜单项将在接收库存后创建入站工作，这指示接收菜单项将用于储存群集。

> [!NOTE]
> **群集接收和分类** 菜单项可以与以下接收菜单项一起使用：
>
> - 采购订单行接收
> - 采购订单物料接收
> - 加载物料接收

1. 转到 **仓库管理 \> 设置 \> 移动设备 \> 移动设备菜单项**。
1. 在操作窗格上，选择 **新建**。
1. 在 **标头** 视图中，设置以下值：

    - **菜单项名称**：*群集接收和分类*
    - **标题**：*群集接收和分类*
    - **模式：***工作*
    - **使用现有工作**：*否*

1. 在 **常规** 快速选项卡上，设置以下值：

    - **工作创建流程**：*采购订单物料接收*
    - **生成牌照：***是*
    - **分配储存群集**：*是*

        > [!NOTE]
        > **分配储存群集** 选项仅对用于接收的一步式 *工作创建流程* 活动可用。

    其余字段接受默认值。

1. 在操作窗格上，选择 **保存**。

#### <a name="cluster-putaway"></a>群集储存

创建一个新的移动设备菜单项，用于在分配群集后对其进行储存。

1. 转到 **仓库管理 \> 设置 \> 移动设备 \> 移动设备菜单项**。
1. 在操作窗格上，选择 **新建**。
1. 在 **标头** 视图中，设置以下值：

    - **菜单项名称**：*群集储存*
    - **标题**：*群集储存*
    - **模式：***工作*
    - **使用现有工作**：*是*

1. 在 **常规** 快速选项卡上，将 **导向方式** 字段设置为 *群集储存*。 其余字段接受默认值。
1. 在 **工作类** 快速选项卡上，为此移动设备菜单项设置有效的工作类：

    - **工作类 ID**：*Purchase*
    - **工作订单类型**：*采购订单*

1. 在操作窗格上，选择 **保存**。

### <a name="mobile-device-menu"></a>移动设备菜单

将刚才创建的菜单项添加到移动应用的入站菜单中。

1. 转到 **仓库管理 \> 设置 \> 移动设备 \> 移动设备菜单**。
1. 在操作窗格上，选择 **编辑**。
1. 在菜单列表中，选择 **入站**。
1. 在 **可用菜单和菜单项** 列表中，找到并选择 **群集接收和分类**。
1. 选择向右箭头按钮将所选的菜单项移到 **菜单结构** 列表。
1. 使用向上箭头或向下箭头按钮将菜单项移到菜单中的所需位置。
1. 在操作窗格上，选择 **保存**。
1. 重复执行步骤 4 到 7，添加其余菜单项：

    - 分配群集
    - 群集储存

## <a name="example-scenario"></a>示例场景

此场景模拟储存群集处理。

### <a name="create-a-purchase-order"></a>创建采购订单

1. 转到 **应付帐款 \> 采购订单 \> 所有采购订单**。
1. 在操作窗格上，选择 **新建**。
1. 在 **创建采购订单** 对话框中，设置以下值：

    - **供应商帐户**：*1001*
    - **仓库**：*61*

1. 选择 **确定**。

    **所有采购订单** 页将出现。

1. 在 **所有采购订单** 页上的 **采购订单行** 快速选项卡上，使用 **添加行** 按钮添加以下行：

    - 采购订单行 1：

        - **物料编号：***A0001*
        - **数量：** *10*

    - 采购订单行 2：

        - **物料编号：***A0002*
        - **数量：** *20*

    - 采购订单行 3：

        - **物料编号：***M9215*
        - **数量：** *30*

1. 在操作窗格上，选择 **保存**。
1. 记下采购订单编号。

### <a name="receive-inventory-and-put-it-away-from-the-mobile-device"></a>从移动设备接收库存和储存

#### <a name="receive-and-sort-the-inventory-into-a-cluster"></a>接收库存并分类到群集

1. 以已经为仓库 *61* 设置的用户的身份登录仓库应用。
1. 在主菜单上，选择 **入站**。
1. 在 **入站** 菜单上，选择 **群集接收和分类**。
1. 在 **采购订单编号** 字段中，输入采购订单编号。
1. 选择 **确定**（复选标记按钮）。
1. 选择 **物料** 字段，输入物料编号 *A0001*，然后选择 **确定**。
1. 选择 **数量** 字段，使用数字键盘输入 *10*，然后选择复选标记按钮。
1. 在 **数量** 任务页，选择 **确定**（复选标记按钮）确认您输入的数量。
1. 在 **物料** 任务页，选择 **确定** 确认物料 *A0001* 已输入。
1. 选择 **群集 ID** 字段，输入一个值来为要创建的群集分配 ID。

    您在此处输入的 ID 将在接收采购订单上的其余两个物料时使用。

1. 选择 **确定**。

    **采购订单编号** 任务页将出现，显示“工作已完成”消息。

    物料 *A0001* 现在已经被接收到 *RECV* 位置，并分配给您在步骤 10 中输入的群集 ID。

1. 重复步骤 4 到 11 接收采购订单中的其余两个物料，然后将它们分配给群集 ID：

    - 物料 *A0002* 的数量为 *20*
    - 物料 *M9215* 的数量为 *30*

#### <a name="close-the-cluster"></a>关闭群集

必须先关闭群集，然后才能储存群集中的物料。

1. 在 Supply Chain Management 中，转到 **仓库管理 \> 工作 \> 出站 \> 工作群集**。
1. 在 **工作群集** 页上，在 **工作群集** 部分中，搜索您之前输入的群集 ID 的 **群集 ID** 字段。
1. 如果群集未显示，说明它可能已经关闭。 要确定群集是否关闭，选择 **显示已关闭工作** 复选框，然后搜索您之前输入的群集 ID。 然后按照以下步骤之一操作：

    - 如果群集已关闭，跳过此过程的其余步骤，进入下一个过程[储存群集](#put-the-cluster-away)。
    - 如果群集未关闭，请按照此过程的其余步骤手动关闭群集。 然后进入下一个过程。

1. 在 **工作群集** 部分，选择您之前输入的群集 ID。
1. 在操作窗格上，选择 **关闭群集**。

    群集关闭后，不会再显示在 **工作群集** 部分（除非选中 **显示已关闭工作** 复选框）。

#### <a name="put-the-cluster-away"></a>储存群集

1. 以已经为仓库 *61* 设置的用户的身份登录仓库应用。
1. 在主菜单上，选择 **入站**。
1. 在 **入站** 菜单上，选择 **群集储存**。
1. 选择 **群集 ID**，输入您之前为已关闭群集输入的群集 ID。
1. 选择 **确定**。

    **群集储存: 领料** 页将出现。 此页面显示群集 ID、领料位置、物料（值 *多个* 将显示），以及必须领料的群集中的总数量。

1. 选择 **确定**。

    **群集储存: 放置** 页将出现。 **放置** 指令标识群集 ID、放置位置、物料、总数量，以及群集上已接收的物料的牌照 ID。

    您可以使用标准选项来替代或跳过此步骤。

    ![“群集储存: 放置”页](media/Cluster_putaway-Put.png "“群集储存: 放置”页")

1. 选择 **确定** 确认群集的储存。

    “群集已完成”消息将显示。

## <a name="notes-and-tips"></a>说明和提示

对于群集 ID 成为嵌套托盘的父牌照的情况，扫描群集 ID 时会自动给出放置位置。 即使将牌照生成设置为手动，也无需再扫描牌照。
