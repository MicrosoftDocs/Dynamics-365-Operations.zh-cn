---
title: 为仓库交易配置产品筛选器
description: 本文描述了如何配置产品筛选器和筛选器编码为仓库中的库存物料分类。 您也可以使用筛选器指定可以订购特殊物料的客户，以及可以从特定供应商采购哪些物料。
author: Mirzaab
ms.date: 01/04/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSFilters,WHSFilterGroupTable,EcoResProductDetailsExtended,WHSFilterGenerallyAvail
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-01-04
ms.dyn365.ops.version: 10.0.16
ms.openlocfilehash: f3d6cd373699d374c019f0db7befaffc169f4f6c
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/03/2022
ms.locfileid: "8850429"
---
# <a name="configure-product-filters-for-warehouse-transactions"></a>为仓库交易配置产品筛选器

[!include [banner](../includes/banner.md)]

本文描述了如何配置产品筛选器和筛选器编码为仓库中的库存物料分类。 您也可以使用筛选器指定可以订购特殊物料的客户，以及可以从特定供应商采购哪些物料。

此外，您还可以设置并使用产品筛选器自动组织仓库中的库存物料并将已筛选物料组合到筛选器组。 筛选器可用于将物料分类以执行处理、购买和销售流程。 当处理方式基于重量或处理限制时，您可能需要将物料分组在一起或将它们彼此分开。 您还可以指定可以向其购买或出售物料的客户或供应商。

## <a name="prerequisites"></a>先决条件

下表显示必须先就绪然后才能开始的先决条件。

| 必备项 | 描述 |
|---|---|
| 在开始在 **已发布产品详细信息** 页上配置产品之前，必须为产品的存储维度组打开仓库处理。 | 转到 **产品信息管理 \> 设置 \> 维度和变型组 \> 存储维度组**，选择或创建一个存储维度组，将其 **使用仓库管理流程** 选项设置为 *是*。 |
| 如果要使用客户筛选器和/或供应商筛选器，则必须在“仓库管理”参数中启用它们的使用。 | 转到 **仓库管理 \> 设置 \> 仓库管理参数**。 在 **产品筛选器** 选项卡上，将 **启用客户筛选器** 和/或 **启用供应商筛选器** 选项设置为 *是*。 |

## <a name="set-up-product-filters"></a>设置产品筛选器

产品筛选器最多提供 10 个 **筛选器标题** 特征，这些特征是枚举值。 创建产品筛选器时，可以选择这些枚举值。 枚举值 *代码 1* 到 *代码 10* 是系统定义的，表示物料的特定特征或属性。 例如，*代码 1* 可能表示具有危险材料分类的物料。 *代码 2* 可能表示只有供应商可以购买的物料。 然后，产品筛选器定义与 **筛选器标题** 值关联的特定 **筛选器代码** 值。

1. 转到 **仓库管理 \> 设置 \> 产品筛选器 \> 产品筛选器**。
1. 在操作窗格上，选择 **新建** 向网格添加产品筛选器。
1. 在 **筛选器标题** 字段中，选择一个值。
1. 在 **筛选器代码** 字段中，输入一个值。

    ![设置产品筛选器。](media/Product_Filters10.png "设置产品筛选器")

1. 在 **描述** 字段中，为代码输入名称。 例如，*代码 2* 可能表示供应商。 然后，您可以为特定供应商或供应商组创建产品筛选器。 有关详细信息，请参阅本文后面的[设置供应商筛选器代码](#vendor-product-filters)一节。

    ![设置产品筛选器。](media/Product_Filters.png "设置产品筛选器")

## <a name="set-up-product-filter-groups"></a>设置产品筛选器组

您可以使用筛选器组分组筛选代码。 当组用于位置指令中的查询，而您要搜索组而不是一系列代码时，此功能非常有用。 每个筛选器组与一个物料组关联。

> [!IMPORTANT]
> 并非所有产品筛选器组都可用于大于 *代码 4*（即 *代码 5* 到 *代码 10*）的筛选器代码。 例如，对于已发布产品，尽管将添加所有产品筛选器代码，但是不会更新筛选器代码的分组。 此行为可能会在更高版本中更新。

若要设置筛选器组，请执行这些步骤。

1. 转到 **仓库管理 \> 设置 \> 产品筛选器 \> 产品筛选器组**。
1. 在操作窗格上，选择 **新建**。
1. 在 **组 1** 和 **组 2** 字段中，输入要用于对物料分类的名称。
1. 在 **详细信息** 快速选项卡上，选择 **新建** 添加行。
1. 在 **开始日期/时间** 和 **结束日期/时间** 字段中，输入筛选器组的开始日期和结束日期。
1. 在 **物料组** 字段中，选择产品筛选器应该应用的物料组。
1. 在 **代码 1** 到 **代码 10** 字段中，根据需要选择要包含在组中的筛选器代码。

    ![物料组。](media/ProdFilterGroup.png "物料组")

> [!NOTE]
> 如果您在关闭页面时收到错误消息，一个代码设置将会丢失。 在 **物料组** 页上，您可以通过选中 **为物料组分配筛选器代码 1**、**为物料组分配筛选器代码 2** 等复选框来让代码成为物料组的强制代码。

## <a name="set-up-filter-codes-on-item-groups"></a>设置物料组的筛选器代码

通过设置物料组的筛选器代码，您可以让这些代码成为附加到该物料组的产品的必需代码。

要设置物料组的筛选器代码，请按以下步骤进行操作。

1. 转到 **库存管理 \> 设置 \> 库存 \> 物料组**。
1. 在“操作窗格”中，选择 **新建** 创建物料组。
1. 在 **物料组** 字段中，输入名称。
1. 在 **名称** 字段中，输入描述。
1. 在 **仓库** 快速选项卡上，在 **需要筛选器** 部分，选中必须为与物料组关联的产品指定的筛选器代码的复选框。

    要更新已发布的产品，打开它的 **已发布产品详细信息** 页，然后在操作窗格上，选择 **编辑**。 然后，与代码关联的筛选器将在 **仓库** 快速选项卡上可用。

    ![物料组。](media/ItemGroup10.png "物料组")

1. 在 **物料组筛选器** 部分，选中必须与要作为物料默认筛选器组的筛选器组匹配的筛选器的复选框。

    例如，如果选择了 **使用筛选器代码 1** 和 **使用筛选器代码 2** 复选框，物料的筛选器代码 1 和筛选器代码 2 必须与物料组的筛选器组的设置相匹配，这时才可以选择筛选器组。 创建新物料时，所选筛选器组将是 **已发布产品详细信息** 页的 **仓库** 快速选项卡上 **组 1** 和 **组 2** 字段中的默认筛选器组。

> [!IMPORTANT]
> 产品筛选器代码仅对使用高级仓库管理的物料启用。

## <a name="specify-filter-codes-for-released-products"></a>指定已发布产品的筛选器代码

请按照以下步骤指定已发布产品的筛选器代码。 例如，您可以使用筛选器代码对特定供应商购买的危险产品进行分组。

1. 转到 **产品信息管理 \> 产品 \> 已发布产品**。
1. 在操作窗格上，选择 **新建** 创建产品。
1. 在 **新建已发布产品** 对话框中，输入创建新产品的基础所需的数据，然后选择 **确定**。

    除非已为筛选器代码配置了附加到产品的物料组，否则筛选器代码不会启用。

    有关详细信息，请参阅[创建新产品](../pim/tasks/create-new-product.md)。

1. 在 **仓库** 快速选项卡上的 **产品筛选器代码** 部分，根据需要为 **代码 1** 到 **代码 10** 字段选择筛选器代码，以为产品指定筛选器代码。

## <a name="set-up-generally-available-items"></a>设置普遍可用的物料

您可以将特定库存物料设置为仅对客户、仅对供应商或同时对二者可用。

> [!NOTE]
> 客户和供应商筛选器不适用于被设置为普遍可用的物料。

要设置普遍可用的物料，请按以下步骤操作。

1. 转到 **仓库管理 \> 设置 \> 产品筛选器 \> 普遍可用的产品**。
1. 在操作窗格上，选择 **新建** 创建记录。
1. 在 **客户或供应商** 字段中，选择 *客户*、*供应商* 或 *所有*，让物料对客户、供应商或同时对二者可用。
1. 在 **开始日期/时间** 字段中，输入物料可用的日期和时间。
1. 在 **物料组** 字段中，选择物料组。
1. 在 **代码 1** 到 **代码 10** 字段中，选择限制普遍可用的物料的筛选器代码。

    在您选择物料组时，请将该物料组设置为普遍可用。 通过选择这些字段中的筛选器代码，限制可用的物料。

## <a name="set-up-customer-product-filters"></a>设置客户产品筛选器

您可以使用此可选过程指定应该对客户可用的物料，以及通过 **普遍可用的物料** 页上的筛选器设置使其可用的物料。 您可以为单个客户设置多个筛选器。

要设置客户筛选器代码，请按以下步骤操作。

1. 转到 **销售和市场营销 \> 客户 \> 所有客户**。
1. 选择一个客户。
1. 在操作窗格的 **客户** 选项卡上，在 **设置** 组中，选择 **产品筛选器**。
1. 在 **产品筛选器代码** 页的操作窗格上，选择 **新建**。
1. 在 **开始日期/时间** 和 **结束日期/时间** 字段中，输入所选物料组的开始日期和结束日期。
1. 在 **物料组** 字段中，选择物料组。
1. 在 **代码 1** 到 **代码 10** 字段中，选择筛选器代码，用作限制所选物料组中对客户可用的物料的条件。 您必须为为物料组设置的每个筛选器代码进行选择。

## <a name="set-up-vendor-product-filters"></a><a name="vendor-product-filters"></a>设置供应商产品筛选器

您可以使用此可选过程指定应该对供应商可用的物料，以及通过 **普遍可用的物料** 页上的筛选器设置使其可用的物料。 您可以为单个供应商设置多个筛选器。

要设置供应商筛选器代码，请按以下步骤操作。

1. 转到 **采购 \> 供应商 \> 所有供应商**。
1. 选择某一供应商。
1. 在操作窗格的 **供应商** 选项卡上，在 **设置** 组中，选择 **产品筛选器**。
1. 在 **筛选器代码** 页的操作窗格上，选择 **新建**。
1. 在 **开始日期/时间** 和 **结束日期/时间** 字段中，输入所选物料组的开始日期和结束日期。
1. 在 **物料组** 字段中，选择物料组。
1. 在 **代码 1** 到 **代码 10** 字段中，选择筛选器代码，用作限制所选物料组中对供应商可用的物料的条件。 您必须为为物料组设置的每个筛选器代码进行选择。

> [!NOTE]
> 供应商产品筛选器的设置适用于为关联的存储维度组启用了仓库管理流程的已发布产品。 筛选器代码用于确定系统在创建采购订单行时是否允许用户从给定供应商处购买给定物料。 Microsoft Dynamics 365 Supply Chain Management 有两种处理供应商审批的方法。 如果存在一个或多个 **核准供应商检查方法** 字段设置为 *仅警告* 或 *不允许* 的已发布产品，两种供应商审批方法都可以为这些物料启用。 这种情况可能会在用户创建采购订单行时导致问题。

## <a name="see-also"></a>请参阅

[有关详细信息，请参阅博客文章“WMS 仓库筛选器代码”](http://blog.dynamics-for-operations.com/2017/09/26/wms-warehouse-filter-codes/)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]