---
title: 领料行分组
description: 本主题概述领料行分组。
author: Mirzaab
manager: tfehr
ms.date: 12/15/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSRFMenuItem,WHSWorkTemplateTable
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: 2019-12-31
ms.dyn365.ops.version: 10.0.1
ms.openlocfilehash: e70244d46ec2787fefdb097d0354af7910b55e9c
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/15/2021
ms.locfileid: "4989710"
---
# <a name="pick-line-grouping"></a>领料行分组

[!include [banner](../includes/banner.md)]

领料行分组可以将具有相同物料和位置的多个工作行合并为一个领料，来在移动设备上向用户显示。 因此，仓库工作人员可以收到最有效的指令，但仍可以在系统中维护所需的工作线分隔（针对不同的集装箱、订单等）。

## <a name="turn-on-the-pick-line-grouping-feature"></a>打开领料行分组功能

此功能只有在系统中开启之后才能使用。 管理员可以使用[功能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)工作区检查此功能的状态和开启功能（如果需要）。 在那里，此功能以以下方式列出：

- **模块**：*仓库管理*
- **功能名称**：*领料行分组*

## <a name="set-up-pick-line-grouping"></a>设置领料行分组

### <a name="create-a-mobile-device-menu-item"></a>创建移动设备菜单项

1. 转到 **仓库管理 \> 设置 \> 移动设备 \> 移动设备菜单项**。
1. 在操作窗格上，选择 **新建**。
1. 在 **菜单项名称** 字段中，输入 *销售组行领料*。
1. 在 **标题** 字段中，输入 *销售组行领料*。 此标题将显示在移动设备菜单上。
1. 在 **模式** 字段中，选择 *工作*。
1. 将 **使用现有工作** 选项设置为 *是*。
1. 在 **常规** 快速选项卡上，设置以下值：

    - 在 **导向方式** 字段中，选择 *用户导向*。
    - 将 **生成牌照** 选项设置为 *是*。
    - 将 **组领料** 选项设置为 *是*。
    - 其余选项接受默认值。

1. 按照以下步骤为移动设备菜单项配置有效的工作类：

    1. 在 **工作类** 快速选项卡上，选择 **新建**。
    2. 在 **工作类 ID** 字段中，您可以选择 *销售* 或 *SO 领料*，具体取决于您要使用的仓库。 对于此场景，选择 *SO 领料*。

        **工作订单类型** 字段将自动设置为 *销售订单*。

### <a name="set-up-a-mobile-device-menu"></a>设置移动设备菜单

请按照以下步骤将刚才创建的菜单项添加到 **出站** 菜单。

1. 转到 **仓库管理 \> 设置 \> 移动设备 \> 移动设备菜单**。
1. 在操作窗格上，选择 **编辑**。
1. 列表窗格显示所有现有的移动设备菜单。 在列表中选择 *出站*。
1. 在 **可用菜单和菜单项** 网格中，找到并选择您创建的 *销售组行领料* 菜单项。
1. 选择向右箭头按钮将 *销售组行领料* 菜单项移到 **菜单结构** 列表。
1. 使用向上箭头和向下箭头按钮将菜单项移到菜单结构中的所需位置。
1. 在操作窗格上，选择 **保存**。

### <a name="set-up-a-work-template"></a>设置工作模板

1. 转到 **仓库管理 \> 设置 \> 工作 \> 工作模板**。
1. 在 **工作订单类型** 字段中，选择 *销售订单*。
1. 在 **概览** 网格中，找到并选择此功能应使用的工作模板。 对于此场景，选择 *51 领料到暂存位置* 模板。
1. 在操作窗格上，选择 **编辑查询**。
1. 在查询编辑器对话框的 **分类** 选项卡上，选择 **添加**，然后为新行设置以下值：

    - 在 **表** 列中，选择 *临时工作交易记录*。
    - 在 **派生表** 列中，选择 *临时工作交易记录*。
    - 在 **字段** 列中，选择 *物料编号*。
    - 在 **搜索方向** 列中，选择 *升序*。

1. 选择 **确定** 关闭对话框并保存您的选择。
1. 您将收到以下消息：“分组将重置，是否继续？” 选择 **是** 继续。

> [!IMPORTANT]
> 为了使领料行分组功能正常工作，必须按物料 ID 对工作行进行排序。 如果具有相同物料的行没有逐个排序，将不会对它们分组。

## <a name="example"></a>示例

### <a name="create-picking-work"></a>创建领料工作

您必须先创建一些合格的出货工作，然后才能设置领料行分组。

1. 转到 **销售和营销 \> 销售订单 \> 所有销售订单**。
1. 选择 **新建** 以创建新的销售订单。
1. 在 **客户帐户** 字段中选择 *US-004*。
1. 在 **常规** 快速选项卡上的 **仓库** 字段中，选择 *51*。
1. 选择 **确定**。
1. 在 **销售订单行** 快速选项卡上，添加以下六行：

    - **行 1：** 在 **物料编号** 字段中，选择 *M9200*。 在 **数量** 字段中，输入 *3*。
    - **行 2：** 在 **物料编号** 字段中，选择 *M9201*。 在 **数量** 字段中，输入 *3*。
    - **行 3：** 在 **物料编号** 字段中，选择 *M9202*。 在 **数量** 字段中，输入 *2*。
    - **行 4：** 在 **物料编号** 字段中，选择 *M9200*。 在 **数量** 字段中，输入 *1*。
    - **行 5：** 在 **物料编号** 字段中，选择 *M9200*。 在 **数量** 字段中，输入 *3*。
    - **行 6：** 在 **物料编号** 字段中，选择 *M9202*。 在 **数量** 字段中，输入 *7*。

    以下是每个物料的总数量的汇总：

    - **物料 M9200：** 各 *7*
    - **物料 M9201：** 各 *3*
    - **物料 M9202：** 各 *9*

1. 在将订单下达到仓库之前，必须确保领料库位有满足所有订单上的所有物料的足够库存。 查看 **库位指令** 设置，确定用于销售订单领料的领料库位。 如果您将 Contoso 演示数据环境用于仓库 *51*，请确认有可用库存。

    现在，您必须为每个行预留库存。

1. 在 **销售订单行** 快速选项卡上，选择必须预留的行之一。
1. 在网格上方的 **库存** 菜单中，选择 **预留**。
1. 在 **预留** 页的操作窗格中，选择 **预留批次** 应用预留。 然后关闭页面。
1. 对必须预留的其余行重复步骤 8 到 10。

    现在您必须将销售订单下达到仓库。

1. 在“操作窗格”上的 **仓库** 选项卡上，选择 **发放到仓库**。

    您将收到一条消息，指示已创建装运和波次，且波次已经提交以在批处理中运行。

    在波次和所有下游作业完成后，将为具有六行的工作创建工作 ID。 这些行按物料编号排序。

1. 转到 **仓库管理 \> 工作 \> 所有工作** 查看创建的工作。 记下 **工作 ID** 值，因为您在下一个过程中需要用到。

### <a name="initiate-picking-from-the-mobile-device"></a>从移动设备启动领料

1. 以为仓库 *51* 设置的用户身份登录到移动设备。
1. 在移动设备上，选择包含新的移动设备菜单项的菜单。 对于此场景，选择 **出站**。
1. 选择 **销售组行领料** 菜单项来启动领料。
1. 输入您在上一过程中记下的 **工作 ID** 值。

    您应该会看到一个领料步骤，其中将物料 *M9200* 的所有领料行分组，并且应该会收到一条为每个 *M9200* 物料领取 *7* 的指令。

    > [!IMPORTANT]
    > 在移动设备上，三个领料工作行的领料工作已聚合到用户的一个领料步骤。

1. 确认领料步骤。
1. 转到工作 ID 的工作页，注意物料 *M9200* 的所有三个领料行已同时关闭。
1. 返回到移动设备，继续领料。 物料 *M9201* 的工作行 4 应该显示。 因为订单上只有一个工作行，所以没有要聚合的内容。
1. 确认领料步骤。
1. 移动设备上的最后一个领料步骤聚合了工作订单的最后两个领料行。
1. 完成每个 *M9202* 物料领取 *9* 的领料步骤。
1. 确认放置步骤以及所有其他领料/放置对以完成工作。

> [!IMPORTANT]
>
> - 只有处于序列中时工作行才会被分组。
> - 不支持以下功能：
>
>   - 实际称重物料
>
>    如果工作中有任何实际称重物料，在开始领料之前您会收到一条错误消息。
>
>   - 单件领料
>   - 有未完成的补货工作的工作行
>   - 过量领料
>   - 物料重新分配的领料短缺
