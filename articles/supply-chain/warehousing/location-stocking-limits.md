---
title: 库位库存限制
description: 本主题介绍库位库存限制的功能。
author: perlynne
manager: tfehr
ms.date: 11/11/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSLocationLimit
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: 2020-11-11
ms.dyn365.ops.version: 10.0.16
ms.openlocfilehash: e0adb9d05f0db9bbfe6bfbe72564a4e5e839f163
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/15/2021
ms.locfileid: "5004562"
---
# <a name="location-stocking-limits"></a>库位库存限制

[!include [banner](../includes/banner.md)]

您可以使用 **库位库存限制** 页面（**仓库管理 \> 设置 \> 仓库 \> 库位库存限制**）控制仓库库位的负荷容量，而不必使用更高级的流程进行物理产品的体积计算。

库位库存限制的目的是评估库位可以容纳的最大数量。 您可以在三个级别中的任何一个上设置该功能，每个级别在 **库位库存限制** 页面上都有自己的选项卡：

- 产品
- 产品变型
- 集装箱类型

对于每个级别，您可以定义不同的字段值。 然后，系统将基于每行的 **数量** 和 **单位** 值评估特定库位的容量。 它将首先选择最详细的匹配记录。 例如，在 **库位配置文件 ID** 字段中具有值的行将先于仅在 **仓库** 字段中具有值的行进行评估。 还将基于使用的库位库存限制记录的 **数量值** 评估剩余容量。

在页面的 **产品** 部分中，您可以定义以下字段值以搜索库位库存限制：

- 仓库
- 库位模板 ID
- 库位
- 包装大小类别 ID
- 物料编号
- 单位

> [!NOTE]
> 您不必为每个库位库存限制记录定义 **单位** 值。 库位容量计算将基于库存单位数量。 如果没有为使用的值定义单位转换，将跳过库位库存限制记录，就像为其定义了另一个 **物料编号** 值一样。

## <a name="example--purchase-order-receiving"></a>示例 – 采购订单接收

此示例基于干净的 *USMF* 演示数据集，其中在 **库位库存限制** 页面的 **产品变型** 选项卡上设置以下值。

| 仓库 | 库位模板 ID | 物料编号 | 大小 | 数量 | 单位 |
|-----------|---------------------|-------------|------|----------|------|
| 24        | FLOOR               | D0013       | 一    | 300      | 位   |
| 24        | FLOOR               | D0013       | L    | 240      | 位   |
| 24        | FLOOR               | D0013       | 六    | 360      | 位   |

为产品设置不同的度量单位产品变型。 这些变型与三个托盘 (PL) 的库位库存限制一致：

- **尺寸 M：** 1 PL = 100 每个 (Ea)
- **尺寸 L：** 1 PL = 80 Ea
- **尺寸 S：** 1 PL = 120 Ea

因此，**库位配置文件 ID** 值设置为 *FLOOR* 的每个库位可以容纳物料编号 *D0013* 的 *3* 个 *PL*。

### <a name="prepare-for-the-example"></a>准备示例

在此示例中，您将运行两行的采购订单接收流。 但是，您必须首先采用以下方式更新演示数据，以确保这些库位允许容纳混合物料，仅使用空库位 *FL-002* 到 *FL-004*，并且没有未结入库工作。

1. 对于库位 *FL-001*，将 **库位配置文件** 字段的值从 *FLOOR* 更改为 *FLOOR-05*。
1. 对于 *FLOOR* 库位配置文件，将 **允许混合物料** 选项设置为 *是*。
1. 创建具有以下两行的采购订单。

    | 仓库 | 物料编号 | 大小 | 数量 | 单位 |
    |-----------|-------------|------|----------|------|
    | 24        | D0013       | 六    | 4        | PL   |
    | 24        | D0013       | L    | 4        | PL   |

### <a name="process-the-example"></a>处理示例

您将首先接收尺寸 *S* 的单位 *PL* 的数量 *4*，并查看所创建工作的放置行库位。 然后，将接收尺寸 *L* 的单位 *PL* 的数量 *4*，并查看所创建工作的放置行库位。

1. 在仓库应用中，使用 *24* 作为用户 ID 和 *1* 作为密码登录。
1. 选择 **入库** \> **采购接收**。
1. 接收尺寸 *S* 的物料编号 *D0013* 的 *4* *PL*。
1. 查看所创建的储存工作。 应该会看到以下结果：

    - 3 PL -\> FL-002
    - 1 PL -\> FL-003

1. 接收尺寸 *L* 的物料编号 *D0013* 的 *4* *PL*。
1. 查看所创建的储存工作。 应该会看到以下结果：

    - 1 PL -\> FL-003
    - 3 PL -\> FL-004

根据结果，您可能会得出结论，系统未能分配正确的储存库位。 否则，为什么系统在最后一步中仅将尺寸 *L* 的 *1* *PL*（而不是 *2* *PL*）添加到库位 *FL-003*？ 也就是说，为什么不是总共 *3* *PL* 储存到该库位？

为了说明这种明显的错误，您必须了解库位库存限制的选择标准。 系统选择最详细的匹配记录。 在此示例中，最详细的匹配记录是 **尺寸** 值是 *L*、**数量** 值是 *240* 和 **单位** 值是 *Ea* 的行。 因为您已在尺寸 *S* 的 *120* *Ea* 的数量的上次接收中有未结工作，因此剩余容量计算为 *240* – *120* = *120* *Ea*。 因此，剩余容量只能容纳 *80* *Ea* 的 *1* *PL*。

> [!NOTE]
> 例如，您不能使用库位库存限制来控制在同一库位上具有不同数量的物料的补货。 在这种情况下，使用 *补货模板*。
