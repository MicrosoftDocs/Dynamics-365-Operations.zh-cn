---
title: 仓库货位状态
description: 本主题概述仓库货位状态功能。
author: Mirzaab
manager: tfehr
ms.date: 07/01/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSLocationProfile,WHSLocation
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations, Supply Chain Management
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: 2020-07-01
ms.dyn365.ops.version: 10.0.7
ms.openlocfilehash: 31216c24f54f22ec928eb143d4a913aabcd50cf8
ms.sourcegitcommit: 827d77c638555396b32d36af5d22d1b61dafb0e8
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/16/2020
ms.locfileid: "4423379"
---
# <a name="warehouse-location-status"></a>仓库货位状态

[!include [banner](../includes/banner.md)]

Microsoft Dynamics 365 Supply Chain Management 中有若干货位字段，让您可以灵活地处理和维护货位。 可以在货位指令查询中包含货位状态，以便更好地控制仓库流。

**货位** 页面中的下面四个字段跟踪有关当前货位状态的信息。 仓库经理可通过这些字段概览仓库货位状态。 还可以用于进行高级报告和筛选。

- **物料编号** – 当前位于货位中的物料。 如果货位中有多个物料，则该字段为空。
- **最后一个活动的日期和时间** – 上次对货位执行的仓库事务的时间戳。
- **帐龄日期** – 将货位中的库存导入仓库时的日期。 该值基于牌照的帐龄日期计算。 其对牌照跟踪的货位来说是准确的，但是对不是牌照跟踪的货位来说可能不准确。
- **货位状态** – 货位的状态。 可以有四个值：

    - **未确定** – 货位模板不能跟踪状态。 因此，当前状态未知。
    - **空** – 货位中当前无库存。
    - **正在领料** – 因为货位最近为空，所以已对其执行了出库事务。
    - **存储** – 因为货位最近为空，所以已对其仅执行了入库事务。

## <a name="turn-on-the-warehouse-location-status-feature"></a>开启“仓库货位状态”功能

*仓库货位状态* 功能只有在系统中开启之后才能使用。 管理员可以使用[功能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)设置检查功能状态和开启功能（如果需要）。 在 **功能管理** 工作区中，此功能按照下面的方式列出：

- **模块**：*仓库管理*
- **功能名称**：*仓库货位状态*

## <a name="set-up-warehouse-location-status"></a>设置仓库货位状态

### <a name="prepare-the-sample-data-that-is-required-for-the-example-scenario"></a>准备示例场景所需的示例数据

开始完成此场景之前，必须按照本部分中的说明激活示例数据和设置功能。 若要完成示例场景，必须使用仓库应用或基于浏览器的模拟器。 此处提供的步骤使用仓库应用。 基于浏览器的模拟器的步骤类似。

#### <a name="use-the-usmf-legal-entity"></a>使用 USMF 法人

若要使用此处指定的示例记录和值完成示例场景，使用的系统中必须已安装标准[演示数据](../../fin-ops-core/dev-itpro/deployment/deploy-demo-environment.md)。 此外，开始前，还必须选择 **USMF** 法人。

#### <a name="set-up-location-profiles"></a>设置货位模板

示例场景需要您准备两个货位模板。

1. 转到 **仓库管理 \> 设置 \> 仓库 \> 货位模板**。
1. 选择 **编辑** 将页面设置为编辑模式。
1. 选择 **BULK-06** 模板。
1. 在 **常规** 快速选项卡上，设置以下值：

    - **在货位中启用物料：** 将此选项设置为 _是_。
    - **启用货位活动日期和时间：** 将此选项设置为 _是_。
    - **启用货位状态：** 将此选项设置为 _是_。

    这些选项控制货位中的引用字段是否处于活动状态。

1. 对 **PICK-06** 模板重复执行步骤 3 到 4。

> [!NOTE]
> 当库位配置文件中的参数（**在库位中启用物料**、**启用库位位置**、**启用库位状态**）设置为 *是* 时，系统将通过执行 *仓库库位状态一致性检查* 作业立即更新相关库位。

### <a name="scenario"></a>应用场景

1. 转到 **采购 \> 采购订单 \> 所有采购订单**。
1. 选择 **新建**。
1. 在 **创建采购订单** 对话框中 **供应商** 快速选项卡上 **供应商帐户** 字段内，选择 *104*。
1. 在 **常规** 快速选项卡上的 **仓库** 字段中，选择 *61*。
1. 选择 **确定**。
1. 将打开您的新采购订单 (PO)。 将在 **采购订单行** 网格中添加一个空行。 在这个行中，设置以下值：

    - **物料编号：**_A0002_
    - **数量：** _5_

1. 在操作窗格中 **采购** 选项卡上 **操作** 组内，选择 **确认** 确认采购订单。
1. 在移动设备上，转到 **入库 \> 采购收货**。
1. 选择 **PONUM** 字段，输入采购订单编号，然后确认。
1. 选择 **ITEM** 字段，为物料编号输入 *A0002*，然后确认。
1. 在 **数量** 页面中，为数量输入 *5*，然后确认。

    可以采用以下方法之一输入数量：

    - 选择加号 (**+**) 或减号 (**–**) 按钮增加或减去一个数值。
    - 选择加号 (**+**) 与减号 (**–**) 按钮之间的空字段打开数字小键盘。

1. 确认所选物料编号 *A0002* 和数量 *5*。 页面底部将显示“工作已完成”消息。
1. 选择右上角的“菜单”按钮（有时称为汉堡包或汉堡包按钮），然后选择 **取消** 退出 **采购收货** 并回到 **入库** 菜单。
1. 在采购订单页中，选择 **采购订单行** 网格上方的 **工作详细信息**。
1. 记下 **常规** 选项卡上创建的 **工作 ID** 和 **目标牌照 ID** 值。
1. 记下 **行** 部分中 *领料* 和 *放置* 工作类型的 **货位** 值。
1. 在移动设备上，转到 **入库 \> 采购储存**。
1. 选择 **ID** 字段，输入工作 ID，然后确认。
1. 再次确认以完成 *领料* 条目。
1. 选择右上角的“菜单”按钮，然后选择 **完成** 完成 *领料* 工作。
1. 记下存储货位，然后确认。 页面底部将显示“工作已完成”消息。
1. 选择右上角的“菜单”按钮，然后选择 **取消** 退出 **采购储存** 并回到 **入库** 菜单。
1. 选择 **后退** 回到主菜单。
1. 在 Dynamics 365 Supply Chain Management 中，转到 **仓库管理 \> 设置 \> 仓库 \> 货位**。
1. 在 **货位** 中筛选，然后输入采购订单工作中的储存货位。 应该会看到以下结果：

    - **货位状态** 列显示值 *存储*，因为上次对此货位执行的事务为放置。
    - **物料编号** 列显示值 *A0002*，因为收到了物料并放到了货位。
    - **最后一个活动的日期和时间** 列显示在货位完成工作的日期和时间的时间戳。

1. 在移动设备上，转到 **质量 \> 移动**。
1. 选择 **LOC/LP** 字段，然后输入在前面的步骤中记下的货位。
1. 确认显示的信息。 记下生成的牌照编号。
1. 在 **目标信息** 屏幕中，选择 **LOC/LP** 字段，然后输入 *06A07R2S1B* 作为物料的移动目标货位。
1. 在 **目标信息** 屏幕中，确认 **LP** 值（目标牌照 ID），这是自动生成的。 页面底部将显示“工作已完成”消息。
1. 选择右上角的“菜单”按钮，然后选择 **取消** 退出 **移动** 并回到 **质量管理** 菜单。
1. 选择 **后退** 回到主菜单。
1. 在 Dynamics 365 Supply Chain Management 中，转到 **仓库管理 \> 设置 \> 仓库 \> 货位**。
1. 刷新 **货位** 页面，然后再次查看初始储存货位。 请注意，**货位状态** 字段现在设置为 *空*，并且 **物料编号** 列为空。
1. 查看货位 *06A07R2S1B* 的记录，并注意 **状态** 值已更改为 *存储*，并且已更新了 **物料编号** 和 **最后一个活动的日期和时间** 字段。
1. 转到 **销售和营销 \> 销售订单 \> 所有销售订单**。
1. 选择 **新建**。
1. 在 **创建销售订单** 对话框的 **客户帐户** 字段中，选择 *US-002*。
1. 在 **仓库** 字段中，选择 *61*。
1. 选择 **确定**。
1. 将打开您的新销售订单。 将在 **销售订单行** 网格中添加一个空行。 在这个行中，设置以下值：

    - **物料编号：**_A0002_
    - **数量：** _1_

1. 在 **销售订单行** 快速选项卡上的 **库存** 菜单中，选择 **预留**。
1. 在 **预留** 页面中，选择 **预留批次** 预留订单行。 然后选择右上角的 **关闭** 按钮 (**X**) 关闭此页。
1. 在“操作窗格”上的 **仓库** 选项卡上，在 **操作** 组中，选择 **发放到仓库**。
1. 在 **销售订单行** 部分的 **仓库** 菜单中，选择 **工作详细信息**。
1. 复制创建的 **工作 ID** 值。
1. 在移动设备上，转到 **出库 \> 销售领料**。
1. 选择 **ID** 字段，输入前面复制的工作 ID，然后确认。
1. 在 **销售订单: 领料** 页面中，**LOC** 字段推荐前面创建的领料货位作为储存货位。 记下此货位。
1. 选择 **LOC** 字段，输入货位，然后确认。
1. 选择 **LP** 字段，输入移动活动期间记下的牌照编号，然后确认。
1. 选择 **物料** 字段，为物料编号输入 *A0002*，然后确认。
1. 在 **数量** 页面中，为数量输入 *1*，然后确认。

    可以采用以下方法之一输入数量：

    - 选择加号 (**+**) 或减号 (**–**) 按钮增加或减去一个数值。
    - 选择加号 (**+**) 与减号 (**–**) 按钮之间的空字段打开数字小键盘。

1. 选择 **目标牌照** 字段，输入用户定义的目标牌照 ID，然后确认。
1. 再次确认以完成领料工作。 页面底部将显示“工作已完成”消息。
1. 选择右上角的“菜单”按钮，然后选择 **取消** 完成领料活动并回到 **出库** 菜单。
1. 在 Dynamics 365 Supply Chain Management 中，转到 **仓库管理 \> 设置 \> 仓库 \> 货位**。
1. 在 **货位** 中筛选，然后输入销售订单工作中的领料货位。
1. 请注意，销售订单工作的领料来源货位的 **货位状态** 字段现在设置为 *正在领料*，并且已更新 **最后一个活动的日期和时间** 字段。

> [!NOTE]
> 只有仓库事务才会更新货位字段。 如果使用日记帐或其他非 WHS 流程移动库存，将不更新这些字段。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]