---
title: 波次模板
description: 本主题介绍如何设置决定是手动还是自动处理波次的条件以及在处理波次时为仓库生成工作的条件。
author: Mirzaab
ms.date: 03/08/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-03-08
ms.dyn365.ops.version: Release 10.0.18
ms.openlocfilehash: 95e315c1bf1e363db413abae985d510848059e62
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/11/2021
ms.locfileid: "6020051"
---
# <a name="wave-templates"></a><span data-ttu-id="293a5-103">波次模板</span><span class="sxs-lookup"><span data-stu-id="293a5-103">Wave templates</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="293a5-104">本主题介绍如何设置决定是手动还是自动处理波次的条件以及在处理波次时为仓库生成工作的条件。</span><span class="sxs-lookup"><span data-stu-id="293a5-104">This topic describes how to set up the criteria that determine whether waves are processed manually or automatically, and the work that is generated for a warehouse when a wave is processed.</span></span> <span data-ttu-id="293a5-105">在销售订单、生产订单和看板中，通过设置波次模板和将波次与发放行匹配的查询来指定条件。</span><span class="sxs-lookup"><span data-stu-id="293a5-105">You specify the criteria by setting up wave templates and queries that match a wave with released lines in sales orders, production orders, and kanbans.</span></span>

## <a name="settings-for-wave-templates"></a><span data-ttu-id="293a5-106">波次模板的设置</span><span class="sxs-lookup"><span data-stu-id="293a5-106">Settings for wave templates</span></span>

<span data-ttu-id="293a5-107">在您设置波次模板时，请指定以下内容：</span><span class="sxs-lookup"><span data-stu-id="293a5-107">When you set up a wave template, you specify the following:</span></span>

- <span data-ttu-id="293a5-108">模板将为其创建工作的 **站点** 和 **仓库**。</span><span class="sxs-lookup"><span data-stu-id="293a5-108">The **Site** and **Warehouse** that the template will create work for.</span></span>
- <span data-ttu-id="293a5-109">模板将进行评估的顺序。</span><span class="sxs-lookup"><span data-stu-id="293a5-109">The order in which the templates will be evaluated.</span></span> <span data-ttu-id="293a5-110">在销售订单、生产订单和看板中，模板与发放行匹配的顺序。</span><span class="sxs-lookup"><span data-stu-id="293a5-110">The sequence in which the templates are matched to released lines on sales orders, production orders, and kanbans.</span></span> <span data-ttu-id="293a5-111">发放行时，系统将应用行满足条件的第一个波次模板。</span><span class="sxs-lookup"><span data-stu-id="293a5-111">When a line is released, the system applies the first wave template that the line meets the criteria for.</span></span> <span data-ttu-id="293a5-112">条件越广泛，行满足条件的可能性越大，因此您应该将具有最具体条件的模板放置在列表顶部。</span><span class="sxs-lookup"><span data-stu-id="293a5-112">The broader the criteria, the more likely it is for a line to meet the criteria, so you should put the templates with the most specific criteria at the top of the list.</span></span> <span data-ttu-id="293a5-113">使用操作窗格上的 **上移** 和 **下移** 按钮排列列表中的模板。</span><span class="sxs-lookup"><span data-stu-id="293a5-113">Use the **Move up** and **Move down** buttons on the Action Pane to arrange templates in the list.</span></span>
- <span data-ttu-id="293a5-114">每个模板采取的操作。</span><span class="sxs-lookup"><span data-stu-id="293a5-114">The actions taken by each template.</span></span> <span data-ttu-id="293a5-115">波次 **方法** 执行由模板创建的操作，例如为每种类型的波次模板创建或分配工作。</span><span class="sxs-lookup"><span data-stu-id="293a5-115">The wave **Methods** perform the actions that are created by the template, such creating or distributing work for each type of wave template.</span></span>
- <span data-ttu-id="293a5-116">必须适用于要使用的波次模板的波次属性（筛选器）。</span><span class="sxs-lookup"><span data-stu-id="293a5-116">The wave attributes (filters) that must apply for the wave template to be used.</span></span>

> [!NOTE]
> <span data-ttu-id="293a5-117">如果需要，开发人员可以创建其他方法。</span><span class="sxs-lookup"><span data-stu-id="293a5-117">If needed, a developer can create additional methods.</span></span> <span data-ttu-id="293a5-118">您可以在 **波次处理方法** 页面上查看方法的完整列表。</span><span class="sxs-lookup"><span data-stu-id="293a5-118">You can view the full list of methods on the **Wave process methods** page.</span></span>

<span data-ttu-id="293a5-119">某些设置表示波次处理的战略决定，如下所示：</span><span class="sxs-lookup"><span data-stu-id="293a5-119">Some settings represent strategic decisions for wave processing, as follows:</span></span>

- <span data-ttu-id="293a5-120">模板用于销售订单和转移单的装运物料，还是用于将物料移动到生产订单或看板的生产。</span><span class="sxs-lookup"><span data-stu-id="293a5-120">If the template is used for shipping items for sales orders and transfer orders, or used for moving items to production for production orders or kanbans.</span></span>
- <span data-ttu-id="293a5-121">手动还是自动处理波次，如下所示：</span><span class="sxs-lookup"><span data-stu-id="293a5-121">If a wave is processed manually or automatically, as follows:</span></span>

  - <span data-ttu-id="293a5-122">**手动处理** – 将行添加到波次并预留库存，但是您必须选择 **所有波次** 列表页面上的 **处理** 以为订单创建领料工作。</span><span class="sxs-lookup"><span data-stu-id="293a5-122">**Manual processing** – The line is added to a wave and the inventory is reserved, however, you must select **Process** on the **All waves** list page to create the picking work for the order.</span></span>
  - <span data-ttu-id="293a5-123">**自动处理** – 您可以完全或部分自动化波次处理。</span><span class="sxs-lookup"><span data-stu-id="293a5-123">**Automatic processing** – You can fully or partially automate wave processing.</span></span> <span data-ttu-id="293a5-124">在创建销售订单、生产订单或看板时，如果完全自动化波次处理，则创建包含销售订单、生产订单或看板行的波次。</span><span class="sxs-lookup"><span data-stu-id="293a5-124">If you fully-automate wave processing, a wave is created that includes the line from the sales order, production order, or kanban when a sales order, production order, or kanban is created.</span></span> <span data-ttu-id="293a5-125">从现有库存扣除物料并创建领料工作。</span><span class="sxs-lookup"><span data-stu-id="293a5-125">The items are deducted from on-hand inventory and the picking work is created.</span></span> <span data-ttu-id="293a5-126">如果部分自动化波次处理，您可以指定将触发波次处理的值。</span><span class="sxs-lookup"><span data-stu-id="293a5-126">If you partially automate wave processing, you can specify values that will trigger wave processing.</span></span> <span data-ttu-id="293a5-127">例如，当波次中的行的总权重达到该值时，您可以为将触发波次处理的装运指定最大权重。</span><span class="sxs-lookup"><span data-stu-id="293a5-127">For example, you can specify a maximum weight for shipments that will trigger wave processing when the total weight of the lines in the wave reaches the value.</span></span>

- <span data-ttu-id="293a5-128">如果将装运分配给未结波次。</span><span class="sxs-lookup"><span data-stu-id="293a5-128">If you assign shipments to an open wave.</span></span> <span data-ttu-id="293a5-129">例如，如果您向客户保证在晚上 12:00 发放的订单将于 24 小时之内装运，您可以将波次模板设置为直到晚上 12:00 自动将订单行分配给未结波次。</span><span class="sxs-lookup"><span data-stu-id="293a5-129">For example, if you promise customers that an order placed by 12:00 PM will ship within 24 hours, you can set up the wave template to automatically assign order lines to an open wave until 12:00 PM.</span></span> <span data-ttu-id="293a5-130">那时，将自动处理波次。</span><span class="sxs-lookup"><span data-stu-id="293a5-130">At that time, the wave is automatically processed.</span></span>

<span data-ttu-id="293a5-131">在处理波次时，创建的领料工作基于工作模板和为仓库指定的库位指令。</span><span class="sxs-lookup"><span data-stu-id="293a5-131">When a wave is processed, the picking work that is created is based on the work template and the location directive that is specified for the warehouse.</span></span> <span data-ttu-id="293a5-132">工作模板指定如何创建领料工作，库位指令指定领料和放置库位。</span><span class="sxs-lookup"><span data-stu-id="293a5-132">The work template specifies how the picking work is created, and the location directive specifies the pick and put locations.</span></span>

## <a name="create-a-wave-template"></a><span data-ttu-id="293a5-133">创建波次模板</span><span class="sxs-lookup"><span data-stu-id="293a5-133">Create a wave template</span></span>

<span data-ttu-id="293a5-134">若要设置波次模板，请按照下列步骤操作：</span><span class="sxs-lookup"><span data-stu-id="293a5-134">To set up a wave template, follow these steps:</span></span>

1. <span data-ttu-id="293a5-135">转到 **仓库管理** \> **设置** \> **波次** \> **波次模板**。</span><span class="sxs-lookup"><span data-stu-id="293a5-135">Go to **Warehouse management** \> **Setup** \> **Waves** \> **Wave templates**.</span></span>
1. <span data-ttu-id="293a5-136">选择 **新建** 以创建新的波次模板。</span><span class="sxs-lookup"><span data-stu-id="293a5-136">Select **New** to create a new wave template.</span></span>
1. <span data-ttu-id="293a5-137">在 **波次模板类型** 字段中，选择以下选项之一：</span><span class="sxs-lookup"><span data-stu-id="293a5-137">In the **Wave template type** field, select one of the following options:</span></span>

    - <span data-ttu-id="293a5-138">*装运* - 为销售订单和转移单的装运物料使用波次模板。</span><span class="sxs-lookup"><span data-stu-id="293a5-138">*Shipping* - Use the wave template for shipping items for sales orders and transfer orders.</span></span>
    - <span data-ttu-id="293a5-139">*生产订单* - 使用波次模板移动生产订单的物料。</span><span class="sxs-lookup"><span data-stu-id="293a5-139">*Production orders* - Use the wave template to move items for production orders.</span></span>
    - <span data-ttu-id="293a5-140">*看板* - 使用波次模板移动看板订单的物料。</span><span class="sxs-lookup"><span data-stu-id="293a5-140">*Kanban* - Use the wave template to move items for kanban orders.</span></span>

1. <span data-ttu-id="293a5-141">在 **波次模板名称** 和 **波次模板描述** 字段中，输入波次模板的名称和描述。</span><span class="sxs-lookup"><span data-stu-id="293a5-141">In the **Wave template name** and **Wave template description** fields, enter a name and a description for the wave template.</span></span>

    > [!NOTE]
    > <span data-ttu-id="293a5-142">如果为仓库创建了多个模板，**波次模板序列** 字段中的编号指示在满足模板条件时按照顺序应用模板的模板位置。</span><span class="sxs-lookup"><span data-stu-id="293a5-142">If more than one template is created for a warehouse, the number in the **Wave template sequence** field indicates the position of the template in the sequence in which the templates are applied when the template’s criteria is met.</span></span> <span data-ttu-id="293a5-143">您可以选择 **上移** 或 **下移** 重新排列模板的顺序。</span><span class="sxs-lookup"><span data-stu-id="293a5-143">You can select **Move up** or **Move down** to rearrange the sequence of templates.</span></span>

1. <span data-ttu-id="293a5-144">在 **站点** 和 **仓库** 字段中，选择波次模板将为其创建波次和领料工作的站点和仓库。</span><span class="sxs-lookup"><span data-stu-id="293a5-144">In the **Site** and **Warehouse** fields, select the site and warehouse that the wave template will create waves and picking work for.</span></span>
1. <span data-ttu-id="293a5-145">如果要自动化波次处理，请根据需要进行以下设置：</span><span class="sxs-lookup"><span data-stu-id="293a5-145">If you want to automate wave processing, make the following settings as needed:</span></span>

    - <span data-ttu-id="293a5-146">**自动化波次创建** - 在将销售订单、生产订单或看板发放到仓库时，将此选项设置为 *是* 以自动创建波次。</span><span class="sxs-lookup"><span data-stu-id="293a5-146">**Automate wave creation** - Set this to *Yes* to automatically create a wave when a sales order, production order, or kanban is released to the warehouse.</span></span>
    - <span data-ttu-id="293a5-147">**分配给未结波次** - 在发放行时，将此选项设置为 *是* 以自动将行分配给未结波次。</span><span class="sxs-lookup"><span data-stu-id="293a5-147">**Assign to open waves** - Set this to *Yes* to automatically assign lines to an open wave when the lines are released.</span></span> <span data-ttu-id="293a5-148">分配给波的各行基于波模板的查询筛选器。</span><span class="sxs-lookup"><span data-stu-id="293a5-148">Lines are assigned to waves based on the query filter for the wave template.</span></span>
    - <span data-ttu-id="293a5-149">**在发放到仓库时处理波次** - 在将行发放到仓库时，将此选项设置为 *是* 以自动处理波次并创建工作。</span><span class="sxs-lookup"><span data-stu-id="293a5-149">**Process wave at release to warehouse** - Set this to *Yes* to automatically process the wave and create work when a line is released to the warehouse.</span></span>
    - <span data-ttu-id="293a5-150">**达到阈值时自动处理波次** - 在波次的值达到 **波次阈值** 字段组中指定的权重、装运和行的阈值时，将此选项设置为 *是* 以自动处理波次。</span><span class="sxs-lookup"><span data-stu-id="293a5-150">**Process wave automatically at threshold** - Set this to *Yes* to automatically process the wave when its values reach the thresholds for weight, shipment, and lines specified in the **Wave thresholds** field group.</span></span> <span data-ttu-id="293a5-151">仅在 **波次模板类型** 字段中选择 *装运* 后，此设置才有效。</span><span class="sxs-lookup"><span data-stu-id="293a5-151">This setting is only active if *Shipping* is selected in the **Wave template type** field.</span></span>
    - <span data-ttu-id="293a5-152">**自动化波次发放** - 将此选项设置为 *是* 以自动发放波次。</span><span class="sxs-lookup"><span data-stu-id="293a5-152">**Automate wave release** - Set this to *Yes* to automatically release the wave.</span></span> <span data-ttu-id="293a5-153">创建领料工作并使其在移动设备上可用。</span><span class="sxs-lookup"><span data-stu-id="293a5-153">The picking work is created and made available on mobile devices.</span></span>
    - <span data-ttu-id="293a5-154">**自动化补货工作发放** - 将此选项设置为 *是* 以创建基于需求的补货工作并将其自动发放。</span><span class="sxs-lookup"><span data-stu-id="293a5-154">**Automate replenishment work release** - Set this to *Yes* to create demand-based replenishment work and release it automatically.</span></span> <span data-ttu-id="293a5-155">您必须将补货波次方法添加到波次模板，然后使用 *波次需求* 类型创建补货模板。</span><span class="sxs-lookup"><span data-stu-id="293a5-155">You must add the replenishment wave method to the wave template, and create a replenishment template using the *Wave demand* type.</span></span> <span data-ttu-id="293a5-156">在 **补货模板** 页设置一个补货模板。</span><span class="sxs-lookup"><span data-stu-id="293a5-156">Set up a replenishment template on the **Replenishment templates** page.</span></span> <span data-ttu-id="293a5-157">这要求您将“补货”添加到波模板。</span><span class="sxs-lookup"><span data-stu-id="293a5-157">This requires that you add the replenish method to the wave template.</span></span>
    - <span data-ttu-id="293a5-158">**在工作创建失败时继续波次处理** - 当设置为 *是* 时，如果无法在库位指令建议的库位预留库存（例如，因为库存不再可用），系统将使用空白库位。</span><span class="sxs-lookup"><span data-stu-id="293a5-158">**Continue wave processing when work creation fails** - When set to *Yes*, the system will use a blank location if it can't reserve inventory at the location proposed by the location directive (for example, because the inventory is no longer available).</span></span> <span data-ttu-id="293a5-159">当设置为 *否* 时，如果系统无法预留库存，波次将失败。</span><span class="sxs-lookup"><span data-stu-id="293a5-159">When set to *No*, the wave will fail if the system can't reserve the inventory.</span></span>

1. <span data-ttu-id="293a5-160">根据需要设置 **波次阈值** 字段组：</span><span class="sxs-lookup"><span data-stu-id="293a5-160">Set the **Wave thresholds** field group as needed:</span></span>
    - <span data-ttu-id="293a5-161">**波次权重阈值** - 输入波次可以包含的最大权重。</span><span class="sxs-lookup"><span data-stu-id="293a5-161">**Wave weight threshold** - Enter the maximum weight a wave can contain.</span></span>
    - <span data-ttu-id="293a5-162">**装运阈值** - 输入可以包括在波次中的最大装运数量。</span><span class="sxs-lookup"><span data-stu-id="293a5-162">**Shipment threshold** - Enter the maximum number of shipments that can be included in a wave.</span></span>
    - <span data-ttu-id="293a5-163">**行阈值** - 输入可以包括在波次中的最大行数量。</span><span class="sxs-lookup"><span data-stu-id="293a5-163">**Line threshold** - Enter the maximum number of lines that can be included in a wave.</span></span>

1. <span data-ttu-id="293a5-164">在 **默认值** 字段组中，选择波次属性以用作波次模板的其他条件。</span><span class="sxs-lookup"><span data-stu-id="293a5-164">In the **Default values** field group, select the wave attributes to use as additional criteria for the wave template.</span></span> <span data-ttu-id="293a5-165">波次属性对于将其他条件（例如特定客户名称）分配给波次模板有用。</span><span class="sxs-lookup"><span data-stu-id="293a5-165">Wave attributes are useful for assigning additional criteria, such as a specific customer name, to a wave template.</span></span> <span data-ttu-id="293a5-166">在 **波次属性** 页面上创建这些属性。</span><span class="sxs-lookup"><span data-stu-id="293a5-166">You create these attributes on the **Wave attributes** page.</span></span> 

1. <span data-ttu-id="293a5-167">将 **波次通知策略** 设置为要用于生成与使用此模板的波次相关的通知的策略。</span><span class="sxs-lookup"><span data-stu-id="293a5-167">Set **Wave notification policy** to the policy you want to use for generating notifications related to waves that use this template.</span></span> <span data-ttu-id="293a5-168">有关波次通知策略的示例，请参阅[波次执行通知](wave-execution-notifications.md)。</span><span class="sxs-lookup"><span data-stu-id="293a5-168">For an example of a wave notification policy, see [Wave execution notifications](wave-execution-notifications.md).</span></span>

1. <span data-ttu-id="293a5-169">在 **方法** 快速选项卡上，**选定方法** 窗格列出选定波次模板的方法。</span><span class="sxs-lookup"><span data-stu-id="293a5-169">On the **Methods** FastTab, the **Selected methods** pane lists the methods for the selected wave template.</span></span> <span data-ttu-id="293a5-170">波次方法执行由模板创建的操作，例如创建或分配工作。</span><span class="sxs-lookup"><span data-stu-id="293a5-170">The wave methods perform the actions that are created by the template, such creating or distributing work.</span></span> <span data-ttu-id="293a5-171">这些操作也称为波次步骤。</span><span class="sxs-lookup"><span data-stu-id="293a5-171">These actions are also referred to as wave steps.</span></span> <span data-ttu-id="293a5-172">针对每种类型的波次模板预定义波次方法。</span><span class="sxs-lookup"><span data-stu-id="293a5-172">Wave methods are predefined for each type of wave template.</span></span> <span data-ttu-id="293a5-173">您无法删除预定义的波次方法，但可以重新排列方法的顺序并添加其他方法。</span><span class="sxs-lookup"><span data-stu-id="293a5-173">You cannot remove the predefined wave methods, however, you can rearrange the order of the methods and add additional methods.</span></span> <span data-ttu-id="293a5-174">例如，如果您正在为装运创建波次模板，您可以添加补货和集装化的方法。</span><span class="sxs-lookup"><span data-stu-id="293a5-174">For example, if you’re creating a wave template for shipping, you can add methods for replenishment and containerization.</span></span> <span data-ttu-id="293a5-175">可将波次集装化添加到波次方法的顺序中以定义在波次模板中处理的行的集装化。</span><span class="sxs-lookup"><span data-stu-id="293a5-175">Wave containerization can be added to a sequence of wave methods to define the containerization of the lines processed in a wave template.</span></span> <span data-ttu-id="293a5-176">若要添加其他方法，请执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="293a5-176">To add an additional method, do the following:</span></span>

    - <span data-ttu-id="293a5-177">在 **其余方法** 窗格上选择方法，然后选择 **向左** 箭头以将其添加到 **选定方法** 窗格。</span><span class="sxs-lookup"><span data-stu-id="293a5-177">Select a method on the **Remaining methods** pane, and then select the **Left** arrow to add it to the **Selected methods** pane.</span></span>
    - <span data-ttu-id="293a5-178">若要更改顺序，请选择方法，然后选择 **向上** 或 **向下** 箭头。</span><span class="sxs-lookup"><span data-stu-id="293a5-178">To change the sequence, select a method, and then select **Up** or **Down** arrows.</span></span>

    > [!NOTE]
    > <span data-ttu-id="293a5-179">在您添加方法时，它会按照步骤顺序自动在合适的位置列出。</span><span class="sxs-lookup"><span data-stu-id="293a5-179">When you add a method, it’s automatically listed in the appropriate location in the sequence of steps.</span></span>

1. <span data-ttu-id="293a5-180">若要设置将已发放行匹配到适当波次的查询，请在操作窗格上选择 **编辑查询**。</span><span class="sxs-lookup"><span data-stu-id="293a5-180">To set up the query that will match released lines to an appropriate wave, select **Edit query** on the Action Pane.</span></span>
1. <span data-ttu-id="293a5-181">若要验证波次模板设置是否有效，请选择 **验证模板**。</span><span class="sxs-lookup"><span data-stu-id="293a5-181">To verify that the wave template settings are valid, select **Validate template**.</span></span>
