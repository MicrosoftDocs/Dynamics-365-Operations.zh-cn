---
title: 为仓库流配置编号规则
description: 本主题概括介绍为牌照 ID、波次标签 ID、集装箱 ID 和提单 ID 提供编号规则扩展的功能。
author: GarmMSFT
manager: tfehr
ms.date: 06/10/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSNumberSequenceExt
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: kamaybac
ms.search.validFrom: 2020-06-10
ms.dyn365.ops.version: 10.0.2
ms.openlocfilehash: fa4074c23baa74983f4922d2d09d7da81c943bfe
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/15/2021
ms.locfileid: "4973827"
---
# <a name="configure-number-sequences-for-warehouse-flows"></a>为仓库流配置编号规则

[!include [banner](../includes/banner.md)]

*编号规则扩展* 功能为设置编号规则添加了一个新配置页面。 它可以灵活配置符合 GS1 规定的 ID，包括 GS1 前缀和校验位（模数为 10），并对现有编号规则实施长度限制。

标准编号规则段不适合 GS1 实施，因为不计算校验位，并且公司的 GS1 前缀必须手动更新。

此功能添加了以下功能：

- 可以预先生成提单 (BOL) ID。
- 可以为系列装运集装箱代码 (SSCC) 编号生成唯一的编号规则。
- 可以为 BOL 和 SSCC 编号创建符合 GS1 要求的编号规则。 此功能增加了对牌照 ID、集装箱 ID、波次标签 ID 和 BOL ID 的现成支持。
- 牌照 ID 编号的配置是灵活的。 例如，您可以包括或排除应用程序标识符 (AI)，如前导零 (00)。

此功能使支持货箱标签和调整系统生成的新编号更加有效。

## <a name="turn-on-the-number-sequence-extensions-feature"></a>开启“编号规则扩展”功能

此功能只有在系统中开启之后才能使用。 管理员可以使用[功能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)工作区检查功能状态和开启功能（如果需要）。 在那里，此功能以以下方式列出：

- **模块**：*仓库管理*
- **功能名称**：*编号规则扩展*

## <a name="set-up-the-feature"></a>设置功能

要在您的系统中设置编号规则扩展，请按照下列步骤操作。

1. 转到 **仓库管理 \> 设置 \> 仓库管理参数**。
1. 在 **常规** 选项卡上的 **GS1 公司前缀** 字段中，输入您公司的 GS1 前缀。 此值将影响所有包含 GS1 前缀作为段的编号规则。
1. 如果要为波次标签生成 BOL 编号，请在 **报表** 选项卡上，选择 **在打印波次标签时生成 BOL 编号** 复选框。

    > [!NOTE]
    > 仅当[波次标签打印](configure-wave-label-printing.md)功能打开时，此复选框才可用。

1. 转到 **仓库管理** \> **设置** \> **编号规则扩展**
1. 在“操作窗格”中选择 **创建默认设置**。 将创建符合 GS1 要求的 BOL 编号规则和三种类型的 SSCC 编号规则。 所有这些编号规则都考虑了公司 GS1 前缀的长度。

    有关如何自定义这些默认编号规则和/或添加新编号规则的详细信息，请参阅下一节。 您还可以删除这些编号规则中不需要的任何规则。

1. 返回到 **仓库管理 \> 设置 \> 仓库管理参数**。
1. 在 **编号规则** 选项卡上，选择一个相关的编号规则扩展用来为您的牌照 ID、波次标签 ID、集装箱 ID（在此例中，选择适当的 **SSCC-18 编号** 规则）和/或 BOL ID（在此例中，选择 **BOL** 规则）生成编号。 默认情况下，仅这四种类型的 ID 支持编号规则扩展。

下次为这些编号规则中的一个生成新编号时，将使用新逻辑。

> [!NOTE]
> 如果您没有为牌照 ID 选择编号规则扩展，将使用当前生成牌照 ID 的规则。 否则，将使用您选择的编号规则。 其他 ID 将使用普通编号规则，直到您为它们应用编号规则扩展。

## <a name="create-and-edit-number-sequences"></a>创建和编辑编号规则

在上一节中，您生成了一组默认的编号规则。 本节将说明如何定义每个编号规则。 另外还将说明如何创建自定义规则，以及如何编辑默认或自定义规则。

若要创建和编辑编号规则，请按照下列步骤操作。

1. 转到 **仓库管理** \> **设置** \> **编号规则扩展**。
1. 在操作窗格上，选择 **新建**。
1. 在 **编号规则扩展** 字段中，为新规则输入名称。 在 **描述** 字段中，输入描述。
1. 在 **段** 快速选项卡上，使用工具栏上的按钮通过添加、删除和排列段来组合编号格式。 在每一行的 **段** 字段中，分配一个段类型来定义该段的目的和内容。 下表描述了可用的段类型。

    | 段落类型 | 说明 |
    |---|---|
    | 常数 | 此段类型为规则中生成的每个编号添加相同的常量文本。 在 **值** 字段中，输入所需文本。 **长度** 字段会自动更新为您在 **值** 字段中输入的文本的长度。 |
    | 编号规则 | 在 **值** 字段中，为应该在生成的规则中显示的每个字符输入数字符号 (*\#*)。 编号规则本身可能会生成更长的编号，但是只会显示最右侧的字符。 **长度** 字段会自动更新为您在 **值** 字段中输入的数字符号数量。<p>为了符合 SSCC-18 编号的 GS1 要求，请确保此段的长度为 16 减去 GS1 前缀的长度。</p> |
    | GS1 前缀 | 此段类型将添加在 **仓库管理参数** 页面上的 **GS1 公司前缀** 字段中设置的值。 **值** 字段显示在 **仓库管理参数** 页面上设置的值，**长度** 字段显示值中的字符数。 **值** 字段和 **长度** 字段均为只读。 |
    | 申请标识符 | 在 **值** 字段中，输入应用程序标识符，该标识符由此类型编号规则的相关 GS1 政策指定。 例如，为 SSCC 输入 *00*，为 BOL 输入 *420*。 **长度** 字段会自动更新为您在 **值** 字段中输入的标识符的长度。 |
    | 包装类型 | 对于可以清楚识别的物料，此段类型会添加相关单位序列组（来自 **单位序列组** 页面）中的字段值。 （此行为与牌照 ID 的现有逻辑匹配。）对于包含多个库存单位 (SKU) 的牌照，此段类型默认会添加 *0*（零）。 对于此段类型，**值** 字段始终设置为 *P*，**长度** 字段始终设置为 *1*。|
    | 校验位 | 此段类型将添加校验位，这是一个模数 10 计算。 （此行为与牌照 ID 的现有逻辑匹配。）对于此段类型，**值** 字段始终设置为脱字符号 (*^*)，**长度** 字段始终设置为 *1*。 |

1. 要查看最终编号格式的示例，请查看 **段** 快速选项卡底部的 **格式** 字段。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]