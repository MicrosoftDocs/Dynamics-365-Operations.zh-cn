---
title: 为仓库流配置编号规则
description: 本主题概括介绍为牌照 ID、波次标签 ID、集装箱 ID 和提单 ID 提供编号规则扩展的功能。
author: GarmMSFT
manager: tfehr
ms.date: 06/10/2020
ms.topic: configure-number-sequence-extensions
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSNumberSequenceExtension
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: kamaybac
ms.search.validFrom: 2020-06-10
ms.dyn365.ops.version: 10.0.2
ms.openlocfilehash: 2512fc9b530530a9f82995a9eefcd59bbd518d96
ms.sourcegitcommit: 708ca25687a4e48271cdcd6d2d22d99fb94cf140
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/10/2020
ms.locfileid: "3975384"
---
# <a name="configure-number-sequences-for-warehouse-flows"></a><span data-ttu-id="373ca-103">为仓库流配置编号规则</span><span class="sxs-lookup"><span data-stu-id="373ca-103">Configure number sequences for warehouse flows</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="373ca-104">*编号规则扩展*功能为设置编号规则添加了一个新配置页面。</span><span class="sxs-lookup"><span data-stu-id="373ca-104">The *Number sequence extensions* feature adds a new configuration page for setting up number sequences.</span></span> <span data-ttu-id="373ca-105">它可以灵活配置符合 GS1 规定的 ID，包括 GS1 前缀和校验位（模数为 10），并对现有编号规则实施长度限制。</span><span class="sxs-lookup"><span data-stu-id="373ca-105">It enables flexible configuration of GS1-regulated IDs, including GS1 prefixes and check digits (modulo 10), and enforces a length limit on existing number sequences.</span></span>

<span data-ttu-id="373ca-106">标准编号规则段不适合 GS1 实施，因为不计算校验位，并且公司的 GS1 前缀必须手动更新。</span><span class="sxs-lookup"><span data-stu-id="373ca-106">Standard number sequence segments aren't suitable for GS1 implementation, because no check digit is calculated, and the company's GS1 prefix must be updated manually.</span></span>

<span data-ttu-id="373ca-107">此功能添加了以下功能：</span><span class="sxs-lookup"><span data-stu-id="373ca-107">This feature adds the following functionality:</span></span>

- <span data-ttu-id="373ca-108">可以预先生成提单 (BOL) ID。</span><span class="sxs-lookup"><span data-stu-id="373ca-108">Bill of lading (BOL) IDs can be generated in advance.</span></span>
- <span data-ttu-id="373ca-109">可以为系列装运集装箱代码 (SSCC) 编号生成唯一的编号规则。</span><span class="sxs-lookup"><span data-stu-id="373ca-109">A unique number sequence can be generated for serial shipping container code (SSCC) numbers.</span></span>
- <span data-ttu-id="373ca-110">可以为 BOL 和 SSCC 编号创建符合 GS1 要求的编号规则。</span><span class="sxs-lookup"><span data-stu-id="373ca-110">GS1-compliant number sequences can be created for BOL and SSCC numbers.</span></span> <span data-ttu-id="373ca-111">此功能增加了对牌照 ID、集装箱 ID、波次标签 ID 和 BOL ID 的现成支持。</span><span class="sxs-lookup"><span data-stu-id="373ca-111">The feature adds out-of-box support for license plate IDs, container IDs, wave label IDs, and BOL IDs.</span></span>
- <span data-ttu-id="373ca-112">牌照 ID 编号的配置是灵活的。</span><span class="sxs-lookup"><span data-stu-id="373ca-112">Configuration of license plate ID numbers is flexible.</span></span> <span data-ttu-id="373ca-113">例如，您可以包括或排除应用程序标识符 (AI)，如前导零 (00)。</span><span class="sxs-lookup"><span data-stu-id="373ca-113">For example, you can include or exclude application identifiers (AI), such as leading zeros (00).</span></span>

<span data-ttu-id="373ca-114">此功能使支持货箱标签和调整系统生成的新编号更加有效。</span><span class="sxs-lookup"><span data-stu-id="373ca-114">This functionality makes it more efficient to support labeling of cartons and to adjust new numbers that are generated by the system.</span></span>

## <a name="turn-on-the-number-sequence-extensions-feature"></a><span data-ttu-id="373ca-115">开启“编号规则扩展”功能</span><span class="sxs-lookup"><span data-stu-id="373ca-115">Turn on the Number sequence extensions feature</span></span>

<span data-ttu-id="373ca-116">此功能只有在系统中开启之后才能使用。</span><span class="sxs-lookup"><span data-stu-id="373ca-116">Before you can use the feature, it must be turned on in your system.</span></span> <span data-ttu-id="373ca-117">管理员可以使用[功能管理](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)工作区检查功能状态和开启功能（如果需要）。</span><span class="sxs-lookup"><span data-stu-id="373ca-117">Admins can use the [Feature management](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) workspace to check the status of the feature and turn it on if it's required.</span></span> <span data-ttu-id="373ca-118">在那里，此功能以以下方式列出：</span><span class="sxs-lookup"><span data-stu-id="373ca-118">There, the feature is listed in the following way:</span></span>

- <span data-ttu-id="373ca-119">**模块**：*仓库管理*</span><span class="sxs-lookup"><span data-stu-id="373ca-119">**Module:** *Warehouse management*</span></span>
- <span data-ttu-id="373ca-120">**功能名称**：*编号规则扩展*</span><span class="sxs-lookup"><span data-stu-id="373ca-120">**Feature name:** *Number sequence extensions*</span></span>

## <a name="set-up-the-feature"></a><span data-ttu-id="373ca-121">设置功能</span><span class="sxs-lookup"><span data-stu-id="373ca-121">Set up the feature</span></span>

<span data-ttu-id="373ca-122">要在您的系统中设置编号规则扩展，请按照下列步骤操作。</span><span class="sxs-lookup"><span data-stu-id="373ca-122">To set up number sequence extensions in your system, follow these steps.</span></span>

1. <span data-ttu-id="373ca-123">转到**仓库管理 \> 设置 \> 仓库管理参数**。</span><span class="sxs-lookup"><span data-stu-id="373ca-123">Go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span>
1. <span data-ttu-id="373ca-124">在**常规**选项卡上的 **GS1 公司前缀**字段中，输入您公司的 GS1 前缀。</span><span class="sxs-lookup"><span data-stu-id="373ca-124">On the **General** tab, in the **GS1 company prefix** field, and enter your company's GS1 prefix.</span></span> <span data-ttu-id="373ca-125">此值将影响所有包含 GS1 前缀作为段的编号规则。</span><span class="sxs-lookup"><span data-stu-id="373ca-125">This value will affect all number sequences where the GS1 prefix is included as a segment.</span></span>
1. <span data-ttu-id="373ca-126">如果要为波次标签生成 BOL 编号，请在**报表**选项卡上，选择**在打印波次标签时生成 BOL 编号**复选框。</span><span class="sxs-lookup"><span data-stu-id="373ca-126">If you want to generate BOL numbers for wave labels, on the **Reports** tab, select the **Generate BOL number when printing wave labels** check box.</span></span>

    > [!NOTE]
    > <span data-ttu-id="373ca-127">仅当[波次标签打印](configure-wave-label-printing.md)功能打开时，此复选框才可用。</span><span class="sxs-lookup"><span data-stu-id="373ca-127">This check box is available only if the functionality for [wave label printing](configure-wave-label-printing.md) is turned on.</span></span>

1. <span data-ttu-id="373ca-128">转到**仓库管理** \> **设置** \> **编号规则扩展**</span><span class="sxs-lookup"><span data-stu-id="373ca-128">Go to **Warehouse management** \> **Setup** \> **Number sequence extensions**</span></span>
1. <span data-ttu-id="373ca-129">在“操作窗格”中选择**创建默认设置**。</span><span class="sxs-lookup"><span data-stu-id="373ca-129">On the Action Pane, select **Create default setup**.</span></span> <span data-ttu-id="373ca-130">将创建符合 GS1 要求的 BOL 编号规则和三种类型的 SSCC 编号规则。</span><span class="sxs-lookup"><span data-stu-id="373ca-130">A GS1-compliant BOL number sequence and three types of SSCC number sequences are created.</span></span> <span data-ttu-id="373ca-131">所有这些编号规则都考虑了公司 GS1 前缀的长度。</span><span class="sxs-lookup"><span data-stu-id="373ca-131">All these number sequences take the length of your company's GS1 prefix into account.</span></span>

    <span data-ttu-id="373ca-132">有关如何自定义这些默认编号规则和/或添加新编号规则的详细信息，请参阅下一节。</span><span class="sxs-lookup"><span data-stu-id="373ca-132">For more information about how to customize these default number sequences and/or add new sequences, see the next section.</span></span> <span data-ttu-id="373ca-133">您还可以删除这些编号规则中不需要的任何规则。</span><span class="sxs-lookup"><span data-stu-id="373ca-133">You can also remove any of these sequences if you don't need them.</span></span>

1. <span data-ttu-id="373ca-134">返回到**仓库管理 \> 设置 \> 仓库管理参数**。</span><span class="sxs-lookup"><span data-stu-id="373ca-134">Go back to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span>
1. <span data-ttu-id="373ca-135">在**编号规则**选项卡上，选择一个相关的编号规则扩展用来为您的牌照 ID、波次标签 ID、集装箱 ID（在此例中，选择适当的 **SSCC-18 编号**规则）和/或 BOL ID（在此例中，选择 **BOL** 规则）生成编号。</span><span class="sxs-lookup"><span data-stu-id="373ca-135">On the **Number sequences** tab, select a relevant number sequence extension to use to generate numbers for your license plate IDs, wave label IDs, container IDs (in this case, select the appropriate **SSCC-18 number** sequence), and/or BOL IDs (in this case, select the **BOL** sequence).</span></span> <span data-ttu-id="373ca-136">默认情况下，仅这四种类型的 ID 支持编号规则扩展。</span><span class="sxs-lookup"><span data-stu-id="373ca-136">By default, number sequence extensions are supported only for these four types of IDs.</span></span>

<span data-ttu-id="373ca-137">下次为这些编号规则中的一个生成新编号时，将使用新逻辑。</span><span class="sxs-lookup"><span data-stu-id="373ca-137">The next time that a new number is generated for one of these number sequences, the new logic will be used.</span></span>

> [!NOTE]
> <span data-ttu-id="373ca-138">如果您没有为牌照 ID 选择编号规则扩展，将使用当前生成牌照 ID 的规则。</span><span class="sxs-lookup"><span data-stu-id="373ca-138">If you don't select a number sequence extension for license plate IDs, the current rules for generating license plate IDs will be used.</span></span> <span data-ttu-id="373ca-139">否则，将使用您选择的编号规则。</span><span class="sxs-lookup"><span data-stu-id="373ca-139">Otherwise, your selected number sequence will be used.</span></span> <span data-ttu-id="373ca-140">其他 ID 将使用普通编号规则，直到您为它们应用编号规则扩展。</span><span class="sxs-lookup"><span data-stu-id="373ca-140">The other IDs will use a plain number sequence until you apply a number sequence extension for them.</span></span>

## <a name="create-and-edit-number-sequences"></a><span data-ttu-id="373ca-141">创建和编辑编号规则</span><span class="sxs-lookup"><span data-stu-id="373ca-141">Create and edit number sequences</span></span>

<span data-ttu-id="373ca-142">在上一节中，您生成了一组默认的编号规则。</span><span class="sxs-lookup"><span data-stu-id="373ca-142">In the previous section, you generated a default set of number sequences.</span></span> <span data-ttu-id="373ca-143">本节将说明如何定义每个编号规则。</span><span class="sxs-lookup"><span data-stu-id="373ca-143">This section explains how each number sequence is defined.</span></span> <span data-ttu-id="373ca-144">另外还将说明如何创建自定义规则，以及如何编辑默认或自定义规则。</span><span class="sxs-lookup"><span data-stu-id="373ca-144">It also explains how to create custom sequences, and how to edit the default or custom sequences.</span></span>

<span data-ttu-id="373ca-145">若要创建和编辑编号规则，请按照下列步骤操作。</span><span class="sxs-lookup"><span data-stu-id="373ca-145">To create and edit number sequences, follow these steps.</span></span>

1. <span data-ttu-id="373ca-146">转到**仓库管理** \> **设置** \> **编号规则扩展**。</span><span class="sxs-lookup"><span data-stu-id="373ca-146">Go to **Warehouse management** \> **Setup** \> **Number sequence extensions**.</span></span>
1. <span data-ttu-id="373ca-147">在操作窗格上，选择**新建**。</span><span class="sxs-lookup"><span data-stu-id="373ca-147">On the Action Pane, select **New**.</span></span>
1. <span data-ttu-id="373ca-148">在**编号规则扩展**字段中，为新规则输入名称。</span><span class="sxs-lookup"><span data-stu-id="373ca-148">In the **Number sequence extension** field, enter a name for the new sequence.</span></span> <span data-ttu-id="373ca-149">在**描述**字段中，输入描述。</span><span class="sxs-lookup"><span data-stu-id="373ca-149">In the **Description** field, enter a description.</span></span>
1. <span data-ttu-id="373ca-150">在**段**快速选项卡上，使用工具栏上的按钮通过添加、删除和排列段来组合编号格式。</span><span class="sxs-lookup"><span data-stu-id="373ca-150">On the **Segments** FastTab, use the buttons on the toolbar to assemble your numbering format by adding, deleting, and arranging segments.</span></span> <span data-ttu-id="373ca-151">在每一行的**段**字段中，分配一个段类型来定义该段的目的和内容。</span><span class="sxs-lookup"><span data-stu-id="373ca-151">In the **Segment** field for each row, assign a segment type to define the purpose and content of that segment.</span></span> <span data-ttu-id="373ca-152">下表描述了可用的段类型。</span><span class="sxs-lookup"><span data-stu-id="373ca-152">The following table describes the types of segments that are available.</span></span>

    | <span data-ttu-id="373ca-153">段落类型</span><span class="sxs-lookup"><span data-stu-id="373ca-153">Segment type</span></span> | <span data-ttu-id="373ca-154">说明</span><span class="sxs-lookup"><span data-stu-id="373ca-154">Description</span></span> |
    |---|---|
    | <span data-ttu-id="373ca-155">常数</span><span class="sxs-lookup"><span data-stu-id="373ca-155">Constant</span></span> | <span data-ttu-id="373ca-156">此段类型为规则中生成的每个编号添加相同的常量文本。</span><span class="sxs-lookup"><span data-stu-id="373ca-156">This segment type adds the same constant text for each generated number in the sequence.</span></span> <span data-ttu-id="373ca-157">在**值**字段中，输入所需文本。</span><span class="sxs-lookup"><span data-stu-id="373ca-157">In the **Value** field, enter the required text.</span></span> <span data-ttu-id="373ca-158">**长度**字段会自动更新为您在**值**字段中输入的文本的长度。</span><span class="sxs-lookup"><span data-stu-id="373ca-158">The **Length** field is automatically updated to the length of the text that you entered in the **Value** field.</span></span> |
    | <span data-ttu-id="373ca-159">编号规则</span><span class="sxs-lookup"><span data-stu-id="373ca-159">Number sequence</span></span> | <span data-ttu-id="373ca-160">在**值**字段中，为应该在生成的规则中显示的每个字符输入数字符号 (*\#*)。</span><span class="sxs-lookup"><span data-stu-id="373ca-160">In the **Value** field, enter a number sign (*\#*) for each character that should be shown in the generated sequence.</span></span> <span data-ttu-id="373ca-161">编号规则本身可能会生成更长的编号，但是只会显示最右侧的字符。</span><span class="sxs-lookup"><span data-stu-id="373ca-161">The number sequence itself might generate longer numbers, but only the right-most characters will be shown.</span></span> <span data-ttu-id="373ca-162">**长度**字段会自动更新为您在**值**字段中输入的数字符号数量。</span><span class="sxs-lookup"><span data-stu-id="373ca-162">The **Length** field is automatically updated to the number of number signs that you entered in the **Value** field.</span></span><p><span data-ttu-id="373ca-163">为了符合 SSCC-18 编号的 GS1 要求，请确保此段的长度为 16 减去 GS1 前缀的长度。</span><span class="sxs-lookup"><span data-stu-id="373ca-163">To comply with GS1 requirements for SSCC-18 numbers, make sure that the length of this segment is 16 minus the length of your GS1 prefix.</span></span></p> |
    | <span data-ttu-id="373ca-164">GS1 前缀</span><span class="sxs-lookup"><span data-stu-id="373ca-164">GS1 prefix</span></span> | <span data-ttu-id="373ca-165">此段类型将添加在**仓库管理参数**页面上的 **GS1 公司前缀**字段中设置的值。</span><span class="sxs-lookup"><span data-stu-id="373ca-165">This segment type adds the value that is set in the **GS1 company prefix** field on the **Warehouse management parameters** page.</span></span> <span data-ttu-id="373ca-166">**值**字段显示在**仓库管理参数**页面上设置的值，**长度**字段显示值中的字符数。</span><span class="sxs-lookup"><span data-stu-id="373ca-166">The **Value** field shows the value that is set on the **Warehouse management parameters** page, and the **Length** field shows the number of characters in the value.</span></span> <span data-ttu-id="373ca-167">**值**字段和**长度**字段均为只读。</span><span class="sxs-lookup"><span data-stu-id="373ca-167">Both the **Value** field and the **Length** field are read-only.</span></span> |
    | <span data-ttu-id="373ca-168">申请标识符</span><span class="sxs-lookup"><span data-stu-id="373ca-168">Application identifier</span></span> | <span data-ttu-id="373ca-169">在**值**字段中，输入应用程序标识符，该标识符由此类型编号规则的相关 GS1 政策指定。</span><span class="sxs-lookup"><span data-stu-id="373ca-169">In the **Value** field, enter an application identifier, as specified by the relevant GS1 policy for this type of number sequence.</span></span> <span data-ttu-id="373ca-170">例如，为 SSCC 输入 *00*，为 BOL 输入 *420*。</span><span class="sxs-lookup"><span data-stu-id="373ca-170">For example, enter *00* for SSCC or *420* for BOL.</span></span> <span data-ttu-id="373ca-171">**长度**字段会自动更新为您在**值**字段中输入的标识符的长度。</span><span class="sxs-lookup"><span data-stu-id="373ca-171">The **Length** field is automatically updated to the length of the identifier that you entered in the **Value** field.</span></span> |
    | <span data-ttu-id="373ca-172">包装类型</span><span class="sxs-lookup"><span data-stu-id="373ca-172">Packing type</span></span> | <span data-ttu-id="373ca-173">对于可以清楚识别的物料，此段类型会添加相关单位序列组（来自**单位序列组**页面）中的字段值。</span><span class="sxs-lookup"><span data-stu-id="373ca-173">For items that can be clearly identified, this segment type adds a field value from the relevant unit sequence group (from the **Unit sequence groups** page).</span></span> <span data-ttu-id="373ca-174">（此行为与牌照 ID 的现有逻辑匹配。）对于包含多个库存单位 (SKU) 的牌照，此段类型默认会添加 *0*（零）。</span><span class="sxs-lookup"><span data-stu-id="373ca-174">(This behavior matches the existing logic for license plate IDs.) For license plates that include multiple stock keeping units (SKUs), this segment type adds *0* (zero) by default.</span></span> <span data-ttu-id="373ca-175">对于此段类型，**值**字段始终设置为 *P*，**长度**字段始终设置为 *1*。</span><span class="sxs-lookup"><span data-stu-id="373ca-175">For this segment type, the **Value** field is always set to *P*, and the **Length** field is always set to *1*.</span></span>|
    | <span data-ttu-id="373ca-176">校验位</span><span class="sxs-lookup"><span data-stu-id="373ca-176">Check digit</span></span> | <span data-ttu-id="373ca-177">此段类型将添加校验位，这是一个模数 10 计算。</span><span class="sxs-lookup"><span data-stu-id="373ca-177">This segment type adds a check digit, which is a modulo 10 calculation.</span></span> <span data-ttu-id="373ca-178">（此行为与牌照 ID 的现有逻辑匹配。）对于此段类型，**值**字段始终设置为脱字符号 (*^*)，**长度**字段始终设置为 *1*。</span><span class="sxs-lookup"><span data-stu-id="373ca-178">(This behavior matches the existing logic for license plate IDs.) For this segment type, the **Value** field is always set to a caret (*^*), and the **Length** field is always set to *1*.</span></span> |

1. <span data-ttu-id="373ca-179">要查看最终编号格式的示例，请查看**段**快速选项卡底部的**格式**字段。</span><span class="sxs-lookup"><span data-stu-id="373ca-179">To view an example of your final number format, inspect the **Format** field at the bottom of the **Segments** FastTab.</span></span>
