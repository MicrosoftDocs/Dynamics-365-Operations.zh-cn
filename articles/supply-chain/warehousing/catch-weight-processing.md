---
title: 使用仓库管理进行实际称重产品处理
description: 本主题介绍如何使用工作模板和库位指令确定在仓库中如何以及在哪里完成工作。
author: perlynne
manager: AnnBe
ms.date: 11/01/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: WHSCatchWeightTag, WHSCatchWeightItemHandlingPolicy
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: perlynne
ms.search.validFrom: 2019-1-31
ms.dyn365.ops.version: 8.1.3
ms.openlocfilehash: 5800f95de0ec773f40c506662a031887810b8c92
ms.sourcegitcommit: db222a1719d4756d9ccb73fc71e7eaf4521c23a7
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/01/2019
ms.locfileid: "2696631"
---
# <a name="catch-weight-product-processing-with-warehouse-management"></a>使用仓库管理进行实际称重产品处理

[!include [banner](../includes/banner.md)]

[!include [banner](../includes/pivate-preview-banner.md)]


## <a name="feature-exposure"></a>功能曝光

若要使用仓库管理处理实际称重产品，必须使用许可证配置键打开功能。 （转到**系统管理 \> 设置 \> 许可证配置**。 然后，在**配置键**选项卡上，展开**贸易 \> 仓库和运输管理**，然后选择**面向仓库的实际称重**复选框）。

> [!NOTE]
> 还必须打开**仓库和运输管理**许可证配置键和**流程分配 \> 实际称重**许可证配置键。

在许可证配置键打开后，在您创建已发放产品时，您可以选择**实际称重**。 您还可以将发放的产品与为其选择了**使用仓库管理流程**参数的存储维度组关联。

您必须为实际称重进行某些基本产品的特定设置，然后才可以在“仓库管理”中使用产品：

- 在单位转换定义中定义实际称重单位（箱）和库存单位（千克）\[kg\] 之间的标称重量转换。
- 在实际称重单位设置中，定义最小和最大重量容差。
- 设置实际称重单位定义为最低库存单位 (SKU) 的单位序列组。
- 设置实际称重物料处理策略。

有关详细信息，请参阅[设置和维护实际称重物料](https://docs.microsoft.com/dynamicsax-2012/appuser-itpro/setting-up-and-maintaining-catch-weight-items)。

## <a name="transaction-adjustments"></a>交易记录调整

由于库存重量在涉及到仓库时可能不同于库存从仓库发放时的重量，所以实际称重产品处理必须调整库存。

**示例 1**

在**完工入库**生产流程中，包含八箱实际称重产品的牌照的进货重量捕获为 80.1 千克。 牌照之后存储在成品区域，存储期间，部分重量在空气中流失。

之后，在销售订单领料流程中，同一个牌照的重量捕获为 79.8 千克。 因此，在系统中，您现在在物理维度设置中将有重量差异。

在这种情况下，系统将通过过帐缺少的 0.3 千克的交易记录来自动调整此差异。

**示例 2**

在其定义中，产品被设置为最多允许**箱**实际称重单位的最小 8 千克重量、最大 12 千克重量。

您有两箱产品，它们登记的重量为 16 千克。 如果仓库工作人员领取其中一箱并称重，重量捕获为 9 千克，另一箱重量将为 7 千克。 但是，因为 7 千克低于最小重量，系统将执行自动调整，将现有库存重量增加 1 千克。

若要设置这些调整所过帐到的科目，请转到**成本管理 \> 分类帐集成策略设置 \> 过帐**。 然后，在**库存**选项卡上，定义以下科目：

- 实际称重损失科目
- 实际称重利润科目

## <a name="catch-weight-item-handling-policy"></a>实际称重物料处理策略

实际称重物料处理策略定义物料的两个主要仓库管理流程：何时捕获物料重量，以及如何捕获。

您可以定义什么时候为销售和转移单处理捕获重量。 重量可以在以下流程的任意一个流程期间捕获：

- **领料** – 重量在订单工作的初始领料工作行期间捕获。
- **装箱** – 重量在人工装箱期间捕获。 （必须将物料发送到装箱工作站。）

如果实际重量在集装箱装箱流程期间在装箱工作站捕获，在领料工作期间，将不提示仓库工作人员捕获重量。 物理库存的平均重量将被用作转到装箱区域的已领取库存的重量。

对于内部仓库管理流程，如盘点和调整更正，可以定义重量是否应捕获。 如果未捕获，将使用标称重量。

您还可以定义如何捕获重量。 在两个主要流之一，实际称重标记被跟踪并用于捕获重量。 在另一个流中，不跟踪实际称重标记。

- **是** – 物料使用实际称重标记。 每个标记编号表示一个实际称重单位（箱），重量以及其他信息与标记关联。 对于出货流程，使用与标记关联的重量。
- **否** – 物料不使用实际称重标记。 进货和出货称重流程基于在每个流程中捕获的实际重量。

跟踪实际称重标记的流程可以用于存储期间不会更改重量的物料。 重量将仅在进货仓库流程中捕获。 在出货流程中，将只扫描实际称重标记，与这些标记关联的重量将用于出货交易处理。

### <a name="how-to-capture-catch-weight"></a>如果捕获实际称重

在使用实际称重标记跟踪时，必须始终为收到的每个实际称重单位创建标记，并且每个标记必须始终与重量关联。

例如，**箱**是实际称重单位，您将收到一个托盘（八箱）。 在这种情况下，必须创建八个唯一的实际称重标记，并且重量必须与每个标记关联。 根据进货实际称重标记，可以捕获全部八箱的重量，然后可以将平均重量分配到每箱，也可以为每箱捕获唯一重量。

在不使用实际称重标记跟踪时，可以针对每个维度集捕获重量（例如，对每个牌照和跟踪维度）。 或者，重量可以基于聚合级别捕获，如五个牌照（托盘）。

对于捕获出货重量的方法，您可以定义是否为每个实际称重单位（即每箱）进行称重，或是否基于将要领取的数量（例如，三箱）捕获重量。 请注意，对于生产订单行领料和内部移动流程，如果使用了**未捕获**选项，将使用平均重量。

若要限制仓库管理领料流程捕获会产生实际称重损/益调整的重量，可使用出货重量差异方法。

## <a name="supported-scenarios"></a>支持的方案

并非所有工作流都支持使用仓库管理进行实际称重产品处理。 当前应用以下限制。
 
### <a name="configuring-catch-weight-products-for-warehouse-management-processes"></a>针对仓库管理流程配置实际称重产品

- 对于实际称重产品，物料的存储维度组不能更改（以便仓库管理流程可用于它们）。
- 实际称重产品（不是物料清单）仅支持配方处理。
- 实际称重产品不能使用所有者维度与跟踪维度组关联。
- 实际称重产品不能作为服务使用。
- 实际称重产品只能作为物料模型组的一部分用作“贮存产品”。
- 实际称重产品不能与此功能一起用于跟踪“在销售流程中有效”。
- 实际称重产品不能与此功能一起用于捕获序列号。 因此，产品不能作为领料/装箱流程的一部分从“空白”转为序列号。
- 实际称重产品不能与此功能一起用于在消耗前登记序列。
- 启用变量的实际称重产品不能与此功能一起用于转换不同的度量单位。
- 实际称重产品不能标记为零售“产品配套件”。
- 实际称重产品只能与具有实际称重处理单位且将实际称重单位作为最低序列的单位序列组一起使用。
- 对于实际称重产品，只有当转换生成大于 1 的标准数量时，库存单位才可以转换为实际称重单位。
- 实际称重产品的条码设置不支持可变重量设置。
 
### <a name="order-processing"></a>订单处理

- 发货通知（ASN/装箱结构）的创建不支持重量信息。
- 订单数量必须基于实际称重单位维护。
 
### <a name="inbound-warehouse-processing"></a>进货仓库处理

- 接收牌照需要重量在登记时分配，因为重量信息不支持作为发货通知的一部分。 在使用实际称重标记流程时，标记编号必须按实际称重单位手动分配。
 
### <a name="inventory-and-warehouse-operations"></a>库存和仓库操作

- 实际称重产品不支持手动创建检验单。
- 实际称重产品不支持手动移动与工作相关的库存。
- 实际称重产品不支持加载来初始化仓库库存的牌照。
- 实际称重产品不支持批次平衡流程。
- 实际称重产品不支持处理负实际库存。
- 库存标记不能用于实际称重产品。
 
### <a name="outbound-warehouse-processing"></a>出货仓库处理

- 实际称重产品不支持群集领料功能。
- 实际称重产品不支持领料和装箱仓库处理。
- 对于实际称重产品，在工作模板中定义的工作可以自动运行。
- 对于实际称重产品，不支持在集装箱关闭后创建工作的手动装箱工作站处理。
- 实际称重产品不支持逐件扫描功能。
 
### <a name="production-processing"></a>生产处理

- 对于实际称重产品，仅支持配方产品的批次订单。
- 实际称重产品不支持看板功能。
- 对于实际称重产品，序列号不能在消耗前登记。
- 实际称重产品不支持冲销牌照功能。
- 对于实际称重产品，完工入库可通过序列号注册。

### <a name="transportation-management-processing"></a>运输管理处理

- 实际称重产品不支持装载计划工作台处理。
- 实际称重产品不支持运输请求行。
 
### <a name="other-restrictions-and-behaviors-for-catch-weight-product-processing-with-warehouse-management"></a>使用仓库管理的实际称重产品处理的其他限制和行为

- 在没有提示用户标识跟踪维度的领料流程中，重量分配基于平均重量进行。 例如，此行为在以下情况下发生：在同一位置使用跟踪维度组合，并且在用户处理领料后，该位置只剩一个跟踪维度值。
- 在库存为针对仓库管理流程配置的实际称重产品预留时，预留将基于定义的最小重量进行，即使此数量是现有的最后一个处理数量。 此行为与未为仓库管理流程配置的物料的行为不同。
- 将重量作为产能计算（波次阈值、工作最大休息时间、集装箱最大数、库位负荷产能等）的一部分使用的流程不使用库存的实际重量。 流程基于为产品定义的实际处理重量。
- 通常，实际称重产品不支持零售功能。
 
### <a name="catch-weight-tags"></a>实际称重标记

目前，实际称重标记的功能仅作为以下方案的一部分支持：

- 当处理采购订单仓库应用接收时。
- 当通过仓库应用处理负荷接收时。
- 对于与采购订单负荷相关的牌照接收，重量分配在接收流程中请求。 相对而言，对于转移单接收，将使用转移单的装运数据中的重量。
- 对于来自非仓库管理流程仓库的转移单物料和行接收。
- 销售退货单接收的处理可以记录实际称重标记，但如果标记是最初为特定销售订单行装运的相同标记，则不会验证处理。
- 在使用仓库应用处理更改的库存状态时。
- 在使用仓库应用完成仓库转移时。
- 在通过仓库应用处理调入和调出时。
- 在为销售订单行、转移单行和生产订单行处理领料工作时。
- 在减少负荷行的领料数量时（不管是否使用集装箱）。
- 当产品在装箱工作站装入集装箱时。
- 在重新打开集装箱时。
- 当配方产品使用仓库应用完工入库时。
- 在使用仓库应用处理运输负荷时。

可以使用仓库应用流程创建，在窗体中手动创建或使用数据实体流程创建实际称重标记。 如果实际称重标记与入货源文档行（如采购订单行）关联，将注册此标记。 如果该行用于出货处理。 将把该标记更新为已装运。
