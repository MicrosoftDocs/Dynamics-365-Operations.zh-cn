---
title: 工作订单项目设置
description: 本主题介绍资产管理中的工作订单项目设置。
author: josaw1
manager: tfehr
ms.date: 08/13/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: EntAssetWorkOrderProjectSetup
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: riluan
ms.search.validFrom: 2019-08-30
ms.dyn365.ops.version: 10.0.5
ms.openlocfilehash: 9e7f312b7119ac5e4dacbe7edb7b3fd17decd7ad
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/15/2021
ms.locfileid: "5245363"
---
# <a name="work-order-project-setup"></a><span data-ttu-id="fec2e-103">工作订单项目设置</span><span class="sxs-lookup"><span data-stu-id="fec2e-103">Work order project setup</span></span>

[!include [banner](../../includes/banner.md)]

 

<span data-ttu-id="fec2e-104">在 **资产管理** 模块中，每个工作订单作业都需要项目关联。</span><span class="sxs-lookup"><span data-stu-id="fec2e-104">In the **Asset management** module, a project relation is required for every work order job.</span></span> <span data-ttu-id="fec2e-105">与工作订单作业关联的项目让您可以跟踪与资产管理关联的各项目（如内部维护项目、服务管理项目和投资项目）的成本。</span><span class="sxs-lookup"><span data-stu-id="fec2e-105">The project that is associated with a work order job lets you track costs on various projects that are related to Asset Management, such as internal maintenance projects, service management projects, and investment projects.</span></span> 

## <a name="project-setup-for-a-work-order-job"></a><span data-ttu-id="fec2e-106">工作订单作业的项目设置</span><span class="sxs-lookup"><span data-stu-id="fec2e-106">Project setup for a work order job</span></span>

<span data-ttu-id="fec2e-107">为工作订单创建工作订单作业时，**项目管理与核算** 模块中的项目设置和 **资产管理** 模块中的工作订单项目设置决定如何使用项目来控制为工作订单作业选择的资产的成本。</span><span class="sxs-lookup"><span data-stu-id="fec2e-107">When you create a work order job on a work order, the project setup in the **Project management and accounting** module and the work order project setup in the **Asset management** module determine how projects can be used for cost control on the asset that is selected on that work order job.</span></span> <span data-ttu-id="fec2e-108">此部分介绍用于工作订单的项目设置的以下部分：父项目（项目 ID）、项目类型、项目活动和财务维度：</span><span class="sxs-lookup"><span data-stu-id="fec2e-108">This section describes the following parts of the project setup that is used for a work order: the parent project (project ID), project type, project activities, and financial dimensions:</span></span>

- <span data-ttu-id="fec2e-109">为工作订单创建工作订单作业时，将为其自动创建唯一项目 ID 和关联的项目活动。</span><span class="sxs-lookup"><span data-stu-id="fec2e-109">When you create a work order job on a work order, a unique project ID and a related project activity are automatically created for it.</span></span> <span data-ttu-id="fec2e-110">但是，如果一个工作订单的多个工作订单作业中包含同一个资产，则对这些作业使用同一个项目 ID。</span><span class="sxs-lookup"><span data-stu-id="fec2e-110">However, if several work order jobs on a work order include the same asset, the same project ID is used for them.</span></span> <span data-ttu-id="fec2e-111">换句话说，为工作订单中的每个资产创建一个项目 ID。</span><span class="sxs-lookup"><span data-stu-id="fec2e-111">In other words, one project ID is created for every asset on a work order.</span></span>

    - <span data-ttu-id="fec2e-112">工作订单作业的父项目（项目 ID）位于父项目设置中。</span><span class="sxs-lookup"><span data-stu-id="fec2e-112">The parent project (project ID) for a work order job is found in the parent project setup.</span></span> <span data-ttu-id="fec2e-113">（有关父项目设置的详细信息，请参阅下一部分。）例如，如果将一个客户或功能位置与特定父项目关联，则只要为该客户或该功能位置创建工作订单，都将使用这个父项目。</span><span class="sxs-lookup"><span data-stu-id="fec2e-113">(For more information about the parent project setup, see the next section.) For example, if you associate a customer or a functional location with a specific parent project, the parent project is used every time that you create work orders for that customer or that functional location.</span></span> <span data-ttu-id="fec2e-114">如果不将特定项目 ID 与功能位置之类关联，则使用工作订单项目设置中的下一个相关父项目。</span><span class="sxs-lookup"><span data-stu-id="fec2e-114">If you don't relate a specific project ID to, for example, a functional location, the next relevant parent project in the work order project setup is used.</span></span>
    - <span data-ttu-id="fec2e-115">每个项目 ID 都需要一个项目类型。</span><span class="sxs-lookup"><span data-stu-id="fec2e-115">A project type is required for every project ID.</span></span> <span data-ttu-id="fec2e-116">项目类型位于项目组设置的设置中。</span><span class="sxs-lookup"><span data-stu-id="fec2e-116">The project type is found in the setup of the project group setup.</span></span> <span data-ttu-id="fec2e-117">（有关项目组设置的详细信息，请参阅下一部分。）如果在项目组设置中找不到匹配项，将使用父项目的项目组设置。</span><span class="sxs-lookup"><span data-stu-id="fec2e-117">(For more information about the project group setup, see the next section.) If no match is found in the project group setup, the project group setup on the parent project is used.</span></span>
    - <span data-ttu-id="fec2e-118">需要预测和日记帐的项目活动的设置从父项目复制到工作订单项目。</span><span class="sxs-lookup"><span data-stu-id="fec2e-118">The setup for requiring project activities on forecasts and journals is copied from the parent project to the work order project.</span></span> <span data-ttu-id="fec2e-119">如果用作父项目的项目的 **工时**、**费用** 和 **物料** 选项设置为 **是**，则必须为预测和日记帐创建项目活动。</span><span class="sxs-lookup"><span data-stu-id="fec2e-119">If the **Hour**, **Expense**, and **Item** options are set to **Yes** for the project that is used as a parent project, a project activity is mandatory on forecasts and journals.</span></span> <span data-ttu-id="fec2e-120">（若要访问这些选项，请选择 **项目管理与核算** \> **项目** \> **所有项目**，然后选择用作父项目的项目。</span><span class="sxs-lookup"><span data-stu-id="fec2e-120">(To access these options, select **Project management and accounting** \> **Projects** \> **All Projects**, and then select the project that is used as a parent project.</span></span> <span data-ttu-id="fec2e-121">这些选项位于 **设置** 快速选项卡上的 **需要日记帐的活动** 部分中。）</span><span class="sxs-lookup"><span data-stu-id="fec2e-121">The options are in the **Require activity on journals** section on the **Setup** FastTab.)</span></span>

- <span data-ttu-id="fec2e-122">将从资产复制财务维度并与父项目合并。</span><span class="sxs-lookup"><span data-stu-id="fec2e-122">Financial dimensions are copied from the asset and merged with the parent project.</span></span>

<span data-ttu-id="fec2e-123">下一部分介绍如何设置父项目和项目组。</span><span class="sxs-lookup"><span data-stu-id="fec2e-123">The next section explains how to set up parent projects and project groups.</span></span> <span data-ttu-id="fec2e-124">父项目和父组用于控制工作订单。</span><span class="sxs-lookup"><span data-stu-id="fec2e-124">Parent project and parent groups are used to control work orders.</span></span> <span data-ttu-id="fec2e-125">还用于报告工作订单。</span><span class="sxs-lookup"><span data-stu-id="fec2e-125">They are also used for reporting about work orders.</span></span>

## <a name="set-up-work-order-projects"></a><span data-ttu-id="fec2e-126">设置工作订单项目</span><span class="sxs-lookup"><span data-stu-id="fec2e-126">Set up work order projects</span></span>

<span data-ttu-id="fec2e-127">必须先设置工作订单项目，才能开始创建工作订单。</span><span class="sxs-lookup"><span data-stu-id="fec2e-127">Before you start to create work orders, you must set up work order projects.</span></span> <span data-ttu-id="fec2e-128">**工作订单项目设置** 页（**资产管理** \> **设置** \> **工作订单** \> **项目设置**）中包含两个选项卡：**父项目** 和 **项目组**。</span><span class="sxs-lookup"><span data-stu-id="fec2e-128">The **Work order project setup** page (**Asset management** \> **Setup** \> **Work orders** \> **Project setup**) contains two tabs: **Parent project** and **Project group**.</span></span>

<span data-ttu-id="fec2e-129">在 **父项目** 选项卡上，可以设置项目关联，在没有为工作订单作业中选择的资产设置项目时使用。</span><span class="sxs-lookup"><span data-stu-id="fec2e-129">On the **Parent project** tab, you can set up project relations that can be used if no project is set up on the asset that is selected on the work order job.</span></span> <span data-ttu-id="fec2e-130">如果公司使用资产项目，则不需要父项目设置。</span><span class="sxs-lookup"><span data-stu-id="fec2e-130">A parent project setup isn't required if your company uses asset projects.</span></span> <span data-ttu-id="fec2e-131">仅在要使用工作订单项目而不是资产项目时，才有关。</span><span class="sxs-lookup"><span data-stu-id="fec2e-131">It's relevant only if you want to use work order projects instead of asset projects.</span></span> <span data-ttu-id="fec2e-132">在这种情况下，必须至少设置一个父项目。</span><span class="sxs-lookup"><span data-stu-id="fec2e-132">In that case, you must set up at least one parent project.</span></span>

<span data-ttu-id="fec2e-133">在 **项目组** 选项卡上，可设置可与工作订单类型、资产类型和资产关联的项目组。</span><span class="sxs-lookup"><span data-stu-id="fec2e-133">On the **Project group** tab, you can set up project groups that can be associated with work order types, asset types, and assets.</span></span>

<span data-ttu-id="fec2e-134">项目组可用于创建特定类别（组）来控制成本。</span><span class="sxs-lookup"><span data-stu-id="fec2e-134">Project groups can be used to create specific categories (groups) that are used for cost control.</span></span> <span data-ttu-id="fec2e-135">例如，可通过为特定资产类型或工作订单类型创建项目组，按类型详细跟踪维护成本。</span><span class="sxs-lookup"><span data-stu-id="fec2e-135">For example, by creating project groups for specific asset types or work order types, you can do detailed tracking of maintenance costs by type.</span></span>

<span data-ttu-id="fec2e-136">项目组不是必需的。</span><span class="sxs-lookup"><span data-stu-id="fec2e-136">Project groups aren't mandatory.</span></span> <span data-ttu-id="fec2e-137">如果不设置项目组，则使用父项目确定项目组，并基于父项目的项目组创建子项目。</span><span class="sxs-lookup"><span data-stu-id="fec2e-137">If you don't set up project groups, the parent project is used to determine the project group, and a child project is created from the parent project's project group.</span></span>

<span data-ttu-id="fec2e-138">可通过此设置与 **项目管理与核算** 模块完全集成。</span><span class="sxs-lookup"><span data-stu-id="fec2e-138">The setup allows for complete integration with the **Project management and accounting** module.</span></span> <span data-ttu-id="fec2e-139">因此，可以跟踪与关联项目中的工作订单有关的成本。</span><span class="sxs-lookup"><span data-stu-id="fec2e-139">Therefore, you can track the costs that are related to work orders in the related projects.</span></span> <span data-ttu-id="fec2e-140">以下过程介绍工作订单项目的设置。</span><span class="sxs-lookup"><span data-stu-id="fec2e-140">The following procedure describes the setup for work order projects.</span></span>

1. <span data-ttu-id="fec2e-141">选择 **资产管理** \> **设置** \> **工作订单** \> **项目设置**。</span><span class="sxs-lookup"><span data-stu-id="fec2e-141">Select **Asset management** \> **Setup** \> **Work orders** \> **Project setup**.</span></span>
2. <span data-ttu-id="fec2e-142">在 **父项目** 选项卡上，选择 **添加**。</span><span class="sxs-lookup"><span data-stu-id="fec2e-142">On the **Parent project** tab, select **Add**.</span></span>
3. <span data-ttu-id="fec2e-143">在 **工作订单类型**、**功能位置**、**资产类型** 和 **资产** 字段中，根据需要选择值。</span><span class="sxs-lookup"><span data-stu-id="fec2e-143">In the **Work order type**, **Functional location**, **Asset type**, and **Asset** fields, select values as you require.</span></span> <span data-ttu-id="fec2e-144">可以为添加的每个行仅设置一个字段，也可以设置多个字段。</span><span class="sxs-lookup"><span data-stu-id="fec2e-144">For each line that you add, you can set just one field or multiple fields.</span></span> <span data-ttu-id="fec2e-145">设置的字段的数量决定在资产管理中选择项目 ID 时使用的组合。</span><span class="sxs-lookup"><span data-stu-id="fec2e-145">The number of fields that you set determines the combination that is used when a project ID is selected in Asset Management.</span></span> 

    <span data-ttu-id="fec2e-146">如果选择功能位置，将自动包含关联的子位置。</span><span class="sxs-lookup"><span data-stu-id="fec2e-146">If you select a functional location, the related child locations are automatically included.</span></span> <span data-ttu-id="fec2e-147">如果选择资产，则可为同一个资产创建更多工作订单项目行，但是可以为该资产选择不同项目。</span><span class="sxs-lookup"><span data-stu-id="fec2e-147">If you select an asset, you can create more work order project setup lines for the same asset, but you can select different projects for that asset.</span></span>

4. <span data-ttu-id="fec2e-148">在 **项目 ID** 字段中，选择应该与您在步骤 3 中创建的设置关联的项目。</span><span class="sxs-lookup"><span data-stu-id="fec2e-148">In the **Project ID** field, select the project that should be related to the setup that you created in step 3.</span></span>
5. <span data-ttu-id="fec2e-149">如果项目设置应仅在有限期间内有效，请在 **结束日期** 字段中选择结束日期。</span><span class="sxs-lookup"><span data-stu-id="fec2e-149">If the project setup should be valid for only a limited period, select an end date in the **End date** field.</span></span> <span data-ttu-id="fec2e-150">否则，请选择 **无**。</span><span class="sxs-lookup"><span data-stu-id="fec2e-150">Otherwise, select **None**.</span></span>

    <span data-ttu-id="fec2e-151">默认情况下，开始日期是向页面添加工作订单项目时的日期。</span><span class="sxs-lookup"><span data-stu-id="fec2e-151">By default, the start date is the date when you add the work order project to the page.</span></span> <span data-ttu-id="fec2e-152">其受 **生效日期** 字段（默认隐藏）控制。</span><span class="sxs-lookup"><span data-stu-id="fec2e-152">It's controlled by the **Valid from** field, which is hidden by default.</span></span> <span data-ttu-id="fec2e-153">若要显示 **生效日期** 字段，请选择 **视图** \> **所有**。</span><span class="sxs-lookup"><span data-stu-id="fec2e-153">To show the **Valid from** field, select **View** \> **All**.</span></span> <span data-ttu-id="fec2e-154">然后可共同使用 **生效日期** 字段和 **结束日期** 字段来为工作订单项目设置有限有效期。</span><span class="sxs-lookup"><span data-stu-id="fec2e-154">You can then use the **Valid from** field together with the **End date** field to set up a limited period of validity for the work order project.</span></span>

    ![工作订单项目设置页面](media/17-setup-for-work-orders.png)

6. <span data-ttu-id="fec2e-156">在 **项目组** 选项卡上，选择 **添加**。</span><span class="sxs-lookup"><span data-stu-id="fec2e-156">On the **Project group** tab, select **Add**.</span></span>
7. <span data-ttu-id="fec2e-157">在 **工作订单类型** 字段中，选择一个工作订单类型。</span><span class="sxs-lookup"><span data-stu-id="fec2e-157">In the **Work order type** field, select a work order type.</span></span>
8. <span data-ttu-id="fec2e-158">如果希望项目组关联更具体，请在 **资产类型** 字段中选择资产类型，或在 **资产** 字段中选择资产。</span><span class="sxs-lookup"><span data-stu-id="fec2e-158">If you want the project group association to be more specific, select an asset type in the **Asset type** field or an asset in the **Asset** field.</span></span>
9. <span data-ttu-id="fec2e-159">在 **项目组** 字段中，选择应与工作订单类型关联的项目组。</span><span class="sxs-lookup"><span data-stu-id="fec2e-159">In the **Project group** field, select the project group that should be related to the work order type.</span></span> <span data-ttu-id="fec2e-160">例如，可以将名称为 **预防性维护** 的工作订单类型与名称为 **预防性维护** 或 **内部** 的项目组关联。</span><span class="sxs-lookup"><span data-stu-id="fec2e-160">For example, a work order type that is named **Preventive maintenance** might be associated with a project group that is named **Prev Maint** or **Internal**.</span></span> <span data-ttu-id="fec2e-161">或者，也可以将用于与投资和固定资产关联的工作订单的 **投资** 工作订单类型与名称为 **投资** 或 **投入** 的项目组关联。</span><span class="sxs-lookup"><span data-stu-id="fec2e-161">Alternatively, an **Investment** work order type that is used for work orders that are related to investments and fixed assets might be associated with a project group that is named **Invest** or **Investment**.</span></span>
10. <span data-ttu-id="fec2e-162">选择 **保存**。</span><span class="sxs-lookup"><span data-stu-id="fec2e-162">Select **Save**.</span></span>

![工作订单项目设置页面, 添加工作订单](media/18-setup-for-work-orders.png)

> [!NOTE]
> <span data-ttu-id="fec2e-164">只要创建工作订单行，资产管理都会搜索应该与工作订单作业项目关联的项目组。</span><span class="sxs-lookup"><span data-stu-id="fec2e-164">Every time that a work order line is created, Asset Management searches for a project group that should be related to the work order job project.</span></span> <span data-ttu-id="fec2e-165">此项搜索基于本主题中介绍的设置。</span><span class="sxs-lookup"><span data-stu-id="fec2e-165">The search is based on the setup that is described in this topic.</span></span> <span data-ttu-id="fec2e-166">每个项目组都有一个关联的项目类型。</span><span class="sxs-lookup"><span data-stu-id="fec2e-166">Every project group has a related project type.</span></span> <span data-ttu-id="fec2e-167">项目类型为 **时间和材料** 或 **固定价格** 的项目组仅对与客户帐户关联的资产有效。</span><span class="sxs-lookup"><span data-stu-id="fec2e-167">Project groups that have the **Time and material** or **Fixed-price** project type are valid only for assets that are related to a customer account.</span></span>
>
> <span data-ttu-id="fec2e-168">对于父项目和项目组，当系统选择可用工作订单项目或项目组时，所选内容基于您使用上一个过程创建的记录。</span><span class="sxs-lookup"><span data-stu-id="fec2e-168">For parent projects and project groups, when the system selects the available work order project or project group, the selection is based on the records that you created by using the preceding procedure.</span></span> <span data-ttu-id="fec2e-169">资产管理将在与工作订单项目有关的记录中查找可能的匹配项。</span><span class="sxs-lookup"><span data-stu-id="fec2e-169">Asset Management goes through records that are related to the work order project to check for a possible match.</span></span> <span data-ttu-id="fec2e-170">始终先检查最具体的组合。</span><span class="sxs-lookup"><span data-stu-id="fec2e-170">It always checks the most specific combination first.</span></span> <span data-ttu-id="fec2e-171">换句话说，对于工作订单父项目，资产管理首先会检查 **资产** 字段的可能匹配项。</span><span class="sxs-lookup"><span data-stu-id="fec2e-171">In other words, for the work order parent project, Asset Management first checks for a possible match for the **Asset** field.</span></span> <span data-ttu-id="fec2e-172">如果未找到匹配项，将检查 **资产类型** 字段的匹配项。</span><span class="sxs-lookup"><span data-stu-id="fec2e-172">If no match is found, it checks for a match for the **Asset type** field.</span></span> <span data-ttu-id="fec2e-173">如果未找到匹配项，将检查 **功能位置** 字段的匹配项，以此类推。</span><span class="sxs-lookup"><span data-stu-id="fec2e-173">If no match is found, it checks for a match for the **Functional location** field, and so on.</span></span> <span data-ttu-id="fec2e-174">如 **工作订单项目设置** 页面布局中显示，此行为表示为了找到最具体的组合，资产管理从右到左检查每个记录以查找匹配项。</span><span class="sxs-lookup"><span data-stu-id="fec2e-174">As you can see in the layout of the **Work order project setup** page, this behavior means that, to find the most specific combination, Asset Management checks each record from right to left for a match.</span></span> <span data-ttu-id="fec2e-175">如果找不到匹配项，将使用仅在其中选择了项目 ID 的默认记录。</span><span class="sxs-lookup"><span data-stu-id="fec2e-175">If no match is found, the default record where only a project ID is selected is used.</span></span> <span data-ttu-id="fec2e-176">关联项目组的查找流程类似。</span><span class="sxs-lookup"><span data-stu-id="fec2e-176">The process for finding the related project group is similar.</span></span> <span data-ttu-id="fec2e-177">资产管理首先检查 **资产** 字段的可能匹配项，然后检查 **资产类型** 字段的，再检查 **工作订单类型** 字段的。</span><span class="sxs-lookup"><span data-stu-id="fec2e-177">Asset Management first checks for a possible match for the **Asset** field, then the **Asset type** field, and then the **Work order type** field.</span></span> <span data-ttu-id="fec2e-178">如果找不到匹配项，将使用仅在其中选择了项目组的默认记录。</span><span class="sxs-lookup"><span data-stu-id="fec2e-178">If no match is found, the default record where only a project group is selected is used.</span></span>


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]