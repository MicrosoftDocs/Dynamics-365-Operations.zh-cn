---
title: 工作订单生命周期状态
description: 本主题介绍资产管理中的工作订单生命周期状态。
author: josaw1
manager: AnnBe
ms.date: 08/13/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: mkirknel
ms.search.validFrom: 2019-08-30
ms.dyn365.ops.version: 10.0.5
ms.openlocfilehash: 69d06ff649f4453df22d55062b43bcc8d4ecd763
ms.sourcegitcommit: 802dbf0a744d70f9e546632d419415b0993331ab
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/13/2019
ms.locfileid: "1874708"
---
# <a name="work-order-lifecycle-states"></a><span data-ttu-id="69fbd-103">工作订单生命周期状态</span><span class="sxs-lookup"><span data-stu-id="69fbd-103">Work order lifecycle states</span></span>


[!include [banner](../../includes/banner.md)]

[!include [banner](../../includes/preview-banner.md)]

<span data-ttu-id="69fbd-104">工作订单生命周期状态定义工作订单经历的状态。</span><span class="sxs-lookup"><span data-stu-id="69fbd-104">Work order lifecycle states define the states that a work order can go through.</span></span> <span data-ttu-id="69fbd-105">例如，**已创建**、**已计划**、**进行中**和**已结束**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-105">Examples include **Created**, **Scheduled**, **In progress**, and **Ended**.</span></span> <span data-ttu-id="69fbd-106">可以手动更新工作订单的工作订单生命周期状态，也可以自动更新（例如，在工作订单计划期间）。</span><span class="sxs-lookup"><span data-stu-id="69fbd-106">Work order lifecycle states can be manually updated on a work order, or they can be automatically updated (for example, during work order scheduling).</span></span>

<span data-ttu-id="69fbd-107">必须在**项目管理与核算参数**页（**项目管理与核算** \> **项目管理与核算参数**）将工作订单所需工作订单生命周期状态附加到匹配的项目阶段。</span><span class="sxs-lookup"><span data-stu-id="69fbd-107">The work order lifecycle states that are required for your work orders must be attached to matching project stages on the **Project management and accounting parameters** page (**Project management and accounting** \> **Project management and accounting parameters**).</span></span> <span data-ttu-id="69fbd-108">首先在项目管理与核算中设置项目阶段。</span><span class="sxs-lookup"><span data-stu-id="69fbd-108">You first set up project stages in Project management and accounting.</span></span> <span data-ttu-id="69fbd-109">然后在资产管理中设置工作订单生命周期状态和工作订单生命周期模型。</span><span class="sxs-lookup"><span data-stu-id="69fbd-109">You then set up work order lifecycle states and work order lifecycle models in Asset Management.</span></span>

<span data-ttu-id="69fbd-110">下表介绍**工作订单生命周期状态**页（**资产管理** \> **设置** \> **工作订单** \> **生命周期状态**）的**常规**快速选项卡上**工作订单**和**计划**部分中的选项。</span><span class="sxs-lookup"><span data-stu-id="69fbd-110">The following table describes the options in the **Work order** and **Schedule** sections on the **General** FastTab of the **Work order lifecycle state** page (**Asset management** \> **Setup** \> **Work orders** \> **Lifecycle states**).</span></span>

![图 1](media/09-setup-for-work-orders.png)

| <span data-ttu-id="69fbd-112">选项名称</span><span class="sxs-lookup"><span data-stu-id="69fbd-112">Option name</span></span>                   | <span data-ttu-id="69fbd-113">说明</span><span class="sxs-lookup"><span data-stu-id="69fbd-113">Description</span></span> |
|-------------------------------|-------------|
| <span data-ttu-id="69fbd-114">在职</span><span class="sxs-lookup"><span data-stu-id="69fbd-114">Active</span></span>                        | <span data-ttu-id="69fbd-115">如果工作订单在此生命周期状态时应该有效，请将此选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-115">Set this option to **Yes** if the work order should be active while it's in this lifecycle state.</span></span> |
| <span data-ttu-id="69fbd-116">添加行</span><span class="sxs-lookup"><span data-stu-id="69fbd-116">Add line</span></span>                      | <span data-ttu-id="69fbd-117">如果可以向处于此生命周期状态的工作订单添加工作订单作业，请将此选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-117">Set this option to **Yes** if work order jobs can be added to a work order that is in this lifecycle state.</span></span> |
| <span data-ttu-id="69fbd-118">删除</span><span class="sxs-lookup"><span data-stu-id="69fbd-118">Delete</span></span>                        | <span data-ttu-id="69fbd-119">如果可以删除此生命周期状态的工作订单，请将此选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-119">Set this option to **Yes** if a work order can be deleted while it's in this lifecycle state.</span></span> |
| <span data-ttu-id="69fbd-120">删除行</span><span class="sxs-lookup"><span data-stu-id="69fbd-120">Delete line</span></span>                   | <span data-ttu-id="69fbd-121">如果可以才能够处于此生命周期状态的工作订单删除工作订单作业，请将此选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-121">Set this option to **Yes** if work order jobs can be deleted from a work order that is in this lifecycle state.</span></span> |
| <span data-ttu-id="69fbd-122">允许计划编制</span><span class="sxs-lookup"><span data-stu-id="69fbd-122">Allow scheduling</span></span>              | <span data-ttu-id="69fbd-123">如果可以为此生命周期状态的工作订单排产，请将此选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-123">Set this option to **Yes** if a work order can be scheduled while it's in this lifecycle state.</span></span> |
| <span data-ttu-id="69fbd-124">设置实际开始时间</span><span class="sxs-lookup"><span data-stu-id="69fbd-124">Set actual start</span></span>              | <span data-ttu-id="69fbd-125">如果在工作订单更新为此生命周期状态时，应该提示用户为此工作订单选择实际开始日期和时间，请将此选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-125">Set this option to **Yes** if the user should be prompted to select an actual start date and time for a work order when it's updated to this lifecycle state.</span></span> |
| <span data-ttu-id="69fbd-126">设置实际结束时间</span><span class="sxs-lookup"><span data-stu-id="69fbd-126">Set actual end</span></span>                | <span data-ttu-id="69fbd-127">如果在工作订单更新为此生命周期状态时，应该提示用户为此工作订单选择实际结束日期和时间，请将此选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-127">Set this option to **Yes** if the user should be prompted to select an actual end date and time for a work order when it's updated to this lifecycle state.</span></span> |
| <span data-ttu-id="69fbd-128">日记帐过帐</span><span class="sxs-lookup"><span data-stu-id="69fbd-128">Post journals</span></span>                 | <span data-ttu-id="69fbd-129">如果在工作订单更新为此生命周期状态时，应该自动过帐工作订单日记帐，请将此选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-129">Set this option to **Yes** if work order journals should be automatically posted when a work order is updated to this lifecycle state.</span></span> <span data-ttu-id="69fbd-130">如果日记帐过帐期间出错，将显示一条消息，并取消工作订单生命周期状态的更新。</span><span class="sxs-lookup"><span data-stu-id="69fbd-130">If an error occurs during journal posting, a message is shown, and the update of the work order lifecycle state is canceled.</span></span> <span data-ttu-id="69fbd-131">若要查看工作订单的日记帐行，请选择**资产管理** \> **常用** \> **工作订单** \> **所有工作订单**、**有效工作订单**或**我的有效工作订单**，在列表中选择工作订单，然后选择**日记帐**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-131">To view the journal lines for a work order, select **Asset management** \> **Common** \> **Work orders** \> **All work orders**, **Active work orders**, or **My active work orders**, select the work order in the list, and then select **Journals**.</span></span> <span data-ttu-id="69fbd-132">特定生命周期状态时对工作订单日记帐自动过帐的此项设置与在**工作订单日记帐**页中选择**日记帐过帐**时相同。</span><span class="sxs-lookup"><span data-stu-id="69fbd-132">This setup of automatic work order journal posting at a specific lifecycle state is the same as when you select **Post journals** on the **Work order journals** page.</span></span><p><span data-ttu-id="69fbd-133">**注意：** 如果将此选项设置为**是**，并且未设置任何审核工作流，将自动过帐日记帐。</span><span class="sxs-lookup"><span data-stu-id="69fbd-133">**Note:** If you set this option to **Yes**, journals are automatically posted if no approval workflow has been set up.</span></span> <span data-ttu-id="69fbd-134">如果公司使用在**日记帐审核**页（**项目管理与核算** \> **设置** \> **日记帐** \> **日记帐审核**）中配置的日记帐审核设置，经理或员工必须验证并过帐消耗登记。</span><span class="sxs-lookup"><span data-stu-id="69fbd-134">If your company uses the journal approval setup that is configured on the **Journal approval** page (**Project management and accounting** \> **Setup** \> **Journals** \> **Journal approval**), a manager or clerk must validate and post consumption registrations.</span></span></p> |
| <span data-ttu-id="69fbd-135">处理维护清单</span><span class="sxs-lookup"><span data-stu-id="69fbd-135">Process maintenance checklist</span></span> | <span data-ttu-id="69fbd-136">如果在工作订单更新为此生命周期状态时，应该处理所有附加的维护清单，请将此选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-136">Set this option to **Yes** if all attached maintenance checklists should be processed when a work order is updated to this lifecycle state.</span></span> <span data-ttu-id="69fbd-137">在此项处理期间，将过帐在维护清单中创建的所有计数器登记，并评估整个维护清单的结果。</span><span class="sxs-lookup"><span data-stu-id="69fbd-137">As part of this processing, any counter registrations that were made on a maintenance checklist are posted, and the result of the whole maintenance checklist is evaluated.</span></span> <span data-ttu-id="69fbd-138">将评估结果为**通过**和**失败**的维护清单行，并且如果至少一个行失败，将在资产管理中把整个维护清单标记为**失败**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-138">Maintenance checklist lines that have **Pass** and **Fail** results are evaluated, and if at least one line fails, the whole maintenance checklist is marked as **Failed** in Asset Management.</span></span> |
| <span data-ttu-id="69fbd-139">就绪</span><span class="sxs-lookup"><span data-stu-id="69fbd-139">Ready</span></span>                         | <span data-ttu-id="69fbd-140">如果在将工作订单更新为此生命周期状态时，应该将对该工作订单创建的所有工作订单作业的工作订单作业计划状态自动更新为**就像**，请将此选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-140">Set this option to **Yes** if the work order job schedule status for all work order jobs that are created on a work order should automatically be updated to **Ready** when the work order is updated to this lifecycle state.</span></span> |
| <span data-ttu-id="69fbd-141">开始日期</span><span class="sxs-lookup"><span data-stu-id="69fbd-141">Start</span></span>                         | <span data-ttu-id="69fbd-142">如果在将工作订单更新为此生命周期状态时，应该将对该工作订单创建的所有工作订单作业的工作订单作业计划状态自动更新为**已开始**，请将此选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-142">Set this option to **Yes** if the work order job schedule status for all work order jobs that are created on a work order should automatically be updated to **Started** when the work order is updated to this lifecycle state.</span></span> |
| <span data-ttu-id="69fbd-143">结束日期</span><span class="sxs-lookup"><span data-stu-id="69fbd-143">End</span></span>                           | <span data-ttu-id="69fbd-144">如果在将工作订单更新为此生命周期状态时，应该将对该工作订单创建的所有工作订单作业的工作订单作业计划状态自动更新为**已结束**，请将此选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-144">Set this option to **Yes** if the work order job schedule status for all work order jobs that are created on a work order should automatically be updated to **Ended** when the work order is updated to this lifecycle state.</span></span> |
| <span data-ttu-id="69fbd-145">删除计划行</span><span class="sxs-lookup"><span data-stu-id="69fbd-145">Delete schedule lines</span></span>         | <span data-ttu-id="69fbd-146">如果在将工作订单更新为此生命周期状态时，应该删除对在已安排的工作订单创建的所有工作订单作业进行的安排，请将此选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-146">Set this option to **Yes** if scheduling on all work order jobs that are created on a work order that has already been scheduled should be deleted when the work order is updated to this lifecycle state.</span></span> <span data-ttu-id="69fbd-147">换句话说，将删除资产、关联维护工人和关联工具的产能预留。</span><span class="sxs-lookup"><span data-stu-id="69fbd-147">In other words, capacity reservations on the asset, the related maintenance worker, and related tools will be deleted.</span></span> <span data-ttu-id="69fbd-148">例如，对名称为**估计**的工作订单生命周期状态将此选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-148">For example, you set this option to **Yes** on a work order lifecycle state that is named **Estimated**.</span></span> <span data-ttu-id="69fbd-149">然后，如果在因为需要重新安排时将工作订单回滚到了此生命周期状态，则可删除对该工作订单的安排。</span><span class="sxs-lookup"><span data-stu-id="69fbd-149">Then, when a work order is rolled back to this lifecycle state because rescheduling is required, scheduling can be deleted on that work order.</span></span> |

## <a name="set-up-project-stages-and-work-order-lifecycle-states"></a><span data-ttu-id="69fbd-150">设置项目阶段和工作订单生命周期状态</span><span class="sxs-lookup"><span data-stu-id="69fbd-150">Set up project stages and work order lifecycle states</span></span>

1. <span data-ttu-id="69fbd-151">选择**项目管理与核算** \> **设置** \> **项目管理与核算参数**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-151">Select **Project management and accounting** \> **Setup** \> **Project management and accounting parameters**.</span></span>
2. <span data-ttu-id="69fbd-152">在**项目阶段**选项卡上，对于要使用的每个阶段，选中您的工作订单需要的每个项目类型的复选框。</span><span class="sxs-lookup"><span data-stu-id="69fbd-152">On the **Project stage** tab, for each stage that you want to use, select the check box for every project type that is required for your work orders.</span></span> <span data-ttu-id="69fbd-153">这些项目类型定义有关允许的财务任务的规则。</span><span class="sxs-lookup"><span data-stu-id="69fbd-153">The project types define rules about the financial tasks that are allowed.</span></span> <span data-ttu-id="69fbd-154">财务任务示例包括创建预测，创建估计和创建期初余额。</span><span class="sxs-lookup"><span data-stu-id="69fbd-154">Examples of financial tasks include creating a forecast, creating estimates, and creating beginning balances.</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="69fbd-155">如果不为项目类型选择项目阶段，但是为工作订单生命周期状态使用项目阶段，则不会按照适当方式更新工作订单项目。</span><span class="sxs-lookup"><span data-stu-id="69fbd-155">If a project stage isn't selected for a project type, but the project stage is used for a work order lifecycle state, the work order projects won't be updated in the appropriate manner.</span></span>

3. <span data-ttu-id="69fbd-156">关闭**项目管理与核算参数**页。</span><span class="sxs-lookup"><span data-stu-id="69fbd-156">Close the **Project management and accounting parameters** page.</span></span>
4. <span data-ttu-id="69fbd-157">选择**资产管理** \> **设置** \> **工作订单** \> **生命周期状态**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-157">Select **Asset management** \> **Setup** \> **Work orders** \> **Lifecycle states**.</span></span>
5. <span data-ttu-id="69fbd-158">选择**新建**以创建新工作订单生命周期状态。</span><span class="sxs-lookup"><span data-stu-id="69fbd-158">Select **New** to create a work order lifecycle state.</span></span>
6. <span data-ttu-id="69fbd-159">在**生命周期状态**字段中，输入生命周期状态的 ID。</span><span class="sxs-lookup"><span data-stu-id="69fbd-159">In the **Lifecycle state** field, enter an ID for the lifecycle state.</span></span>
7. <span data-ttu-id="69fbd-160">在**名称**字段中输入名称。</span><span class="sxs-lookup"><span data-stu-id="69fbd-160">In the **Name** field, enter a name.</span></span>

    <span data-ttu-id="69fbd-161">**详细信息**快速选项卡上的**生命周期模型**字段显示使用此生命周期状态的工作订单生命周期模型的数量。</span><span class="sxs-lookup"><span data-stu-id="69fbd-161">On the **Details** FastTab, the **Lifecycle models** field shows the number of work order lifecycle models that use this lifecycle state.</span></span>

8. <span data-ttu-id="69fbd-162">在**常规**快速选项卡上的**工作订单**部分中，通过将相关选项设置为**是**，选择应该可用于此生命周期状态的功能。</span><span class="sxs-lookup"><span data-stu-id="69fbd-162">On the **General** FastTab, in the **Work order** section, select the functions that should be available for this lifecycle state by setting the relevant options to **Yes**.</span></span> <span data-ttu-id="69fbd-163">有关这些选项的说明，请参见本主题前文的表。</span><span class="sxs-lookup"><span data-stu-id="69fbd-163">For descriptions of the options, see the table earlier in this topic.</span></span>
9. <span data-ttu-id="69fbd-164">在**项目**部分的**阶段**字段中，选择应该与此生命周期状态关联的项目阶段。</span><span class="sxs-lookup"><span data-stu-id="69fbd-164">In the **Project** section, in the **Stage** field, select the project stage that should be related to this lifecycle state.</span></span>
10. <span data-ttu-id="69fbd-165">如果在工作订单处于此生命周期状态时，应该自动关闭与每个工作订单作业关联的项目活动，请将**项目**部分中的**关闭活动**选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-165">In the **Project** section, set the **Close activities** option to **Yes** if project activities that are related to each work order job should be automatically closed when the work order is in this lifecycle state.</span></span>

    > [!NOTE]
    > <span data-ttu-id="69fbd-166">若要查找与工作订单作业关联的项目活动的数量，请选择**资产管理** \> **常用** \> **工作订单** \> **所有工作订单**、**有效工作订单**或**我的有效工作订单**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-166">To find the number of the project activity that is related to a work order job, select **Asset management** \> **Common** \> **Work orders** \> **All work orders**, **Active work orders**, or **My active work orders**.</span></span> <span data-ttu-id="69fbd-167">打开工作订单，然后选择工作订单作业。</span><span class="sxs-lookup"><span data-stu-id="69fbd-167">Open the work order, and then select the work order job.</span></span> <span data-ttu-id="69fbd-168">将在**行详细信息**快速选项卡的**常规**选项卡上**项目**部分中的**活动编号**字段中显示活动编号。</span><span class="sxs-lookup"><span data-stu-id="69fbd-168">The activity number is shown in the **Activity number** field in the **Project** section on the **General** tab of the **Line details** FastTab.</span></span>

11. <span data-ttu-id="69fbd-169">如果在工作订单处于此生命周期状态时，应该将工作订单项目预测自动复制到工作订单日记帐，请将**预测**部分中的**复制工时预测**、**复制物料预测**和/或**复制费用预测**选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-169">In the **Forecast** section, set the **Copy hour forecast**, **Copy item forecast**, and/or **Copy expense forecast** option to **Yes** if work order project forecasts should automatically be copied to work order journals when the work order is in this lifecycle state.</span></span>
12. <span data-ttu-id="69fbd-170">如果在工作订单处于此生命周期状态时，应该更新工作订单作业的计划状态，请将**激化**部分中的一个选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-170">In the **Schedule** section, set one of the options to **Yes** if the schedule status for work order jobs should be updated when the work order is in this lifecycle state.</span></span> <span data-ttu-id="69fbd-171">有关**就绪**、**开始**、**结束**和**删除计划行**选项的说明，请参见本主题前面的表。</span><span class="sxs-lookup"><span data-stu-id="69fbd-171">For descriptions of the **Ready**, **Start**, **End**, and **Delete schedule lines** options, see the table earlier in this topic.</span></span>

    > [!NOTE]
    > <span data-ttu-id="69fbd-172">若要查看与工作订单作业关联的计划行，请选择**资产管理** \> **常用** \> **工作订单** \> **所有工作订单**、**有效工作订单**或**我的有效工作订单**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-172">To view schedule lines that are related to work order jobs, select **Asset management** \> **Common** \> **Work orders** \> **All work orders**, **Active work orders**, or **My active work orders**.</span></span> <span data-ttu-id="69fbd-173">打开工作订单，在**工作订单作业**快速选项卡上选择工作订单作业，然后在**行详细信息**快速选项卡上查看相关信息。</span><span class="sxs-lookup"><span data-stu-id="69fbd-173">Open the work order, select the work order job on the **Work order jobs** FastTab, and view related information on the **Line details** FastTab.</span></span> <span data-ttu-id="69fbd-174">**计划**选项卡上的**状态**字段显示工作订单作业的状态。</span><span class="sxs-lookup"><span data-stu-id="69fbd-174">The **Status** field on the **Schedule** tab shows the status of the work order job.</span></span> <span data-ttu-id="69fbd-175">可将**状态**字段设置为以下值：**已计划**、**就绪**、**已开始**、**已停止**和**已结束**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-175">The **Status** field can be set to the following values: **Scheduled**, **Ready**, **Started**, **Stopped**, and **Ended**.</span></span>

13. <span data-ttu-id="69fbd-176">在**维护请求**部分的**生命周期状态**字段中，选择应该将关联的维护请求更新到的维护请求生命周期状态。</span><span class="sxs-lookup"><span data-stu-id="69fbd-176">In the **Maintenance requests** section, in the **Lifecycle state** field, select the maintenance request lifecycle state that related maintenance requests should be updated to.</span></span> <span data-ttu-id="69fbd-177">将自动进行此项更新。</span><span class="sxs-lookup"><span data-stu-id="69fbd-177">This update occurs automatically.</span></span> <span data-ttu-id="69fbd-178">仅当在用于维护请求的维护请求生命周期模型中选择了维护请求生命周期状态，才能执行此操作。</span><span class="sxs-lookup"><span data-stu-id="69fbd-178">It can be done only if the maintenance request lifecycle state is selected in the maintenance request lifecycle model that is used for the maintenance request.</span></span>
14. <span data-ttu-id="69fbd-179">如果在工作订单更新为此生命周期状态时，应该在**资产 BOM** 页中自动更新工作订单中使用的所有物料，请将**资产**部分中的**更新资产BOM** 选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-179">In the **Asset** section, set the **Update asset BOM** option to **Yes** if all items that are used on a work order should automatically be updated on the **Asset BOM** page when the work order is updated to this lifecycle state.</span></span> <span data-ttu-id="69fbd-180">如果在工作订单生命周期状态将工作订单定义为已完成或已结束之类情况下，此设置可能有关。</span><span class="sxs-lookup"><span data-stu-id="69fbd-180">This setting might be relevant if, for example, the work order lifecycle state defines the work order as completed or ended.</span></span>
15. <span data-ttu-id="69fbd-181">如果应该从工作订单池自动删除此生命周期状态的工作订单，请将**工作订单池**部分中的**删除池引用**选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-181">In the **Work order pool** section, set the **Delete pool reference** option to **Yes** if work orders that are in this lifecycle state should automatically be deleted from work order pools.</span></span>
16. <span data-ttu-id="69fbd-182">在**验证**快速选项卡上，通过将相关选项设置为**是**，选择此生命周期状态下应该激活的验证类型。</span><span class="sxs-lookup"><span data-stu-id="69fbd-182">On the **Validate** FastTab, select the validation types that should be activated in this lifecycle state by setting the relevant options to **Yes**.</span></span> <span data-ttu-id="69fbd-183">然后在应该选择的每个验证类型的**类型**字段中，选择如果尚未验证与验证类型关联的必填字段时应该显示的消息的类型。</span><span class="sxs-lookup"><span data-stu-id="69fbd-183">Then, in the **Type** field for each validation type that you select, select the type of message that should be shown if mandatory fields that are related to the validation type haven't been validated.</span></span> <span data-ttu-id="69fbd-184">如果选择**错误**，则更新工作订单的关联必填字段之前，将取消工作订单生命周期状态的更新。</span><span class="sxs-lookup"><span data-stu-id="69fbd-184">If you select **Error**, the update of the work order lifecycle state is canceled until the related mandatory fields have been updated on the work order.</span></span>

    - <span data-ttu-id="69fbd-185">将把**维护停机时间**、**维护清单**、**故障特征**、**故障成因**和**故障补救措施**选项与**工作订单类型**页（**资产管理** \> **设置** \> **工作订单** \> **工作订单类型**）页的**必需**部分中的选项关联。</span><span class="sxs-lookup"><span data-stu-id="69fbd-185">The **Maintenance downtime**, **Maintenance checklist**, **Fault symptom**, **Fault cause**, and **Fault remedy** options are related to the options in the **Mandatory** section on the **Work order types** page (**Asset management** \> **Setup** \> **Work orders** \> **Work order types**).</span></span> <span data-ttu-id="69fbd-186">若要激活这些验证，还必须将用于工作订单的工作订单类型的关联选项设置为**是**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-186">To activate these validations, the related options must also be set to **Yes** on the work order type that is used for the work order.</span></span>
    - <span data-ttu-id="69fbd-187">如果工作订单更新到的生命周期状态的**维护清单**选项设置为**是**，将执行验证以验证标记为**必需**的维护清单行是否登记为**已检查**或**不适用**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-187">If the **Maintenance checklist** option is set to **Yes** for the lifecycle state that a work order is updated to, validation is done to verify that maintenance checklist lines that are marked as **Mandatory** have been registered as either **Checked** or **Not applicable**.</span></span> <span data-ttu-id="69fbd-188">如果对必需行未执行其中的任何一种登记，则在将工作订单更新为此生命周期状态时，将显示参考、错误或警告消息。</span><span class="sxs-lookup"><span data-stu-id="69fbd-188">If neither of those registrations has been made on the mandatory lines, an informational, error, or warning message is shown when the work order is updated to this lifecycle state.</span></span>
    - <span data-ttu-id="69fbd-189">如果工作订单更新到的生命周期状态的**承诺成本**选项设置为**是**，将计算每个工作订单作业的承诺成本总额（即法人承诺支付的费用总额）。</span><span class="sxs-lookup"><span data-stu-id="69fbd-189">If the **Committed cost** option is set to **Yes** for the lifecycle state that a work order is updated to, total amount of committed costs (that is, the total amount of expenses that the legal entity has committed to pay) are calculated for each work order job.</span></span> <span data-ttu-id="69fbd-190">如果承诺成本金额超过 0（零），将显示一条消息。</span><span class="sxs-lookup"><span data-stu-id="69fbd-190">A message is shown if the committed cost amount is more than 0 (zero).</span></span> <span data-ttu-id="69fbd-191">在**项目管理与核算参数**页（**项目管理与核算参数** \> **设置** \> **项目管理与核算参数**）的**成本控制**选项卡上**成本承诺**快速选项卡中选择要包含的成本承诺类型。</span><span class="sxs-lookup"><span data-stu-id="69fbd-191">You select the types of cost commitment that are included on the **Cost commitments** FastTab on the **Cost control** tab of the **Project management and accounting parameters** page (**Project management and accounting** \> **Setup** \> **Project management and accounting parameters**).</span></span>
    - <span data-ttu-id="69fbd-192">如果工作订单要更新为的生命周期状态的**维护停机时间**选项设置为**是**，将验证与工作订单关联的资产的维护停机时间。</span><span class="sxs-lookup"><span data-stu-id="69fbd-192">If the **Maintenance downtime** option is set to **Yes** for the lifecycle state that a work order is updated to, maintenance downtime validation is done on the asset that is related to the work order.</span></span> <span data-ttu-id="69fbd-193">如果已创建了维护停机时间登记，但是没有**已结束**的登记，则在工作订单更新为此生命周期状态时，将显示一条消息。</span><span class="sxs-lookup"><span data-stu-id="69fbd-193">If a maintenance downtime registration has been made, but there is no **Ended** registration, a message is shown when the work order is updated to this lifecycle state.</span></span>
    - <span data-ttu-id="69fbd-194">如果标准项目设置中不包含资产管理设置所需全部阶段，则可在**项目管理与核算参数**页的**项目阶段**选项卡上设置用户定义的项目阶段。</span><span class="sxs-lookup"><span data-stu-id="69fbd-194">If the standard project setup doesn't include all the stages that you require for your Asset Management setup, you can set up user-defined project stages on the **Project stage** tab of the **Project management and accounting parameters** page.</span></span> <span data-ttu-id="69fbd-195">下图显示**项目管理与核算参数**页上的**项目阶段**选项卡。</span><span class="sxs-lookup"><span data-stu-id="69fbd-195">The following illustration shows the **Project stage** tab on the **Project management and accounting parameters** page.</span></span>

    ![图 2](media/10-setup-for-work-orders.png)

> [!NOTE]
> <span data-ttu-id="69fbd-197">如果将工作订单更新为的生命周期状态无效，将自动删除与该工作订单关联，但尚未过帐的日记帐。</span><span class="sxs-lookup"><span data-stu-id="69fbd-197">If the lifecycle state that you update a work order to is inactive, journals that are related to the work order but that haven't yet been posted are automatically deleted.</span></span> <span data-ttu-id="69fbd-198">此行为有助于确保自动清理未使用的数据。</span><span class="sxs-lookup"><span data-stu-id="69fbd-198">This behavior helps guarantee automatic cleanup of unused data.</span></span> <span data-ttu-id="69fbd-199">（如果在**工作订单生命周期状态**页**常规**快速选项卡上将某个生命周期状态的**有效**选项设置为**否**，则该生命周期状态无效。）</span><span class="sxs-lookup"><span data-stu-id="69fbd-199">(A lifecycle state is inactive if the **Active** option for it is set to **No** on the **General** FastTab of the **Work order lifecycle state** page.)</span></span>
>
> <span data-ttu-id="69fbd-200">但是，如果手动将工作订单设置为无效，将**不**自动删除与该工作订单关联，但尚未过帐的日记帐。</span><span class="sxs-lookup"><span data-stu-id="69fbd-200">However, if you manually set a work order so that it's inactive, journals that are related to the work order but that haven't yet been posted are **not** automatically deleted.</span></span> <span data-ttu-id="69fbd-201">（若要手动停用工作订单，请选择**资产管理** \> **常用** \> **工作订单** \> **所有工作订单**或**有效工作订单**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-201">(To manually inactivate a work order, select **Asset management** \> **Common** \> **Work orders** \> **All work orders** or **Active work orders**.</span></span> <span data-ttu-id="69fbd-202">打开工作订单，然后切换到**标题**视图。</span><span class="sxs-lookup"><span data-stu-id="69fbd-202">Open the work order, and switch to the **Header** view.</span></span> <span data-ttu-id="69fbd-203">在**常规**快速选项卡上，选择**编辑**，然后将**有效**选项设置为**否**。）</span><span class="sxs-lookup"><span data-stu-id="69fbd-203">On the **General** FastTab, select **Edit**, and then set the **Active** option to **No**.)</span></span>

## <a name="relations-among-work-order-lifecycle-models-work-order-types-and-work-order-lifecycle-states"></a><span data-ttu-id="69fbd-204">工作订单生命周期模型、工作订单类型和工作订单生命周期状态之间的关联</span><span class="sxs-lookup"><span data-stu-id="69fbd-204">Relations among work order lifecycle models, work order types, and work order lifecycle states</span></span>

<span data-ttu-id="69fbd-205">生命周期模型引用工作流，并按顺序在生命周期模型中选择生命周期状态。</span><span class="sxs-lookup"><span data-stu-id="69fbd-205">Lifecycle models refer to workflows, and lifecycle states are selected in a lifecycle model in sequential order.</span></span> <span data-ttu-id="69fbd-206">将为工作订单类型设置生命周期模型。</span><span class="sxs-lookup"><span data-stu-id="69fbd-206">Lifecycle models are set up on work order types.</span></span> <span data-ttu-id="69fbd-207">工作订单类型决定工作流和工作流程的规模或范围。</span><span class="sxs-lookup"><span data-stu-id="69fbd-207">Work order types determine the size or extent of workflows and work processes.</span></span> <span data-ttu-id="69fbd-208">例如，可以将**维护**（这是标准工作订单类型）与具有大量生命周期状态的工作订单生命周期模型关联。</span><span class="sxs-lookup"><span data-stu-id="69fbd-208">For example, **Maintenance**, which is a standard work order type, might be related to a work order lifecycle model that has many lifecycle states.</span></span> <span data-ttu-id="69fbd-209">相比之下，您可能有一个**纠正**工作订单类型用于尚未安排的工作订单，或用于因为情况紧急而在创建工作订单之前即已完成了作业的工作订单。</span><span class="sxs-lookup"><span data-stu-id="69fbd-209">By contrast, you might have a **Corrective** work order type that is used for work orders that haven't been scheduled, or for work orders where the job is completed before the work order is made because of an urgent situation.</span></span> <span data-ttu-id="69fbd-210">可将此工作订单类型与只有少量生命周期状态的工作订单生命周期模型关联。</span><span class="sxs-lookup"><span data-stu-id="69fbd-210">This work order type might be related to a work order lifecycle model that has only a few lifecycle states.</span></span>

<span data-ttu-id="69fbd-211">使用这些类型的原因是，为工作订单或资产之类定义了类型时，将自动定义关联的工作流程（即生命周期状态）。</span><span class="sxs-lookup"><span data-stu-id="69fbd-211">The reason for using types is that when a type is defined on, for example, a work order or an asset, the related work processes (lifecycle states) are automatically defined.</span></span> <span data-ttu-id="69fbd-212">有关如何设置工作订单类型的详细信息，请参阅[工作订单类型](../setup-for-work-orders/work-order-types.md)。</span><span class="sxs-lookup"><span data-stu-id="69fbd-212">For more information about how to set up work order types, see [Work order types](../setup-for-work-orders/work-order-types.md).</span></span>

> [!NOTE]
> <span data-ttu-id="69fbd-213">除了工作订单，生命周期状态、生命周期模型和类型还适用于功能位置、资产和维护请求。</span><span class="sxs-lookup"><span data-stu-id="69fbd-213">Lifecycle states, lifecycle models, and types apply to functional locations, assets, and maintenance requests, in addition to work orders.</span></span>

<span data-ttu-id="69fbd-214">下图显示工作订单类型、生命周期模型和生命周期状态之间的关联。</span><span class="sxs-lookup"><span data-stu-id="69fbd-214">The following illustration shows the relation between work order types, lifecycle models, and lifecycle states.</span></span>

![图 3](media/11-setup-for-work-orders.png)

## <a name="work-order-lifecycle-models"></a><span data-ttu-id="69fbd-216">工作订单生命周期模型</span><span class="sxs-lookup"><span data-stu-id="69fbd-216">Work order lifecycle models</span></span>

<span data-ttu-id="69fbd-217">创建了工作订单所需工作订单生命周期状态之后，可以将其拆分为工作订单生命周期模型。</span><span class="sxs-lookup"><span data-stu-id="69fbd-217">After you've created the work order lifecycle states that are required for your work orders, they can be divided into work order lifecycle models.</span></span> <span data-ttu-id="69fbd-218">至少可以创建一个标准生命周期模型。</span><span class="sxs-lookup"><span data-stu-id="69fbd-218">At a minimum, you should create one standard lifecycle model.</span></span>

1. <span data-ttu-id="69fbd-219">选择**资产管理** \> **设置** \> **工作订单** \> **生命周期模型**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-219">Select **Asset management** \> **Setup** \> **Work orders** \> **Lifecycle models**.</span></span>
2. <span data-ttu-id="69fbd-220">选择**新建**以创建新工作订单生命周期模型。</span><span class="sxs-lookup"><span data-stu-id="69fbd-220">Select **New** to create a work order lifecycle model.</span></span>
3. <span data-ttu-id="69fbd-221">在**生命周期模型**字段中，输入生命周期模型的 ID。</span><span class="sxs-lookup"><span data-stu-id="69fbd-221">In the **Lifecycle model** field, enter an ID for the lifecycle model.</span></span>
4. <span data-ttu-id="69fbd-222">在**名称**字段中输入名称。</span><span class="sxs-lookup"><span data-stu-id="69fbd-222">In the **Name** field, enter a name.</span></span>

    <span data-ttu-id="69fbd-223">**详细信息**快速选项卡上的**生命周期状态**字段显示此生命周期模型中选择的生命周期状态的数量。</span><span class="sxs-lookup"><span data-stu-id="69fbd-223">On the **Details** FastTab, the **Lifecycle states** field shows the number of lifecycle states that are selected in this lifecycle model.</span></span> <span data-ttu-id="69fbd-224">**工作订单类型**字段显示使用此生命周期模型的工作订单类型的数量。</span><span class="sxs-lookup"><span data-stu-id="69fbd-224">The **Work order types** field shows the number of work order types that use this lifecycle model.</span></span>

5. <span data-ttu-id="69fbd-225">在**生命周期状态**快速选项卡上，选择生命周期模型中应包含的生命周期状态。</span><span class="sxs-lookup"><span data-stu-id="69fbd-225">On the **Lifecycle states** FastTab, select the lifecycle states that should be included in the lifecycle model:</span></span>

    - <span data-ttu-id="69fbd-226">若要在生命周期模型中包含生命周期状态，请在**其余生命周期状态**部分中选择该生命周期状态，然后选择向右箭头按钮 ![向右箭头](media/12-setup-for-work-orders.png) 将其移到**所选生命周期状态**部分。</span><span class="sxs-lookup"><span data-stu-id="69fbd-226">To include a lifecycle state in the lifecycle model, select it in the **Lifecycle states remaining** section, and then select the right arrow button ![Right arrow](media/12-setup-for-work-orders.png) to move it to the **Lifecycle states selected** section.</span></span>
    - <span data-ttu-id="69fbd-227">若要在生命周期模型中包含所有可用生命周期状态，请选择**选择所有可用阶段**按钮 ![选择所有可用阶段](media/13-setup-for-work-orders.png)。</span><span class="sxs-lookup"><span data-stu-id="69fbd-227">To include all the available lifecycle states in the lifecycle model, select the **Select all available stages** button ![Select all available stages](media/13-setup-for-work-orders.png).</span></span> <span data-ttu-id="69fbd-228">将把所有生命周期状态移到**所选生命周期状态**部分。</span><span class="sxs-lookup"><span data-stu-id="69fbd-228">All lifecycle states are moved to the **Lifecycle states selected** section.</span></span>
    - <span data-ttu-id="69fbd-229">若要从生命周期模型中删除生命周期状态，请在**所选生命周期状态**部分中选择该生命周期状态，然后选择向左箭头按钮 ![向左箭头](media/14-setup-for-work-orders.png) 将其移到**其余生命周期状态**部分。</span><span class="sxs-lookup"><span data-stu-id="69fbd-229">To remove a lifecycle state from the lifecycle model, select it in the **Lifecycle states selected** section, and then select the left arrow button ![Left arrow](media/14-setup-for-work-orders.png) to move it to the **Lifecycle states remaining** section.</span></span>

6. <span data-ttu-id="69fbd-230">要定义可采用所选生命周期状态的生命周期状态，选择**生命周期状态更新**。</span><span class="sxs-lookup"><span data-stu-id="69fbd-230">Select **Lifecycle state updates** to define the lifecycle states that can follow a selected lifecycle state.</span></span>
7. <span data-ttu-id="69fbd-231">无论工作订单的上一个生命周期状态是什么，均在**更新**快速选项卡上的**计划的状态**字段中选择始终应该为已经为其完成了工作订单安排的工作订单选择的生命周期状态。</span><span class="sxs-lookup"><span data-stu-id="69fbd-231">On the **Updates** FastTab, in the **Scheduled state** field, select the lifecycle state that should always be selected for a work order that you've completed work order scheduling for, regardless of the previous lifecycle state of the work order.</span></span>
8. <span data-ttu-id="69fbd-232">在**未计划的生命周期状态**字段中，选择在删除了工作订单安排时，始终应该为工作订单选择的生命周期状态。</span><span class="sxs-lookup"><span data-stu-id="69fbd-232">In the **Unscheduled lifecycle state** field, select the lifecycle state that should always be selected for a work order if work order scheduling is deleted.</span></span>
9. <span data-ttu-id="69fbd-233">保存工作订单生命周期模型。</span><span class="sxs-lookup"><span data-stu-id="69fbd-233">Save the work order lifecycle model.</span></span>

![图 4](media/15-setup-for-work-orders.png)
