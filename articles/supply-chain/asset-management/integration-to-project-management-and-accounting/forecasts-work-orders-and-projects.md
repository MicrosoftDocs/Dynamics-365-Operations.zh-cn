---
title: 预测、工作订单和项目
description: 本文介绍预测和工作订单与资产管理中的项目管理与核算模块的集成。
author: johanhoffmann
ms.date: 08/29/2019
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: EntAssetWorkOrderProjCostInfoPart
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2019-08-31
ms.dyn365.ops.version: 10.0.5
ms.openlocfilehash: 80f0380d50a0c050242846c0c3e70bc1a0bd6bf5
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/03/2022
ms.locfileid: "8880442"
---
# <a name="forecasts-work-orders-and-projects"></a>预测、工作订单和项目

[!include [banner](../../includes/banner.md)]

 

在资产管理中，与 **项目管理与核算** 模块集成有助于优化成本控制，因此用户可以跟踪维护作业类型预测和工作订单作业的成本。

跟踪维护作业类型预测需要进行两项设置：

1. 在 **资产管理** > **设置** > **资产管理参数** 中选择一个项目，然后在 **资产** 选项卡 > **项目** 快速选项卡上的 **维护预测项目** 字段中选择一个项目。

2. 创建维护作业类型默认行时，将在 **维护作业类型默认** 页（**资产管理** > **设置** > **作业** > **维护作业类型默认**）上自动为该行创建一个活动编号。

维护作业类型预测有两个用途： 

- 可在 **项目管理与核算** 模块中跟踪维护作业类型预测的成本。 
- 在为工作订单作业选择维护作业类型时，将把预测自动传输到工作订单作业项目。

若要跟踪工作订单作业的成本，首先必须设置工作订单项目。 有关详细信息，请参阅[工作订单项目设置](../setup-for-work-orders/work-order-project-setup.md)。

## <a name="work-order-job-projects"></a>工作订单作业项目

为工作订单创建工作订单作业时，将通过在 **工作订单项目** 页（**资产管理** > **设置** > **工作订单** > **项目设置**）中为工作订单设置父项目来确定工作订单项目。

工作订单作业项目通过使用以下工作订单信息的组合来创建：

- 工作订单中选择的工作订单类型 
- 与工作订单作业中的资产关联的功能位置
- 与工作订单作业中的资产关联的资产类型  
- 为工作订单设置的预计开始时间和结束时间  

工作订单中可能不包含这些信息中的一部分。 因此，将通过使用数据的可用组合和选择与工作订单数据对应的项目 ID 来搜索工作订单父项目。

例如，在下图中，**卡车引擎** 资产类型的设置方式导致使用 **卡车引擎** 资产类型创建的每个工作订单作业成为项目 ID 000186 的子项目。

![图 1.](media/01-integration-to-pma.png)

工作订单作业中的项目 ID 和关联的活动编号的用途是在 **项目管理与核算** 模块中跟踪与工作订单作业有关的成本和在其中选择的资产。 （若要查看项目 ID 和活动编号，请选择 **资产管理** > **常用** > **工作订单** > **所有工作订单**，然后选择工作订单。 **行详细信息** 快速选项卡上的 **项目 ID** 字段显示项目 ID，**活动编号** 字段显示活动编号。）有关资产管理中的成本控制的详细信息，请参阅[成本和日期控制](../controlling-and-reporting/cost-and-date-control.md)。

下图显示工作订单项目和关联的项目活动的图形概览。

![图 2.](media/02-integration-to-pma.png)

为工作订单创建新的工作订单作业时，将为该作业自动创建一个工作订单项目。 将把与该工作订单作业关联的资产的财务维度自动传输到该工作订单项目。

为工作订单作业创建的项目活动附加有相关信息。 此信息与维护作业类型、维护作业类型变型和交易有关。 其在如下情况下非常有用：基于工作订单创建采购订单(请参阅 [采购](../work-orders/procurement.md))，或将 **项目管理与核算** 模块用于时间登记。

如果资产已安装到某个功能位置，但是之后又安装到其他功能位置，则为该资产自动更新与新功能位置关联的财务维度。 然后，当您为该资产创建工作订单作业时，该工作订单作业的工作订单项目将自动获取现在与这个资产关联的财务维度。 因此，如果使用功能位置，则始终可以跟踪在任何给定时间安装了资产的功能位置的成本。 自动更新财务维度有助确保可以完全跟踪成本来进行项目控制和报告。

## <a name="work-order-projects-work-order-lifecycle-states-project-stages-and-project-types"></a>工作订单项目、工作订单生命周期状态、项目阶段和项目类型

若要帮助确保对工作订单正确使用工作订单生命周期状态和关联的项目阶段，请注意与 **项目管理与核算** 模块有关的依赖关系：

- 在 **项目管理与核算** 模块中，项目类型的项目阶段是在 **项目管理与核算参数** 页中设置的。  
- 在 **项目管理与核算参数** 页中，使用复选框选择将使用的所有项目类型的相关项目阶段。 下图中为 **时间和材料** 个 **内部** 项目类型已选择了五个阶段（**已创建**、**已估计**、**已计划**、**进行中** 和 **已完成**）。 这五个阶段与内部维护作业和服务维护作业都有关。
- 在 **资产管理** 模块中，项目类型由您在 **工作订单项目设置** 页 > **项目设置** 选项卡（**资产管理** > **设置** > **工作订单** > **项目设置**）中设置的项目组定义。  
- 创建工作订单时，将使用在 **工作订单项目设置** 页中设置的项目组。 创建工作订单时，将为该工作订单自动创建一个工作订单项目。  
- 每个工作订单生命周期状态都必须有一个关联的项目阶段。  
- 必须将与工作订单生命周期状态关联的项目阶段定义为在工作订单项目定义的项目组的有效阶段。 将为工作订单自动创建工作订单项目。
- 创建新的工作订单时，将根据在 **工作订单项目设置** 页中的设置自动分配工作订单项目。  

下图显示工作订单项目组、关联的项目类型、项目阶段和工作订单生命周期状态之间的关联。

![图 3.](media/03-integration-to-pma.png)

![图 4.](media/04-integration-to-pma.png)

![图 5.](media/05-integration-to-pma.png)

有关如何设置工作订单项目的信息，请参阅[工作订单项目设置](../setup-for-work-orders/work-order-project-setup.md)。 有关如何创建工作订单生命周期状态的信息，请参阅[工作订单生命周期状态](../setup-for-work-orders/work-order-lifecycle-states.md)。

下图显示为了实现与 **项目管理与核算** 模块集成而在 **资产管理** 模块中创建的各项目的图形概览。 还显示这些项目关联的工作流程。

![图 6.](media/06-integration-to-pma.png)



[!INCLUDE[footer-include](../../../includes/footer-banner.md)]