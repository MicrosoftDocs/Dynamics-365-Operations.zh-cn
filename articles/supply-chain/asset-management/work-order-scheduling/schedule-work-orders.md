---
title: 计划工作订单
description: 本文介绍如何在资产管理中计划工作订单。
author: johanhoffmann
ms.date: 08/19/2019
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: EntAssetWorkOrderSchdulePreviewPart, EntAssetWorkOrderScheduleExclusively, EntAssetWorkOrderSchduleInfoPart, EntAssetWorkOrderScheduleListPage, EntAssetWorkOrderSchedule, EntAssetWorkOrderScheduleDelete
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2019-08-31
ms.dyn365.ops.version: 10.0.5
ms.openlocfilehash: 6592b94105777525c777950132d5099d1e8abb0e
ms.sourcegitcommit: cfe8fbc202c3eb05d894076fdf99e46704f17365
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/15/2022
ms.locfileid: "9016730"
---
# <a name="schedule-work-orders"></a>计划工作订单

[!include [banner](../../includes/banner.md)]

 

本文介绍如何在资产管理中计划工作订单。 

工作订单的所需工时数的定义方法是预测工时数之和减去过帐工时数。 如果需要更多时间，必须相应调整预测。 在 **资产管理** > **工作订单** > **所有工作订单** 或 **有效工作订单** 中，可以查看或编辑工作订单的预测，方法是在 **工作订单** 选项卡上选择工作订单，然后单击 **预测**。创建工作订单并估计之后，下一步完成工作订单是分配所需维护工人和工具。

只能计划其工作订单生命周期状态允许计划的工作订单。 允许计划是通过 **资产管理** > **设置** > **工作订单** > **生命周期状态** > **常规** 快速选项卡 > **允许计划** 切换按钮设置的。

1. 单击 **资产管理** > **工作订单** > **所有工作订单**。

2. 在列表中选择要计划的工作订单。 例如，可以按 **当前生命周期状态** 为列表排序。

3. 在 **常规** 选项卡上，单击 **计划**。

4. 在 **计划工作订单** 对话框中，可以根据需要添加有关预计开始日期和服务级别的选项。 如果计划流程应该遵守与已经为其他作业安排的资源有关的产能限制，请确保 **资产**、**工具** 和 **工人** 切换按钮设置为“是”。

    [!NOTE]
    如果将 **资产**、**工具** 和 **工人** 切换按钮设置为“否”，将忽略现有预留。 信息日志中将显示重叠工人计划列表；如果需要，可单击消息打开工人并重新进行计划。

5. 若要查看有关计划流程的详细信息，请在 **详细** 切换按钮上选择“是”。 这意味着将在信息日志中显示有关为工作订单和维护工人计算出的分数的详细信息。

6. 单击 **确定** 以启动计划流程。

7. 计划完成后，将通过信息日志显示计划的工作订单数，以及更多详细信息（如果 **详细** 切换按钮设置为“是”）。

>[!NOTE]
>工作订单的计划周期为每个工作订单一个，而不是每个工作订单作业一个。 也可以直接在 **资产管理** > **定期** > **工作订单** > **计划工作订单** 中打开 **计划工作订单** 对话框。 进行选择，然后单击 **确定** 以启动工作订单计划过程。 可以在 **计划工作订单** 对话框 > **在后台运行** 快速选项卡上将工作订单计划设置为批处理作业。

*示例：* 在下图中，**预计的开始日期** 字段中插入的公式将为所有工作订单生成预计开始日期为一周后的工作订单计划。 如果您应持续运行工作订单计划，但是希望确保不重新计划为接下来 5-6 天计划的工作订单，此公式可能非常有用。

![图 1.](media/03-work-order-scheduling.png)

与工作订单关联的工作订单类型可以为一位维护工人设置计划（**资产管理** > **设置** > **工作订单** > **工作订单类型** > **一位维护工人** 切换按钮设置为“是”）。 这意味着，如果在工作订单中使用工作订单类型，**所有工作订单** 详细信息页 > **标题** 视图 > **计划** 快速选项卡上的 **一位维护工人** 切换按钮将自动设置为“是”。 工作订单计划期间，将把为该工作订单创建的所有工作订单作业相继安排给同一个维护工人。 如果需要，可编辑 **所有工作订单** 中 **一位维护工人** 切换按钮上的进行的选择，以便允许为工作订单作业安排多位工人或一位工人。

资产管理中的计划流程包括计划计算中的多个因素：

- 工作订单和维护工人的计算分数。 工作订单和维护工人的分数在 **资产管理参数** 中设置。 
- 检查执行作业所需匹配能力，即技能和证书。 技能和证书是在 **人力资源** 模块（**人力资源** > **工人** > **工人** > 在列表中选择工人 > **工人** 选项卡 > **能力** 部分 > **技能** 和 **证书** 按钮）中对维护工人设置的。 此外，还可以向维护作业类型和维护作业工种添加技能和证书。 有关能力和维护作业类型的详细信息，请参阅[维护作业类型类别和维护工作类型、维护作业类型变型、维护作业贸易和维护清单](../setup-for-work-orders/job-groups-and-job-types-variants-trades-and-checklists.md)。  

## <a name="scores-used-in-work-order-scheduling"></a>工作订单计划中使用的分数

工作订单作业的分数计算基于工作订单的预计开始日期和服务级别。

**开始日期** 计算：对于从预计开始日期开始计算的每个将来日期，将从分数中减去和乘以开始日期分数，以下示例中为“10”。

**关键性** 计算：关键性分数乘以工作订单中的关键性。

**服务级别** 计算：服务级别分数除以工作订单中的服务级别。

在以下示例中，关键性分数为“2”，服务级别分数为“5”和“100”。

**示例 1：**

| 工作订单 ID | 预计的开始日期 | 工作订单关键性 | 工作订单服务级别 | 计算               | 得分      |
|---------------|---------------------|------------------------|--------------------------|---------------------------|------------|
| WO-00010816   | 明天            | 2                      | 20              | (-1 \* 10) + (2 \* 2) + 5 / 20     | \- 5.75    |
| WO-00010817   | 现在开始两天后   | 2                      | 20              | (-2 \* 10) + (2 \* 2) + 5 / 20     | \- 15.75   |
| WO-00010818   | 现在开始两天后   | 3                      | 5               | (-2 \* 10) + (2 \* 3) + 5 / 5      | \- 13      |

将按以下顺序计划工作订单：WO-000108 **16**、WO-000108 **18**、WO-000108 **17**。

**示例 2：**

| 工作订单 ID | 预计的开始日期 | 工作订单关键性 | 工作订单服务级别 | 计算                 | 得分    |
|---------------|---------------------|------------------------|---------------------|----------------------------------|----------|
| WO-00010816   | 明天            | 2                      | 20                  | (-1 \* 10) + (2 \* 2) + 100 / 20 | \- 1     |
| WO-00010817   | 现在开始两天后   | 2                      | 20                  | (-2 \* 10) + (2 \* 2) + 100 / 20 | \- 11    |
| WO-00010818   | 现在开始两天后   | 3                      | 5                   | (-2 \* 10) + (2 \* 3) + 100 / 5  | 6        |

如果将服务级别分数增加到“100”而不是“5”，则计划顺序将为：WO-000108 **18**、WO-000108 **16**、WO-000108 **17**。

与计算哪些维护工人应该处理工作订单有关的评分全部设置为数字，并在计划工作订单期间添加到每个维护工人计算中。 将为工作订单选择分数最高的维护工人。 下面是维护工人分数的简要说明：

| 维护工人分数| 说明 |
|---|---|
| 负责的工作人员 | 如果将维护工人选择为工作订单的负责工人，则加上此分数。 |
| 责任维护工人组 | 如果维护工人是工作订单的负责维护工人组的成员，则加上此分数。 |
| 首选维护工人         | 如果将工人选择为资产的首选维护工人，则加上此分数。 |
| 首选维护工人组   | 如果工人是资产的首选维护工人组的成员，则加上此分数。  |
| 场所  | 如果公司使用功能位置，并且维护工人位于与资产关联的功能位置中，则这些维护工人获得所有分数。 如果资产的功能位置具有父位置，则该功能位置的维护工人获得 1/2 分数。 如果该位置也有父代，则该位置的维护工人获得 1/3 分数。 如果该位置也有父代，则该位置的维护工人获得 1/4 分数，以此类推。 如果公司使用资产位置（我们不建议使用），则使用位置、区域和地域计算位置分数。 如果工人位于与资产关联的位置和区域与地域中，则工人获取所有分数。 如果工人位置仅与位置和区域匹配，则该维护工人的评分为所有分数的 2/3。 如果维护工人位置仅与位置匹配，则该维护工人的评分为所有分数的 1/3。 |
| 工作人员的开始日期  | 对于计划的开始日期比预计开始日期晚的每个日期，将减去此分数。  |

>[!NOTE]
>如果分数设置为“0”，则不计算此分数。 这在不希望计划时包括负责工人之类情况下非常有用。

## <a name="competencies-used-in-work-order-scheduling"></a>工作订单计划中使用的能力

可以对维护作业类型（**资产管理** > **设置** > **作业** > **维护作业类型**）和维护作业工种（**资产管理** > **设置** > **作业** > **维护作业工种**）设置技能和证书要求。 

维护作业类型和维护作业工种是对工作订单作业选择的。 如果已对维护作业类型或维护作业工种选择了技能或证书，并且对工作订单作业使用该维护作业类型或维护作业工种，则只能安排具有匹配技能和证书的维护工人来处理工作订单。

<a name="gantt"></a>

## <a name="work-with-scheduled-work-orders-using-a-gantt-chart"></a>使用甘特图处理计划的工作订单

**计划的工作订单甘特图** 提供了一个图形界面，您可以在其中查看和重新计划工作订单。

要查看和使用甘特图：

1. 转到 **资产管理 > 工作订单 > 计划的工作订单甘特图**。

1. 使用 **设置** 部分的下拉列表和字段来设置要在甘特图中显示的功能位置、时间跨度和时间刻度。

1. 选择 **应用**。

    - 甘特图会更新以显示与您的设置匹配的计划的工作订单。 每个工作订单都由一个蓝色矩形表示。
    - 要重新计划显示的工作订单，请选择它，然后将它拖到适当的新日期和时间。

1. 如果进行了任何更改，请在操作窗格上选择 **保存** 进行保存。


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]