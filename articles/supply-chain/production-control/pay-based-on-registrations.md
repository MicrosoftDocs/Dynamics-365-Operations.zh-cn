---
title: "基于登记付薪"
description: "本主题说明如何基于工作人员登记计算付薪。"
author: johanhoffmann
manager: AnnBe
ms.date: 03/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
ms.search.form: JmgCalcApproveWeekView
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: 1705903
ms.assetid: 427e01b3-4968-4cff-9b85-1717530f72e4
ms.search.region: Global
ms.author: johanho
ms.search.validFrom: 2018-03-20
ms.dyn365.ops.version: AX 8.0.0
ms.translationtype: HT
ms.sourcegitcommit: a8b5a5af5108744406a3d2fb84d7151baea2481b
ms.openlocfilehash: 1ae0f142ebd2252b1df414998c153d32127bc1b7
ms.contentlocale: zh-cn
ms.lasthandoff: 04/13/2018

---

# <a name="pay-based-on-registrations"></a>基于登记付薪

[!include [banner](../includes/banner.md)]

本主题详细说明如何基于工作人员登记计算付薪。 其中包含显示可用于计算的各种设置选项的组合如何影响结果的示例。 这是包括的一些区域：

- 弹性工作时间
- 加班
- 工间休息
- 切换代码
- 付薪项
- 付薪协议
- 考勤管理计算参数
- 缺勤

## <a name="the-use-of-flex-time"></a>使用弹性工作时间

弹性工作时间的期间在“考勤管理”使用的时间模板中设置。 有两个弹性模板类型：**弹性+** 和**弹性-**。 当工作人员在弹性+ 期间内登记时间时，该工作人员的弹性结余增加了工作的工时。 工作人员在弹性+ 期间工作的工时不会得到任何薪酬。 但是，工作人员可以在弹性- 期间休假，获得对其弹性结余的工时的补偿。 因此，弹性期间内的休假被系统视为缺勤。

## <a name="scenarios-based-on-flex-periods"></a>基于弹性期间的场景

所使用的这两种场景都基于表示工作日的弹性模板。 对于这两种场景，付薪根据员工上下班打卡的弹性期间计算。

### <a name="flex-profile-for-one-workday"></a>一个工作日的弹性模板

| 模板类型  | 启动    | 结束日期      | 天     |
|---------------|----------|----------|---------|
| 加班     | 上午 00:00 | 上午 06:00 | 星期一  |
| 弹性+         | 上午 06:00 | 上午 07:00 | 星期一  |
| 上班打卡      | 上午 07:00 | 上午 07:00 | 星期一  |
| 标准时间 | 上午 07:00 | 下午 02:30 | 星期一  |
| 弹性-         | 下午 02:30 | 下午 03:30 | 星期一  |
| 下班打卡     | 下午 03:30 | 下午 03:30 | 星期一  |
| 加班     | 下午 03:30 | 上午 06:00 | 星期二 |

### <a name="scenario-1-a-worker-registers-clock-in-during-a-flex-period-and-clock-out-during-a-flex--period"></a>场景 1：工作人员在弹性+ 期间登记上班打卡，在弹性- 期间下班打卡

工作人员这一天的登记看上去象这样。

| 日记帐登记类型 | 启动    | 结束日期      |
|---------------------------|----------|----------|
| 上班打卡                  | 上午 06:30 | 上午 06:30 |
| 生产作业            | 上午 06:30 | 下午 02:45 |
| 下班打卡                 | 下午 02:45 | 下午 02:45 |

工作人员当天的登记在**审核**页计算并转移以便付薪（**考勤管理** &gt; **审查并批准** &gt; **审核**）。 在登记计算后，计算结果可以在**时间**选项卡查看。 

若要了解此场景，请参阅以下字段。

| 弹性+ | 弹性- | 时间 | 带薪时间 |
|--------|--------|------|----------|
| 0.50   | 0.75   | 8.25 | 8.50     |

#### <a name="calculation-of-flex"></a>弹性+ 的计算

根据弹性模板，上午 06:00 和上午 07:00 之间是弹性+ 期间。 因此，如果工作人员在上午 06:30 打卡，他得到 0.5 小时。 此时间量将添加到该工作人员的弹性科目。

#### <a name="calculation-of-flex-"></a>弹性- 的计算

根据弹性模板，弹性- 期间开始于下午 02:30，结束于下午 03:30。 因此，如果工作人员在下午 02:45 下班打卡，弹性- 期间内剩余的 45 分钟（0.75 小时）被登记为带薪时间，相同的时间量被从该工作人员的弹性科目中扣除。 45 分钟包括在带薪时间内，因为工作人员将被准予支付弹性- 期间内剩余 45 分钟的薪酬。 如果工作人员在弹性- 期间内缺勤，45 分钟将从其弹性科目中扣除。

#### <a name="calculation-of-time"></a>时间的计算

时间被计算为上班打卡和下班打卡之间的时间，即上午 06:30 到下午 14:45，等于 8.25 小时。

#### <a name="calculation-of-pay-time"></a>带薪时间的计算

带薪时间是准予向工作人员付薪的时间期间。 在此场景中，工作人员工作 8.25 小时（**时间**）。 但是，**带薪时间**计算为 8.50 小时，因为该工作人员被准予在下班打卡后的弹性- 期间内付薪。带薪时间等于计划工时数，因为弹性+ 时间将增加到工作人员的弹性科目，而不是带薪时间。 弹性- 期间的缺勤时间按带薪时间补尝，并从工作人员的弹性科目中扣除。

| 时间              | 登记类型 | 带薪时间（工时）      |
|-------------------|-------------------|-----------------------|
| 上午 6:30 - 上午 7:00 | 弹性+             | 0                     |
| 上午 7:00 – 下午 2:45 | 标准时间     | 7.75                  |
| 下午 2:45 – 下午 3:30 | 弹性-             | 0.75（缺勤期间） |
|                   | 合计             | 8.50                  |

### <a name="scenario-2-a-worker-works-during-the-whole-flex--period-and-also-works-overtime"></a>场景 2：工作人员在整个弹性- 期间工作并加班

工作人员这一天的登记看上去象这样。

| 日记帐登记类型 | 启动    | 结束日期      |
|---------------------------|----------|----------|
| 上班打卡                  | 上午 06:30 | 上午 06:30 |
| 生产作业            | 上午 06:30 | 下午 05:00 |
| 下班打卡                 | 下午 05:00 | 下午 05:00 |

在**审核**页上计算日记帐登记后，您可以在**时间**选项卡查看计算结果。若要了解此场景，请参见以下字段。

| 弹性+ | 弹性- | 时间  | 带薪时间 | 带薪加班时间 |
|--------|--------|-------|----------|--------------|
| 0.50   | 0.00   | 1050 | 10.00    | 1.50         |

#### <a name="calculation-of-flex"></a>弹性+ 的计算

根据弹性模板，上午 06:00 和上午 07:00 之间是弹性+ 期间。 因此，如果工作人员在上午 06:30 上班打卡，她的弹性结余将得到 0.5 小时的弹性+ 时间。

#### <a name="calculation-of-flex-"></a>弹性- 的计算

因为该工作人员在弹性- 期间工作，弹性- 不计算。 仅当该工作人员在弹性- 期间缺勤时才计算弹性-。 从付薪角度，如何工作人员在弹性- 期间工作，她将被准予按照为标准时间定义的付薪比率付薪。 如果工作人员在弹性- 期间内缺勤，45 分钟将从其弹性科目中扣除。

#### <a name="calculation-of-time"></a>时间的计算

时间被计算为上午 06:30 上班打卡和下午 05:00 下班打卡之间的时间，或 10.50 小时。

#### <a name="calculation-of-pay-time"></a>带薪时间的计算

在此场景中，工作人员工作 10.50 小时（**时间**）。 但是，**带薪时间**计算为 10.00 小时，因为该工作人员不被准予在弹性+ 期间付薪。

#### <a name="calculation-of-pay-overtime"></a>带薪加班时间的计算

| 时间               | 登记类型 | 带薪时间（工时） |
|--------------------|-------------------|------------------|
| 上午 6:30 - 上午 7:00  | 弹性+             | 0                |
| 上午 7:00 – 下午 2:30  | 标准时间     | 7.50             |
| 下午 2:30 – 下午 3:30  | 弹性-             | 1.00             |
| 下午 3:30 – 下午 05:00 | 加班          | 1.50             |
|                    | 合计             | 10.00            |

### <a name="generation-of-pay-items"></a>付薪项的生成

一天的工作人员登记可以从**审核**页转移。 在转移过程中，付薪项和转移的登记将生成。 付薪项表示带薪时间分成标准时间、加班、带薪工间休息等的细分。

若要打开付薪项列表，请选择**考勤管理** &gt; **审查并批准** &gt; **审核**。 然后选择**查询** &gt; **转移的登记**。

付薪项是工作人员付薪的基础。 您可以生成包括付薪项以及文件到工资系统的转移这些信息的文件。

作为转移过程的一部分，生产和项目活动的时间和成本将转移到时间和成本花费科目的生产和项目日记帐。 转移的登记是生产订单和项目每小时时间和成本价的基础。 您可以通过使用**审核**页上的**查询**菜单打开已转移登记。

例如，对于场景 2，将生成以下付薪项。

| 工资类型     | 付薪类型 | 付薪单位 | 比率  | 总成本 |
|---------------|----------|-----------|-------|------------|
| 标准时间 | 1201     | 10.0      | 10    | 100        |
| 加班      | 1301     | 1.50      | 5     | 7.50       |
|               |          |           | 合计 | 107.50     |

标准时间的付薪项具有 10 小时的付薪单位，包括标准时间、弹性- 时间和加班时间。 标准时间、弹性- 时间和加班时间合并到一个付薪项，因为所有类型均计算为标准时间，基于**计算参数**页的默认参数设置（**考勤管理** &gt; **设置** &gt; **计算参数**）。 加班时间使用额外的 5 比率在标准时间基础上计算。

如果您想要明确区分标准时间和加班时间，以便付薪类型的付薪单位只包含实际花费的标准时间和加班时间，标准时间的付薪单位必须计算为 8.50，加班时间的付薪单位必须计算为 1.50。

若要配置系统以明确区分标准时间和加班时间，您必须从标准时间中排除加班时间。 您还必须更改加班时间付薪类型的设置，以便加班时间的付薪比率覆盖加班时间所花费工时的所有付薪。

### <a name="exclude-overtime-from-the-standard-time"></a>从标准时间中排除加班时间

在**计算参数**页，选择**加班时间**为模板说明类型，并且将**带薪时间**选项设置为**否**，如此处所示。

| 登记说明 | 模板说明类型 | 计算   |     | 支付时间         |     |
|--------------------|----------------------------|---------------|-----|--------------|-----|
| 工作时间       | 加班                   | 标准时间 | 是 | 带薪时间     | 无  |
|                    |                            | 带薪时间      | 是 | 带薪加班时间 | 是 |

在调整计算参数后，以下付薪项将生成。

| 工资类型     | 付薪类型 | 付薪单位 | 比率  | 总成本 |
|---------------|----------|-----------|-------|------------|
| 标准时间 | 1201     | 8.50      | 10    | 85.0       |
| 加班      | 1301     | 1.50      | 15    | 22.50      |
|               |          |           | 合计 | 107.50     |

> [!NOTE]
> 计算参数具有建议的标准设置。 一般来说，当更改这些参数时，应要小心。 若要还原建议的标准设置，请在**计算参数**页，选择**还原值**。

### <a name="allow-a-deviation-from-the-standard-pay-profiles"></a>允许与标准付薪模板的偏差

在**模板**页（**考勤管理** &gt; **设置** &gt; **时间模板** &gt; **模板**），您可以设置包括切换代码和工间休息的模板类型。

### <a name="switch-codes"></a>切换代码

您可以使用切换代码来允许工作人员通过更改不同的模板类型来偏离其模板类型。 例如，您可以允许工作人员从弹性+ 时间更改为加班时间。 工作人员可以在登记时添加切换代码，或者您可以将添加切换代码的任务分配给登记的审核人。

必须将切换代码定义为间接活动类型，切换代码才可以使用。 您随后必须将切换代码添加到要允许模板类型更改的期间的时间模板。 例如，按照以下步骤创建切换代码，以允许弹性+ 期间从上午 06:00 到上午 07:00 更改为加班时间。

1. 创建名为 **OTBCI (在上班打卡前将弹性时间转换为加班时间)** 的切换代码。 选择**考勤管理** &gt; **管理间接活动** &gt; **间接活动**。
2. 在**切换代码**列，将 OTBCI 添加到时间模板的弹性+ 行。
3. 在**附属**列，添加**加班时间**模板类型。

考虑以下表示工作日的弹性模板。

| 模板类型  | 启动    | 结束日期      | 天     |
|---------------|----------|----------|---------|
| 加班     | 上午 00:00 | 上午 06:00 | 星期一  |
| 弹性+         | 上午 06:00 | 上午 07:00 | 星期一  |
| 上班打卡      | 上午 07:00 | 上午 07:00 | 星期一  |
| 标准时间 | 上午 07:00 | 下午 02:30 | 星期一  |
| 弹性-         | 下午 02:30 | 下午 03:30 | 星期一  |
| 下班打卡     | 下午 03:30 | 下午 03:30 | 星期一  |
| 加班     | 下午 03:30 | 上午 06:00 | 星期二 |

这里是工作人员这一天的登记。

| 日记帐登记类型 | 启动    | 结束日期      |
|---------------------------|----------|----------|
| 上班打卡                  | 上午 06:30 | 上午 06:30 |
| 生产作业            | 上午 06:30 | 下午 02:45 |
| 下班打卡                 | 下午 05:00 | 下午 05:00 |

以下付薪项在转移后生成。

| 工资类型     | 付薪类型 | 付薪单位 | 比率  | 总成本 |
|---------------|----------|-----------|-------|------------|
| 标准时间 | 1201     | 8.50      | 10    | 85.0       |
| 加班      | 1305     | 1.50      | 15    | 22.50      |
|               |          |           | 合计 | 107.50     |

在**审核**页，撤消转移，然后使用**切换代码**菜单应用 **OTBCI** 切换代码。 在您第二次转移登记时，以下付薪项将生成。

| 工资类型     | 付薪类型 | 付薪单位 | 比率  | 总成本 |
|---------------|----------|-----------|-------|------------|
| 标准时间 | 1201     | 8.50      | 10    | 80.0       |
| 加班      | 1305     | 2.00      | 15    | 30.0       |
|               |          |           | 合计 | 107.50     |

> [!NOTE]
> 当您应用切换代码时，加班将增加 0.5 小时，从 1.50 变为 2.00。 0.5 小时是登记的弹性+ 时间的转换，从上午 6:30 到上午 07:00 转换为加班时间。

### <a name="breaks"></a>工间休息

工间休息影响工作人员付薪的计算。 工间休息定义为间接活动类型。 它们可定义为**带薪**，允许工间休息添加到工作人员的付薪，或定义为**不带薪**，以阻止工间休息添加到工作人员的付薪。 工间休息还可以定义为**已计划**或**已登记**。

#### <a name="planned-breaks"></a>计划的工间休息

如果公司具有固定工间休息，如固定的午餐时间，此工间休息可以在时间模板中预定义。 在这种情况下，工作人员不必在作业卡页面登记工间休息。 相反，当工作人员的登记在**审核**页计算时，工间休息将自动计入。

#### <a name="registered-breaks"></a>已登记的工间休息

如果公司不使用计划的工间休息，在工作日期间，工作人员可以登记工间休息。 可以使用登记的工间休息，例如，如果工作人员按照没有定义上班和下班打卡时间的弹性时间模板工作。 登记的工间休息为间接活动类型。 工作人员在**作业卡**终端页或**作业卡**设备页登记工间休息。 在这两页，用户可以在预定义的工间休息活动列表中选择工间休息类型。

#### <a name="paid-and-unpaid-breaks"></a>带薪和不带薪工间休息

工间休息活动可以设置为**带薪**或**不带薪**。 带薪工间休息包括在带薪时间的计算中，系统使用在**工间休息**登记类型的付薪协议中定义的付薪类型。

### <a name="example-of-a-planned-break"></a>计划的工间休息示例

考虑以下包括不带薪午餐工间休息的时间模板。

| 模板类型  | 启动    | 结束日期      | 天     |
|---------------|----------|----------|---------|
| 加班     | 上午 00:00 | 上午 06:00 | 星期一  |
| 弹性+         | 上午 06:00 | 上午 07:00 | 星期一  |
| 上班打卡      | 上午 07:00 | 上午 07:00 | 星期一  |
| 标准时间 | 上午 07:00 | 下午 12:00 | 星期一  |
| 休息         | 下午 12:00 | 下午 12:30 | 星期一  |
| 标准时间 | 下午 12:30 | 下午 02:30 | 星期一  |
| 弹性-         | 下午 02:30 | 下午 03:30 | 星期一  |
| 下班打卡     | 下午 03:30 | 下午 03:30 | 星期一  |
| 加班     | 下午 03:30 | 上午 06:00 | 星期二 |

这里是工作人员这一天的登记。

| 日记帐登记类型 | 启动    | 结束日期      |
|---------------------------|----------|----------|
| 上班打卡                  | 上午 06:30 | 上午 06:30 |
| 生产作业            | 上午 06:30 | 下午 02:45 |
| 下班打卡                 | 下午 05:00 | 下午 05:00 |

在**审核**页上计算日记帐登记后，您可以在**时间**选项卡查看计算结果。若要了解此场景，请参见以下字段。

| 弹性+ | 弹性- | 时间  | 带薪时间 | 不带薪工间休息 | 带薪加班时间 |
|--------|--------|-------|----------|---------------------|--------------|
| 0.50   | 0.00   | 1050 | 9.50     | 0.5                 | 1.50         |

> [!NOTE] 
> 系统计算得出 0.5 小时的不带薪工间休息，该时间不属于带薪时间。

### <a name="example-of-a-registered-break"></a>登记的工间休息示例

考虑以下不包括计划工间休息的时间模板。

| 模板类型  | 启动    | 结束日期      | 天     |
|---------------|----------|----------|---------|
| 加班     | 上午 00:00 | 上午 06:00 | 星期一  |
| 弹性+         | 上午 06:00 | 上午 07:00 | 星期一  |
| 上班打卡      | 上午 07:00 | 上午 07:00 | 星期一  |
| 标准时间 | 上午 07:00 | 下午 02:30 | 星期一  |
| 弹性-         | 下午 02:30 | 下午 03:30 | 星期一  |
| 下班打卡     | 下午 03:30 | 下午 03:30 | 星期一  |
| 加班     | 下午 03:30 | 上午 06:00 | 星期二 |

这里是工作人员这一天的登记。

| 日记帐登记类型 | 启动    | 结束日期      |
|---------------------------|----------|----------|
| 上班打卡                  | 上午 06:30 | 上午 06:30 |
| 生产作业            | 上午 06:30 | 下午 05:00 |
| 休息                     | 下午 12:03 | 下午 12:32 |
| 下班打卡                 | 下午 05:00 | 下午 05:00 |

在计算登记时，将计算活动的时间。

| 日记帐登记类型 | 启动    | 结束日期      | 时间  |
|---------------------------|----------|----------|-------|
| 上班打卡                  | 上午 06:30 | 上午 06:30 |       |
| 生产作业            | 上午 06:30 | 下午 05:00 | 10.00 |
| 休息                     | 下午 12:03 | 下午 12:32 | 0.50  |
| 下班打卡                 | 下午 05:00 | 下午 05:00 |       |

> [!NOTE]
> 工间休息的时间与活动（本示例中是生产作业）的时间并行运行。 此行为始终用于工间休息活动。 在计算登记时，工间休息时间从活动时间中减去。 在这种情况下，生产作业具有 10.50 小时的持续时间，但是，此时间计算为 10，因为 0.5 小时工间休息时间从活动时间中减去。

在**审核**页上计算日记帐登记后，您可以在**时间**选项卡查看计算结果。若要了解此场景，请参见以下字段。

| 弹性+ | 弹性- | 时间  | 带薪时间 | 不带薪工间休息 | 带薪加班时间 |
|--------|--------|-------|----------|---------------------|--------------|
| 0.50   | 0.00   | 1050 | 9.50     | 0.5                 | 1.50         |

如果计划的工间休息是带薪而不是不带薪，计算结果象这样。

| 弹性+ | 弹性- | 时间  | 带薪时间 | 带薪工间休息 | 带薪加班时间 |
|--------|--------|-------|----------|-----------------|--------------|
| 0.50   | 0.00   | 1050 | 10.00    | 0.5             | 1.50         |

### <a name="pay-items-and-paid-breaks"></a>付薪项和带薪工间休息

当您在**审核**页转移登记时，付薪项将生成。 带薪工间休息将生成单独的付薪项。

带薪工间休息的付薪比率由工间休息的付薪协议中设置的付薪类型确定。 不是使用付薪类型，您可以在定义的日期间隔内设置工间休息的每小时成本价。

请考虑以下时间模板。

| 模板类型  | 启动    | 结束日期      | 天     |
|---------------|----------|----------|---------|
| 加班     | 上午 00:00 | 上午 06:00 | 星期一  |
| 弹性+         | 上午 06:00 | 上午 07:00 | 星期一  |
| 上班打卡      | 上午 07:00 | 上午 07:00 | 星期一  |
| 标准时间 | 上午 07:00 | 下午 02:30 | 星期一  |
| 弹性-         | 下午 02:30 | 下午 03:30 | 星期一  |
| 下班打卡     | 下午 03:30 | 下午 03:30 | 星期一  |
| 加班     | 下午 03:30 | 上午 06:00 | 星期二 |

这里是工作人员这一天的登记。

| 日记帐登记类型 | 启动    | 结束日期      | 时间 |
|---------------------------|----------|----------|------|
| 上班打卡                  | 上午 07:00 | 上午 07:00 |      |
| 生产作业            | 上午 07:00 | 下午 03:00 | 7.5  |
| 工间休息（带薪）              | 下午 12:00 | 下午 12:30 | 0.5  |
| 下班打卡                 | 下午 03:00 | 下午 03:00 |      |

对于本示例，标准时间的付薪类型设置为 **1201**，并在付薪协议中设置付薪比率 **10**。 带薪工间休息具有 **1301** 付薪类型和 **8** 付薪比率。 在转移登记时，以下付薪项将生成。

| 工资类型     | 付薪类型 | 付薪单位 | 比率 |
|---------------|----------|-----------|------|
| 标准时间 | 1201     | 7.50      | 10   |
| 弹性-         | 1201     | 0.50      | 10   |
| 工间休息（带薪）  | 1301     | 0.50      | 8    |

## <a name="how-the-cost-of-paid-breaks-is-allocated-to-projects-and-production-orders"></a>带薪工间休息的成本如何分摊到项目和生产订单

可以设置项目活动和生产作业的小时成本，这样它可以由在“考勤管理”计算的付薪比率或由为活动定义的成本类别确定。

若要设置成本类别，请选择**生产控制** &gt; **设置** &gt; **制造执行** &gt; **生产订单默认值**，并将**成本类别**字段设置为**是**或**否**。

- **否** – 成本基于为“考勤管理”登记类型定义的付薪比率计算。
- **是** – 成本基于生产和项目活动的成本类别计算。

### <a name="cost-calculation-based-on-pay-rates-that-are-calculated-in-time-and-attendance"></a>基于在“考勤管理”计算的付薪比率的成本计算

以下示例显示当成本已设置以便基于付薪比率计算时如何计算小时成本。

为生产订单和项目使用的小时成本比率在转移过程中计算。 若要按活动查看小时比率，请在“考勤管理”中打开**审核**页，然后选择**查询** &gt; **转移的登记**。 您可以在**成本价**选项卡找到每个登记的小时成本比率。

考虑以下与上一个示例使用相同时间模板的登记。

| 日记帐登记类型 | 启动    | 结束日期      | 时间 |
|---------------------------|----------|----------|------|
| 上班打卡                  | 上午 07:00 | 上午 07:00 |      |
| 处理（订单：4711）     | 上午 07:00 | 上午 11:00 | 4    |
| 处理（订单：4712）     | 上午 11:00 | 下午 03:00 | 3.50 |
| 工间休息（带薪）              | 下午 12:00 | 下午 12:30 | 0.50 |
| 下班打卡                 | 下午 03:00 | 下午 03:00 |      |

在转移登记后，以下转移的登记将生成。

| 登记类型     | 时间 | 每小时的成本价 |
|-----------------------|------|---------------------|
| 上班打卡              | 0.00 | 0.00                |
| 处理（订单：4711） | 4.00 | 10.00               |
| 处理（订单：4712） | 3.50 | 11.14               |
| 工间休息（带薪）          | 0.50 | 0.00                |
| 下班打卡             | 0.00 | 0.00                |

带薪工间休息每小时成本价的计算取决于直接工资成本的设置。 选择**考勤管理** &gt; **设置** &gt; **考勤管理参数**。 在**成本价**选项卡上，在**直接工资成本**下，在**标准时间**字段中，您可以选择**是**、**否**或**分配**。

- **是** – 此值用于上面的示例。 成本分配到与带薪工间休息活动并行运行的生产或项目活动。 在本示例中，此活动是 4712 订单的生产作业。 如您可以看到的那样，带薪工间休息每小时的成本价是 0（零），它被分配给与工间休息并行运行的作业。

    带薪工间休息有 0.5 小时的持续时间，付薪比率为 8。 因此，带薪工间休息的总成本是 4。 总成本然后分配给 3.5 小时的处理作业。 因此，带薪工间休息产生 1.14 每小时成本 (4 ÷ 3.5 = 1.14)。

- **分配** – 带薪工间休息平均分配给当天登记的作业。 如果该值用于前面的示例，将生成以下转移的登记。

    | 登记类型     | 时间 | 每小时的成本价 |
    |-----------------------|------|---------------------|
    | 上班打卡              | 0.00 | 0.00                |
    | 处理（订单：4711） | 4.00 | 10.53               |
    | 处理（订单：4712） | 3.50 | 10.53               |
    | 工间休息（带薪）          | 0.50 | 0.00                |
    | 下班打卡             | 0.00 | 0.00                |

    两个生产作业的总处理时间为 7.5 小时，带薪工间休息的总成本是 4。 因此，工间休息的成本计算为 0.53 (= 4 ÷ 7.5)。

- **否** – 带薪工间休息的成本不增加处理活动的小时成本。

    | 登记类型     | 时间 | 每小时的成本价 |
    |-----------------------|------|---------------------|
    | 上班打卡              | 0.00 | 0.00                |
    | 处理（订单：4711） | 4.00 | 10.00               |
    | 处理（订单：4712） | 3.50 | 10.00               |
    | 工间休息（带薪）          | 0.50 | 0.00                |
    | 下班打卡             | 0.00 | 0.00                |

## <a name="absence"></a>缺勤

考勤代码用于登记工作人员缺勤的期间。 就像工间休息和切换代码，考勤代码是间接活动类型。 缺勤时间可以是已计划或已登记，缺勤可以是合法或非法的。 合法的缺勤示例包括看医生、研讨会或陪审员义务。 非法的缺勤是没有充足理由的缺勤，例如，当工作人员上班迟到时。 通常，合法缺勤不会造成扣减工作人员的付薪，而非法缺勤则会导致扣减。

### <a name="planned-absence"></a>计划缺勤

您可以在**创建计划缺勤**页为工作人员创建计划的缺勤（**考勤管理** &gt; **创建计划缺勤**）。 在此，计划缺勤登记为指定日期和时间间隔的缺勤作业。

此作业基于查询。 因此，你可以为多个工作人员创建计划缺勤，例如属于同一个计算组的工作人员。 如果计划的缺勤是针对单个工作人员，登记可从**考勤管理**页或**时间登记工作人员**页输入。

- 要从**考勤管理**页输入缺勤登记，请选择**考勤管理** &gt; **查询和报表** &gt; **出勤** &gt; **出勤**，然后选择**缺勤登记**。
- 要从*<strong><em>时间登记工作人员</em></strong>* 页面输入缺勤登记，请选择<strong>考勤管理</strong> &gt; <strong>设置</strong> &gt; <strong>时间登记工作人员</strong>，然后，在<strong>时间</strong>选项卡上，在<strong>时间分配</strong>下，选择<strong>缺勤登记</strong>。

您可以使用**计划缺勤**报表来查看工作人员的计划缺勤的概览。 若要打开此报表，请选择**考勤管理** &gt; **查询和报表** &gt; **缺勤表** &gt; **计划缺勤**。

### <a name="registered-absence"></a>登记的缺勤

一般来说，如果工作人员未在计划的上班打卡时间和计划的下班打卡时间之间的任何期间内工作，则被视为缺勤。 如果工作人员在计划时间后上班打卡，或者在计划时间前下班打卡，系统将提示他们选择指示缺勤原因的考勤代码。 考勤代码可以进行设置以便适用于登记。 仅适用的代码可以在列表中选择。

## <a name="scenarios-based-on-various-combinations-of-work-hour-registrations"></a>基于各种工时登记组合的场景

以下场景显示基于工作人员的登记为其生成的以供审核的付薪项和条目。 所有场景均基于以下时间模板。

| 模板类型  | 启动    | 结束日期      | 天     |
|---------------|----------|----------|---------|
| 加班     | 上午 00:00 | 上午 06:00 | 星期一  |
| 弹性+         | 上午 06:00 | 上午 07:00 | 星期一  |
| 上班打卡      | 上午 07:00 | 上午 07:00 | 星期一  |
| 标准时间 | 上午 07:00 | 下午 02:30 | 星期一  |
| 弹性-         | 下午 02:30 | 下午 03:30 | 星期一  |
| 下班打卡     | 下午 03:30 | 下午 03:30 | 星期一  |
| 加班     | 下午 03:30 | 上午 06:00 | 星期二 |

### <a name="scenario-1-the-worker-clocks-in-later-than-planned"></a>场景 1：工作人员在计划时间后上班打卡

工作人员在上午 08:30 上班打卡。 由于他的计划上班打卡时间为上午 07:00，所以他迟到了 1.50 小时。 因为 1.50 小时被视为缺勤时间，系统会提示工作人员选择考勤代码。 工作人员在下午 03:30 离开工作，这是计划的下班打卡时间。 在计算和审核工作人员的登记时，缺勤登记以及工作人员在上班打卡时选择的考勤代码都会在上午 07:00 与上午 08:30 之间的时间显示。

在时间模板中，可以配置**上班打卡**登记类型，以便当工作人员上班迟到时有一个容差。 例如，如果设置容差 5，只有当工作人员在晚于上午 07:05 上班打卡时才会被提示选择考勤代码。

在这种情况下，因为工作人员没有充足的上班迟到理由，他将选择为非法缺勤定义的考勤代码。 如果为考勤代码所属的缺勤组启用了加班扣减设置，考勤代码将被视为适用于非法缺勤。 若要设置此设置，请选择**考勤管理** &gt; **设置** &gt; **组** &gt; **缺勤组**，然后选择**扣除加班**复选框。

这里是计算之后工作人员当天的登记如何在**审核**页显示。

| 日记帐登记类型         | 启动    | 结束日期      | 时间 |
|-----------------------------------|----------|----------|------|
| 缺勤（非法 - 上班迟到） | 上午 07:00 | 上午 08:30 | 1.5  |
| 上班打卡                          | 上午 08:30 | 上午 08:30 |      |
| 生产作业                    | 上午 07:30 | 下午 03:30 | 7.0  |
| 下班打卡                         | 下午 03:30 | 下午 03:30 |      |

这里是登记转移后生成的付薪项。

| 工资类型     | 付薪类型 | 付薪单位 | 比率 |
|---------------|----------|-----------|------|
| 标准时间 | 1201     | 7.00      | 10   |

### <a name="scenario-2-the-worker-clocks-out-before-the-planned-clock-out-time-during-a-standard-time-period"></a>场景 2：工作人员在标准时间期间在计划的下班打卡时间前下班打卡

工作人员在上午 07:00 上班打卡，并在下午 01:00 提前下班打卡。 由于下午 01:00 在计划的下班打卡下午 03:30 之前，而上午 01:00 是标准时间期间，系统提示工作人员选择考勤代码。 工作人员为看医生选择考勤代码，其被定义为合法缺勤。 合法缺勤的付薪比率在**缺勤**登记类型的付薪协议中定义（**考勤管理** &gt; **设置** &gt; **工资单** &gt; **付薪协议**）。

这里是计算之后工作人员当天的登记如何在**审核**页显示。

| 日记帐登记类型              | 启动    | 结束日期      | 时间 |
|----------------------------------------|----------|----------|------|
| 上班打卡                               | 上午 07:00 | 上午 07:00 |      |
| 生产作业                         | 上午 07:00 | 下午 01:00 | 4  |
| 下班打卡                              | 下午 01:00 | 下午 01:00 |      |
| 缺勤（合法 – 看医生） | 下午 01:00 | 下午 03:30 | 3.5  |

这里是登记转移后生成的付薪项。

| 工资类型     | 付薪类型 | 付薪单位 | 比率 |
|---------------|----------|-----------|------|
| 标准时间 | 1201     | 7.50      | 10   |

### <a name="scenario-3-the-worker-clocks-out-before-the-planned-clock-out-time-during-a-flex--period"></a>场景 3：工作人员在弹性- 期间在计划的下班打卡时间前下班打卡

工作人员在上午 07:00 上班打卡，在下午 02:15 下班打卡，这在计划的弹性- 期间内。 实际下班打卡时间和计划下班打卡时间之间的时间不被视为缺勤，系统不会提示工作人员选择考勤代码。 从工作人员的弹性科目中扣除时间量，工作人员被准予支付弹性- 期间剩余部分（从下午 02:15 到下午 03:30）的工资。

这里是计算之后工作人员当天的登记如何在**审核**页显示。

| 日记帐登记类型 | 启动    | 结束日期      | 时间 |
|---------------------------|----------|----------|------|
| 上班打卡                  | 上午 07:00 | 上午 07:00 |      |
| 生产作业            | 上午 07:00 | 下午 02:15 | 7.25 |
| 下班打卡                 | 下午 02:15 | 下午 02:15 |      |

这里是登记转移后生成的付薪项。

| 工资类型     | 付薪类型 | 付薪单位 | 比率 |
|---------------|----------|-----------|------|
| 标准时间 | 1201     | 8.50      | 10   |

### <a name="scenario-4-the-worker-clocks-in-late-and-clocks-out-after-the-planned-clock-out-time-during-an-overtime-period"></a>场景 4：工作人员在加班时间期间上班打卡迟到，并在计划的下班打卡时间后下班打卡

工作人员在上午 09:30 迟到上班打卡，然后为补偿迟到缺勤，他加班并在下午 05:00 下班打卡。 由于该工作人员先迟到，后又通过延长工作时间来补偿，公司不希望准予为工作人员支付计划下班打卡下午 03:30 与实际下班打卡下午 05:00 之间的工作时数的加班薪酬，即便此期间在时间模板中被定义为加班时间。

若要处理此场景，可以设置考勤代码来将加班工时减少工作人员在同一天的所有非法缺勤工时。 选择**考勤管理** &gt; **设置** &gt; **组** &gt; **缺勤组**，然后选择**扣除加班**复选框，以从非法缺勤工时中扣除加班时间。

这里是计算之后工作人员当天的登记如何在**审核**页显示。

| 日记帐登记类型         | 启动    | 结束日期      | 时间 |
|-----------------------------------|----------|----------|------|
| 缺勤（非法 - 上班迟到） | 上午 07:00 | 上午 09:30 | 1.5  |
| 上班打卡                          | 上午 09:30 | 上午 09:30 |      |
| 生产作业                    | 上午 09:30 | 下午 05:00 | 7.5  |
| 下班打卡                         | 下午 05:30 | 下午 05:30 |      |

如果为所选考勤代码选择了**扣除加班**复选框，加班工资将减扣工作人员非法缺勤的工时数。 这种情况下，在转移登记后，以下付薪项将生成。

| 工资类型     | 付薪类型 | 付薪单位 | 比率 |
|---------------|----------|-----------|------|
| 标准时间 | 1201     | 9.00      | 10   |
| 加班      | 1301     | 0.5       | 15   |

在此处，1.5 小时非法缺勤（从上午 07:00 到上午 09:30）从 2.0 小时加班工时（下午 03:30 到下午 05:30）中扣减。 登记的结果为 1.5 小时标准时间和 0.5 小时加班时间。

与之相对，如果清除了所选考勤代码的**扣除加班**复选框，将准予向工作人员支付加班工资，即使该工作人员迟到并非法缺勤。 这种情况下，在转移登记后，以下付薪项将生成。

| 工资类型     | 付薪类型 | 付薪单位 | 比率 |
|---------------|----------|-----------|------|
| 标准时间 | 1201     | 7.50      | 10   |
| 加班      | 1301     | 2.0       | 15   |

### <a name="scenario-5-the-worker-clocks-out-before-the-planned-clock-out-time-and-can-convert-the-absence-period-to-a-flex--period"></a>场景 5：工作人员在计划下班打卡时间前下班打卡，并且可以将缺勤期间转换为弹性- 期间

以下示例显示工作人员的弹性科目如何通过将缺勤期间转换为弹性- 期间来减少。

工作人员在上午 07:00 上班打卡，在下午 01:00 下班打卡。 她与主管达成协议如果她从其弹性科目中扣减这些工时，她可以周末回家。 当工作人员在下午 01:00 下班打卡，系统提示她选择考勤代码，因为受影响工作日的其余部分的缺勤期间不是计划弹性- 期间。 要将工作日的剩余部分转换为弹性- 期间，工作人员可以选择为减少其弹性科目设置的考勤代码。

若要减少在工作日登记缺勤的工作人员的弹性工时结余，选择**考勤管理** &gt; **设置** &gt; **组** &gt; **缺勤组**，然后选择**减少弹性**复选框。

这里是计算之前工作人员当天的登记如何在**审核**页显示。

| 日记帐登记类型 | 启动    | 结束日期      | 时间 |
|---------------------------|----------|----------|------|
| 上班打卡                  | 上午 07:00 | 上午 07:00 |      |
| 生产作业            | 上午 07:00 | 下午 01:00 | 6.0  |
| 下班打卡                 | 下午 01:00 | 下午 01:00 |      |

如果工作人员选择非法缺勤的考勤代码，这里是转移登记后生成的付薪项的情况。

| 工资类型     | 付薪类型 | 付薪单位 | 比率 |
|---------------|----------|-----------|------|
| 标准时间 | 1201     | 6.00      | 10   |

如果工作人员选择合法缺勤的考勤代码，并设置考勤代码以减少其弹性科目，这里是转移登记后生成的付薪项的情况。

| 工资类型     | 付薪类型 | 付薪单位 | 比率 |
|---------------|----------|-----------|------|
| 标准时间 | 1201     | 8.50      | 10   |

在这种情况下，工作人员的弹性结余将减少实际下班打卡时间和计划下班打卡时间之间的工时（即从下午 01:00 到下午 03:30 的 2.5 小时）。

> [!NOTE]
> 我们不建议您为考勤代码同时选择**扣减弹性**复选框和**扣除加班**复选框，因为此设置将从员工加班时间中扣除非法工时数，同时还将减少工作人员的弹性科目。

### <a name="scenario-6-there-is-no-planned-absence-for-the-day-and-no-worker-attendance-for-the-day"></a>场景 6：当天没有计划缺勤且没有工作人员出勤。

如果工作人员没有在工作日上班，并且该工作日没有该工作人员的计划缺勤，在计算工作人员的登记时将使用默认的考勤代码。 若要定义默认考勤代码，请选择**考勤管理** &gt; **考勤管理参数**。 您随后可以在以下字段中选择考勤代码：

- 自动插入弹性-
- 自动插入缺勤

在为启用了弹性工时的工作人员计算日常登记时，在**自动插入弹性-** 字段中指定的考勤代码将用作默认考勤代码。 如果工作人员未启用弹性工时，将使用在**自动插入缺勤**字段指定的考勤代码。 如果某个公司既有启用弹性工时的工作人员，也有未启用的工作人员，必须设置两个参数。

