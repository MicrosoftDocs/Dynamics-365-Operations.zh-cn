---
title: 根据进度创建高级计费合同
description: 本主题说明如何创建项目合同，以便您可以根据已完成工作的百分比为客户生成发票。
author: RadhikaRS
manager: AnnBe
ms.date: 03/26/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Service industries
ms.author: v-radsh
ms.dyn365.ops.version: 7
ms.search.validFrom: 2019-01-15
ms.openlocfilehash: 90cae104d0abad909606ef6a0e0c45ed95e74de2
ms.sourcegitcommit: dfef2faf881b2db1bd0f016df36e2b838105312b
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/22/2020
ms.locfileid: "3282813"
---
# <a name="create-advanced-contracts-for-billing-based-on-progress"></a>根据进度创建高级计费合同
[!include [banner](../includes/banner.md)]

本主题说明如何创建项目合同，以便您可以根据已完成工作的百分比为客户创建发票。 自动计算为项目设置工作的预算类别的发票金额。 在与客户协商项目合同时设置发票计时。

使用本主题介绍的过程设置合同、关联项目，以及计算为项目设置的工作预算类别的发票金额的开票规则。

创建了合同和项目后，可以设置项目的详细信息。 例如，您可以定义活动并可以将工作人员分配给项目。

## <a name="example"></a>示例

您的组织是软件开发公司。 您同意为客户开发总费用为 20,000 美元 (USD) 的工资核算包装。 完成项目的特定百分比时，您的组织同意向客户开发票。 您为工作设置了以下项目类别，以便可以在开票过程中使用它们：

- 咨询
- 设计
- 安装

您还为每个类别完成的项目工作的百分比自动计算发票金额设置计费规则。

预算经理已为项目类别创建预算。 完成工作金额自动计算为与预算金额进行比较的实际工作的百分比。

## <a name="prerequisites"></a>先决条件

在创建使用计费规则的项目之前，必须设置计费规则的编号规则以及用于过帐按进度付款的费用日记帐。

1. 转至**项目管理和核算** \> **设置** \> **项目管理和核算参数**。
2. 在**项目管理和核算参数**页面上的**编号规则**选项卡上，设置要在创建计费规则时使用的编号规则。
3. 转到**项目管理与核算** \> **日记帐** \> **费用**。
4. 在**费用日记帐**页面，选择**新建**，然后输入日记帐名称。

## <a name="create-a-contract-for-progress-billings"></a>创建进度计费的合同

使用此过程可以创建固定价格项目的项目合同。 在项目完成的工作到达指定的百分比时，您创建某一项目发票。

1. 转到**项目管理和核算** \> **项目** \> **项目合同**。
2. 在**项目合同**页面上，选择**新建**。
3. 在**新建项目合同**对话框中，设置以下字段：

    - **姓名**
    - **融资类型**
    - **融资来源**
    - **销售币种** – 默认情况下，该币种用于与项目合同的客户发票。 但是，您可以更改特定客户发票上的销售币种。

4. 选择**确定**。 此信息将复制到**项目合同**页面的标题中。
5. 在**项目合同**页面上，填写项目所需的其余信息。

## <a name="create-a-project-for-progress-billings"></a>创建进度计费的项目

按照以下步骤创建项目以及任何与项目合同相关联的子项目。

1. 转到**项目管理与核算** \> **项目** \> **全部项目**。
2. 在**所有项目**页面上，选择**新建**。
3. 在**新建项目**对话框的**项目类型**字段中，选择**时间和材料**。
4. 选择项目组。 项目组定义分配给组的项目的过帐信息。
5. 选择**创建项目**。
6. 在创建项目后，将项目阶段设置为**进行中**。

## <a name="create-a-budget-for-a-project"></a>创建项目预算

预算类别用于就各类别完成的工作百分比自动计算发票金额。 请按照以下步骤创建估计成本的预算类别。

1. 转到**项目管理与核算** \> **项目** \> **全部项目**。
2. 在**所有项目**页面上，选择并打开所需的项目。
3. 在**项目**页面，在操作窗格的**计划**选项卡上，在**预算**组中，选择**项目预算**。
4. 在**项目预算**页面，输入项目中每个类别的估计成本。

## <a name="create-billing-rules-for-progress-billings"></a>创建按进度的付款比率项规则

1. 转到**项目管理和核算** \> **项目** \> **项目合同**。
2. 在**项目合同**页面上，选择并打开一个项目合同。
3. 在项目合同页面，在**计费规则**快速选项卡上，选择**添加**。
4. 在**计费规则**页面，在**行类型**字段中，选择**进度**。
5. 在**计费规则行详细信息**快速选项卡上，在**合同价值**字段中，输入合同的总值。
6. 在**类别**字段中，选择要过帐的费用交易记录的类别。
7. 在**项目**字段中，选择使用此计费规则的项目。
8. 可选：将计费规则分配到其他项目。 在**项目**快速选项卡上的**可用项目**部分，选择一个项目，然后选择右箭头按钮将该项目添加到**所选项目**部分。
9. 可选：计算客户从发票上的付款预扣的百分比金额。 在**付款保留条款**快速选项卡上，选择融资来源，然后在**保留百分比**字段中输入保留百分比。
10. 重复这些步骤创建项目合同的其他计费规则。
