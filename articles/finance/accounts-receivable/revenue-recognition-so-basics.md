---
title: 销售订单上的收入确认
description: 本主题介绍在销售订单和发票上确认收入的基本功能。 收入确认在销售订单和从销售订单创建的对应发票上可用。
author: kweekley
ms.date: 08/24/2018
ms.topic: index-page
ms.prod: ''
ms.technology: ''
ms.search.form: Customer
audience: Application User
ms.reviewer: roschlom
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2018-08-30
ms.dyn365.ops.version: 8.0.4
ms.openlocfilehash: e9c6423a7fb604005d4fb7f1eca05a1ef7d210e5
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/01/2021
ms.locfileid: "5817213"
---
# <a name="revenue-recognition-on-sales-orders"></a><span data-ttu-id="a8568-104">销售订单上的收入确认</span><span class="sxs-lookup"><span data-stu-id="a8568-104">Revenue recognition on sales orders</span></span>

[!include [banner](../includes/banner.md)]

> [!NOTE]
> <span data-ttu-id="a8568-105">收入确认功能不能通过功能管理来启用。</span><span class="sxs-lookup"><span data-stu-id="a8568-105">The Revenue recognition feature can't be turned on through Feature management.</span></span> <span data-ttu-id="a8568-106">目前，您必须使用 Configuration Key 启用该功能。</span><span class="sxs-lookup"><span data-stu-id="a8568-106">Currently, you must use configuration keys to turn it on.</span></span>

<span data-ttu-id="a8568-107">本主题介绍在销售订单和发票上确认收入的基本功能。</span><span class="sxs-lookup"><span data-stu-id="a8568-107">This topic describes the basic functionality for recognizing revenue on sales orders and invoices.</span></span> <span data-ttu-id="a8568-108">收入确认在销售订单和从销售订单创建的对应发票上可用。</span><span class="sxs-lookup"><span data-stu-id="a8568-108">Revenue recognition is available on a sales order and on the corresponding invoice that is created from the sales order.</span></span> <span data-ttu-id="a8568-109">销售订单也可通过时间和材料项目创建。</span><span class="sxs-lookup"><span data-stu-id="a8568-109">The sales order can also be created through a Time and materials project.</span></span>

> [!NOTE]
> <span data-ttu-id="a8568-110">在本主题的示意图中，列已隐藏或添加到网格，以便更好地说明概念。</span><span class="sxs-lookup"><span data-stu-id="a8568-110">In the illustrations in this topic, columns have been hidden or added to grids to better show the concepts.</span></span> <span data-ttu-id="a8568-111">因此，示意图中的页面和数据可能不同于您在产品中所看到的。</span><span class="sxs-lookup"><span data-stu-id="a8568-111">Therefore, the pages and data in the illustrations might differ from what you see in the product.</span></span>

## <a name="enter-a-sales-order"></a><span data-ttu-id="a8568-112">输入销售订单</span><span class="sxs-lookup"><span data-stu-id="a8568-112">Enter a sales order</span></span>

<span data-ttu-id="a8568-113">输入了以下销售订单并且其包括为收入确认设置的三个物料。</span><span class="sxs-lookup"><span data-stu-id="a8568-113">The following sales order is entered and includes three items that are set up for revenue recognition.</span></span>

<span data-ttu-id="a8568-114">[![输入销售订单](./media/revenue-recognition-so-basic-sales-order-header.png)](./media/revenue-recognition-so-basic-sales-order-header.png)</span><span class="sxs-lookup"><span data-stu-id="a8568-114">[![Enter a sales order](./media/revenue-recognition-so-basic-sales-order-header.png)](./media/revenue-recognition-so-basic-sales-order-header.png)</span></span>

<span data-ttu-id="a8568-115">收入确认有两个概念：</span><span class="sxs-lookup"><span data-stu-id="a8568-115">There are two concepts for revenue recognition:</span></span>

- <span data-ttu-id="a8568-116">**确定收入价格。**</span><span class="sxs-lookup"><span data-stu-id="a8568-116">**Determine the revenue price.**</span></span> <span data-ttu-id="a8568-117">收入价格基于已发布产品的设置进行计算。</span><span class="sxs-lookup"><span data-stu-id="a8568-117">The revenue price is calculated based on the setup of the released products.</span></span> <span data-ttu-id="a8568-118">收入价格不会对客户显示，仅用于销售订单发票的会计核算。</span><span class="sxs-lookup"><span data-stu-id="a8568-118">The revenue price is never shown to the customer but is used only for the accounting of the sales order invoice.</span></span> <span data-ttu-id="a8568-119">作为销售一部分打印的销售订单行和文档仍然显示单价/标价。</span><span class="sxs-lookup"><span data-stu-id="a8568-119">The sales order lines and the documents that are printed as part of the sale continue to show the unit/list price.</span></span>
- <span data-ttu-id="a8568-120">**确定应进行收入确认的时间。**</span><span class="sxs-lookup"><span data-stu-id="a8568-120">**Determine when revenue recognition should occur.**</span></span> <span data-ttu-id="a8568-121">收入计划用于确定应确认收入的时间。</span><span class="sxs-lookup"><span data-stu-id="a8568-121">A revenue schedule is used to determine when revenue should be recognized.</span></span>

    <span data-ttu-id="a8568-122">在此示例中，第一个物料 S0001 分配给了 **1O**（发生一次）收入计划。</span><span class="sxs-lookup"><span data-stu-id="a8568-122">In this example, the first item, S0001, is assigned to a **1O** (one-occurrence) revenue schedule.</span></span> <span data-ttu-id="a8568-123">此行表示里程碑类型方案，即将在未来进行安装之后确认收入的情况。</span><span class="sxs-lookup"><span data-stu-id="a8568-123">This line represents a milestone-type scenario, where the revenue will be recognized after the installation occurs in the future.</span></span> <span data-ttu-id="a8568-124">因此，收入将延期，直至安装完成。</span><span class="sxs-lookup"><span data-stu-id="a8568-124">Therefore, revenue will be deferred until the installation is completed.</span></span>

    <span data-ttu-id="a8568-125">第二个物料 S0008 是设置为过帐合同支持 (PCS) 物料的服务物料。</span><span class="sxs-lookup"><span data-stu-id="a8568-125">The second item, S0008, is a service item that is set up as a post contract support (PCS) item.</span></span> <span data-ttu-id="a8568-126">在 12 个月的期间中为客户提供了持续的工程服务。</span><span class="sxs-lookup"><span data-stu-id="a8568-126">The sustained engineering services are provided to the customer over a 12-month period.</span></span> <span data-ttu-id="a8568-127">因此，为产品默认分配了 **12M** 收入计划。</span><span class="sxs-lookup"><span data-stu-id="a8568-127">Therefore, a **12M** revenue schedule is assigned to the product by default.</span></span> <span data-ttu-id="a8568-128">由于该物料是 PCS 物料，必须定义合同开始日期和结束日期。</span><span class="sxs-lookup"><span data-stu-id="a8568-128">Because this item is a PCS item, contract start and end dates must be defined.</span></span> <span data-ttu-id="a8568-129">默认情况下，合同开始日期和结束日期可在“物料详细信息 - 设置”选项卡中找到。在收入计划中，定义了 **12M** 的设置，以便自动填写合同条款，如下图所示。</span><span class="sxs-lookup"><span data-stu-id="a8568-129">By default, the contract start and end dates are found on Item details – Setup tab. On the revenue schedule, the setup for **12M** is defined so that the contract terms are automatically filled in as shown in the following illustration.</span></span>

    <span data-ttu-id="a8568-130">[![收入计划](./media/revenue-recognition-so-basic-revenue-schedules.png)](./media/revenue-recognition-so-basic-revenue-schedules.png)</span><span class="sxs-lookup"><span data-stu-id="a8568-130">[![Revenue schedules](./media/revenue-recognition-so-basic-revenue-schedules.png)](./media/revenue-recognition-so-basic-revenue-schedules.png)</span></span>

    <span data-ttu-id="a8568-131">第三个物料 S0012 是硬件，默认情况下未分配收入计划。</span><span class="sxs-lookup"><span data-stu-id="a8568-131">The third item, S0012, is hardware, and no revenue schedule is assigned by default.</span></span> <span data-ttu-id="a8568-132">硬件的收入在对物料开票时确认。</span><span class="sxs-lookup"><span data-stu-id="a8568-132">The revenue for the hardware is recognized as soon as the item is invoiced.</span></span>

## <a name="confirm-the-sales-order"></a><span data-ttu-id="a8568-133">确认销售订单</span><span class="sxs-lookup"><span data-stu-id="a8568-133">Confirm the sales order</span></span>

<span data-ttu-id="a8568-134">若要查看有关收入价格和收入计划的其他详细信息，请使用销售订单操作窗格的 **管理** 选项卡的 **收入确认** 组中的按钮。</span><span class="sxs-lookup"><span data-stu-id="a8568-134">To view additional details about the revenue price and revenue schedule, use the buttons in the **Revenue recognition** group on the **Manage** tab on the Action Pane of the sales order.</span></span> <span data-ttu-id="a8568-135">由于此时未确认销售订单，用于收入确认的按钮不可用。</span><span class="sxs-lookup"><span data-stu-id="a8568-135">Because the sales order isn't confirmed at this point, the buttons that are used for revenue recognition are unavailable.</span></span> <span data-ttu-id="a8568-136">随着销售订单进展到履行的各个阶段，这些按钮将变得可用或不可用。</span><span class="sxs-lookup"><span data-stu-id="a8568-136">These buttons become available or unavailable as the sales order progresses through the stages that lead to fulfillment.</span></span>

<span data-ttu-id="a8568-137">[![销售订单头](./media/revenue-recognition-so-basic-sales-order-header-02.png)](./media/revenue-recognition-so-basic-sales-order-header-02.png)</span><span class="sxs-lookup"><span data-stu-id="a8568-137">[![Sales order header](./media/revenue-recognition-so-basic-sales-order-header-02.png)](./media/revenue-recognition-so-basic-sales-order-header-02.png)</span></span>

<span data-ttu-id="a8568-138">前三个按钮提供用于收入确认的销售订单设置中有关物料收入价格的详细信息。</span><span class="sxs-lookup"><span data-stu-id="a8568-138">The first three buttons provide details about the revenue price for the items on the sales order setup for revenue recognition.</span></span>

- <span data-ttu-id="a8568-139">**收入价格分配** - 在确认销售订单或过帐发票之后，此按钮将变得可用。</span><span class="sxs-lookup"><span data-stu-id="a8568-139">**Revenue price allocation** – This button becomes available after the sales order is confirmed or the invoice is posted.</span></span> <span data-ttu-id="a8568-140">销售订单确认和发票过帐都将计算收入，以确认将在会计条目中确认或延期的价格。</span><span class="sxs-lookup"><span data-stu-id="a8568-140">Both sales order confirmation and invoice posting calculate the revenue to recognize the price that will be recognized or deferred on the accounting entry.</span></span> <span data-ttu-id="a8568-141">根据该设置，计算出的收入价格可能不同于对客户显示的单位价格。</span><span class="sxs-lookup"><span data-stu-id="a8568-141">Depending on the setup, the revenue price that is calculated can differ from the unit price that is shown to the customer.</span></span>
- <span data-ttu-id="a8568-142">**使用新订单行重新分配价格** - 在确认销售订单或过帐发票之后，此按钮将变得可用。</span><span class="sxs-lookup"><span data-stu-id="a8568-142">**Reallocate price with new order lines** – This button becomes available after the sales order is confirmed or the invoice is posted.</span></span> <span data-ttu-id="a8568-143">开票后将新行添加到当前销售订单或添加到新销售订单之后，重新分配过程用于重新计算必须确认的收入。</span><span class="sxs-lookup"><span data-stu-id="a8568-143">The reallocation process is used to recalculate the revenue that must be recognized after a new line is added either to the current sales order, after it's invoiced, or to a new sales order.</span></span> <span data-ttu-id="a8568-144">在这两种方案中，添加新物料都会导致合同发生变化。</span><span class="sxs-lookup"><span data-stu-id="a8568-144">In both scenarios, the addition of a new item causes a change to the contract.</span></span> <span data-ttu-id="a8568-145">因此，必须重新分配收入价格。</span><span class="sxs-lookup"><span data-stu-id="a8568-145">Therefore, the revenue price must be reallocated.</span></span>
- <span data-ttu-id="a8568-146">**更新收入价格分配** - 确认销售订单之后，此按钮将变得可用，但在对销售订单开票之后，它将变得不可用。</span><span class="sxs-lookup"><span data-stu-id="a8568-146">**Update revenue price allocation** – This button becomes available after the sales order is confirmed, but it becomes unavailable after the sales order is invoiced.</span></span> <span data-ttu-id="a8568-147">该更新用于重新运行收入价格分配，而无需确认销售订单。</span><span class="sxs-lookup"><span data-stu-id="a8568-147">The update is used to rerun the revenue price allocation without having to confirm the sales order.</span></span> <span data-ttu-id="a8568-148">在对销售订单开票后，无法重新计算收入价格。</span><span class="sxs-lookup"><span data-stu-id="a8568-148">After the sales order is invoiced, the revenue price can't be recalculated.</span></span>

<span data-ttu-id="a8568-149">后两个按钮提供具有收入计划的销售订单中有关这些物料的收入计划的详细信息。</span><span class="sxs-lookup"><span data-stu-id="a8568-149">The last two buttons provide details about the revenue schedule for those items on the sales order that have a revenue schedule.</span></span>

- <span data-ttu-id="a8568-150">**预期的收入确认计划** - 确认销售订单之后，此按钮将变得可用，但在对销售订单开票之后，它将变得不可用。</span><span class="sxs-lookup"><span data-stu-id="a8568-150">**Expected revenue recognition schedule** – This button becomes available after the sales order is confirmed, but it becomes unavailable after the sales order is invoiced.</span></span> <span data-ttu-id="a8568-151">将打开显示预期收入计划的页面。</span><span class="sxs-lookup"><span data-stu-id="a8568-151">It opens a page that shows the expected revenue schedule.</span></span> <span data-ttu-id="a8568-152">最终计划可能会发生变化，因为预期计划使用要求装运日期，而最终计划使用实际的装运日期。</span><span class="sxs-lookup"><span data-stu-id="a8568-152">The final schedule might change, because the expected schedule uses the requested ship date, whereas the final schedule uses the actual ship date.</span></span>
- <span data-ttu-id="a8568-153">**收入确认计划** - 在对销售订单开票之后，此按钮将变得可用。</span><span class="sxs-lookup"><span data-stu-id="a8568-153">**Revenue recognition schedule** – This button becomes available after the sales order is invoiced.</span></span> <span data-ttu-id="a8568-154">进行确认或创建装箱单时，将不会创建最终收入确认计划。</span><span class="sxs-lookup"><span data-stu-id="a8568-154">The final revenue recognition schedule isn't created when confirmation occurs or a packing slip is created.</span></span> <span data-ttu-id="a8568-155">仅当对销售订单开票时才会创建。</span><span class="sxs-lookup"><span data-stu-id="a8568-155">It's created only when the sales order is invoiced.</span></span>

<span data-ttu-id="a8568-156">在以下示例中，确认销售订单时进行了收入价格分配。</span><span class="sxs-lookup"><span data-stu-id="a8568-156">In the following example, revenue price allocation occurred when the sales order was confirmed.</span></span> <span data-ttu-id="a8568-157">请注意，即使以不同的方式分配了收入价格，**要确认的收入** 字段中的金额总计必须等于对客户开票的销售订单行的总和。</span><span class="sxs-lookup"><span data-stu-id="a8568-157">Note that, even though the revenue prices are allocated differently, the total amount in the **Revenue to recognize** field must still equal the sum of the sales order lines that are invoiced to the customer.</span></span> <span data-ttu-id="a8568-158">例如，销售订单行的总和除税后为 1,499 美元。</span><span class="sxs-lookup"><span data-stu-id="a8568-158">For example, the sum of the sales order lines, excluding tax, is $,1499.</span></span> <span data-ttu-id="a8568-159">因此，**要确认的收入** 值的总和也必须为 1,499 美元。</span><span class="sxs-lookup"><span data-stu-id="a8568-159">Therefore, the sum of the **Revenue to recognize** values must also be $,1499.</span></span>

<span data-ttu-id="a8568-160">[![收入价格分配](./media/revenue-recognition-so-basic-revenue-price-allocation.png)](./media/revenue-recognition-so-basic-revenue-price-allocation.png)</span><span class="sxs-lookup"><span data-stu-id="a8568-160">[![Revenue price allocation](./media/revenue-recognition-so-basic-revenue-price-allocation.png)](./media/revenue-recognition-so-basic-revenue-price-allocation.png)</span></span>

<span data-ttu-id="a8568-161">此外，还将创建预期的收入确认计划。</span><span class="sxs-lookup"><span data-stu-id="a8568-161">The expected revenue recognition schedule is also created.</span></span> <span data-ttu-id="a8568-162">收入计划使用 **要确认的收入** 值作为要延期的金额。</span><span class="sxs-lookup"><span data-stu-id="a8568-162">The revenue schedule uses the **Revenue to recognize** value as the amount to defer.</span></span> <span data-ttu-id="a8568-163">物料 S0001 延期 321.21 美元而不是 300 美元，物料 S0008 延期 160.61 美元而不是 100 美元。</span><span class="sxs-lookup"><span data-stu-id="a8568-163">Item S0001 defers $321.21 instead of $300, and item S0008 defers $160.61 instead of $100.</span></span> <span data-ttu-id="a8568-164">物料 S0012 未显示在预期计划中，因为延期了收入。</span><span class="sxs-lookup"><span data-stu-id="a8568-164">Item S0012 isn't shown in the expected schedule because the revenue isn't deferred.</span></span> <span data-ttu-id="a8568-165">进行过帐时，物料 S0012 将 1,017.18 美元直接过帐到收入会计科目。</span><span class="sxs-lookup"><span data-stu-id="a8568-165">When posting occurs, item S0012 posts $1,017.18 directly to the revenue ledger account.</span></span>

<span data-ttu-id="a8568-166">[![预期的收入确认计划](./media/revenue-recognition-so-basic-expected-rev-rec-schedule.png)](./media/revenue-recognition-so-basic-expected-rev-rec-schedule.png)</span><span class="sxs-lookup"><span data-stu-id="a8568-166">[![Expected revenue recognition schedule](./media/revenue-recognition-so-basic-expected-rev-rec-schedule.png)](./media/revenue-recognition-so-basic-expected-rev-rec-schedule.png)</span></span>

## <a name="create-the-packing-slip"></a><span data-ttu-id="a8568-167">创建装箱单</span><span class="sxs-lookup"><span data-stu-id="a8568-167">Create the packing slip</span></span>

<span data-ttu-id="a8568-168">接下来，可以为销售订单创建装箱单。</span><span class="sxs-lookup"><span data-stu-id="a8568-168">Next, the packing slip can be created for the sales order.</span></span> <span data-ttu-id="a8568-169">过帐装箱单时，不会确认收入。</span><span class="sxs-lookup"><span data-stu-id="a8568-169">No revenue is recognized when the packing slip is posted.</span></span> <span data-ttu-id="a8568-170">如果未确认销售订单，则对装箱单过帐不会触发收入价格计算。</span><span class="sxs-lookup"><span data-stu-id="a8568-170">If the sales order wasn't confirmed, posting of the packing slip doesn't trigger revenue price calculation.</span></span> <span data-ttu-id="a8568-171">此外，也不会触发对预期或最终收入确认计划的创建。</span><span class="sxs-lookup"><span data-stu-id="a8568-171">It also doesn't trigger creation of the expected or final revenue recognition schedule.</span></span> <span data-ttu-id="a8568-172">如果物料模型组设置为在装箱单上延期收入，则将继续使用当前过帐模板会计科目而不是发票过帐中使用的新延期收入科目来进行过帐。</span><span class="sxs-lookup"><span data-stu-id="a8568-172">If the item model group is set up to defer revenue on the packing slip, it will continue to post by using the current posting profile ledger accounts, not the new deferred revenue accounts that are used on the invoice posting.</span></span>

## <a name="create-the-invoice"></a><span data-ttu-id="a8568-173">创建发票</span><span class="sxs-lookup"><span data-stu-id="a8568-173">Create the invoice</span></span>

<span data-ttu-id="a8568-174">最后一步是对销售订单开票。</span><span class="sxs-lookup"><span data-stu-id="a8568-174">The final step is to invoice the sales order.</span></span> <span data-ttu-id="a8568-175">如果查看发票的凭证，您会注意到物料 S0001 和 S0008 的收入已延期 ($321.21 + 160.61 = 481.82)，并且物料 S0012 的剩余金额已过帐到收入 (1,017.18)。</span><span class="sxs-lookup"><span data-stu-id="a8568-175">If you look at the invoice's voucher, you will notice that the revenue for items S0001 and S0008 was deferred ($321.21 + 160.61 = 481.82), and the remaining amount for item S0012 was posted to revenue (1,017.18).</span></span> <span data-ttu-id="a8568-176">这些值之和为 1,499 美元，与销售订单行的总和一致。</span><span class="sxs-lookup"><span data-stu-id="a8568-176">These values add up to $1,499, which matches the sum of the sales order lines.</span></span>

<span data-ttu-id="a8568-177">[![凭证交易记录](./media/revenue-recognition-so-voucher-transactions.png)](./media/revenue-recognition-so-voucher-transactions.png)</span><span class="sxs-lookup"><span data-stu-id="a8568-177">[![Voucher transactions](./media/revenue-recognition-so-voucher-transactions.png)](./media/revenue-recognition-so-voucher-transactions.png)</span></span>

<span data-ttu-id="a8568-178">创建发票之后，用于收入确认的 **收入价格分配**、**使用新订单行重新分配价格** 和 **收入确认计划** 按钮将变得可用，但 **更新收入价格分配** 和 **预期收入确认计划** 按钮不可用。</span><span class="sxs-lookup"><span data-stu-id="a8568-178">After the invoice is created, the **Revenue price allocation**, **Reallocate price with new order lines**, and **Revenue recognition schedule** buttons for revenue recognition become available, but the **Update revenue price allocation** and **Expected revenue recognition schedule** buttons are unavailable.</span></span>

<span data-ttu-id="a8568-179">[![可用收入确认按钮可用性](./media/revenue-recognition-so-basic-after-invoice-buttons.png)](./media/revenue-recognition-so-basic-after-invoice-buttons.png)</span><span class="sxs-lookup"><span data-stu-id="a8568-179">[![Available revenue recognition button availability](./media/revenue-recognition-so-basic-after-invoice-buttons.png)](./media/revenue-recognition-so-basic-after-invoice-buttons.png)</span></span>

<span data-ttu-id="a8568-180">**收入价格分配** 按钮仍然可用，以便您可以查看收入价格计算。</span><span class="sxs-lookup"><span data-stu-id="a8568-180">The **Revenue price allocation** button is still available so that you can view the revenue price calculation.</span></span> <span data-ttu-id="a8568-181">如果销售订单在确认之后未进行任何更改，则对发票过帐不会更改 **要确认的收入** 字段中的已计算金额。</span><span class="sxs-lookup"><span data-stu-id="a8568-181">If nothing changed on the sales order after it was confirmed, posting of the invoice won't change the calculated amount in the **Revenue to recognize** field.</span></span>

<span data-ttu-id="a8568-182">预期收入确认计划将被移除并替换为最终收入确认计划。</span><span class="sxs-lookup"><span data-stu-id="a8568-182">The expected revenue recognition schedule is removed and replaced with the final revenue recognition schedule.</span></span> <span data-ttu-id="a8568-183">每个销售订单行的收入计划详细信息均会得到保持，并会用于在履行合同义务的同时将延迟收入发布到实际收入中。</span><span class="sxs-lookup"><span data-stu-id="a8568-183">The revenue schedule details are maintained for each sales order line and are used to release the deferred revenue to actual revenue as the contractual obligations are met.</span></span>

<span data-ttu-id="a8568-184">[![最终收入确认计划](./media/revenue-recognition-so-revenue-recognition-schedule.png)](./media/revenue-recognition-so-revenue-recognition-schedule.png)</span><span class="sxs-lookup"><span data-stu-id="a8568-184">[![Final revenue recognition schedule](./media/revenue-recognition-so-revenue-recognition-schedule.png)](./media/revenue-recognition-so-revenue-recognition-schedule.png)</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]