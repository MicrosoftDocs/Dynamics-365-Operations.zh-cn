---
title: 未计费收入
description: 本主题说明如何设置物料和帐户以使用订阅计费中的未计费收入功能。
author: JodiChristiansen
ms.date: 11/04/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: twheeloc
ms.search.scope: Core, Operations
ms.custom: 539093
ms.search.region: Global
ms.author: jchrist
ms.search.validFrom: 2021-11-05
ms.dyn365.ops.version: 10.0.24
ms.openlocfilehash: 4a5bd016649957d90876d4eb50c358cd9d6fba80
ms.sourcegitcommit: 836695c0e95d366ba993f34eee30f57191f356d8
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/21/2022
ms.locfileid: "8629387"
---
# <a name="unbilled-revenue"></a>未计费收入

本主题介绍未计费收入功能，利用此功能，您可以在资产负债表中包含整个开票计划的金额。 这些金额包含在未计费收入帐户和未计费收入抵消帐户中，并且合同分期付款计费。

## <a name="set-up-unbilled-revenue"></a>设置未计费收入

要设置未计费收入，请执行以下步骤。

- 在 **定期合同计费参数** 页面上，设置 **未计费收入** 部分中的字段。
- 未计费收入功能可用于 **物料类型** 字段设置为 **标准** 的物料。 它也可以用于延期物料。 要将未计费收入与短期功能一起使用，请在 **定期合同计费参数** 页面上设置短期选项。

要将物料设置为使用未计费收入，请执行以下步骤。

1. 在 **未计费收入设置** 页面上的 **物料** 选项卡上，选择 **添加**。
2. 在新行上的 **物料代码** 中，选择物料代码。
3. 在 **物料关系** 字段中，选择物料关系。
4. 重复这些步骤以添加更多行。
5. 选择 **保存**。

要设置物料和未计费收入帐户，请执行以下步骤。

1. 在 **未计费收入设置** 页面上的 **帐户** 选项卡上，选择 **添加**。
2. 在新行上的 **物料代码** 中，选择物料代码。
3. 在 **物料关系** 字段中，选择物料关系。
4. 选择未计费收入、未计费折扣和未计费收入抵消的帐户。 要使用短期帐户，您必须在 **定期合同计费参数** 页上将 **短期未计费方法** 字段设置为 **滚动期间** 或 **固定年份**。
5. 重复这些步骤以添加更多行。
6. 选择 **保存**。

## <a name="use-unbilled-revenue"></a>使用未计费收入

1. 在 **所有计费计划** 页面上，特定计费计划。
2. 如果尚未将物料设置为使用未计费收入，请在计费计划行上选择 **未计费收入** 复选框。
3. 将 **未计费收入** 选项设置为 **是**。 然后根据需要查看和编辑未计费收入、折扣和未计费收入抵消帐户。
4. 在计费计划上的 **未计费收入处理** 下面，选择 **创建日记帐条目**，以创建未计费收入的初始日记帐条目。 必须先完成此步骤，然后才能对计费计划开票。
5. 创建初始日记帐条目后，选择 **生成发票** 以针对计费计划创建销售订单并过帐发票。
6. 过帐发票后，您可以在 **所有计费计划** 页面的 **续订** 选项卡上查看审计信息。

### <a name="milestone-billing"></a>里程碑开票

在以下条件下，里程碑开票适用于未计费收入：

- 如果里程碑父物料未计费（选中了 **未计费收入** 复选框），并且里程碑子物料已计费（清除了 **未计费收入** 复选框），则必须指定父物料的开始日期和结束日期。 这些日期用于创建初始日记帐条目。
- 如果里程碑父物料未计费（清除了 **未计费收入** 复选框），并且里程碑子物料已计费（选中了 **未计费收入** 复选框），则必须仅指定要为其创建初始日记帐分录的子物料的结束日期。

可以单独处理每个里程碑子物料。 当您准备创建初始日记帐条目时，可以指定结束日期。

> [!NOTE]
> 如果已创建里程碑父物料或子物料的初始日记帐分录，或已创建发票，则无法编辑开始日期和结束日期。

### <a name="unbilled-revenue-with-straight-line-deferrals"></a>带直线延期的未计费收入

要将未计费收入与直线延期计划结合使用，请执行以下步骤。

1. 在 **所有计费计划** 页面上，特定计费计划。
2. 将物料添加到计费计划行。
3. 为该行选择 **延期**。
4. 在 **交易延期** 页上，请执行以下步骤：

    1. 将 **延期** 选项设置为 **是**。
    2. 根据需要更改帐户。
    3. 在 **计划** 部分中，选择 **直线**，并根据需要编辑其他值。
    4. 选择 **确定**。

5. 针对行选择 **未计费收入**，然后按照以下步骤操作：

    1. 将 **未计费收入** 选项设置为 **是**。
    2. 选择要用于未计费收入、折扣和未计费收入抵消的帐户。

6. 在计费计划中，在 **未计费收入处理** 下面，选择 **创建日记帐条目**。 或者，使用 **未计费收入批量处理** 页以创建日记帐条目。
7. 此时会创建延期计划。  您可以在 **所有延期计划** 页面上查看详细信息。 在创建延期计划后，您可以编辑计费计划行物料的各个值。 例如，您可以编辑单价、数量或日期。

### <a name="unbilled-revenue-with-event-based-deferrals"></a>带基于事件的延期的未计费收入

要将未计费收入与基于事件的延期计划结合使用，请执行以下步骤。

1. 在 **所有计费计划** 页面上，特定计费计划。
2. 将物料添加到计费计划行。
3. 为该行选择 **延期**。
4. 在 **交易延期** 页上，请执行以下步骤：

    1. 将 **延期** 选项设置为 **是**。
    2. 根据需要更改帐户。
    3. 在 **计划** 部分中，选择 **基于事件**、**模板**、**分配类型** 和 **到期帐户**。
    4. 选择 **确定**。

5. 针对行选择 **未计费收入**，然后按照以下步骤操作：

    - 将 **未计费收入** 选项设置为 **是**。
    - 选择要用于未计费收入、折扣和未计费收入抵消的帐户。

6. 在计费计划中，在 **未计费收入处理** 下面，选择 **创建日记帐条目**。 或者，使用 **未计费收入批量处理** 页以创建日记帐条目。
7. 此时会创建延期计划。  您可以在 **所有延期计划** 页面上查看详细信息。 在创建延期计划后，您可以编辑计费计划行物料的各个值。 例如，您可以编辑单价、数量或日期。 延期计划是基于新值重新计算的。

分配是根据所选分配类型（**百分比**、**完成百分比** 或 **等额**）重新计算的。 对于 **可变金额** 分配类型，将根据与事件初始值等值的百分比重新计算分配。 例如，原始单价为 100.00 美元，初始值的百分比为 55.00 美元（55%）。 如果单价更改为 200.00 美元，则事件的可变金额会变为 110.00 美元（仍为 55%）。

> [!NOTE]
> 如果已识别延期计划行，则无法编辑计费计划行物料。 要编辑行物料，您必须首先冲销已识别的行。 然后可以更新计费计划行。

### <a name="unbilled-revenue-and-top-billing"></a>未计费收入和顶级计费

输入为期三年的计费计划，并在三年内每年对发票进行计费。 整个合同金额记录在从中创建年度发票的未计费收入帐户中。 抵销帐户是收入或延期收入帐户。

请注意，顶级计费和未计费收入无法一起使用，因为总帐中可能会发生对帐问题。 例如，在 **物料组设置** 页面上，将设置物料组 A，以便将 **顶行数** 字段设置为 **2**。 在 **计费计划** 页上，添加了三个物料。 所有三个物料都属于物料组 A。为未计费收入功能创建初始日记帐条目时，所有三个物料的金额都将处理到未计费帐户。 创建计费计划的发票后，仅包括前两个物料的金额。 因此，发票金额与已处理到未计费收入帐户的金额不匹配，并且总帐中可能会发生对帐问题。

如果要使用未计费收入，请将 **物料组设置** 页留空，或设置所有物料组，以便将 **顶行数** 字段设置为 **0**（零）。 如果要使用顶级计费，则未计费收入操作不可用。

### <a name="examples"></a>示例

从版本 10.0.27 开始，在使用未计费收入时引入了一个新帐户。 在发布初始 **创建日记帐条目** 流程时，将贷记到新的未计费收入抵销帐户。 使用此帐户而不是收入帐户，因为在针对计费计划开票时必须冲销相同的值。 如果出现汇率或舍入差异，则在 **生成发票** 过程中计算的金额可能不同。 此行为可确保帐户的净金额为 0（零）。

此示例说明如何使用未计费收入将资产负债表上的整个合同金额确认为未计费收入。 条目的另一端是未计费收入抵消。 当您向客户开具发票时，未计费收入和未计费收入抵销会被冲销。 将在开具发票时或根据设置的递延确认计划进行收入确认。

#### <a name="assumptions"></a>假设

- 今年 1 月 1 日，一位客户签订了一份为期三年的合同，价格为 390 美元。
- 合同包括两个部分：许可和维护协议。
- 许可费的销售价格为 300 美元，客户将在每个合同年度的 1 月 1 日开具 100 美元的发票。 300 美元的许可费将在合同签订时作为收入。
- 维护费用的销售价格为 90 美元，客户将在每个合同年度的 1 月 1 日开具 30 美元的发票。 90 美元的维护费将被推迟，合同有效期内每个月将确认 2.50 美元。
- 在三年合同的每一年开始时（1 月 1 日）会对客户开具 130 美元的发票。

#### <a name="steps"></a>步骤

1. 将两个已发布物料设置为未计费物料。 使用 **未计费收入设置** 页面来设置使用未计费收入的物料和帐户。
2. 在此示例中，维护费用被延期。 该物料需要延期模板，该模板在 **延期模板** 页面上设置。 该模板具有 **每月** 周期频率和 36 个月的识别周期长度。 因此，每月的收入为 2.50 美元。
3. 在 **默认情况下延期的物料** 页面上，将 **维护费用** 字段设置为 **可延期物料**。 此步骤和下一步将导致维护费用项目在售出或包含在计费计划中时被推迟。
4. 选择 **延期默认值** \> **模板**，并添加第 2 步中的维护费用和直线模板的项目。 维护费项目将与 36 个月的延期计划相关联。
5. 创建包含两个未计费物料的计费计划。 合同的计费计划通过以下项目进行设置。

    | 项目 | 开始日期 | 结束日期 | 金额 | 计费频率 | 延期物料 | 未计费收入 | Description |
    |---|---|---|---|---|---|---|---|
    | 许可证 | 1 月 1 日，CY | 12 月 31 日 CY+2 | 100.00 美元 | 每年 | 否 | 是 | 每年将向客户开具 100.00 美元的发票。 300.00 美元的总额将预先记录为资产负债表上的未计费收入，以及损益表上的收入。 每个发票将减少未计费金额。 |
    | 维护 | 1 月 1 日，CY | 12 月 31 日 CY+2 | 30.00 美元 | 每年 | 是 | 是 | 每年将向客户开具 30.00 美元的发票。 90.00 美元的总额将在资产负债表上预先记录为未计费收入和递延收入。 每个发票将减少未计费金额。 递延收入将在 36 个月内按月确认。 |

6. 在 **所有计费计划** 页面上，使用 **创建日记帐条目** 流程将合同价值作为未计费收入过帐到资产负债表。

创建了两个日记帐条目，计费计划中的每一行具有一个条目。

| 未计费收入帐户 | 未计费的收入对方科目 | 借方金额 | 贷方金额 |
|---|---|---|---|
| 未计费收入帐户 | | 300.00 美元 | |
| | 未计费的收入对方科目 | | 300.00 美元 |

| 未计费收入帐户 | 延期收入 | 借方金额 | 贷方金额 |
|---|---|---|---|
| 未计费收入帐户 | | 90.00 美元 | |
| |延期维护收入 | | 90.00 美元 |

第一个日记帐条目会过帐到未计费的收入抵消科目，第二个日记帐条目会过帐到递延收入科目。 如果计费行同时具有未计费收入和递延收入，则使用递延收入帐户，而不是未计费收入抵消。 合同要求在每年年初为客户创建发票。 使用 **生成发票** 流程创建发票。 创建发票后，将创建以下日记帐条目。

| 主科目 | 未计费收入帐户 | 借方金额 | 贷方金额 |
|---|---|---|---|
| 未计费收入抵销 | | 100.00 美元 | |
| | 未计费收入帐户 | | 100.00 美元 |
| 应收帐款 | | 100.00 美元 | |
| | 收入帐户 | | 100.00 美元 |

| 主科目 | 未计费收入帐户 | 借方金额 | 贷方金额 |
|---|---|---|---|
| 延期维护收入帐户 | | 30.00 美元 | |
| | 未计费收入帐户 | | 30.00 美元 |
| 应收帐款 | | 30.00 美元 | |
| | 延期维护收入帐户 | | 30.00 美元 |

将按在接下来的两年开始时过帐的发票创建此相同的日记帐条目。 递延收入帐户的净额将为 0（零），因为没有舍入或汇率差异。 递延收入必须完全按照在 **创建日记帐条目** 流程中贷记的方式冲销。 由于收入仍处于递延状态且将在以后确认，因此会再次贷记到递延收入帐户。

在最后一步中，每月都会创建确认日记帐条目以确认延期维护费用收入。 可以使用 **识别处理** 页面创建日记帐条目。 或者，可以通过为 **延期计划** 页上的行选择 **确认** 来创建它。

| 延期的收入帐户 | 收入帐户 | 借方金额 | 贷方金额 |
|---|---|---|---|
| 延期维护收入 | | 2.50 美元 | |
| | 维护收入 | | 2.50 美元 |

每次为此延期物料运行识别过程时都会创建此日记帐条目（总共 36 次）。

#### <a name="short-term-fixed-year"></a>短期：固定年份

您可以通过在 **定期合同计费参数** 页面上设置 **短期未计费方法** 字段，将未计费收入与短期功能一起使用。 以下示例显示在将未计费收入与 **固定年度** 短期未计费方法一起使用时完成的计算。

已创建具有以下条件的计费计划：

- **开始日期：** 2020 年 6 月 1 日
- **结束日期：** 2021 年 12 月 31 日
- **单价**：100 美元
- **频率：** 每月

在 **所有计费计划** 页面上，初始日记帐条目由 **创建日记帐条目** 流程创建。 当前短期和长期金额的计算方式如下：

- **当前短期未计费收入金额：** 700 美元
- **当前长期未计费收入金额：** 1,200 美元

发票是为 2020 年 6 月 1 日至 2020 年 11 月 30 日的计费周期创建的。 当前短期和长期金额的计算方式如下：

- **当前短期未计费收入金额：** 100 美元
- **当前长期未计费收入金额：** 1,200 美元

发票是为 2020 年 12 月 1 日至 2020 年 12 月 31 日的计费周期创建的。 当前短期和长期金额的计算方式如下：

- **当前短期未计费收入金额：** 1,200 美元
- **当前长期未计费收入金额：** 0 美元

#### <a name="short-term-rolling-periods"></a>短期：滚动期间

您可以通过在 **定期合同计费参数** 页面上设置短期未计费方法，将未计费收入与短期功能一起使用。 以下示例显示在将未计费收入与 **滚动期间** 短期未计费方法一起使用时完成的计算。

已创建具有以下条件的计费计划：

- **开始日期：** 2020 年 6 月 1 日
- **结束日期：** 2021 年 12 月 31 日
- **单价**：100 美元
- **频率：** 每月

在 **所有计费计划** 页面上，初始日记帐条目由 **创建日记帐条目** 流程创建。 当前短期和长期金额的计算方式如下：

- **当前短期未计费收入金额：** 1,200 美元
- **当前长期未计费收入金额：** 700 美元

发票是为 2020 年 6 月 1 日至 2020 年 11 月 30 日的计费周期创建的。 当前短期和长期金额的计算方式如下：

- **当前短期未计费收入金额：** 1,200 美元
- **当前长期未计费收入金额：** 100 美元

发票是为 2020 年 12 月 1 日至 2020 年 12 月 31 日的计费周期创建的。 当前短期和长期金额的计算方式如下：

- **当前短期未计费收入金额：** 1,200 美元
- **当前长期未计费收入金额：** 0 美元

### <a name="items-with-revenue-allocation"></a>具有收入分配的物料

具有不同计费频率的两个物料已添加到计费计划。 两者均使用未计费收入，并且都是可延期的物料。

- **物料编号 1000：** Surface Pro 128GB

    - **计费频率：** 一次性
    - **单位价格：** 1,500 美元
    - **独立售价：** 1,600 美元
    - **合同收入：** 1,465.26 美元

- **物料编号 S0021：** 与物料编号 1000 一起出售的保险

    - **记帐频率：** 每月一次，持续 12 个月
    - **单价：** 每月 20 美元
    - **独立售价：** 25 美元
    - **合同收入：** 264.74 美元

由于这两个物料都使用未计费收入和收入分配，因此续订行上的合同总金额为 0（零）。 **合同收入** 列已添加并显示合同收入金额。

下表显示物料和发票的初始日记帐条目。

| 未计费收入帐户 | 延期的收入帐户 | 借方金额 | 贷方金额 |
|---|---|---|---|
| **物料 1000 日记帐条目** | | | |
| 借记未计费收入帐户 (401250) | | 1,465.26 美元 | |
| | 贷记延期的收入帐户 (250600) | | 1,465.26 美元 |
| **物料 0021 日记帐条目** | | | |
| 借记未计费收入帐户 (401250) | | 274.74 美元 | |
| | 贷记延期的收入帐户 (250600) | | 274.74 美元 |
| **账单** | | | |
| | 贷记未计费收入帐户 | | 1,465.26 美元 |
| | 贷记未计费收入帐户 | | 274.74 美元 |
| 借记 AR 帐户 (130100) | | 1,488.16 美元 | |

#### <a name="changes-to-the-billing-schedule-line-billing-detail-line-or-revenue-allocation"></a>对开票计划行、开票明细行或收入分配所做的更改

更改单价或数量时，必须更新作为收入分配一部分的每个物料的合同收入金额。 因此，将重新计算日记帐条目。

例如，物料 1000 的单价已从 1,500 美元更改为 1,600 美元。 在这种情况下，合同收入金额将自动重新计算为 1,549.47 美元。 物料 S0021 的合同收入将重新计算为 290.53 美元。

确认并执行更改后，将冲销两个物料的初始日记帐条目，并创建新的日记帐条目：

- **物料 1000：** 已冲销 1,465.26 美元的原始初始日记帐条目。 已创建 1,549.47 美元的新日记帐条目。
- **物料 S0021：** 已冲销 274.74 美元的原始初始日记帐条目。 已创建 290.53 美元的新日记帐条目。

#### <a name="termination"></a>终止

物料 S0021 的开始日期在 2020 年 1 月，结束日期在 2020 年 12 月，但在 2020 年 6 月终止。 必须重新计算两个物料的合同收入金额：

- **物料 1000：** 合同收入将重新计算为 1,567.67 美元。
- **物料 S0021：** 合同收入将重新计算为 124.00 美元。

为已终止的行创建调整日记帐条目。 已冲销属于同一多元素排列 (MEA) 编号的行的日记帐分录，并创建了一个新的日记帐分录：

- **物料 1000：** 已冲销 1,465.26 美元的原始初始日记帐条目。 已创建 1,549.47 美元的调整日记帐条目。
- **物料 S0021：** 已冲销 274.74 美元的原始初始日记帐条目。 已创建 124.00 美元的新日记帐条目。
