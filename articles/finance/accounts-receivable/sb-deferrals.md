---
title: 订阅计费中的收入和费用延期
description: 本主题说明如何在订阅计费中设置收入和费用延期。
author: JodiChristiansen
ms.date: 11/04/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: twheeloc
ms.search.scope: Core, Operations
ms.custom: 539093
ms.search.region: Global
ms.author: jchrist
ms.search.validFrom: 2021-11-05
ms.dyn365.ops.version: 10.0.24
ms.openlocfilehash: 5ff8d2f4663c53bf6dece1ef9af6609d5f0c5b50
ms.sourcegitcommit: cf7d4af11bf85638ee831a28ea5ee1a1e041a675
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/04/2022
ms.locfileid: "8544467"
---
# <a name="revenue-and-expense-deferrals-in-subscription-billing"></a>订阅计费中的收入和费用延期

本主题说明如何在订阅计费中设置和使用收入和费用延期。 延期计划始终基于并依赖于基础的原始文档或计费计划。 因为它们是基于默认值创建的，所以不能单独输入或创建。

设置和使用收入和费用延期的流程会发生在多个页面上：

- 在 **收入和费用延期参数** 页面上，您可以定义公司首选项。
- 在 **延期默认值** 页面上，您可以设置用于延期计划的默认科目和模板。
- 在 **延期模板** 和 **基于事件的延期模板** 页面上，您可以定义用于延期计划的模板。
- 在 **所有延期计划** 页面上，您可以查看和编辑任何延期计划。

收入和费用延期可与定期合同计费一起使用。

## <a name="revenue-and-expense-deferral-parameters"></a>收入和支出延期参数

**收入和费用延期参数** 页包含以下字段。

| 字段 | Description |
|---|---| 
| **计划** 选项卡 | |
| 每个期间均等 | <p>指定在为延期计划计算每个期间的金额时是否使用期间的天数：</p><ul><li>**是** – 每个期间的金额是相同的，无论该期间的天数如何。 部分期间（如延期计划开始或结束时的期间）将按比例分配。</li><li>**否** – 金额根据每个期间的天数计算。</li></ul><p>您可以在交易记录级别替代此设置。</p> |
| 销售折扣延期选项 | <p>指定是否为折扣和销售订单金额创建单独的延期计划：</p><ul><li>**单独的折扣计划** – 折扣金额与收入金额分开保存。<p>在这种情况下，创建销售订单并过帐时会创建两个延期计划。 折扣和收入金额将过帐到不同的延期科目。</p></li><li>**将折扣与收入合并** – 折扣金额与收入金额合并。 将创建一个延期计划，折扣金额和收入金额都过帐到同一个延期科目。<p>在这种情况下，创建销售订单并过帐时会创建一个延期计划。 折扣金额和收入金额都过帐到同一个延期科目。</p></li></ul><p>**注意：** 要将折扣应用于使用未计费收入功能的物料，选择 **单独的折扣计划** 选项。 然后可以将折扣应用于所有物料，无论是否使用未计费收入功能。 如果选择了 **将折扣与收入合并** 选项，则无法将折扣应用于使用未计费收入功能的物料。</p> |
| 采购折扣延期选项 | <p>选择是否为折扣和采购订单金额创建单独的延期计划：</p><ul><li>**单独的折扣计划** – 折扣金额与费用金额分开保存。<p>在这种情况下，创建采购订单并过帐时会创建两个延期计划。 折扣和费用金额将过帐到不同的延期科目。</p></li><li>**将折扣与收入合并** – 折扣金额与费用金额合并。 将创建一个延期计划，折扣金额和费用金额都过帐到同一个延期科目。<p>在这种情况下，创建采购订单并过帐时会创建一个延期计划。 折扣金额和费用金额都过帐到同一个延期科目。</p></li></ul> |
| 合并之前的期间 | <p>指定是否合并先前期间的延期计划行：</p><ul><li>**是** – 如果延期开始日期在交易记录日期之前的期间内，在交易记录日期的期间之前的所有金额都将合并到一个延期计划行。</li><li>**否** – 所有期间的金额都保存在单独的延期计划行中。<p>如果延期开始日期与交易记录日期在同一期间或更晚，此选项将不起作用。</p></li></ul><p>此设置可以在交易记录级别更新。</p> |
| 默认延期开始日期 | <p>选择用于确定延期计划开始日期的规则：</p><ul><li>**交易记录日期** – 使用交易日期作为开始日期。</li><li>**当月开始** – 使用当前月份的第一天作为开始日期。 如果交易记录日期是任何月份的第一天，当前月份的第一天将是开始日期。</li><li>**下个月开始** – 使用下一个月的第一天作为开始日期。 如果交易记录日期是第一天，则使用交易记录日期。 否则，将使用下一个月的第一天。</li><li>**15 规则** – 如果交易记录日期在 1 日到 15 日之间，则使用当前月份的第一天作为开始日期。 如果交易记录日期是 16 日或以后，则使用下一个月的第一天作为开始日期。</li></ul><p>您可以在交易记录级别更新此设置。</p> |
| 短期延期方法 | <p>选择短期延期方法：**无**、**滚动期间** 或 **固定年份**。</p><p>|
| 延期过帐方法 | <p>选择用于创建延期交易记录的方法：</p><ul><li>**资产负债表** – 使用资产负债表过帐方法创建延期交易记录。</li><li>**损益** – 使用损益过帐方法创建延期交易记录。 过帐交易记录时，您可以查看发票凭证来查看平衡初始确认和确认抵消金额的额外条目。</li></ul> |
| 冲销贷记损益 | <p>**注意：** 此字段仅在 **延期过帐方法** 字段设置为 **损益** 时可用。</p><p>指定当冲销、终止或退款应用于计费计划或销售订单时是否冲销损益金额：</p><ul><li>**是** – 冲销损益金额，并将贷方调整金额应用于延期计划。<p>如果冲销发生在计费周期的中间，将按比例分配金额。</p></li><li>**否** – 当冲销、终止或退款应用于计费计划或销售订单时，不会为损益创建冲销交易记录。</li></ul> |
| **确认** 选项卡 | |
| 自动过帐普通日记帐 | <p>指定是否自动过帐由收入和费用延期创建的日记帐条目：</p><ul><li>**是** – 自动过帐由收入和费用延期创建的日记帐条目。<p>**提示：** 选择 **是**，您可以帮助防止因手动更改凭证而导致的会计不一致。</p></li><li>**否** – 不自动过帐由收入和费用延期创建的日记帐条目。 您必须手动过帐所有日记帐。</li></ul> |
| 汇总确认日记帐 | <p>指定默认情况下是否合并确认凭证：</p><ul><li>**是** – 为所有具有相同日期的确认行创建一个凭证。 凭证中具有相同科目的所有行全部合并到一个行。</li><li>**否** – 为每个确认行创建凭证。</li></ul><p>您可以在 **确认处理** 页面上更新此设置。</p> |
| 默认日记帐名称 | 为从收入和费用延期流程（如确认处理）创建的日记帐选择日记帐名称。 |
| 确认日记帐行描述 | <p>选择在日记帐凭证行描述中显示的描述：</p><ul><li>**计划行日期** – 在日记帐行描述中显示计划行日期。</li><li>**原始交易记录详细信息** – 在日记帐行描述中显示原始交易记录信息。<p>**示例：** USMF-0001，CIV-00839，软件收入</p></li></ul> |
| **编号规则** 选项卡 | 使用此选项卡设置租赁编号规则的默认值。 编号规则生成向导用于自动生成和分配编号规则。 除非您想要手动更改生成的编号规则，否则您不必更改编号规则。 |
| 计划编号 | 用于延期计划的序列的编号。 |

## <a name="deferral-templates"></a>延期模板

使用 **延期模板** 页面定义用于延期计划的直线模板。

以下是使用模板的一些优点：

* 延期的长度将自动计算。
* 您允许具有跳过确认期间的延期计划。
* 您可以通过将模板分配给产品、产品组、产品类别、客户或客户组来自动延期。 模板分配从 **延期默认值** 页面完成。

模板可以使用多个期间频率：每日、每月或会计期间。

模板行由类型（**已确认** 或 **已跳过**）和期间长度组成。 跳过的行在延期计划行上的数量为 0（零）。 如果您不想在所有期间确认收入，此行为会很有用。

### <a name="create-a-deferral-template"></a>创建延期模板

要创建延期模板，请执行以下步骤。

1. 在 **延期模板** 页面上，选择 **新建**。
2. 在 **模板** 字段中，输入名称。
3. 在 **描述** 字段中，输入描述。
4. 在 **期间频率** 字段中，选择期间频率。
5. 选择 **添加** 将一行添加到行列表的顶部，或选择 **追加** 将一行添加到列表底部。
6. 在 **类型** 字段中，选择期间的类型。
7. 在 **期间长度** 字段中，指定期间的长度。
8. 对您需要的每个额外的行重复步骤 5 到 7。
9. 选择 **保存**。

## <a name="deferral-defaults"></a>延期默认值

使用 **延期默认值** 页面为物料设置默认延期科目并将默认模板分配给可延期物料。 您还可以为费用设置延期科目并将模板分配给可延期费用。

**按物料延期**

对于有物料的交易记录（例如，销售订单），您可以将科目和模板分配给特定物料和客户。 当交易记录被延期时，这些设置将用作默认值。 要使交易记录默认可延期，您必须在 **可延期物料** 页面上设置物料。

**按科目延期**

对于没有物料的交易记录（例如，普通日记帐），您可以指定延期科目。 当这些科目在交易记录行上使用时，交易记录会自动标记为延期。 对应的模板和确认科目将被分配到交易记录行。

**所有交易记录类型（例如，在“销售订单”、“采购”和“普通日记帐”选项卡上）**

页面上的科目是没有财务维度的主科目。 根据您的组织，确认科目的财务维度来自客户或物料。

每个模板行必须有一个直线模板或一个基于事件的模板。 不能同时有两种。

### <a name="for-sales-orders"></a>对于销售订单

要指定销售订单的延期默认值，请执行以下步骤。

1. 在 **销售订单** 选项卡上，选择延期类型。
2. 选择 **添加** 添加一行。
3. 在 **物料代码** 字段中，选择物料代码。 物料代码确定如何应用延期默认值。
4. 指定如何应用物料代码：

    * 如果 **物料代码** 字段设置为 **表** 或 **组**，在 **物料关系** 字段中选择物料关系。
    * 如果 **物料代码** 字段设置为 **类别**，在 **类别关系** 中选择类别关系。
    * 如果 **物料代码** 字段设置为 **所有**，默认值将应用于所有适用的记录。

5. 指定如何应用科目代码：

    * 如果 **科目代码** 字段设置为 **表** 或 **组**，在 **科目关系** 字段中选择科目关系。
    * 如果 **科目代码** 字段设置为 **所有**，科目将应用于所有记录。

6. 在 **主科目** 字段中，选择延期的主科目。
7. 如果 **延期过帐方法** 字段设置为 **损益**，在 **初始收入科目** 字段中选择初始收入科目，在 **收入抵消科目** 字段中选择收入抵消科目。
8. 如果 **短期延期方法** 字段设置为 **滚动期间** 或 **固定年份**，在 **短期延期科目** 字段中选择短期延期科目。
9. 对于模板，您可以选择 **添加** 添加行。
10. 在 **物料代码** 字段中，选择物料代码。
11. 指定如何应用物料代码：

    * 如果 **物料代码** 字段设置为 **表** 或 **组**，在 **物料关系** 字段中选择物料关系。
    * 如果 **物料代码** 字段设置为 **类别**，在 **类别关系** 字段中选择类别关系。
    * 如果 **物料代码** 字段设置为 **所有**，默认值将应用于所有适用的记录。

12. 指定如何应用科目代码：

    * 如果 **科目代码** 字段设置为 **表** 或 **组**，在 **科目关系** 字段中选择科目关系。
    * 如果 **科目代码** 字段设置为 **所有**，科目将应用于所有适用的记录。
    * 在 **直线模板** 字段中选择直线模板或在 **基于事件的模板** 字段中选择基于事件的模板。

13. 选择 **保存**。

### <a name="for-purchase-orders"></a>对于采购订单

要指定采购订单的延期默认值，请执行以下步骤。

1. 在 **采购** 选项卡上，选择延期类型。
2. 选择 **添加** 添加一行。
3. 在 **物料代码** 字段中，选择物料代码。
4. 指定如何应用物料代码：

    * 如果 **物料代码** 字段设置为 **表** 或 **组**，在 **物料关系** 字段中选择物料关系。
    * 如果 **物料代码** 字段设置为 **类别**，在 **类别关系** 字段中选择类别关系。
    * 如果 **物料代码** 字段设置为 **所有**，默认值将应用于所有适用的记录。

5. 指定如何应用科目代码：

    * 如果 **科目代码** 字段设置为 **表** 或 **组**，在 **科目关系** 字段中选择科目关系。
    * 如果 **科目代码** 字段设置为 **所有**，科目将应用于所有适用的记录。

6. 在 **主科目** 字段中，选择延期的主科目。
7. 如果 **延期过帐方法** 字段设置为 **损益**，在 **初始收入科目** 字段中选择初始收入科目，在 **收入抵消科目** 字段中选择收入抵消科目。
8. 如果 **短期延期方法** 字段设置为 **滚动期间** 或 **固定年份**，在 **短期延期科目** 字段中选择短期延期科目。
9. 对于模板，选择 **添加** 添加行。 
10. 在 **物料代码** 字段中，选择物料代码。
11. 指定如何应用物料代码：

    * 如果 **物料代码** 字段设置为 **表** 或 **组**，在 **物料关系** 字段中选择物料关系。
    * 如果 **物料代码** 字段设置为 **类别**，在 **类别关系** 字段中选择类别关系。
    * 如果 **物料代码** 字段设置为 **所有**，默认值将应用于所有适用的记录。

12. 指定如何应用科目代码：

    * 如果 **科目代码** 字段设置为 **表** 或 **组**，在 **科目关系** 中选择科目关系。
    * 如果 **科目代码** 字段设置为 **所有**，科目将应用于所有适用的记录。
    * 在 **直线模板** 字段中选择直线模板或在 **基于事件的模板** 字段中选择基于事件的模板。

13. 选择 **保存**。

### <a name="for-general-journals"></a>对于普通日记帐

要指定普通日记帐条目的延期默认值，请执行以下步骤。

1. 选择 **普通日记帐** 选项卡。
2. 对于延期，选择 **添加** 添加行。
3. 如果 **短期延期方法** 字段设置为 **滚动期间** 或 **固定年份**，在 **短期延期科目** 字段中选择短期延期科目。
4. 在 **延期科目** 字段中，选择延期科目。
5. 在 **确认科目** 字段中，选择确认科目。
6. 如果 **延期过帐方法** 字段设置为 **损益**，在 **初始收入科目** 字段中选择初始收入科目，在 **收入抵消科目** 字段中选择收入抵消科目。
7. 在 **直线模板** 字段中选择直线模板或在 **基于事件的模板** 字段中选择基于事件的模板。
8. 选择 **保存**。

### <a name="for-free-text-invoices"></a>对于普通发票

要指定普通发票的延期默认值，请执行以下步骤。

1. 选择 **普通发票** 选项卡。
2. 对于延期，选择 **添加** 添加行。
3. 指定如何应用科目代码：

    * 如果 **科目代码** 字段设置为 **表** 或 **组**，在 **科目关系** 字段中选择科目关系。
    * 如果 **科目代码** 字段设置为 **所有**，科目代码将应用于所有适用的记录。

4. 在 **延期科目** 字段中，选择延期科目。
5. 如果 **短期延期方法** 字段设置为 **滚动期间** 或 **固定年份**，在 **短期延期科目** 字段中选择短期延期科目。
6. 在 **确认科目** 字段中，选择确认科目。
7. 如果 **延期过帐方法** 字段设置为 **损益**，在 **初始收入科目** 字段中选择初始收入科目，在 **收入抵消科目** 字段中选择收入抵消科目。
8. 在 **直线模板** 字段中选择直线模板或在 **基于事件的模板** 字段中选择基于事件的模板。
9. 选择 **保存**。

### <a name="for-invoice-journals"></a>对于发票日记帐

要指定发票日记帐条目的延期默认值，请执行以下步骤。

1. 选择 **发票日记帐** 选项卡。
2. 对于延期，选择 **添加** 添加行。
3. 指定如何应用科目代码：

    * 如果 **科目代码** 字段设置为 **表** 或 **组**，在 **科目关系** 字段中选择科目关系。
    * 如果 **科目代码** 字段设置为 **所有**，科目代码将应用于所有适用的记录。

4. 在 **延期科目** 字段中，选择延期科目。
5. 如果 **短期延期方法** 字段设置为 **滚动期间** 或 **固定年份**，在 **短期延期科目** 字段中选择短期延期科目。
6. 在 **确认科目** 字段中，选择确认科目。
7. 如果 **延期过帐方法** 字段设置为 **损益**，在 **初始收入科目** 字段中选择初始收入科目，在 **收入抵消科目** 字段中选择收入抵消科目。
8. 在 **直线模板** 字段中选择直线模板或在 **基于事件的模板** 字段中选择基于事件的模板。
9. 选择 **保存**。

### <a name="items-that-are-deferred-by-default"></a>默认延期的物料

使用 **默认延期的物料** 页面定义默认延期的物料。 您可以设置物料将延期的交易记录类型。 您可以指定是延迟单个物料，还是整个物料组或类别。

当您将物料设置为延期时，在 **延期默认值** 页面选择默认科目和模板。 如果未选择科目和模板，输入这些物料的交易记录行不会延期。

对于根据关联的销售或采购类别延期的物料，延期设置基于类别。 但是，如果未在 **类别关系** 字段中选择类别，将使用排名较高的类别的延期设置。 例如，您添加了 **家庭视频** 销售类别，但没有添加 **电视** 销售类别。 当您添加与 **电视** 类别关联的延期物料时，**家庭视频** 的延期设置将用于该物料。

### <a name="set-up-deferred-items"></a>设置延期物料

要设置默认延期的物料，请按照以下步骤操作。

1. 在 **默认延期的物料** 页面上，选择您需要的选项卡：**销售订单** 或 **采购**。
2. 选择 **添加** 添加一行。
3. 在 **物料代码** 字段中，选择物料代码。
4. 指定如何应用物料代码：

    * 如果 **物料代码** 字段设置为 **组** 或 **表**，在 **物料关系** 字段中选择物料关系。
    * 如果 **物料代码** 字段设置为 **类别**，在 **类别关系** 字段中选择类别关系。

5. 对您需要的每个额外的行重复步骤 2 到 4。
6. 选择 **保存**。

## <a name="deferred-charges"></a>延期费用

使用 **延期费用** 页面定义默认延期的费用。

> [!NOTE]
> * 目前，可延期费用只能用于销售订单。
> * 费用只能在行级别延期。 要在销售订单抬头级别延迟费用，您可以在销售订单的单独行上将费用设置为延期物料。
> * 要延期普通发票的费用，您必须将费用作为单独的延期发票行输入。
> * 此功能不能用于支持费用和收入拆分功能。

### <a name="set-up-deferred-charges"></a>设置延期费用

要设置延期费用，请执行以下步骤。

1. 在 **延期费用** 页上，选择 **添加** 添加行。
2. 在 **费用代码** 字段中，选择费用代码。
3. 在 **费用关系** 字段中，选择费用关系。
4. 对您需要的每个额外的行重复步骤 1 到 3。
5. 选择 **保存**。

## <a name="event-based-deferral-templates"></a>基于事件的延期模板

使用 **基于事件的延期模板** 页面定义您可以在延期交易记录中使用的基于事件的延期模板，您还可以在 **延期默认值** 页面上分配这些模板。

### <a name="create-an-event-based-template"></a>创建基于事件的模板

要创建基于事件的延期模板，请执行以下步骤。

1. 在 **基于事件的延期模板** 页面上，选择 **新建**。
2. 在 **模板** 字段中，为模板输入唯一名称。
3. 在 **描述** 字段中，输入描述。
4. 在 **分配类型** 字段中，选择分配类型：

    * **可变金额** – 为输入的每一行分配一个特定的金额。
    * **等额** – 为输入的每一行分配相同的金额。 
    * **百分比** – 根据为每一行输入的百分比值分配金额。
    * **完成百分比** – 为输入的每一行分配累计完成值。
    * **可变数量** – 为输入的每一行分配特定的数量。

5. 如果您希望每个事件行按发票交易记录中的单位数均等拆分，请将 **按单位创建单独事件** 选项设置为 **是**。 如果您不想要拆分事件行，则将其设置为 **否**。
6. 在 **到期科目** 字段中，选择到期科目。
7. 选择 **添加** 将一行添加到行列表的顶部，或选择 **追加** 将一行添加到列表底部。
8. 在 **描述** 字段中，输入事件的描述。
9. 如果 **分配类型** 字段设置为 **百分比**，在 **分配百分比** 字段中指定分配百分比。 百分比必须在 0（零）到 100 之间。 如果您将 **分配百分比** 字段留空，百分比将被视为 0。 所有百分比的总和显示在页面底部的 **总百分比** 字段中，此值必须等于 100。
10. 在 **到期月数** 字段中，指定事件有效的月数。 交易记录延期的到期日期将根据此值自动输入。
11. 选中 **过帐时确认** 复选框将在交易记录过帐时自动确认收入。 如果您保留此复选框为清除状态，则必须手动确认收入。
12. 在 **确认科目** 字段中，选择事件的确认科目，如果事件使用与整个延期计划不同的科目。 此字段与 **过帐时确认** 复选框一起使用。
13. 对您需要的每个额外的行重复步骤 7 到 12。
14. 选择 **保存**。
