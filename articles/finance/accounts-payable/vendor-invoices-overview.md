---
title: 供应商发票概览
description: 本主题提供有关供应商发票的一般信息。
author: abruer
ms.date: 06/03/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: VendorInvoiceWorkspace, VendInvoiceInfoListPage
audience: Application User
ms.reviewer: roschlom
ms.custom:
- "13971"
- intro-internal
ms.assetid: 0ec4dbc0-2eeb-423b-8592-4b5d37e559d3
ms.search.region: Global
ms.author: abruer
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 3fac6a0232f7e51e859fcc5b23244be092ce8d76123ec42f586063a02abab603
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/05/2021
ms.locfileid: "6722783"
---
# <a name="vendor-invoices-overview"></a>供应商账单概览

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]


本主题提供有关供应商发票的一般信息。 供应商发票是产品和服务的付款请求。 供应商发票可能表示正在进行中的服务的帐单，也可能基于特定物料和服务的采购订单。

## <a name="vendor-invoices"></a>供应商账单

采购订单中的供应商发票在根据对供应商下达的采购订单收到产品或服务时生成。 供应商发票包含一个标题以及一个或多个物料或服务行。 供应商发票完成从采购订单到物料收货到供应商发票的周期。

尽管某些供应商发票连接到采购订单，但供应商发票还可以包含不对应于采购订单行的行。 您还可以创建与任何采购订单都没有关联的供应商发票。 这些供应商发票可能代表正在进行的服务，如水电费帐单。 添加正在进行的服务时，您不必引用采购订单。

有多种方式来输入供应商发票：

- 供应商发票登记簿能让您快速输入不引用采购订单的发票，因此，您可以计入费用。 通过使用供应商发票审核日记帐，您可以选择这些发票并将其过帐到供应商余额以冲销应计。
- 供应商发票日记帐能让您仅用一个步骤即可快速输入不引用采购订单的发票。
- 与供应商发票池一起，供应商发票登记簿能让您快速输入发票以计入费用。 您可以以后打开关联的采购订单以比对支出帐户过帐发票。
- **打开供应商发票** 和 **待定供应商发票** 页能让您从已确认的采购订单创建供应商发票。

以下讨论提供有关如何使用 **未结供应商发票** 或 **待定供应商发票** 页从采购订单创建供应商发票的详细信息。

## <a name="understanding-invoice-line-quantities"></a>了解发票行数量

当从相关采购订单中打开供应商发票时，系统将从采购订单创建发票行。 默认情况下，系统从产品收据获取数量。 但是，您可以使用以下任何默认行为：

- **当前接收量** – 对部分装运使用此选项。 系统根据采购订单上的 **当前接收量** 字段中指定的数量设置 **数量** 中的默认值。
- **订购数量** – 对整个装运使用此选项。 系统根据采购订单上的 **已订购** 字段中指定的数量设置 **数量** 中的默认值。
- **登记数量** – 如果物料需要登记，则使用此选项，如在 **物料模型组** 页上指定的一样。 **数量** 字段中的默认值是已登记的实际更新数量。
- **产品收据数量** – 如果已经针对订单收到了产品收据，则使用此选项。 系统从可用产品收据的总数量获取 **数量** 字段中的默认值。
- **已注册数量和服务** – 如果已经针对已库存或未库存的物料在到达日志中登记数量，则使用此选项。 此选项还包括服务（无论是否登记）。

如果您的法人使用发票匹配，您可以在 **产品收据数量匹配** 列中查看数量匹配的结果。 您还可以使用操作窗格的 **检查** 选项卡上的 **匹配详细信息** 按钮查看数量匹配的结果。

## <a name="adding-a-line-that-wasnt-on-the-purchase-order"></a>添加不在采购订单上的行

您可以将不在采购订单上的行添加到供应商发票。 您必须选择物料编号或采购类别。 您可以向该行添加数量、价格和金额。 该行将仅包括在发票合计的匹配政策中。

## <a name="submitting-a-vendor-invoice-for-review"></a>提交供应商发票，以供审核

您的组织可以使用工作流来管理供应商发票的审核流程。 可能需要对发票抬头、发票行或两者进行工作流审核。 工作流控件适用于抬头或行，具体取决于选择该控件时焦点的位置。 不显示 **过帐** 按钮，而会显示 **提交** 按钮，用于通过审核流程发送供应商发票。

### <a name="preventing-invoice-from-being-submitted-to-workflow"></a>阻止将发票提交给工作流 

可通过下面的几种方法阻止将发票提交给工作流。

- **发票合计和登记合计不相等。** 发票提交者将收到预警，指示总计不相等。 此警报提供了在将发票重新提交到工作流之前更正余额的机会。 如果已开启了 **功能管理** 页面中的 **发票合计和登记发票合计不相等时禁止提交给工作流** 参数，则可使用此功能。 

- **发票中包含未分配的费用。** 发票提交者将收到预警，说明发票有未分配的费用，所以他们可以在重新将发票提交给工作流之前更正发票。 如果已开启了 **功能管理** 页面中的 **供应商发票中有未分配的费用时禁止提交给工作流** 参数，则可使用此功能。

- **发票与另一个已过帐发票的发票编号相同.** 提交发票的人员将收到一条消息，指示发现编号重复的发票。 在将发票重新提交给工作流之前，可以更正重复编号。 当“应付帐款”中的 **检查使用的发票编号** 参数设置为 **拒绝重复项** 时，将显示此预警。 如果已开启 **功能管理** 页面中的 **已过帐的发票中有该发票编号，但您的系统未设置为接受重复发票编号时禁止提交给工作流** 参数，则可使用此功能。

- **发票包含发票数量小于匹配的产品收货数量的行。** 提交发票或尝试过帐的人员将收到一条消息，告知数量不相等。 此消息提供在将发票重新提交到工作流之前更正值的机会。 如果打开了 **功能管理** 页上的 **阻止将供应商发票过帐和提交到工作流** 参数，并且打开了 **应付帐款参数** 页上的 **阻止过帐和提交到工作流** 参数，此功能可用。  

## <a name="matching-vendor-invoices-to-product-receipts"></a>将供应商发票与产品收据匹配

您可以输入和保存供应商发票的信息，您还可以将发票行匹配产品收据行。 如果需要，还可以匹配行的部分数量。

您可以创建基于通过当前日期已接收的产品收据行物料的供应商发票，即使尚未接收特定采购订单的所有物料。 例如，如果供应商每个月发送一张支票，该供应商支票涵盖您在该月中发运的所有交货，则可以使用此选项。 每个产品收据都表示该采购订单上物料的部分或全部交货。

当发票在工作流中时，审核人可以更新发票数量，使其与 **要匹配的产品收货数量** 字段中的值匹配。 为此，在 **功能管理** 工作区中选择 **更新发票数量以匹配工作流中的产品收货数量** 功能，然后选择 **启用**。 如果工作流程中的审核人已从发票行中的所有产品收据中删除了所有匹配项，发票行将被删除。 如果未启用此功能，将不会为工作流中的发票更新发票数量。

在您过帐该发票时，每个物料的 **未开票数量** 都用来自所选产品收据的已收货数量的总数更新。 如果采购订单上所有物料的 **未开票数量** 和 **剩余交货量** 均为 0（零），则该采购订单的状态将更改为 **已开票**。 如果 **未开票数量** 不为 0，则该采购订单的状态将不更改，并且可为其输入其他发票。

此选项假定为该采购订单至少过帐了一个产品收据。 供应商发票基于这些产品收据并反映来自这些装箱单的数量。 该发票的财务信息基于在您过帐该发票时输入的信息。

有关详细信息，请参阅[记录供应商发票和匹配接收的数量](../accounts-payable/tasks/record-vendor-invoice-match-against-received-quantity.md)。

## <a name="configure-an-automated-task-for-vendor-invoice-workflow-to-post-the-vendor-invoice-using-a-batch-job"></a>为供应商发票工作流配置自动化任务以使用批处理作业过帐供应商发票

可向供应商发票工作流添加自动化过帐任务，以便批量处理发票。 批量过帐发票让工作流可以继续进行，而不必等待过帐完成，从而提高提交给该工作流的所有任务的整体性能。

若要批量过帐供应商发票，请在 **功能管理** 页中开启 **供应商发票批量过帐** 参数。 供应商发票工作流通过转到 **应付帐款 > 设置 > 应付帐款工作流** 配置。

无论是否启用了功能参数 **供应商发票批量过帐**，都可以在工作流编辑器中查看 **使用批处理过帐供应商发票** 任务。 如果未启用此功能参数，启用该参数之前，工作流中不处理其中包含 **使用批处理过帐供应商发票** 任务的发票。 同一个工作流中不能同时处理 **使用批处理过帐供应商发票** 任务和 **过帐供应商发票** 自动化任务。 此外，**使用批处理过帐供应商发票** 任务应该是工作流配置中的最后一个元素。

可以通过转到 **应付帐款 > 设置 > 应付帐款参数 > 发票 > 发票** 工作流，指定批处理中要包含的发票的数量，以及重新安排批处理之前的等待小时数。 

## <a name="working-with-multiple-invoices"></a>使用多个发票

您可以同时处理多张发票以及同时全部过帐。 如果需要创建多个发票，请使用 **待定供应商发票** 页。 如果您必须过帐和打印多个供应商发票，请使用发票审核日记帐。 如果您使用发票审核日记帐，则必须针对该采购订单过帐至少一个产品收据，并且在发票登记簿中必须过帐该采购订单的发票。 该发票的财务信息来自在该发票登记簿中已过帐的发票。

## <a name="recovering-vendor-invoices-that-are-being-used"></a>恢复正在使用的供应商发票

正在使用的供应商发票不能被其他用户编辑。 但是，有时发票的状态可能会指示正在使用该发票，尽管未在主动编辑该发票。 例如，编辑发票期间应用程序可能已停止响应，或用户可能无意间让发票在应用程序中保持打开状态。

可以使用 **恢复供应商发票** 页面恢复或释放已在使用的时间超过了四个小时的供应商发票，使其可编辑。 可以从 **供应商发票条目** 工作区上的 **定期任务** 导航或磁贴打开此页面。 发票在恢复后可在 **供应商发票** 页面上编辑。

仅当为您分配了 **恢复正在使用的供应商发票** 安全职责和权限，您才可以访问 **恢复供应商发票**。 此外，还必须开启 **应付帐款参数** 页面上的 **允许恢复供应商发票** 参数。

## <a name="resetting-the-workflow-status-for-vendor-invoices-from-unrecoverable-to-draft"></a>将供应商发票的工作流主题从“无法恢复”重置为“草稿”

因为不可恢复错误而停止的工作流实例的工作流状态为 **不可恢复**。 如果供应商发票工作流的状态为 **不可恢复**，则可通过选择 **撤消** 将其重置为 **草稿**。 然后就可以编辑该供应商发票。 如果开启了 **功能管理** 页上的 **将供应商发票的工作流主题从无法恢复重置为草稿** 参数，则此功能可用。

可使用 **工作流历史记录** 页将工作流状态重置为 **草稿**。 可从 **供应商发票** 或 **常用 > 查询 > 工作流** 导航打开此页面。 若要将工作流状态重置为 **草稿**，请选择 **撤消**。 也可以通过选择 **供应商发票** 或 **待定供应商发票** 页上的 **撤消** 操作，将工作流状态重置为“草稿”。 工作流状态重置为 **草稿** 之后，就可以在 **供应商发票** 页中编辑。

## <a name="viewing-the-invoice-total-on-the-pending-vendor-invoices-page"></a>在"待定供应商发票"页面上查看发票总额
您可以在通过启用 **应付帐款参数** 页面中的 **在待定供应商发票列表中显示发票总计** 参数，在 **待定供应商发票** 页面中查看发票总额。 



## <a name="additional-resources"></a>其他资源

- [设置供应商账单策略](../accounts-receivable/tasks/set-up-vendor-invoice-policies.md)
- [使用供应商发票的 AP 系统中的重要发票数据](tasks/key-invoice-data-ap-system-vendor-invoice.md)
- [使用审核日记帐将发票数据键入应付帐款](tasks/key-invoice-data-into-ap-system-approval-journal.md)
- [使用发票池将发票数据键入 AP 系统](tasks/key-invoice-data-into-ap-system-invoice-pool.md)
- [在发票日记帐中记录供应商发票](tasks/record-vendor-invoice-invoice-journal.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
