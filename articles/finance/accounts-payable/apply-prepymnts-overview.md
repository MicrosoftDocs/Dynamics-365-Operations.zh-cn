---
title: 自动将预付款应用于供应商发票
description: 本主题介绍自动将预付款应用于供应商发票的功能。
author: sunfzam
ms.date: 10/19/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: roschlom
ms.custom: intro-internal
ms.assetid: ''
ms.search.region: Global
ms.author: shpandey
ms.search.validFrom: 2017-08-30
ms.dyn365.ops.version: 10.0.23
ms.openlocfilehash: b1ea73a50f5adaa1a00c9ddfa8c983375e0d47be
ms.sourcegitcommit: 1707cf45217db6801df260ff60f4648bd9a4bb68
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/23/2021
ms.locfileid: "7675713"
---
# <a name="automatically-apply-to-vendor-invoices"></a>自动应用于供应商发票

[!include [banner](../includes/banner.md)]

本主题介绍自动将预付款应用于供应商发票的功能。 可以作为采购协议的一部分为采购订单创建预付款。 收到供应商发票后，预付款可用于结算供应商发票中的应付帐款。 新功能使系统能够在导入供应商发票时自动使用供应商发票上的采购订单编号查找相应的预付款。

如果找到预付款并且可以应用，行将被添加到现有发票行以应用预付款。 在发票匹配过程中，不会考虑预付款行。

以下要点描述在执行不同的采购流程时如何应用预付款：

- **每个采购订单一个供应商发票** – 采购订单上的预付款将应用于供应商发票。
- **多个采购订单一个供应商发票** – 所有采购订单上的预付款将应用于供应商发票。
- **每个采购订单多个供应商发票** – 采购订单上的预付款将应用于第一个导入的供应商发票。 如果预付款金额超出发票金额，预付款应用将失败，您必须手动应用预付款。
- **多个采购订单多个供应商发票** – 采购订单的预付款将应用于第一个相关发票。 如果预付款金额超出发票金额，预付款应用将失败，您必须手动应用预付款。 如果预付款后剩余的所有预付款全部应用于第一个发票，其可以应用于随后的发票。

如果系统尝试应用预付款，但应用失败，具体行为取决于 **预付款应用失败时锁定跟进自动化流程** 的设置：

- **是** – 自动化历史记录中添加了错误消息“自动应用预付款: 失败”，发票仍在待处理供应商发票的列表中。 在手动应用预付款之前，发票将一直被锁定。

    要手动应用预付款，请转到待处理供应商发票。 在 **发票详细信息** 页面上，将锁定发票的 **包括在自动化流程中** 选项设置为 **否**。 您现在可以手动应用预付款。 应用预付款后，将 **包括在自动化流程中** 选项设置为 **是**，以可以自动处理发票。

    您还可以通过将 **包括在自动化流程中** 选项设置为 **否**，然后将其设置回 **是**，来绕过预付款的自动应用。 您将收到以下消息：“此采购订单已存在预付款。 是否要为所选供应商发票忽略该预付款？” 选择 **是**。 自动化历史记录中添加了消息“已手动绕过预付款应用”，自动流程再次运行时，不会锁定供应商发票。

- **否** – 跟进自动化流程将继续。 您仍然可以在结算期间应用预付款。
