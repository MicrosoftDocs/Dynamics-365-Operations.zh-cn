---
title: 设置税代码
description: 本文说明如何在税款计算服务中设置税代码。
author: wangchen
ms.date: 11/30/2021
ms.topic: business-process
ms.prod: ''
ms.technology: ''
ms.search.form: TaxTable, TaxData
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: wangchen
ms.search.validFrom: 2021-10-26
ms.dyn365.ops.version: Version 10.0.21
ms.openlocfilehash: 1bc250716763ce9d8e25c8850c8a3676bf65fb0c
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/03/2022
ms.locfileid: "8862919"
---
# <a name="set-up-tax-codes"></a>设置税代码

[!include [banner](../includes/banner.md)]

本文说明如何在税款计算服务中设置税代码。 包括让税代码生效的一个简单场景的设置，以及有关复杂场景下一些高级税代码功能的信息。

> [!IMPORTANT]
> 税款计算服务中的税代码设置是不知道法人的。 您只能在 Regulatory Configuration Service (RCS) 中完成此设置一次。 当您在 Finance 中为选定的法人启用税款计算服务时，税代码会自动同步到 Microsoft Dynamics 365 Finance。

## <a name="simple-setup"></a>简单设置

按照以下步骤在简单场景中使用税代码，如只有一个税率的场景。

1. 登录 [Regulatory Configuration Service](https://marketing.configure.global.dynamics.com/)。
2. 转到 **工作区** \> **全球化功能** \> **税款计算**。
3. 选择要设置的功能和版本，然后选择 **编辑**。
4. 在 **常规** 选项卡上，选择 **配置版本**。
5. 在 **税码** 选项卡上，选择 **添加**，然后输入税码和描述。
6. 选择 **计算来源**。 计算来源是在您选择的税务配置版本中定义的一组方法。 对于此简单场景，选择 **按净额**。
7. 选择 **保存**。 根据您选择的计算来源，更多字段变为可用。
8. 在 **比率** 快速选项卡上，选择 **添加** 为此税代码添加一个税率。
9. 选择 **保存**。

## <a name="calculation-origin"></a>计算来源

计算来源定义税基准额和税额的计算方式。 它由 **电子报告** 工作区的税务配置进行配置。 **计算来源** 字段中具有以下值：

- 按净额
- 按总额
- 按数量
- 按利润
- 税上税

### <a name="by-net-amount"></a>按净额

如果您在 **计算来源** 字段中选择 **按净额**，税额将按购买或销售金额的百分比计算，不包括任何其他税代码。

例如，税率为 25%，发票行显示数量 10 个商品，每个商品为 1.00，允许客户享受 10% 的行折扣。 在这种情况下，金额的计算方式如下：

- **净额：**(10 × 1.00) – 10% = 9.00 
- **销售税：** 9.00 × 25% = 2.25 
- **发票总金额：** 9.00 + 2.25 = 11.25

### <a name="by-gross-amount"></a>按总额

如果您在 **计算来源** 字段中选择 **按总额**，税额按总销售金额的百分比计算。 总额是行的净额加上行的所有税费，不包括 **计算来源** 字段设置为 **按总额** 的一项税款。

例如，税务主管机构对某一物料征收了一些特殊的税种。 在计算税款之前，这些税种的金额添加到净额。 使用以下税代码：

- **税种 1** – 比率为 10%，采用 **按净额** 计算方法。
- **税种 2** – 比率为 20%，采用 **按净额** 计算方法。
- **税率** – 比率为 25%，采用 **按总额** 计算方法。

如果净额为 10.00，税种 1 金额为 1.00 (10.00 × 10%)，税种 2 金额为 2.00 (10.00 × 20%)。 在这种情况下，金额的计算方式如下： 

- **总额：** 净额 + 税种 1 金额 + 税种 2 金额 = 10.00 + 1.00 + 2.00 = 13.00 
- **税额：** 13.00 × 25% = 3.25 
- **总税种和税：** 1.00 + 2.00 + 3.25 = 6.25 
- **发票总金额：** 10.00 + 6.25 = 16.25

### <a name="by-quantity"></a>按数量

如果您在 **计算来源** 字段中选择 **按数量**，税额计算为每单位固定金额乘以在凭证行中输入的数量。 单位金额在 **比率** 快速选项卡上指定。

例如，税代码设置为每单位 1.20。 在销售发票行上，售出 25 个单位的商品。 在这种情况下，税额计算为 25 × 1.20 = 30.00。

### <a name="by-margin"></a>按利润

如果您在 **计算来源** 字段中选择 **按利润**，税额按销售毛利的百分比计算。 销售毛利是销售金额减去成本金额。 此计算方法仅适用于销售交易。

例如，税率为 25%，发票行显示数量 10 个商品，每个商品为 10.00，每个商品的成本为 6。 在这种情况下，金额的计算方式如下：

- **销售毛利：** 10 × ( 10.00 – 6.00) = 40.00
- **税额：** 40.00 × 25% = 10.00
- **发票总金额：** 100.00 + 10.00 = 110.00

### <a name="tax-on-tax"></a>税上税

如果您在 **计算来源** 字段中选择 **税上税**，销售税将按同一单据行上所有其他税额的百分比计算。

例如，使用以下税代码：

- **税种 1** – 比率为 10%，采用 **按净额** 计算方法。
- **税种 2** – 比率为 20%，采用 **按净额** 计算方法。
- **义务税** – 比率为 25%，采用 **税上税** 计算方法。

在这种情况下，金额的计算方式如下：

- **净额：** 10.00 
- **税种 1：** 10.00 × 10% = 1.00 
- **税种 2：** 10.00 × 20% = 2.00 
- **义务税：** 3.00 × 25% = 0.75
- **税金总计：** 1.00 + 2.00 + 0.75 = 3.75 
- **发票总金额：** 10.00 + 3.75 = 13.75

## <a name="advanced-functionality"></a>高级功能

本节说明复杂场景税代码设置的一些高级功能。

### <a name="tax-exemption"></a>免税

如果您在 **常规** 快速选项卡上将 **免税** 选项设置为 **是**，税额将始终以 0（零）覆盖，无论实际税率是多少。

您可以设置 **免税代码** 字段来指定免税原因。 

您可以为 **免税代码** 字段启用主数据查找。 这样，您可以在 Finance 中定义的免税代码值中进行选择。 有关如何启用主数据查找的信息，请参阅[启用税款计算配置的主数据查找](tax-service-set-up-environment-master-data-lookup.md)。

例如，税率为 25%，税代码上的 **免税** 选项设置为 **是**。 发票行显示数量 10 个商品，每个商品为 1.00，允许客户享受 10% 的行折扣。 在这种情况下，金额的计算方式如下：

- **净额：**(10 × 1.00) – 10% = 9.00 
- **销售税：** 0.00 
- **发票总金额：** 9.00 + 0.00 = 9.00

### <a name="use-tax"></a>销项税

如果您在 **常规** 快速选项卡上将 **销项税** 选项设置为 **是**，税额将过帐到 **应付销项税** 科目，而不是 **供应商汇总** 科目。

例如，税率为 25%，税代码上的 **销项税** 选项设置为 **是**。 发票行显示数量 10 个商品，每个商品为 1.00，允许客户享受 10% 的行折扣。 在这种情况下，金额的计算方式如下：

- **净额：**(10 × 1.00) – 10% = 9.00 
- **销项税：** 9.00 × 25% = 2.25
- **发票总金额：** 9.00 + 0.00 = 9.00

> [!IMPORTANT]
> 如果税代码上的 **免税** 选项和 **销项税** 选项都设置为 **是**，对于销售交易，此代码将被识别为免税，对于购买交易，将被识别为销项税。

### <a name="reverse-charges"></a>冲销费用

如果您在 **常规** 快速选项卡上将 **冲销费用** 选项设置为 **是**，可以将税率配置为负。 对于冲销费用场景，我们建议您设置两个税代码：一个具有正税率，一个具有负税率。 两个税代码应具有相同的税率值，在具有负税率的税代码上，**冲销费用** 选项应设置为 **是**。 有关 Finance 中冲销费用解决方案的详细信息，请参阅[增值税/GST 方案的冲销费用机制](emea-reverse-charge.md)。

例如，在一个发票行上确定了两个税代码。 一个税率为 25%。 另一个税率为 -25%，第二个税代码的 **冲销费用** 选项设置为 **是**。 发票行显示的数量为 10 个商品，每个商品为 1.00。 在这种情况下，金额的计算方式如下：

- **净额：**(10 × 1.00) = 10.00 
- **税代码 1：** 10.00 × 25% = 2.50
- **税代码 2：** 10 × -25% = -2.50
- **发票总金额：** 10.00 + 2.50 -2.50 = 10.00

### <a name="exclusion-from-base-amount-calculations"></a>从基准额计算中排除

如果您在 **常规** 快速选项卡上将 **从基准额计算中排除** 选项设置为 **是**，在含税价场景中，税代码的计算税额将被从其他税代码计算的税基准额中排除。

有关详细信息，请参阅[启用“含税价”时根据价格计算税金](global-exclude-from-tax-base-amount-calculation.md)。

### <a name="rates"></a>比率

在 **比率** 快速选项卡上，您可以为不同的税基准额范围定义不同的税率。 为计算税额，税款计算服务始终使用与税基准额相匹配的税率。

例如，税率的配置可能如下表中所示。

| 最小金额 | 最大额度 | 税率   |
| -------------- | -------------- | ---------- |
| 0              | 1,000          | 10% |
| 1,000          | 5,000          | 15% |
| 5,000          | 10,000         | 20% |
| 10,000         | 0              | 30% |

在这种情况下，税额的计算方式如下：

- 如果税基准额为 300.00，税率为 10%，税额将为 300.00 × 10% = 30.00。
- 如果税基准额为 3,000.00，税率为 15%，税额将为 3,000.00 × 15% = 450.00。
- 如果税基准额为 6,000.00，税率为 20%，税额将为 6,000.00 × 10% = 1,200.00。
- 如果税基准额为 20,000.00，税率为 30%，税额将为 20,000.00 × 30% = 6,000.00。

> [!NOTE]
> 如果税基准额可以同时匹配一行的最大金额和另一行的最小金额，税基准额将使用与最小基准额匹配的税率。 例如，如果税基准额为 1000.00，税率为 15%，税额将为 1,000.00 × 15% = 150.00。

### <a name="limits"></a>限制

在 **限制** 快速选项卡上，您可以定义税金限制来在税额位于最小/最大范围内时替代计算的税额。

- 如果计算的税额大于或等于在 **限制** 快速选项卡上配置的最大税额，最终税额将等于最大税额。
- 如果计算的税额小于在 **限制** 快速选项卡上配置的最小税额，最终税额将为 0（零）。

例如，税金限制的配置方式如下：

- **最小税额：** 100 
- **最大税额：** 1,000

如果计算的税额为 2,000，最终税额将为 1,000。

如果计算的税额为 500，最终税额将为 500。

如果计算的税额为 80，最终税额将为 0（零）。

[!INCLUDE[footer-include](../../includes/footer-banner.md)]
