---
title: 配置科目结构
description: 此主题提供有关科目结构和财务维度的信息。
author: aprilolson
ms.date: 06/03/2019
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: LedgerEliminationRule
audience: Application User
ms.reviewer: roschlom
ms.custom: 13131
ms.assetid: 08fd46ef-2eb8-4942-985d-40fd757b74a8
ms.search.region: Global
ms.author: aolson
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 22123eb7a46910a2bc68a85b57271cfa2f3eb41e
ms.sourcegitcommit: 74e47075eab2b0b28f82b0d57f439719847ecb01
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/07/2021
ms.locfileid: "6193798"
---
# <a name="configure-account-structures"></a>配置科目结构

[!include[banner](../includes/banner.md)]

科目结构使用主科目和财务维度创建一组规则，用于在输入科目编号时确定所用顺序和值。 可根据企业的需要设置任意数量的科目结构。 将把科目结构分配给公司的日记帐设置，以便共享。

创建科目结构时，最大科目段数为 11。 如果需要的科目段超过此数量，请彻底评估您的设置和需求，因为这会影响用户体验。 考虑科目段在申报方案中是否使用层次结构派生，而不是在数据录入期间或通过使用用户定义的字段派生。 例如，如果要按位置申报，但是您可以通过部门或成本中心识别位置，则不需要将位置设置为财务维度。 如果在评估后的确认定需要的科目段数超过 11 个，则可使用高级规则添加更多科目段。

科目结构需要主科目。 主科目不需要是结构中的第一个科目段，但的确可用于在录入科目编号时确定使用的是哪个科目结构。 因此，只有分配给日记帐的一个结构中可以有主科目值，以免重合。 识别了科目结构之后，将筛选允许值列表以引导用户仅选择有效的维度值，从而日记帐录入错误的可能性。

> [!NOTE] 
> 如果计划针对财务维度编制预算，则该财务维度需要是科目结构的一部分。 编制预算现在不使用高级规则。

## <a name="example"></a>示例
为了说明有关设置科目结构的最佳实践，假设一家公司希望在科目和业务单位财务维度级别跟踪自己的资产负债表科目 (100000..399999)。 对于收入科目和支出科目 (400000..999999)，该公司跟踪财务维度“业务单位”、“部门”和“成本中心”。 如果他们开展销售，也希望跟踪客户。 如果使用此方案，建议为该公司的日记帐指定两个科目结构 - 一个用于资产负债表科目，一个用于损益科目。 若要优化用户体验和验证，“客户”应该是仅当使用了销售科目时财神爷的高级规则。

**资产负债表科目结构**

|主科目          | 业务单位    |
|----------------------|-----------|
|100000..399999 | *;” “|

**损益科目结构**

|主帐户          | 业务单位    |部门          | 成本中心    | &nbsp; |
|----------------------|------------------|--------------------|-----------|---|
|400000..999999 | \*;” “| \*;” “| \*;” “| \*;” “|

**用于添加客户的高级规则**

条件：主科目介于 400000 与 499999 之间时，添加客户。 不能将其保留为空。

|客户         |
|-----------------|
|* |

在这个简化的示例中，允许所有值和空白，所以使用了 * 和 “ “。

## <a name="segments-and-allowed-values"></a>段落和允许的值
**科目段** 和 **允许的值详细信息** 部分提供了网格式体验，用于输入过帐期间验证时要遵循的规则。 可直接在网格中的单元格内键入，从 Excel 导入，或使用 **允许的值详细信息** 部分引导您完成。

**允许的值详细信息** 部分可引导您使用开头为、介于、包含等各种 **运算符** 创建条件。

[![允许值](./media/account.png)](./media/account.png) 

在根据科目结构设置没有其他潜在值可供选择时，将把允许的值设置为日记帐或会计分配录入页中的默认值。

下面是 **损益科目结构** 的示例。

|主科目          | 业务单位    |部门          | 成本中心    |
|----------------------|-----------|----------------------|-----------|
|400000..999999 | 002 | 022 | 014 |

输入日记帐和在损益范围内选择科目时，选择业务单位“002”将导致把值 022 和 014 设置为科目控件上的默认值。 还将在会计分配页中发生以下行为。 

## <a name="more-than-7-criteria-needed"></a>需要 7 个以上的条件

如果需要的条件超过 7 个，则可在下一行中继续添加条件。 您将发现在 **允许的值详细信息** 部分中工作时，输入了第七个条件之后，**+新添** 添加将不再处于活动状态。 原因很多，例如： 
 - 列宽 
 - 数据的存储方式 
 - **允许的值详细信息** 控件的性能
 - 可用性  
 
若要继续添加更多添加，请单击 **在科目段中复制** 和 **允许的值部分**。 这样就会把条件复制到新行中。 然后可以再次键入或修改 **允许的值详细信息** 部分。

## <a name="best-practices"></a>最佳实践
设置科目结构时，可以遵循一些最佳实践。 但是，这只是指导，所以在通盘讨论中应考虑业务、成长计划和维持计划。

- 让主科目成为科目结构的第一项或尽量靠近科目结构前面，这样用户就可以在录入科目时获得最佳的引导式体验。

- 尽量重复使用科目结构，以减少法人中的维护。

- 对于法人中的变型，请考虑使用高级规则，以便重复使用科目结构。

- 定义允许的值时，请尽量使用范围和通配符。 这样在此配置下不仅可以在不进行维护的情况下增长和变化，而且系统还可以更理想地运行。

- 请不要只是为科目结构中的每个科目段放一个星号，然后单纯地依赖高级规则。 这样可能很难管理，往往会在维护期间导致用户错误，从而让系统无法过帐。

## <a name="account-structure-activation"></a>科目结构启用
如果对科目结构的新设置或更改感到满意，必须将其激活。 如果为日记帐分配了科目结构，此项激活可能需要运行很长一段时间，因为必须将系统中的所有未过帐交易记录同步到新结构中。 科目结构的变化不影响已过帐交易记录。

有关详细信息，请参阅[计划您的会计科目表](plan-chart-of-accounts.md)、[财务维度](financial-dimensions.md)和[输入科目和维度组合（分段式录入控件）](enter-account-dimension-combinations-segmented-entry-control.md)。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]