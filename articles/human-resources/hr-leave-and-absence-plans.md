---
title: 创建休假和缺勤计划
description: 在 Dynamics 365 Human Resources 中为不同类型的休假创建休假计划。
author: andreabichsel
manager: tfehr
ms.date: 09/11/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-human-resources
ms.technology: ''
ms.search.form: LeavePlanFormPart, LeaveAbsenceWorkspace
audience: Application User
ms.reviewer: anbichse
ms.search.scope: Human Resources
ms.custom: 7521
ms.assetid: ''
ms.search.region: Global
ms.author: anbichse
ms.search.validFrom: 2020-02-03
ms.dyn365.ops.version: Human Resources
ms.openlocfilehash: 90a3d624dac6c78dfbf2479c5ac7eab76dd4b542
ms.sourcegitcommit: 18e626c49ccfdb12c1484b985e3a275e51f61320
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/04/2021
ms.locfileid: "5115940"
---
# <a name="create-a-leave-and-absence-plan"></a>创建休假和缺勤计划

在 Dynamics 365 Human Resources 中为您提供的每种休假类型定义休假和缺勤计划。 休假和缺勤计划可按不同频率累积，例如每年、每月或每半月。 您还可以将计划定义为赠予，这样就在特定日期累积一次。 例如，您可以创建一个每年赠予浮动假日的计划。

分层休假计划使员工可以根据为组织工作的时间量来享受福利。 分层计划可在额外的福利时间内自动登记。

您可以指定最大结转额或最小余额，以确保员工仅使用他们累积的福利时间。

例如，使用分层计划，您可以向新员工赠予 80 个小时的带薪休息时间 (PTO) 福利。 然后，您可以设置，每 60 个月的服务赠予 120 小时。

您还可以创建基于职位的休假福利，例如仅限管理层的福利时间。

## <a name="create-a-leave-plan"></a>创建休假计划

1. 在 **休假和缺勤** 页中，选择 **创建新计划**。

2. 在 **详细信息** 下，为您的计划输入 **名称**、**开始日期**、**说明** 和 **休假类型**。

如果启用了 **为单个休假和缺勤计划配置多个休假类型** 功能，则将在 **应计计划** 中配置休假类型，而不是在 **详细信息** 下配置。 对于累积计划表中的每个记录，您可以定义休假类型。 此外，启用此功能之后，需要为集成或需要使用实体的其他方案使用新数据实体。 

这些新实体为：

- 休假和缺勤银行交易记录 V2
- 休假和缺勤登记 V2
- 休假和缺勤计划层 V2
- 休假和缺勤计划 V2
- 休假请求 V2

 > [!IMPORTANT]
   > 启用此功能后，将无法关闭。

3. 在 **累积** 选项卡中定义累积。累积确定何时以及多久向员工奖励一次休息时间。 在此步骤中，您将定义应在何时奖励累积的政策，以及按比例分配休假福利的政策。

   1. 从 **累积频率** 下拉框中选择一个值：

      - 日常
      - 每周
      - 每两周
      - 每半月
      - 月度
      - 季度
      - 每半年
      - 每年
      - 否

   2. 从 **累积期间基数** 下拉框中选择一个选项，以确定用于计算累积期间的开始日期：

      | 应计期间基数 | 说明 |
      | --- | --- |
      | **计划开始日期** | 累积期间开始日期是计划可以使用的日期。 |
      | **员工特定日期** | 累积期间开始日期取决于员工事件：</br><ul><li>自定义（您必须为每个单个登记指定累积日期基数）</li><li>周年纪念日日期</li><li>原始雇用日期</li><li>受聘日期</li><li>工作人员的调整后开始日期</li><li>工作人员的开始日期</li></ul> |

   3. 从 **累积奖励日期** 下拉框中选择一个选项：

      - **累积期间结束日期** - 员工将被奖励在奖励期间的最后一天休假。 若要计入正确金额，应计过程必须涵盖整个期间。 例如，如果累积期间为 2020 年 1 月 1 日至 2020 年 1 月 31 日，您必须运行 2020 年 2 月 1 日的累积以包括 1 月。

      - **累积期间开始日期** - 员工将被奖励在奖励期间的第一天休假。

   4. 从 **针对登记的累积政策** 下拉框中选择一个选项。 此值定义当员工在累积期间中间登记时如何计算累积。

      - **按比例分配** - 登记日期和开始日期之间的日期范围用于确定天数差异。 差异在处理应计时应用。

      - **完全累积** - 完全应计金额基于层，在第一个应计处理期间奖励。

      - **不累积** - 不计入在下一个应计期间奖励。

   5. 从 **针对取消登记的累积政策** 下拉框中选择一个选项。 此值定义当员工在累积期间中间取消登记时如何计算累积。

      - **按比例分配** – 登记日期和开始日期之间的日期范围用于确定天数差异。 差异在处理应计时应用。

      - **完全应计** – 完全应计金额基于层，在第一个应计处理期间奖励。

      - **不计入** – 不计入在下一个应计期间奖励。

4. 在 **累积计划** 选项卡中定义累积计划。累积计划确定：

   - 员工如何累积休息时间
   - 员工将累积多少额度
   - 将结转多少额度

   您可以创建层来基于不同级别奖励休息时间。

   如果您有小时员工，可以根据工作时数奖励休假，而不是根据在职年限。 工作时数数据通常存储在考勤管理系统中。 您可以从时间和出勤系统导入正常工时和加班工时，并将其用作员工奖励的基数。
   
    1. 从 **累积类型** 下拉框中选择一个选项：

      - **服务月数** - 根据按服务月数计算的累积计划。

      - **工作时数** - 根据按工作时数计算的累积计划。 有关工作时数累积的详细信息，请参阅[根据工作时数累积休息时间](hr-leave-and-absence-plans.md?accrue-time-off-based-on-hours-worked)。

      有关累积余额的详细信息，请参阅[根据工作时数累积休息时间](hr-leave-and-absence-plans.md?enrollments-and-balances)。

    2. 在累积计划表中输入值：

      - **服务月数** - 员工有资格累积所必须工作的最少月数。 如果不需要最小值，则将此值设置为 0。

      - **工作时数** - 员工有资格累积每个累积期间所必须工作的最少时数。 如果不需要最小值，则将此值设置为 0。

      - **累积额度** - 员工每个期间累积的时数或天数。 此期间基于应计频率。

      - **最小余额** - 如果员工可以请求多于可用休假的休假，可以为最小余额使用负值。

      - **最大结转** - 累积过程将在开始日期的周年纪念日调整超过最大结转余额的休假余额。

      - **赠予额度** - 员工在休假计划中首次登记时被赠予的初始时数或天数。 此金额不针对每个应计期间计入。
      
如果启用了 **为单个休假和缺勤计划配置多个休假类型** 功能，请从 **休假类型** 选择选项。 

   > [!IMPORTANT]
   > 启用此功能后，将无法关闭。

如果启用了 **使用全职等价** 功能，Human Resources 将使用为职位定义的全职等价 (FTE) 来按比例分配员工的累积。 例如，如果 FTE 为 0.5，累积额度为 10，员工将累积 5。 仅当启用多个休假类型时，才能使用此功能。  

5. 选择 **保存**。

## <a name="accrue-time-off-based-on-hours-worked"></a>根据工作时数累积休假时间

如果您有小时员工，可以根据工作时数奖励休假，而不是根据在职年限。 工作时数数据通常存储在考勤管理系统中。 您可以从时间和出勤系统导入正常工时和加班工时，并将其用作员工奖励的基数。

如果您选择工作时数作为累积类型，您可以为累积使用两种类型的时数：正常时数和加班时数。 工作时数计划的累积处理使用累积频率及累积期间基数来确定要累积的时数。

### <a name="annual-accrual-frequency"></a>年累积频率

| 累积奖励日期    | 工作时数层    | 应计金额        | 工作时数日期   | 工作时数累积| 奖励               |
| --------------------- | -------------------- | --------------------- | -------------------- |-------------------- |-------------------- |
| 12/31/2018            | 2080                 | 144                   | 1/1/2018-12/31/2018  | 2085                | 144                 |        
| 12/31/2018            | 2080                 | 144                   | 1/1/2018-12/31/2018  | 2000                | 0                 |


### <a name="monthly-accrual-frequency"></a>月累积频率

| 累积奖励日期    | 工作时数层    | 应计金额        | 工作时数日期   | 工作时数累积| 奖励               |
| --------------------- | -------------------- | --------------------- | -------------------- |-------------------- |-------------------- |
| 8/31/2018             | 160                  | 12                    | 8/1/2018-8/31/2018   | 184                 | 12                  |        
| 8/31/2018             | 160                  | 3                     | 8/1/2018-8/31/2018   | 184                 | 3                   |

### <a name="semi-monthly-accrual-frequency"></a>半月累积频率

| 累积奖励日期    | 工作时数层    | 应计金额        | 工作时数日期   | 工作时数累积| 奖励               |
| --------------------- | -------------------- | --------------------- | -------------------- |-------------------- |-------------------- |
| 8/31/2018             | 80                   | 6                     | 8/16/2018-8/31/2018  | 81                  | 6                  |        
| 8/31/2018             | 80                   | 6                     | 8/16/2018-8/31/2018  | 75                  | 0                   |

### <a name="weekly-accrual-frequency"></a>周累积频率

| 累积奖励日期    | 工作时数层    | 应计金额        | 工作时数日期   | 工作时数累积| 奖励               |
| --------------------- | -------------------- | --------------------- | -------------------- |-------------------- |-------------------- |
| 8/31/2018             | 40                   | 3                     | 8/27/2018-8/31/2018  | 42                  | 3                  |        
| 8/31/2018             | 40                   | 3                     | 8/27/2018-8/31/2018  | 35                  | 0                   |

### <a name="employee-assigned-leave-plans"></a>员工指定了休假计划

如果员工指定了休假计划，将为工作时数计划显示工时的层基准和类型。 还将为活动计划显示截止当前日期累积期间的实际工作时数。

### <a name="loading-data"></a>正在加载数据

您可以使用数据管理中的 **休假和缺勤工作时数** 实体导入实际时数。 如果使用工作日历，导入将验证正常工作时数是否不超过日历定义的当天计划时数。 导入还将验证给定日期的工作时数是否不超过 24。 

您需要以下信息才能导入要在休假时间累积过程中使用的累积时数：

- 人员编号 
- 工作日期
- 类型
- 工时

一个日期只能与一种类型关联。

| 人员编号       | 工作日期           | 类型                  | 小时                |
| --------------------- | -------------------- | --------------------- | -------------------- |
| 000337                | 8/6/2018             | 常规               | 8                    |       
| 000337                | 8/7/2018             | 常规               | 8                    |
| 000337                | 8/7/2018             | 加班              | 3                    |
| 000337                | 8/8/2018             | 常规               | 8                    |
| 000337                | 8/7/2018             | 常规               | 8                    |
| 000337                | 8/9/2018             | 常规               | 8                    |

## <a name="enrollments-and-balances"></a>登记和余额

### <a name="enrollment-date"></a>登记日期

登记日期确定员工何时可以开始累积休假时间。 例如，在 2018 年 6 月 15 日在休假计划中登记的员工，在 2018 年 6 月 15 日前不能累积任何休假时间。

### <a name="current-balance"></a>当前余额

当前余额为可以发起休息时间请求的休假额度。 此金额包括截至当前日期的应计、审核的请求和调整。

### <a name="current-balance-examples"></a>当前余额示例

#### <a name="annual-plan"></a>年度计划

**计划设置**

| 计划开始日期 | 登记日期 | 应计频率 | 应计期间基数 | 应计奖励日期    |
|-----------------|-----------------|-------------------|----------------------|-----------------------|
| 1/1/2018        | 1/1/2018        | 每年            | 计划开始日期      | 应计期间结束 |

累积在 2019 年 1 月 1 日 (1/1/2019) 处理，以涵盖整个期间。

**结果**

| 应计金额 | 最低余额 | 最大结转 | 请求金额 | 当前余额（截至 1/1/2019） |
|----------------|-----------------|-----------------------|----------------|----------------------------------|
| 200            | 0               | 120                   | 40             | 160                              |

当前余额 (160) = 应计金额 (200) – 请求金额 (40)

#### <a name="semimonthly-plan"></a>半月计划

**计划设置**

| 计划开始日期 | 登记日期 | 应计频率 | 应计期间基数 | 应计奖励日期    |
|-----------------|-----------------|-------------------|----------------------|-----------------------|
| 1/1/2018        | 2/1/2018        | 每半月       | 计划开始日期      | 应计期间结束 |

累积在 2018 年 5 月 1 日 (5/1/2018) 处理，以涵盖整个期间。

**结果**

| 应计金额 | 最低余额 | 最大结转 | 请求金额 | 当前余额（截至 1/1/2019） |
|----------------|-----------------|-----------------------|----------------|----------------------------------|
| 5              | 0               | 120                   | 8              | 22                               |

当前余额 (22) = 应计金额 (5 × 6) – 请求金额 (8)

#### <a name="monthly-plan"></a>月度计划

**计划设置**

| 计划开始日期 | 登记日期 | 应计频率 | 应计期间基数 | 应计奖励日期    |
|-----------------|-----------------|-------------------|----------------------|-----------------------|
| 1/1/2018        | 2/1/2018        | 每半月       | 计划开始日期      | 应计期间结束 |

累积在 2018 年 5 月 1 日 (5/1/2018) 处理，以涵盖整个期间。

**结果**

| 应计金额 | 最低余额 | 最大结转 | 请求金额 | 当前余额（截至 1/1/2019） |
|----------------|-----------------|-----------------------|----------------|----------------------------------|
| 5              | 0               | 120                   | 8              | 7                                |

当前余额 (7) = 应计金额 (5 × 3) – 请求金额 (8)

### <a name="forecasted-balance"></a>预测余额

*预测余额* 是可在将来日期使用的休假额度。 应计和结转调整一直预测到该日期。

Human Resources 使用以下公式：

星期一预测余额 = 当前余额 – 请求 + 应计 – 结转调整

### <a name="forecasted-balance-examples"></a>预测余额示例

#### <a name="annual-plan"></a>年度计划

**计划设置**

| 计划开始日期 | 登记日期 | 应计频率 | 应计期间基数 | 应计奖励日期    |
|-----------------|-----------------|-------------------|----------------------|-----------------------|
| 1/1/2018        | 1/1/2018        | 每年            | 计划开始日期      | 应计期间结束 |

累积在 2019 年 2 月 15 日 (2/15/2019) 处理，以涵盖整个期间。

**结果**

| 应计金额 | 最低余额 | 最大结转 | 当前余额 | 预测余额（截至 2/15/2019） |
|----------------|-----------------|-----------------------|-----------------|--------------------------------------|
| 20             | 0               | 20                    | 40              | 40                                   |

预测余额 (40) = 应计金额 (20) + 当前余额 (40) – 结转调整 (20)

#### <a name="semimonthly-plan"></a>半月计划

**计划设置**

| 计划开始日期 | 登记日期 | 应计频率 | 应计期间基数 | 应计奖励日期    |
|-----------------|-----------------|-------------------|----------------------|-----------------------|
| 1/1/2018        | 2/1/2018        | 每半月       | 计划开始日期      | 应计期间结束 |

累积在 2019 年 2 月 15 日 (2/15/2019) 处理，以涵盖整个期间。

**结果**

| 应计金额 | 最低余额 | 最大结转 | 当前余额 | 预测余额（截至 2/15/2019） |
|----------------|-----------------|-----------------------|-----------------|--------------------------------------|
| 5              | 0               | 20                    | 40              | 35                                   |

预测余额 (35) = 应计金额 (5 × 3) + 当前余额 (40) – 结转调整 (20)

#### <a name="monthly-plan"></a>月度计划

**计划设置**

| 计划开始日期 | 登记日期 | 应计频率 | 应计期间基数 | 应计奖励日期    |
|-----------------|-----------------|-------------------|----------------------|-----------------------|
| 1/1/2018        | 2/1/2018        | 每半月       | 计划开始日期      | 应计期间结束 |

累积在 2019 年 2 月 15 日 (2/15/2019) 处理，以涵盖整个期间。

**结果**

| 应计金额 | 最低余额 | 最大结转 | 当前余额 | 预测余额（截至 2/15/2019） |
|----------------|-----------------|-----------------------|-----------------|--------------------------------------|
| 10             | 0               | 20                    | 40              | 30                                   |

预测余额 (30) = 应计金额 (10 × 1) + 当前余额 (40) – 结转调整 (20)

### <a name="proration-balance-examples"></a>按比例分配余额示例

#### <a name="prorated-monthly-plan"></a>按比例分配月度计划

**计划设置**

| 计划开始日期 | 应计频率 | 应计期间基数 |
|-----------------|-------------------|----------------------|
| 1/1/2018        | 每月           | 计划开始日期      |

**结果**

| 盘点责任人            | 服务月数 | 登记日期 | 入职日期 | 应计金额 | 处理应计 | 所有者权益 |
|---------------------|-------------------|-----------------|------------|----------------|-----------------|---------|
| Jeannette Nicholson | 0.00              | 6/1/2018        | 6/1/2018   | 1.00           | 9/1/2018        | 3.00    |
| Jay Norman          | 0.00              | 6/15/2018       | 6/15/2018  | 1.00           | 9/1/2018        | 2.53    |

#### <a name="full-accrual-monthly-plan"></a>完全应计月度计划

**计划设置**

| 计划开始日期 | 应计频率 | 应计期间基数 |
|-----------------|-------------------|----------------------|
| 1/1/2018        | 每月           | 计划开始日期      |

**结果**

| 盘点责任人            | 服务月数 | 登记日期 | 入职日期 | 应计金额 | 处理应计 | 所有者权益 |
|---------------------|-------------------|-----------------|------------|----------------|-----------------|---------|
| Jeannette Nicholson | 0.00              | 6/1/2018        | 6/1/2018   | 1.00           | 9/1/2018        | 3.00    |
| Jay Norman          | 0.00              | 6/15/2018       | 6/15/2018  | 1.00           | 9/1/2018        | 3.00    |

#### <a name="no-accrual-monthly-plan"></a>无应计月度计划

**计划设置**

| 计划开始日期 | 应计频率 | 应计期间基数 |
|-----------------|-------------------|----------------------|
| 1/1/2018        | 每月           | 计划开始日期      |

**结果**

| 盘点责任人            | 服务月数 | 登记日期 | 入职日期 | 应计金额 | 处理应计 | 所有者权益 |
|---------------------|-------------------|-----------------|------------|----------------|-----------------|---------|
| Jeannette Nicholson | 0.00              | 6/1/2018        | 6/1/2018   | 1.00           | 9/1/2018        | 3.00    |
| Jay Norman          | 0.00              | 6/15/2018       | 6/15/2018  | 1.00           | 9/1/2018        | 2.00    |

## <a name="see-also"></a>请参阅

- [休假和缺勤概览](hr-leave-and-absence-overview.md)
- [配置休假和缺勤类型](hr-leave-and-absence-types.md)
- [累积休假和缺勤计划](hr-leave-and-absence-accrue.md)
