---
title: 定义 ER 模型映射并从中选择数据源
description: 以下步骤说明属于系统管理员或电子报表开发人员的用户如何为电子报表数据模型选择数据源。
author: NickSelin
manager: AnnBe
ms.date: 08/29/2018
ms.topic: business-process
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ERWorkspace, ERSolutionTable, ERDataModelDesigner, ERModelMappingTable, ERModelMappingDesigner, ERExpressionDesignerFormula
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: 7d57c191761b8e2367ff8806c1cd98d6d83559e3
ms.sourcegitcommit: 659375c4cc7f5524cbf91cf6160f6a410960ac16
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/05/2020
ms.locfileid: "4682109"
---
# <a name="define-er-model-mappings-and-select-data-sources-for-them"></a>定义 ER 模型映射并从中选择数据源

[!include [banner](../../includes/banner.md)]

以下步骤说明属于系统管理员或电子报表开发人员的用户如何为电子报表 (ER) 数据模型选择数据源。 数据源将绑定到设计时所选数据模型的各个部分中，并在运行时间生成该数据模型的业务数据。 在此示例中，您将为给示例公司 Litware，Inc. 创建的现有数据模型选择数据源。为了完成这些步骤，您首先必须完成“创建新数据模型”这一过程中的步骤。


## <a name="open-the-electronic-reporting-configurations-tree"></a>打开“电子申报配置”树结构
1. 转到“组织管理”>“工作区”>“电子申报”。
2. 单击“申报配置”。

## <a name="insert-a-new-model-mapping"></a>插入新的模型映射
1. 在树结构中，选择“付款（简化模型）”。
2. 单击“设计器”。
3. 单击“映射模型到数据源”。
4. 单击“新建”。
    * 这将创建映射数据模型到数据源的新记录。 在此示例中，您将映射数据模型到所需付款类型 — 贷方转帐的数据源中。     可以为特定数据模型设计多个映射。 例如，您可以为不同类型的付款创建一个映射，如直接借记或贷方转帐。 在此示例中，您将创建贷方转帐的映射。  
5. 在“名称”字段中，键入“CT 映射”。
    * CT 映射  
6. 在“描述”字段，键入“付款模型映射 CT”。
    * 付款模型映射 CT  
7. 在“定义”字段中，键入“客户贷方转帐发起”。
    * 客户贷方转帐发起  
8. 改变定义。
9. 单击“保存”。

## <a name="define-required-data-sources-for-the-current-model-mapping"></a>定义当前模型映射所需的数据源
1. 单击“设计器”。
2. 在树中，选择“Dynamics 365 for Operations\表记录”'。
3. 单击“添加根”。
    * 输入此数据源以访问付款交易记录。  
4. 在“名称”字段中，键入“交易记录”。
    * 交易  
5. 在“标签”字段中，输入“交易记录”。
    * 交易  
6. 在“帮助”字段中，输入“分类日记帐行”。
    * 分类日记帐行  
7. 在“要求查询”字段中选择“是”。
    * 选择“是”。  
8. 在“表格”字段中，键入“分类日记帐交易记录”。
    * 分类日记帐交易记录  
9. 单击“确定”。
    * 为当前数据模型选择“分类日记帐交易记录”表作为数据源。  
10. 在树结构中，选择“功能\计算字段”。
11. 单击“添加”。
    * 单击“添加”以添加新的计算字段。  
12. 在“名称”字段中，键入“$EndToEndID”。
    * $EndToEndID  
13. 单击“编辑公式”。
14. 在树结构中，选择“字符串\连接”。
15. 单击“添加”功能。
16. 在树结构中，展开“交易记录”。
17. 在树结构中，选择“交易记录\凭证”。
18. 单击“添加数据源”。
19. 在“公式”字段中，输入“CONCATENATE(Transactions.Voucher, "-",”。
    * 在公式结尾键入[ , "-", ]。  
20. 在树结构中，选择“字符串\文本”。
21. 单击“添加”功能。
22. 在树结构中，选择“交易记录\记录 ID”。
23. 单击“添加数据源”。
24. 在“公式”字段中，输入“CONCATENATE(Transactions.Voucher, "-", TEXT(Transactions.RecId))”。
    * 在公式结尾键入[))]。  
25. 单击“保存”。
    * 确保创建的公式没有发现错误。 查看公式编辑器控制项下的“错误”选项卡。  
26. 关闭该页面。
27. 单击“确定”。
    * 添加计算字段到此数据源中。  
28. 单击“添加”。
    * 单击“添加”以添加新的计算字段。  
29. 在“名称”字段中，键入“$金额”。
    * $金额  
30. 单击“编辑公式”。
31. 在树结构中，展开“交易记录”。
32. 在树结构中，选择“交易记录\借方（借方币种金额）”。
33. 单击“添加数据源”。
34. 在“公式”字段中，输入“Transactions.AmountCurDebit -”。
    * 在公式结尾键入[ - ]。  
35. 在树结构中，选择“交易记录\贷方（贷方币种金额）”。
36. 单击“添加数据源”。
37. 单击“保存”。
38. 关闭该页面。
39. 单击“确定”。
    * 这将添加“$计算金额”字段到当前数据模型的所选数据源中。  
40. 在树结构中，选择“交易记录\$金额”。
41. 在树结构中，展开“交易记录”。
42. 在树结构中，展开或折叠“交易记录\$金额”。
43. 在树中，展开或折叠“交易记录”。
44. 在树中，选择“Dynamics 365 for Operations\表记录”'。
45. 单击“添加根”。
    * 输入此数据源以访问公司的银行帐户详细信息。  
46. 在“名称”字段中，键入“银行帐户”。
    * 银行帐户  
47. 在“标签”字段中，输入“银行帐户”。
    * 银行帐户  
48. 在“帮助”字段中，输入“银行帐户”。
    * 银行帐户  
49. 在“要求查询”字段中选择“是”。
    * 选择“是”。  
50. 在“表格”字段中，键入“银行帐户表”。
    * 银行帐户表  
51. 单击“确定”。
    * 为当前数据模型选择“银行帐户表”作为数据源。  
52. 单击“添加根”。
    * 输入此数据源以访问公司的基本信息。  
53. 在“名称”字段中，键入“公司”。
    * 公司  
54. 在“标签”字段中，键入一个值。
    * 公司信息  
55. 在“帮助”字段中，输入“公司信息”。
    * 公司信息  
56. 在“要求查询”字段中选择“是”。
    * 选择“是”。  
57. 在“表格”字段中，键入“公司信息”。
    * 公司信息  
58. 单击“确定”。
    * 为当前数据模型选择“公司信息”表作为数据源。  
59. 在树结构中，选择“功能\计算字段”。
60. 单击“添加根”。
    * 插入“计算”字段作为新数据源。  
61. 在“名称”字段中，键入“处理日期时间”“。
    * 处理日期时间  
62. 在“标签”字段中，输入“处理日期和时间”。
    * 处理日期和时间  
63. 单击“编辑公式”。
64. 在树结构中，选择“日期/时间\SESSIONNOW”。
65. 单击“添加”功能。
66. 单击“保存”。
67. 关闭该页面。
68. 单击“确定”。
    * 为当前数据模型添加“处理日期时间”计算字段作为数据源。  
69. 单击“保存”。
70. 关闭该页面。
71. 关闭该页面。
72. 关闭该页面。

