---
title: 管理单独 ER 配置中的 ER 模型映射
description: 以下步骤说明了指派为“系统管理员”或者“电子报表开发人员”角色的用户如何管理单独 ER 配置中的电子申报 (ER) 模型映射。
author: NickSelin
manager: AnnBe
ms.date: 06/19/2017
ms.topic: business-process
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 4e59e9f2dd5a0fa6d5955e3d93d25759a478ede7
ms.sourcegitcommit: 659375c4cc7f5524cbf91cf6160f6a410960ac16
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 12/05/2020
ms.locfileid: "4684419"
---
# <a name="manage-er-model-mapping-in-separate-er-configurations"></a>管理单独 ER 配置中的 ER 模型映射

[!include [banner](../../includes/banner.md)]

以下步骤说明了指派为“系统管理员”或者“电子报表开发人员”角色的用户如何管理单独 ER 配置中的电子申报 (ER) 模型映射。 在此任务指南中，将为示例公司 Litware 公司创建所需 ER 配置。若要完成此任务指南，您必须首先完成任务指南“ER 创建一个配置提供程序，并标记其为当前运行的”中的步骤。 

由于 ER 配置在公司之间共享，所以您可以使用所选公司数据集完成此任务指南。 如果已安装了下列修补程序之一，则此任务指南的功能可用：适用于 Dynamics AX 7.0 版的 https://fix.lcs.dynamics.com/Issue/Resolved?kb=4012872 或适用于 Dynamics 365 for Operations 版的 https://fix.lcs.dynamics.com/Issue/Resolved?kb=4012871。

1. 转到“组织管理”>“工作区”>“电子申报”。
    * 验证示例公司 Litware 公司的配置提供程序可用且标记为有效。 如果没有看到此配置提供程序，您必须首先完成“创建配置提供程序并标记为有效”这一任务指南中的步骤。   

## <a name="add-a-new-er-model-configuration"></a>添加新 ER 模型配置
1. 单击“申报配置”。
    * 添加新模型配置。 名称在配置树中必须唯一。  
2. 单击“创建配置”，以打开下拉对话框。
3. 在“名称”字段中，键入“示例数据模型”。
    * 示例数据模型  
4. 单击“创建配置”。
5. 单击“设计器”。
6. 单击“新建”，以打开对话框。
7. 在“名称”字段中，键入“根”。
    * 根  
8. 单击“添加”。
9. 单击“新建”，以打开对话框。
10. 在“名称”字段中，键入“公司”。
    * 公司  
11. 单击“添加”。
12. 在“描述”字段中，输入文本“用户在运行时登录的法人或公司的描述”。 
    * 用户在运行时登录的法人或公司的描述。  
13. 单击“根引用”。
14. 单击“确定”。
15. 单击“保存”。
16. 关闭该页面。
17. 单击“更改状态”。
18. 单击“完成”。
19. 单击“确定”。

## <a name="add-a-new-er-model-mapping-configuration"></a>添加新 ER 模型映射配置
1. 单击“创建配置”，以打开下拉对话框。
2. 在“新建”字段中，输入“模型映射基于数据模型‘示例数据模型’”。
3. 在“名称”字段中，键入“示例映射”。
    * 示例映射  
4. 单击“创建配置”。
5. 展开“先决条件”部分。
    * 已自动添加了“实施”先决条件组。 此组中包含引用父数据模型配置的先决条件组件，并且标记为“实施”。 这意味着此“示例映射”模型映射配置被视为“示例数据模型”数据模型的实施。 因此，如果下载了“示例数据模型”模型配置，此组件将强制 ER 从 ER 存储库下载“示例映射”模型映射配置。   
6. 单击“设计器”。
    * 创建的模型映射配置中包含一个与创建的配置同名的新空白映射。 如果所选父模型配置中包含模型映射，将把这些映射复制到新模型映射配置。   
7. 单击“设计器”。
8. 在树中，选择“Dynamics 365 for Operations\表”'。
9. 单击“添加根”。
10. 在“名称”字段中，键入“公司”。
    * 公司  
11. 在“表格”字段中，键入“公司信息”。
    * 公司信息  
12. 单击“确定”。
13. 在树中，展开“公司”。
14. 在树中，展开“公司\find()”。
15. 在树中，选择“公司\find()\名称”。
16. 单击“绑定”。
17. 单击“保存”。
18. 关闭该页面。
19. 关闭该页面。
20. 在操作窗格上，单击“配置”。
21. 单击“用户参数”。
22. 在“运行设置”字段中选择“是”。
23. 单击“确定”。
24. 单击“编辑”。
25. 在“运行草稿”字段中选择“是”。

## <a name="add-a-new-er-format-configuration"></a>添加新 ER 格式配置
1. 在树中，选择“示例数据模型”。
2. 单击“创建配置”，以打开下拉对话框。
3. 在“新建”字段中，输入“格式基于数据模型‘示例数据模型’”。
4. 在“名称”字段中，键入“示例格式”。
    * 示例格式  
5. 单击“创建配置”。
6. 单击“设计器”。
7. 单击“添加根”以打开下拉对话框。
8. 在树结构中，选择“文本\字符串”。
9. 单击“确定”。
10. 单击“映射”选项卡。
11. 在树结构中，展开“模型”。
12. 在树中，选择“模型\公司”。
13. 单击“绑定”。
14. 单击“保存”。
15. 关闭该页面。
    * 为测试目的运行所创建格式的草稿版本。  
16. 单击“运行”。
    * 在“版本”快速选项卡上，单击“运行”。  
17. 单击“确定”。
    * 查看其中包含运行此格式配置的用户所登录公司的名称的输出。 所创键模型映射配置由此格式配置使用，因为只有一个可用配置中包含所需模型映射。   

## <a name="add-alternative-er-model-mapping-configuration"></a>添加备用 ER 模型映射配置
1. 在树中，选择“示例数据模型”。
2. 单击“创建配置”，以打开下拉对话框。
3. 在“新建”字段中，输入“模型映射基于数据模型‘示例数据模型’”。
4. 在“名称”字段中，键入“示例映射(备用)”。
    * 示例映射（备用）  
5. 单击“创建配置”。
6. 单击“设计器”。
7. 单击“设计器”。
8. 在树中，选择“Dynamics 365 for Operations\表”'。
9. 单击“添加根”。
10. 在“名称”字段中，键入“公司”。
    * 公司  
11. 在“表格”字段中，键入“公司信息”。
    * 公司信息  
12. 单击“确定”。
13. 单击“编辑”。
14. 在树结构中，选择“字符串\连接”。
15. 单击“添加”功能。
16. 在树中，展开“公司”。
17. 在树中，展开“公司\find()”。
18. 在树中，选择“公司\find()\名称”。
19. 单击“添加数据源”。
20. 在“配方”字段中，键入一个值。
    * CONCATENATE(Company.'find()'.Name, ";",  
21. 在树中，选择“公司\find()\Company(DataArea)”。
22. 单击“添加数据源”。
23. 在“配方”字段中，键入一个值。
    * CONCATENATE(Company.'find()'.Name, ";", Company.'find()'.DataArea)  
24. 单击“保存”。
25. 关闭该页面。
26. 单击“保存”。
27. 关闭该页面。
28. 关闭该页面。
29. 在“运行草稿”字段中选择“是”。

## <a name="use-an-existing-er-model-mapping-configuration"></a>使用现有 ER 模型映射配置
1. 在树中，选择“示例数据模型\示例格式“。
2. 单击“运行”。
    * 不能执行所选 ER 格式配置草稿版本，因为有多个模型映射配置可用于已选择为运行 ER 格式的数据源的未定义数据模型。   
    * 接下来，您将把备用模型映射配置定义为来自将用作运行 ER 格式的数据源的模型映射的模型映射配置。   
3. 在树中，选择“示例数据模型\示例映射(备用)“。
4. 在“模型映射的默认值”字段中选择“是”。
5. 在树中，选择“示例数据模型\示例格式“。
6. 单击“运行”。
7. 单击“确定”。
    * 默认模型映射配置供此格式配置用于生成电子单据（创建的输出中包含公司代码）。  

