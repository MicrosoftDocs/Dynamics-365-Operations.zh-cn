---
title: 创建批处理作业
description: 批处理作业是提交到某一应用程序对象服务器 (AOS) 实例以供自动处理的一组任务。
author: matapg007
ms.date: 11/22/2021
ms.topic: business-process
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: sericks
ms.search.region: Global
ms.author: matgupta
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.search.form: BatchJob, SysRecurrence, BatchAlerts
ms.openlocfilehash: 06fb9a18e70c316be97645ba76f9462cd3ccc729
ms.sourcegitcommit: 87e727005399c82cbb6509f5ce9fb33d18928d30
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/12/2022
ms.locfileid: "9292441"
---
# <a name="create-a-batch-job"></a>创建批处理作业

[!include [banner](../../includes/banner.md)]

批处理作业是提交到某一应用程序对象服务器 (AOS) 实例以供自动处理的一组任务。 通过使用创建了该作业的用户的安全凭据来运行批处理作业。 使用以下过程来创建批处理作业。 创建此程序的演示数据公司是 USMF。


## <a name="create-the-batch-job"></a>创建批处理作业
1. 转到 **导航窗格 > 模块 > 系统管理 > 查询 > 批处理作业**。
2. 选择 **新建**。
3. 在 **作业描述** 字段中，输入批处理作业的描述。
4. 在 **计划的开始日期/时间** 字段中，输入批处理作业应运行的日期和时间。
5. 选择 **保存**。

## <a name="create-a-recurrence"></a>创建重复执行
1. 在操作窗格上，选择 **批处理作业**。
2. 选择 **定期**。 使用这些选项输入一个重复执行的范围和模式。  
3. 选择 **确定**。

## <a name="add-alerts"></a>添加预警
1. 在操作窗格上，选择 **批处理作业**。
2. 选择 **预警**。 指示批处理作业结束，出错或取消时是否希望发送预警消息。 然后指定是否要将预警显示为弹出消息。   
3. 选择 **确定**。

## <a name="add-a-task-to-a-batch-job"></a>将任务添加到批处理作业
1.  在 **批处理作业** 页面上，选择 **查看任务**。
2.  选择 **Ctrl+N** 以创建任务。
3.  输入批处理任务的描述。
4.  在 **公司帐户** 字段中，选择任务应在其中运行的公司数据库。
5.  在 **类名称** 字段中，选择任务应该运行的流程。 
6.  在适当的情况下，为任务选择一个批处理组。

    必须将客户端任务分配给某一批处理组。 它们将自动分配给默认批处理组（也称为空批处理组）。

7.  选择 **Ctrl+S** 以保存任务。
8.  要使所选任务依赖于作业中的另一个任务，请选择 **有条件** 网格，然后针对要定义的每个条件执行以下步骤：

    1. 选择 **Ctrl+N** 以创建条件。
    2. 选择父任务的任务 ID。
    3. 选择父任务必须达到何种状态后其相关任务才可以运行。
    4. 选择 **Ctrl+S** 以保存条件。

    如果您定义了多个条件并且只有在满足 *所有* 条件后相关任务才能运行，请选择 **所有** 条件类型。 如果在满足 *任一* 条件后相关任务即可运行，则选择 **任一** 条件类型。

9.  选择应如何处理任务失败。 要忽略特定任务的失败，请在 **常规** 选项卡上针对该任务选择 **忽略任务失败** 选项。 如果选择了此选项，则该任务的失败将不会导致作业失败。 您还可以使用 **最大重试次数** 字段指定一个任务应重试多少次后才会被视作已失败。 作为一种最佳做法，我们建议您不要将 **最大重试次数** 字段设置为大于 **5** 的值。

    有关批处理重试的详细信息，请参阅[启用批处理重试](../retryable-batch.md)。

## <a name="adjust-batch-job-status"></a>调整批处理作业状态
1. 转到 **系统管理 > 查询 > 批处理作业**。
2. 选择相应批处理作业。
3. 在操作窗格上，选择 **批处理作业 > 功能 > 更改状态**。
4. 选择相应的状态：
    - **预扣**：将批处理作业设置为 **预扣**，使其从批处理作业调度程序中扣除。 等同 *停止*。
    - **等待**：将批处理作业设置为 **等待**，使其等待批处理作业调度程序选取。 等同 *执行*。
5. 选择 **确定**。


[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]
