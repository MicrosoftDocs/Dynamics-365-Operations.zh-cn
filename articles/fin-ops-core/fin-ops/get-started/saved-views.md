---
title: 保存的视图
description: 此主题介绍如何使用保存的视图功能。
author: jasongre
manager: AnnBe
ms.date: 01/22/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: DefaultDashboard
audience: Application User, IT Pro
ms.reviewer: sericks
ms.search.region: Global
ms.author: jasongre
ms.search.validFrom: 2019-07-31
ms.dyn365.ops.version: Platform update 28
ms.openlocfilehash: 54f8c4bcac53f7cceb25f73b24311e93884be95d
ms.sourcegitcommit: b7a7a14f8650913f6797ae1c4a82ad8adfe415fd
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/28/2021
ms.locfileid: "5077441"
---
# <a name="saved-views"></a>保存的视图

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]

## <a name="introduction"></a>简介

个性化在让用户和组织优化用户体验以满足其需求中扮演着重要的角色。 有关个性化的更多详细信息，请参阅[打造个性化的用户体验](personalize-user-experience.md)。

使用传统个性化，用户每页只有一组个性化设置。 **已保存视图** 功能在若干重要方面扩展了个性化：

- 视图允许用户的每个窗体有多组有名称的个性化设置，可以根据需要快速切换。 这样用户就可以为一个页面创建多个经过优化的视图，其中的每个视图都经过定制，可以满足执行特定业务任务的需要。 
- 为特定页面类型创建的视图中也可以包含用户添加的筛选器或排序，用于快速回到经常筛选的数据集。 有关更多详细信息，请参阅[哪些页面支持视图](saved-views.md#what-pages-support-views)部分。 
- 可以使用特定的安全角色和特定的法人将视图发布给用户。 因此，具有指定角色且能够访问指定法人的任何用户都可以访问和使用该视图，即使该用户没有个性化权限。 组织可通过此项发布功能定义针对自己的业务进行过优化的公司标准视图。 有关详细信息，请参阅[使用视图管理组织级个性化设置](saved-views.md#managing-personalizations-at-an-organizational-level-with-views)部分。
- 和传统个性化不同，用户在执行个性化设置或筛选列表时，不会自动保存视图。 需要明确保存以在执行与视图关联的更改前后创建视图时为用户提供了灵活性。 此要求还可以确保不会因不打算长期使用的筛选器或个性化而无意更改视图定义。 系统自动存储为典型页面用法（例如，列宽或部分的展开或折叠状态）一部分的项目将按视图保存。
- 可以将视图作为磁贴、列表或链接添加到工作区。 因此，可以在工作区中显示筛选的数据集，用户可以将与该数据集相关的一组个性化设置与磁贴或链接相关联。

## <a name="switching-between-views"></a>在视图之间进行切换

让视图对环境可用之后，所有支持视图的页面顶部都将有一个折叠的视图选择器控件，该控件显示当前视图的名称。

视图选择器有两种尺寸变体： 

- **大视图选择器** – 因为一些原因，明显拥有列表的页面的视图选择器较大。 最重要的是，较大视图选择器表示视图中可能包含用户定义的筛选器。 由于视图中包含筛选器，所以也有必要采用较大选择器，因为视图名称通常最适合描述屏幕中显示的数据，除了用户经常在这些页面类型中切换视图的情况。
- **小视图选择器** – 其他所有全屏页面（工作区和仪表板除外）都采用在页面标题旁边显示的较小视图选择器。 这些页面中的视图内仅包含个性化设置，不包含用户定义的筛选器。 在这些页面中，标题或记录标题是页面顶部最重要的信息。 视图选择器的较小大小还反映出预计这些页面上切换视图的频率较低。 
 
如果选择视图名称，视图选择器将打开，并显示页面的可用视图列表。

- **标准视图** – **标准** 视图是页面的现成视图，未应用个性化设置。
- **个人视图** – 不带挂锁的视图表示您的个人视图。 这些视图是您创建的或管理员提供给您的。
- **锁定视图** – 在视图选择器中，某些视图（如 **标准** 视图和发布给您的角色的所有视图）旁边有一个挂锁符号。 此符号表示不能对这些视图进行编辑。 但是，会自动保存反映页面使用情况的更改。 这些更改包括对网格列宽度的更改，以及对快速选项卡的展开或折叠状态的更改。 不过，如果您有个性化设置权限，则可以使用 **另存为** 操作来创建基于锁定视图的个人视图。
- **新视图** – 已发布但尚未打开的视图的视图名称旁边有一个火花符号。

若要切换到其他视图，首先请打开视图选择器，然后选择要加载的视图。 

## <a name="creating-and-modifying-views"></a>创建和修改视图

与传统的个性化不同，当用户个性化页面或将筛选器应用于列表或对列表进行排序时，视图不会自动保存。 需要执行显式操作才能将这些更改保存到视图。 此要求在执行与视图关联的更改前后创建视图时为用户提供了灵活性。 它还确保一次性筛选器或个性化设置不会意外更改视图定义。 请注意，典型页面用法项目（例如，列宽或部分的展开或折叠状态）将自动保存到当前视图，即使是锁定视图。

为确保了解视图的当前状态，当您开始通过个性化设置或筛选来更改视图时，一个星号 (\*) 将出现在当前视图名称旁边。 此符号表示您正在查看该视图的未保存的修改版本。

如果要保存这些更改，请执行以下步骤。

1. 选择视图名称打开视图选择器。
2. 若要修改现有视图，选择 **保存**。 请注意，此操作不适用于锁定视图。 
3. 若要新建视图：

    1. 选择 **另存为**。 
    2. 输入视图名称和描述（可选）。
    3. 选择 **保存**。

## <a name="changing-the-default-view"></a>更改默认视图

默认视图是在您首次打开页面时系统尝试打开的视图。 应该将默认视图设置为预期最常打开的视图。 

> [!NOTE]
> 各公司之间只有一个全局默认视图。 如果更改默认视图，无论您当前位于哪个法人，默认都会打开该视图。 

若要更改页面的默认视图，请执行以下步骤：

1. 切换到要用作默认视图的视图。 
2. 选择视图名称打开视图选择器。 
3. 选择 **更多**，然后选择 **固定为默认值**。

也可以在创建新视图（使用 **另存为** 操作）时，通过在保存视图之前设置 **固定为默认值** 选项来将新视图设置为默认视图。

请注意，在某些情况下，首次打开页面时，不会运行与默认视图关联的查询。 例如，如果通过磁贴打开页面，则无论与默认视图关联的是哪个查询，都会运行磁贴的查询。 此外，如果打开 **标准** 视图有已定义查询的页面，将运行原始查询，而不是默认视图的查询。 在这种情况下，加载视图时，您会收到一条信息性消息。 如果在页面加载后切换视图，视图查询应该能够按预期运行。 在版及 10.0.10 更高版本中，您收到的信息性消息将嵌入一个操作，供您直接加载默认视图的查询。

## <a name="managing-personal-views"></a>管理个人视图

**管理我的视图** 对话框提供对个人视图和视图选择器中的视图顺序的基本维护功能。 若要打开此页面，请选择视图名称打开视图选择器下拉菜单，选择 **更多**，然后选择 **管理我的视图**。

可对该页面的可用视图列表执行下面的一组操作。

- **更改默认视图** – 使用 **固定为默认值** 操作将当前选择的视图设置为该页面的默认视图。
- **为视图重新排序** – 使用 **上移** 和 **下移** 操作按照特定顺序重新排列视图。
- **重命名视图** – 使用 **重命名** 操作更改当前选择的个人视图的名称。 此操作对已锁定视图关闭。 
- **删除视图** – 使用 **删除** 操作从页面中永久删除当前选择的视图。 不能恢复已删除的视图。

此对话框中进行的任何更改都将在您选择 **保存** 按钮之后生效。

## <a name="managing-personalizations-at-an-organizational-level-with-views"></a>使用视图在组织级别管理个性化设置

为了帮助您了解保存的视图如何帮助改进组织级别的个性化设置管理，本节介绍了使用和不使用 **已保存视图** 功能时个性化管理的一些差异。

在采用视图之前，管理员通过“个性化”页面将页面的一组个性化设置应用于一个或一组用户。 如果这些用户具有个性化权限，将把个性化设置应用于该页面。 但是，不能阻止用户进一步个性化页面，这意味着组织无法确保其用户具有一致的用户界面。 如果这些用户中任何一位没有个性化权限，则不会加载管理员为其提供的个性化设置。 此外，如果组织中雇佣了新用户，管理员需要手动为该用户加载一组个性化设置。 没有用于指定一组应向该角色的用户提供的特定个性化设置的自动机制。

**已保存视图** 功能让个性化设置的组织管理大大简化，主要是因为可以将视图发布给用户组。 发布视图后，具有已定义安全角色之一且能够访问一个指定法人的任何用户都能够查看和使用该视图，即使该用户无权访问个性化设置。 虽然每位用户都有已发布视图的副本，而该视图中会自动应用页面用法项目，但所有用户都不能保存对已发布视图的个性化设置或查询更新。 换句话说，发布的视图被锁定。 此外，如果向新用户分配了将视图发布到的法人中的角色，则他们将自动查看与其角色和法人相关联的视图。 管理员无需采取其他措施。同样，如果用户更改组织中的角色或被授予对不同法人的访问权限，则他们可能不再能够访问以前发布给他们的视图。 同样，管理员无需执行其他操作。

可以通过将发布的视图重新发布给相应安全角色和法人，将对该视图的更新轻松分发给用户。

组织可通过此项发布功能以特定安全角色为目标，定义针对自己的业务进行过优化的公司标准视图。

## <a name="publishing-views"></a>发布视图

在发布流程中，可以将视图分配给一个或多个法人的一个或多个安全角色。 因此，有权访问法人并分配了其中一个角色的任何用户都可以访问和使用视图。 但是，用户无法编辑视图。 默认情况下，系统管理员有权访问视图选择器下拉菜单中的 **发布** 操作。 不过，还可以通过新的 **保存的视图管理员** 角色为您组织中的其他可信用户授予访问视图发布的权限。

若要发布视图，请执行以下步骤：

1. 创建并保存要发布的视图的个人副本。 
2. 当前加载该视图之后，选择视图名称打开视图选择器下拉菜单。 
3. 选择 **更多** 按钮，然后选择了 **发布**。 将打开“发布”对话框。
4. 为视图输入名称。 您输入的名称是收到此视图的用户将在自己的视图选择器中看到的名称。 页面的已发布视图的名称必须是唯一的。 即使使用该视图的角色或法人列表不同，也不允许重复名称。
5. **更新 10.0.17 或更高版本：** 如果启用了 **(预览)支持对组织视图的翻译** 功能，您可以通过选择 **名称** 字段旁边的 **翻译** 按钮，为视图名称添加组织所需的随意多种语言的翻译。 然后，视图名称将以其当前语言显示给用户。 您还可以设置默认语言，来指定将向运行未定义翻译的语言的用户显示的翻译。
5. 可选：为视图输入描述，让接收此视图的用户可以更好地了解它的用途。 
6. 确定是否应将视图发布为所选用户的默认视图。 将某视图设为默认视图时，用户在下次打开目标页面时将看到该视图。 每个目标用户的一个全局默认视图将被更改。 不过，发布后，用户仍然可以更改其默认视图。
7. 添加与此视图针对的用户对应的安全角色。 
8. 确定是否要将视图发布到所选的每个安全角色的子角色。 如果这样做，请选中相应安全角色行中的 **包括子角色** 复选框。 请注意，此复选框不可用于没有子角色的角色。
9. 添加此视图应该可用于的法人。 
10. 选择 **发布**。

请注意，在某些环境中，可能需要过一段时间（最多一小时）之后用户才能看到发布的视图。

> [!NOTE]
> 将视图发布到法人时，或将视图发布为默认视图时，请注意以下预期事项。
> - 如果将视图作为默认视图发布到所有或部分法人，将更改每个目标用户的一个全局默认视图。 如果用户具有将多个视图发布为默认视图的角色，最后发布的视图将用作用户的默认视图。 
> - 如果将视图发布到法人，但未将其发布为默认视图，用户最初只会在视图选择器中看到指定法人的视图。 但是，在首次加载视图之后，无论其法人如何，该视图将始终位于该页面的用户视图选择器中。 

## <a name="modifying-a-published-view"></a>修改发布的视图

发布视图后，您可能会发现需要对它进行更改。 尽管不能实时更改已发布的视图，因为已对所有用户（包括发布者）锁定了这些视图的编辑权限，但是您可以通过重新发布视图来进行更新。

如果要对已发布视图进行的更改仅涉及发布参数（即视图的名称和描述，或视图要发布给的安全角色），请执行下列操作：

1. 切换到已发布视图以查看要更新的参数。 
2. 在视图选择器下拉菜单中选择 **重新发布**。 如果您使用的是版本 10.0.12 或更早版本，则必须选择 **发布**，然后选择 **是** 来更新现有视图。
3. 更新视图的名称、描述、安全角色和法人。 
4. 选择 **发布**。 如果最初选择此发布视图作为默认视图，在重新发布后，它将再次成为用户的默认视图。 

如果对已发布视图的更改涉及修改与该视图关联的个性化设置或筛选器，请执行以下步骤。

1. 加载要更改的已发布视图。 
2. 对本地草稿进行所需的更改。
3. 在视图选择器下拉菜单中选择 **重新发布**。
4. 选择 **是** 指示您要将视图与未保存的更改一起发布。 
5. 调整所有需要调整的发布参数，然后选择 **发布**。 

## <a name="managing-published-views"></a>管理已发布视图

与管理个人视图一样，**管理我的视图** 对话框为具有发布权限的用户提供对该页的已发布视图（除了这些用户自己的个人视图）的基本维护功能。 若要打开此页面，请选择视图名称打开视图选择器下拉菜单，选择 **更多**，然后选择 **管理我的视图**。

所有用户都有一个 **我的视图** 选项卡来显示其个人视图，具有发布权限的用户还有一个 **组织视图** 选项卡，该选项卡显示该页面的所有已发布和未发布的视图。 因为有多个用户可能在发布视图，所以即使您不是发布给定视图的用户，也要能够管理已发布视图的完整列表，这一点很重要。

可对该页面的所有已发布视图列表执行下面的一组操作。 

- **重新发布** – 使用 **重新发布** 操作可在发布参数（名称、描述、安全角色或法人）更改后重新发布视图。
- **发布** – 使用 **发布** 操作可以发布当前未发布的视图。 
- **取消发布** – 使用 **取消发布** 操作使视图处于非活动状态。 视图仍将在系统中显示，但用户不会在视图选择器中看到该视图，直到再次发布该视图。
- **另存为个人** – 使用 **另存为个人** 操作可以创建已发布视图的个人草稿副本。 此功能可以帮助您了解未发布到您或尚未发布的视图的内容。 您还可以使用它来进行编辑，然后重新发布视图。
- **删除** – 使用 **删除** 操作永久删除已发布或未发布的视图。 此操作还将删除系统中所有用户的这一视图。 删除已发布视图将在选择 **保存** 按钮后生效。 视图删除后，将无法恢复。 

## <a name="managing-views-globally"></a>全局管理视图

如本主题所示，每个页面上都显示了一些管理功能，但 **系统管理员** 和 **保存的视图管理员** 可以通过 **个性化** 页面更全面地管理系统的视图。 特别是，此页面具有以下部分和功能： 

- **发布的视图** – 此部分列出已为您的组织发布的所有视图。 从这里，您可以在调整视图所对应的安全角色或法人后重新发布视图。 您还可以导出、删除或取消发布视图。 您可以使用 **另存为个人** 操作创建视图的个人副本，以便您可以更新视图或更好地了解它的内容。 
- **未发布视图** – 此部分列出系统中当前尚未发布的所有组织视图。 这些视图大部分是通过导入功能进入系统的。 您可以发布、导出或删除这些视图。 在版本 10.0.12 中添加的 **快速发布** 操作可以使用现有的安全角色和法人配置，在一个操作中发布此部分的多个视图。 您可以使用 **另存为个人** 操作创建这些视图的个人副本，以便您可以更好地了解视图的内容。
- **个人视图** – 此部分列出由系统中的用户创建的所有视图。 从这里，您可以向组织发布个人视图，或将这些视图中的一个或多个复制到其他用户。 您还可以根据需要导出或删除这些视图。
- **用户设置** – 选择要查看的用户，或调整用户对整个系统或用户访问过的特定页面使用个性化设置的能力。 您可以在系统中查看用户的个性化设置并与之交互。 您还可以删除该用户的所有个性化设置，或重置该用户的功能标注。 如果重设功能标注，任何引入新功能以及用户先前已取消的弹出窗口，将在用户下次遇到这些功能时再次出现。
- **系统设置** – 您可以在此临时关闭系统中所有用户的个性化设置。 在这种情况下，不会应用任何用户的个性化设置，所有页面将重置为其默认状态。 如果您在以后重新启用个性化设置，所有个性化设置将重新应用。 您还可以永久删除系统中所有用户的全部个性化设置。 不能恢复已删除的个性化设置。 因此，在执行此任务之前，请务必导出以后可能需要的任何个性化设置。

有权访问 **个性化设置** 页面的用户还可以使用操作窗格上的 **导入视图** 按钮导入个人或组织视图。 对于组织视图，您可以选择 **立即发布** 让视图对用户可用，无需再进行其他明确发布。

## <a name="known-issues"></a>已知问题
有关已保存视图的已知问题列表，请参阅[构建可充分利用已保存视图的窗体](../../dev-itpro/user-interface/understanding-saved-views.md)。

## <a name="frequently-asked-questions"></a>常见问题

### <a name="how-do-i-enable-saved-views-in-my-environment"></a>如何启用我的环境中的保存的视图？

> [!NOTE]
> **保存的视图** 功能要求启用 Finance and Operations 中的个性化设置系统。 如果为整个环境关闭了个性化，即使执行下面的步骤，也将禁用视图。 

您可以在任何环境中通过“功能管理”打开和关闭 **已保存视图** 功能。 打开后，将在所有后续用户会话中启用已保存视图。

### <a name="what-happens-to-existing-personalizations-when-views-are-enabled"></a>启用视图对现有个性化设置有何影响？ 

启用视图后，将把用户和窗体的所有现有个性化设置保存到一个称为 **我的视图** 的新视图中，这个新视图会自动设置为默认视图。 这是为了确保启用视图前后除了窗体上显示的视图选择器控件之外，用户体验保持一致。

### <a name="what-pages-support-views"></a>哪些页面支持视图？ 

大多数支持视图，但不是所有都支持。 特别是除了仪表板和工作区之外的所有全屏页面现在都支持视图。 非全屏页面（包括对话框、下拉对话框、查找、增强预览）目前不支持视图。 将来的更新可能会考虑更多页面类型（如工作区和对话框）支持视图。

### <a name="who-is-allowed-to-publish-views"></a>允许哪些人发布视图？

只有已分配给 **保存的视图管理员** 角色的系统管理员和用户才有权发布视图。 

### <a name="why-am-i-not-able-to-save-filters-with-this-view"></a>我为什么不能随该视图一起保存筛选器？ 

可能似乎无法随视图一起保存筛选器的原因有几个： 

- 页面可能不支持将筛选器保存为视图定义的一部分。 请注意，只有具有大视图选择器的页面才允许将个性化设置和查询修改保存为视图。 有关详细信息，请参阅 **切换视图** 部分。 
- 有问题的页面可能无法正确支持视图，因为可能会完全忽略视图查询，或者可能对数据不持久的临时表运行。 

### <a name="what-data-will-i-see-when-i-visit-a-page"></a>访问页面时会看到什么数据？

对于具有小视图选择器的页面（只能将个性化设置保存到视图中），您看到的数据将与访问页面时始终具有的数据相同。 

对于具有大视图选择器的页面（个性化和查询均可以保存到视图），您通常会看到链接到与默认视图相关联的查询的数据。 主要有两个例外：

- 如果从磁贴导航到某个页面，则无论与默认视图关联的是哪个查询，也会执行磁贴查询。 如果您在启用视图后创建了该磁贴，则选择一个磁贴将打开带有与该磁贴关联的视图的页面。
- 如果导航到页面，而入口点中包含查询，则最初将执行原始查询，而不是默认视图的查询。 视图加载过程中，应该会在发生此情况时通过信息性消息提醒您。 也可以通过在页面加载后切换到此视图予以确认，因为这样无论如何都将执行视图查询。


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]