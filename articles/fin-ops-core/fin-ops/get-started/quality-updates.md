---
title: 主动质量更新
description: 本文提供有关主动交付质量更新的信息。
author: rashmansur
ms.date: 08/23/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: sericks
ms.search.region: Global
ms.author: rashmim
ms.search.validFrom: 2022-08-19
ms.search.form: ''
ms.dyn365.ops.version: 10.0.29
ms.openlocfilehash: 9d81cb15e9a127e7bea7ad9b5e0f50a1ee543f71
ms.sourcegitcommit: 78e85ad49634cd31459fdb7325cb273352bf1501
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/23/2022
ms.locfileid: "9338127"
---
# <a name="proactive-quality-updates"></a>主动质量更新

[!include[banner](../includes/banner.md)]

在过去几年中，Microsoft 在我们所说的 [One Version](../../dev-itpro/lifecycle-services/oneversion-overview.md) 方面不断取得进步。 One Version 的前提很简单：我们越接近让所有客户使用相同的软件版本，我们可以交付的质量就越高。 我们一次发现并解决问题，我们可以更快地将这些解决方案交到更多客户手中。

结果证实了这一前提：我们产品中的事故数降低。 当客户不在同一个版本上时，我们总是能够发现他们会受到已有解决方案的问题的影响。 我们已经在 Dynamics 365 Finance、Dynamics 365 Supply Chain、Dynamics 365 Project Operations 和 Dynamics 365 Commerce 中取得了很大进步，并且由于最近的技术进步，现在可以迈出下一步。 以下信息列出了我们将要做什么，我们为作好准备完成了哪些工作，以及我们将如何以及何时引入新功能而不发生中断。

## <a name="focus-on-quality-updates"></a>专注于质量更新

我们目前每年提供七次[服务更新](public-preview-releases.md)。 例如，版本 10.0.29 是一次服务更新。 直到最近，每年有八次更新。 但是，我们放弃了一次更新以响应客户反馈，该反馈提出了避免在日历年末进行更改的期望。

我们不会改变服务更新的节奏。 而是安排 One Version 旅程的下一步专注于 *质量更新*。 质量更新是修补程序的累积版本。 不包括新功能。 在任何给定时间，我们的整个客户社区都分布在三到四个最近的服务更新之间。 但是，对于任何给定的服务更新，都可以在组内使用几十个不同的质量更新版本，具体取决于人员部署的日期。 在下一步中，我们将主动广播质量更新。 我们已经将此模型用于我们基于 Dataverse 的应用程序，并且已经看到了预期的质量提高和支持事件减少的结果。

当然，减少缺陷可以减少或完全消除对质量更新的需要。 我们正在实施多项计划来减少需要质量更新的缺陷。 即使在质量更新中减少了有效负载，整个客户群的一致性也将提高可支持性，更快地为客户提供改进，并降低客户遇到已经存在解决方法的问题的频率。

## <a name="making-proactive-distribution-possible"></a>实现主动分发

多项先进技术已经部署，可实现主动交付质量更新：

- **近零停机更新** – 为推送频率更高的环境，必须减少对环境可用性的影响以保留 Dynamics 365 服务级别协议 (SLA)。 最初引入近零停机更新是为了帮助改进每月的操作系统修补，方法是使用群集故障转移来激活更新后的映像，同时将中断降到最低。 应用更新的机制正在得到增强，以使它的破坏性更小，这将会覆盖操作系统修补和质量更新部署。

    对于交互式用户，活动会话可能会被中断，重试将转到现在的更新后的环境。 随着[基于优先级的批处理计划](../../dev-itpro/sysadmin/priority-based-batch-scheduling.md)（现在可以选择加入）的引入，批处理计划和处理在更新后会立即恢复。 在客户开始参与为其生产环境主动分发质量更新之前，将为他们实施基于优先级的批处理计划。

- **黑暗时间** – 为每个 Azure 区域定义了黑暗时间，近零停机更新将在黑暗时间进行。

## <a name="the-proactive-update-process"></a>主动更新流程

主动质量更新的部署将遵照安全部署流程 (SDP)。 SDP 的细节将不断发展，但质量更新最初将部署到沙盒环境。 此流程将从选择加入早期部署的环境开始。 随着成功部署沙盒的比例的增加，将开始部署到生产环境。 同样，流程将从选择加入早期部署的环境开始。 侦听系统将监视系统遥测和活动站点事件，如果检测到任何退化，将停止推出特定版本。 如果需要，客户仍然可以在主动部署之前拉取质量更新。

当前的发布管理数据显示，质量更新中引入的退化不到 3%。 随着对消除退化和增强 SDP 的关注度的日益增加，退化的潜在影响将大大低于通过更快地为客户广泛部署修复程序所获得的质量收益。

## <a name="process-changes"></a>处理更改

一组流程更改会在激活主动质量更新部署之前实施：

- **架构** – 工具将确保质量更新版本仅包括可在服务在线时应用的架构更改。 此方法将有助于保持在近零停机的情况下应用更新的能力。
- **加强更改审查** – 目前，已经有一个额外的流程步骤来审批更改，以将其包含在质量更新中。 将增加对额外步骤的审查，以帮助减少可能出现的退化。 质量更新中不允许进行中断性变更，加强对更改的审查将有助于确保我们实现这一目标。
- **可见性** – 我们将通过电子邮件和 Lifecycle Services (LCS) 发送通知，来告知即将进行的主动质量更新。 此外，支持团队和事件负责人将会了解主动部署质量更新的位置。
- **版本回退** – 将使用外部测试来对主动质量更新中的所有更改进行分组。 如果在主动部署后需要回退，可以通过外部测试系统完成。
- **沙盒同步指定** – 今天，只有不到 20% 的客户有多个沙盒，并在版本与生产相匹配的位置部署一个沙盒，来帮助进行故障排除。 在不久的将来，我们将为客户引入指定沙盒环境的能力，指定的沙盒环境不应与其他沙盒一起接收主动质量更新部署，而是应稍后与生产环境一起接收。 请注意，如果客户使用沙盒测试比其生产版本更新的版本，该沙盒将收到更新版本的质量更新。
- 
## <a name="when-will-proactive-quality-updates-start"></a>主动质量更新何时开始？

预计将于 2022 年 9 月或 10 月下旬开始为 Azure 公有云客户分发沙盒环境的主动质量更新。 到时，试用环境也将开始接收主动更新部署。 9 月，将向每个客户发送通知，告知他们其环境的预期计划。 仅受美国食品和药品管理局监管的客户可以对主动更新的分发流程设定例外。 我们仍在研究如何管理受监管的环境以及主权云和政府云客户。

在接下来的六个月内，我们将逐步增加接收主动更新的沙盒环境的比例，直到包括所有指定的环境并逐步更新生产环境。 在整个期间内，我们将进行监控以确保部署过程是无缝的，并确保我们正在达到我们的非破坏性有效负载目标。

由于客户将定期收到较小的有效负载，我们预期保持最新功能的流程会变得更简单。 随着我们展示出在不中断的情况下运行流程的能力，我们将调整更新部署的频率。 此流程已经在针对我们的 Dataverse 平台和应用程序有效地运行，并正在交付预期的服务质量改进。 我们渴望在财务和运营应用程序中迈出同样的一步。
