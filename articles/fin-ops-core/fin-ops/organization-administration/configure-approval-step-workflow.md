---
title: 配置工作流中的审核步骤
description: 本文说明如何配置审核步骤的属性。
author: ChrisGarty
ms.date: 08/23/2017
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User, IT Pro
ms.reviewer: sericks
ms.custom: 192161
ms.assetid: 8b478e3d-d6b4-403b-aae0-f639a71ca36c
ms.search.region: Global
ms.author: cgarty
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 5d7491c690cce7014f1aca0fb30ff6c3f21f45f9
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/03/2022
ms.locfileid: "8848684"
---
# <a name="configure-approval-steps-in-a-workflow"></a>配置工作流中的审核步骤

[!include [banner](../includes/banner.md)]


[!INCLUDE [PEAP](../../../includes/peap-1.md)]

本文说明如何配置审核步骤的属性。

要配置审核步骤，在“工作流”编辑器中，右键单击审核步骤，然后单击 **属性** 打开 **属性** 页面。 然后使用以下过程配置审核步骤的属性。

## <a name="name-the-step"></a>为步骤命名
按照以下为审核步骤输入名称。

1. 在左侧窗格中，单击 **基本设置**。
2. 在 **名称** 字段中，为审核步骤输入唯一名称。

## <a name="enter-a-subject-line-and-instructions"></a>输入主题行和说明

必须为分配到审核步骤的用户提供主题行和说明。 例如，如果您在为采购申请配置审核步骤，则分配到该步骤的用户在 **采购申请** 页面看到主题行和说明。 主题行显示在页面的消息栏中。 然后用户可单击消息栏中的图标查看说明。 按照以下步骤输入主题行和说明。

1. 在左侧窗格中，单击 **基本设置**。
2. 在 **工作项主题** 字段中，输入主题行。
3. 要个性化主题行，可以插入占位符。 向用户显示主题行时，占位符由适当的数据代替。 按照以下步骤插入占位符：

    1. 在文本框中，单击应该出现占位符的位置。
    2. 单击 **插入占位符**。
    3. 在出现的列表中，选择要插入的占位符。
    4. 单击 **插入**。

4. 若要添加主题行的翻译，请执行以下步骤：

    1. 单击 **翻译**。
    2. 在出现的页面上，单击 **添加**。
    3. 在出现的列表中，选择您输入文本使用的语言。
    4. 在 **已翻译的文本** 字段中，输入文本。
    5. 如果要对文本进行个性化设置，可以如步骤 3 所述插入占位符。
    6. 单击 **关闭**。

5. 在 **工作项说明** 字段中，输入说明。
6. 要对说明进行个性化设置，可以插入占位符。 向用户显示说明时，占位符由适当的数据代替。 按照以下步骤插入占位符：

    1. 在文本框中，单击应该出现占位符的位置。
    2. 单击 **插入占位符**。
    3. 在出现的列表中，选择要插入的占位符。
    4. 单击 **插入**。

7. 若要添加说明的翻译，请执行以下步骤：

    1. 单击 **翻译**。
    2. 在出现的页面上，单击 **添加**。
    3. 在出现的列表中，选择您输入文本使用的语言。
    4. 在 **已翻译的文本** 字段中，输入文本。
    5. 如果要对文本进行个性化设置，可以如步骤 6 所述插入占位符。
    6. 单击 **关闭**。

## <a name="assign-the-approval-step"></a>分配审核步骤

按照以下步骤来指定应向审核步骤分配的人员。

1. 在左窗格中，单击 **分配**。
2. 在 **分配类型** 选项卡上，选择下表中的选项之一，然后按照该选项的其他步骤转到步骤 3。

    <table>
    <thead>
    <tr>
    <th>选项</th>
    <th>被分配审核步骤的用户</th>
    <th>附加步骤</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>参与者</td>
    <td>分配到特定组或角色的用户</td>
    <td>
    <ol>
    <li>在您选择<strong>参与者</strong>后，在选项卡<strong>基于角色</strong>上，在<strong>参与者类型</strong>列表中，选择要被分配步骤的组或角色的类型。</li>
    <li>在<strong>参与者</strong>列表中，选择向其分配步骤的组或角色的类型。</li>
    </ol>
    </td>
    </tr>
    <tr>
    <td>层次结构</td>
    <td>特定组织层次结构中的用户</td>
    <td>
    <ol>
    <li>在您选择<strong>层次结构</strong>后，在选项卡<strong>层次结构选择</strong>上，在<strong>层次结构类型</strong>列表中，选择要向其分配步骤的层次结构的类型。</li>
    <li>系统必须从层次结构中检索一系列用户姓名。 这些姓名代表可向其分配步骤的用户。 按照以下步骤指定系统检索的用户名范围的起点和终点： <ol>
    <li>若要指定起点，请在<strong>启动自</strong>列表中选择一名人员。</li>
    <li>若要指定终点，请单击<strong>添加条件</strong>。 然后输入一个确定系统停止检索姓名的层次结构的条件。</li>
    </ol>
    </li>
    <li>在<strong>层次结构选项</strong>选项卡上，指定应向其分配步骤的范围内的用户： <ul>
    <li><strong>分配给所有检索到的用户</strong> – 此步骤将分配给范围内的所有用户。</li>
    <li><strong>仅分配给最后检索到的用户</strong> – 此步骤将分配给范围内的最后一名用户。</li>
    <li><strong>排除满足以下条件的用户</strong> – 此步骤不分配给满足特定条件的范围内的所有用户。 单击<strong>添加条件</strong>以指定条件。</li>
    </ul>
    </li>
    </ol>
    </td>
    </tr>
    <tr>
    <td>工作流用户</td>
    <td>当前工作流中的用户</td>
    <td>
    <ul>
    <li>在您选择<strong>工作流用户</strong>后，在选项卡<strong>工作流用户</strong>上，在<strong>工作流用户</strong>列表中，选择参与工作流的用户。</li>
    </ul>
    </td>
    </tr>
    <tr>
    <td>用户</td>
    <td>特定用户</td>
    <td>
    <ol>
    <li>在选择<strong>用户</strong>后，单击<strong>用户</strong>选项卡。</li>
    <li><strong>可用用户</strong>列表包含所有系统用户。 选择要向其分配步骤的用户，然后将这些用户移动到<strong>所选用户</strong>列表。</li>
    </ol>
    </td>
    </tr>
    </tbody>
    </table>

3. 在 **时间限制** 选项卡上，在 **持续时间** 字段中，指定指定用户必须在多长时间内对到达审核步骤的文档采取行动或进行响应。 选择以下选项之一：

    - **小时** – 输入用户必须响应的小时数。 然后选择您的组织使用的日历，并输入有关您的组织的工作周的信息。
    - **天** – 输入用户必须响应的天数。 然后选择您的组织使用的日历，并输入有关您的组织的工作周的信息。
    - **周** – 输入用户必须响应的周数。
    - **月** – 选择用户必须在哪一天和哪一周之前响应。 例如，您可能希望用户在该月的第三周的星期五之前进行响应。
    - **年** – 选择用户必须在哪一天、哪一周和哪一月之前响应。 例如，您可能希望用户在十二月的第三周的星期五之前进行响应。

    如果用户未在分配的时间内对文档进行操作，则该文档逾期。 逾期的文件基于您在此页面 **呈报** 区域中选择的选项呈报。

4. 如果您将审核步骤分配给多个用户或用户组，在 **完成策略** 选项卡上选择以下选项之一：

    - **单个审核人**– 应用到文档的操作将由第一个响应的人员决定。 例如，Sam 提交了一份 15,000 美元的支出报表。 该支出报表当前分配给 Sue、Jo 和 Bill。 如果 Sue 是第一个响应该文档的人员，则她采取的操作将应用到该文档。 如果素心拒绝了单据，该单据将被拒绝并发还建豪。 如果 Sue 批准了文档，该文档将发送给 Ann 进行审核。

        ![具有审批流程的工作流。](./media/workflow_multipleusersinstep.gif)

    - **大多数审核人**– 应用到文档的操作将由大多数响应的人员决定。 例如，Sam 提交了一份 15,000 美元的支出报表。 该支出报表当前分配给 Sue、Jo 和 Bill。 如果前两个响应的审核人是 Sue 和 Jo，则他们采取的操作将应用到该文档。

        - 如果 Sue 批准了文档，但 Jo 拒绝了文档，则该文档将被拒绝并发还给 Sam。
        - 如果 Sue 和 Jo 都批准了文档，该文档将发送给 Ann 进行审核。

    - **审核人的百分比** – 应用到文档的操作将由特定百分比的响应审核人决定。 例如，Sam 提交了一份 15,000 美元的支出报表。 支出报表当前分配给 Sue、Jo 和 Bill，并且，您输入 **50** 作为百分比。 如果 Sue 和 Jo 是前两个响应的审核人，则他们执行的操作应用到文档，因为它们满足 50% 的审核人的要求。

        - 如果 Sue 批准了文档，但 Jo 拒绝了文档，则该文档将被拒绝并发还给 Sam。
        - 如果 Sue 和 Jo 都批准了文档，该文档将发送给 Ann 进行审核。

    - **所有审核人**– 所有审核人都必须审核该文档。 否则，工作流不能继续。 例如，Sam 提交了一份 15,000 美元的支出报表。 该支出报表当前分配给 Sue、Jo 和 Bill。 如果 Sue 和 Jo 批准了文档，而 Bill 拒绝了文档，该文档将被拒绝并发还 Sam。 如果Sue、Jo 和 Bill 都批准了文档，该文档将发送给 Ann 进行审核。

## <a name="specify-when-the-approval-step-is-required"></a>指定何时需要审核步骤

可指定何时需要审核步骤。 可能始终需要审核步骤，或者可能仅在满足特定条件是需要。

### <a name="the-approval-step-is-always-required"></a>始终需要审核步骤

如果始终需要审核，请执行以下步骤。

1. 在左窗格中，单击 **条件**。
2. 选择 **始终执行此步骤** 选项。

### <a name="the-approval-step-is-required-in-specific-conditions"></a>在特定条件下需要审核步骤

可能仅在满足特定条件时才需要您正在配置的审核步骤。 例如，如果您在配置采购申请工作流的审核步骤，您可能值想要审核步骤仅在采购申请金额大于 10,000 美元时发生。 按照以下步骤指定何时需要审核步骤。

1. 在左窗格中，单击 **条件**。
2. 选择 **仅当满足以下条件时运行此步骤** 选项。
3. 输入条件。
4. 输入需要的任何其他条件。
5. 要验证输入的条件是否正确配置，请按照以下步骤操作：

    1. 单击 **测试**。
    2. 在 **测试工作流条件** 页面，在 **验证条件** 区域，选择一条记录。
    3. 单击 **测试**。 系统对该记录进行评估，判断其是否符合您定义的条件。
    4. 单击 **确定** 或 **取消** 返回到 **属性** 页面。

## <a name="specify-what-happens-when-the-document-is-overdue"></a>指定文档逾期时采取的行动

如果用户未在分配的时间内对文档进行操作，则该文档逾期。 可呈报逾期的文档，或自动将该文档分配给其他用户进行审核。 如果文档逾期，请执行以下步骤进行呈报。

1. 在左窗格中，单击 **呈报**。
2. 选择 **使用呈报路线** 复选框创建呈报路线。 系统自动将文档分配给呈报路线中列出的用户。 例如，下表显示呈报路线。

    | 序列 | 呈报路线      |
    |----------|----------------------|
    | 1        | 分配给：Donna     |
    | 2        | 分配给：Erin      |
    | 3        | 最后操作：拒绝 |

    在此示例中，系统将逾期文档分配给 Donna。 如果 Donna 未在分配的时间内响应，则系统将此文档分配给 Erin。 如果 Erin 未在分配的时间内响应，则系统拒绝该文档。

3. 要将用户添加到呈报路线中，单击 **添加呈报**。 在 **分配类型** 选项卡上，选择下表中的选项之一，然后按照该选项的其他步骤转到步骤 4。

    <table>
    <thead>
    <tr>
    <th>选项</th>
    <th>文档呈报到的用户</th>
    <th>附加步骤</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>层次结构</td>
    <td>特定组织层次结构中的用户</td>
    <td>
    <ol>
    <li>在您选择<strong>层次结构</strong>后，在选项卡<strong>层次结构选择</strong>上，在<strong>层次结构类型</strong>列表中，选择要向其呈报文档的层次结构的类型。</li>
    <li>系统必须从层次结构中检索一系列用户姓名。 这些姓名代表可向其呈报文档的用户。 按照以下步骤指定系统检索的用户名范围的起点和终点： <ol>
    <li>若要指定起点，请在<strong>启动自</strong>列表中选择一名人员。</li>
    <li>若要指定终点，请单击<strong>添加条件</strong>。 然后输入一个确定系统停止检索姓名的层次结构的条件。</li>
    </ol>
    </li>
    <li>在<strong>层次结构选项</strong>选项卡上，指定应向其呈报文档的范围内的用户： <ul>
    <li><strong>分配给所有检索到的用户</strong> – 文档将呈报给范围内的所有用户。</li>
    <li><strong>仅分配给最后检索到的用户</strong> – 文档将呈报给范围内的最后一名用户。</li>
    <li><strong>排除满足以下条件的用户</strong> – 文档不呈报给满足特定条件的范围内的所有用户。 单击<strong>添加条件</strong>以指定条件。</li>
    </ul>
    </li>
    </ol>
    </td>
    </tr>
    <tr>
    <td>工作流用户</td>
    <td>当前工作流中的用户</td>
    <td>
    <ul>
    <li>在您选择<strong>工作流用户</strong>后，在选项卡<strong>工作流用户</strong>上，在<strong>工作流用户</strong>列表中，选择参与工作流的用户。</li>
    </ul>
    </td>
    </tr>
    <tr>
    <td>用户</td>
    <td>特定用户</td>
    <td>
    <ol>
    <li>在选择<strong>用户</strong>后，单击<strong>用户</strong>选项卡。</li>
    <li><strong>可用用户</strong>列表包含所有用户。 选择要向其呈报文档的用户，然后将这些用户移动到<strong>所选用户</strong>列表。</li>
    </ol>
    </td>
    </tr>
    </tbody>
    </table>

4. 在 **时间限制** 选项卡上，在 **持续时间** 字段中，指定指定用户必须在多长时间内对文档采取行动或进行响应。 选择以下选项之一：

    - **小时** – 输入用户必须响应的小时数。 然后选择您的组织使用的日历，并输入有关您的组织的工作周的信息。
    - **天** – 输入用户必须响应的天数。 然后选择您的组织使用的日历，并输入有关您的组织的工作周的信息。
    - **周** – 输入用户必须响应的周数。
    - **月** – 选择用户必须在哪一天和哪一周之前响应。 例如，您可能希望用户在该月的第三周的星期五之前进行响应。
    - **年** – 选择用户必须在哪一天、哪一周和哪一月之前响应。 例如，您可能希望用户在十二月的第三周的星期五之前进行响应。

5. 对每个应添加到呈报路线的用户重复第 3 步到第 4 步。 您可以更改用户的顺序。
6. 如果呈报路线中的用户未在分配的时间内响应，则系统将自动对该文档采取操作。 若要指定系统执行的操作，选择 **操作** 行，然后，在 **结束操作** 选项卡上，选择一项操作。


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]