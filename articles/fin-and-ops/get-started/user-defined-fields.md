---
title: "自定义字段"
description: "本主题介绍 Microsoft Dynamics 365 for Finance and Operations 如何允许用户创建自定义字段以根据业务调整应用程序。"
author: jasongre
manager: AnnBe
ms.date: 04/18/2018
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
ms.search.form: SysCustomFieldManageFields
audience: Application User
ms.reviewer: sericks
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: jasongre
ms.search.validFrom: 2018-1-31
ms.dyn365.ops.version: Platform update 13
ms.translationtype: HT
ms.sourcegitcommit: 83648a93f367510d7b04bbd04a9f37689ecfaa59
ms.openlocfilehash: f2aa55ae4258f5ef81456b92278415297c194d66
ms.contentlocale: zh-cn
ms.lasthandoff: 05/23/2018

---

# <a name="custom-fields"></a>自定义字段

[!include [banner](../includes/banner.md)]

[!include [banner](../includes/pre-release.md)]

尽管 Microsoft Dynamics 365 for Finance and Operations 提供了大量的现成字段来管理各种业务流程，公司有时也需要跟踪系统中的更多信息。 为了满足这样的需要，Finance and Operations 允许用户创建自定义字段以根据业务调整应用程序，前提是该用户拥有此项功能的权限。 

添加自定义字段功能将在平台更新 13 及以后提供。

以下视频介绍向页面添加自定义字段有多轻松：[在 Dynamics 365 for Finance and Operations 中添加自定义字段](https://www.youtube.com/watch?v=gWSGZI9Vtnc)。

## <a name="creating-custom-fields"></a>创建自定义字段
确定要在应用程序中跟踪的更多信息之后，可在相应表中创建自定义字段，并在页面中显示这个新字段。   

以下步骤介绍创建自定义字段并将该字段放到窗体中的流程。  

1.   导航到需要新字段的窗体。 
2.   由于最终目标是在窗体中显示自定义字段，所以创建自定义字段的起点属于个性化体验。 通过选择**选项**，然后选择**个性化设置此窗体**，打开个性化菜单栏。 
3.   单击**插入**，然后单击**字段**。  
4.   选择要显示新字段的窗体区域。 选择后，**插入字段**对话框将显示可插入所选窗体区域的现有字段的列表。  
5.   确保输入的字段未在该列表中。 否则，只需列表中选择该字段，然后单击**插入**。   
6.   单击 列表上方的**创建新字段**按钮开始创建自定义字段。 这将打开**创建新字段**对话框。 

     如果未看到**创建新字段**按钮，说明您无权使用此功能。  
     
7.   在**创建新字段**对话框中，输入以下信息。
     1.   选择应在其中添加此字段的数据库表。 请注意，此下拉列表中仅显示支持自定义字段的表。 有关支持的表的技术细节，请参阅下面的章节。  
     2.   选择新字段的数据类型。 可用数据类型为复选框、日期、日期时间、小数、数字、选择列表和文本。   
          - 如果选择文本数据类型，还可以指定此字段中可输入的最大文本长度。 
          - 如果选择选择列表数据类型，还可以为字段选择有效值集合。  
     3.   为字段提供名称、标签和帮助文本。 此名称与数据库中的实际字段名称对应，而标签和帮助文本则是用于在用户界面中表示此字段的文本。  
8.   如果这是需要为此窗体创建的唯一字段，请单击 **保存**。 如果需要创建更多字段，请单击**保存并新建**，然后返回到步骤 7。 请注意，目前存在**每个表 20 个自定义字段**这一限制。
9.   如果离开**创建新字段**对话框，将返回到**插入字段**对话框。 刚才创建的所有自定义字段将在字段列表中自动标记为要插入窗体中。  
10.   单击**插入**将标记的字段插入窗体中的所选区域。 
11.   **可选：** 从个性化工具栏启用**移动**模式，以便将新字段移动到所选区域中的所需位置。 有关如何使用各种个性化功能针对个人使用优化窗体的详细信息，请参阅[打造个性化的用户体验](personalize-user-experience.md)。  

## <a name="sharing-custom-fields-with-other-users"></a>与其他用户共享自定义字段
创建自定义字段并在窗体中显示之后，可能需要将这个更新后的页面视图（包括新字段）共享给系统中的其他用户。 可使用本产品的个性化功能以两种不同的方法达到此目的：

-   建议的方法是通过系统管理员，因为系统管理员可以将个性化设置推送给所有用户或一小部分用户。 有关更多详细信息，请参阅[打造个性化的用户体验](personalize-user-experience.md)。 

-   也可以导出更改（称为*个性化设置*），将其发送给一位或多位用户，然后请这些用户分别导入您的更改。 可使用个性化工具栏上的**管理**选项导出和导入个性化设置。

## <a name="managing-custom-fields"></a>管理自定义字段

可通过“系统管理”模块中的**自定义字段**页面管理系统中的所有自定义字段。  用户可通过此页面访问大量功能，包括： 
-   查看系统中的所有自定义字段的列表。
-   对现有自定义字段进行有限编辑。
-   删除自定义字段。
-   在数据实体上显示自定义字段。
-   提供自定义字段标签和帮助文本的翻译。

### <a name="viewing-all-custom-fields"></a>查看所有自定义字段
**自定义字段**页面提供系统中已定义的所有自定义字段的可视性。 只需选择您感兴趣的表，之后页面将更新以显示与该表关联的自定义字段的列表。 可通过从列表中选择自定义字段查看有关该字段的所有详细信息。

### <a name="editing-custom-fields"></a>编辑自定义字段
创建自定义字段之后，**自定义字段**页面中只能修改有关该自定义字段的特定信息段。   

*可以*修改以下属性： 
-   标签 
-   帮助文本
-   文本字段的长度

*不能*编辑以下属性： 
-   字段名称
-   数据类型

此外，对于选择列表字段，可为自定义字段的有效值集排序，但是，不能移除选择列表字段的现有值。 编辑完特定表的字段后，请务必单击**应用更改**，以便保存更改。 

### <a name="exposing-custom-fields-on-data-entities"></a>在数据实体上显示自定义字段
允许自定义字段在数据实体上显示也可能同样重要。 数据实体用于[在 Office 中打开](../../dev-itpro/office-integration/office-integration.md)功能中，也用于数据导出/导入场景。  

请按照以下步骤在数据实体上显示自定义字段： 
1.   在**自定义字段**窗体中选择自定义字段。 
2.   展开**实体**部分查看相关实体集。  
3.   单击**编辑**按钮。
4.   修改要为应显示此字段的各实体选择的**已启用**字段。  
5.   单击**应用更改**以保存您的选择。  

### <a name="allowing-custom-fields-to-be-displayed-in-other-languages"></a>允许自定义字段以其他语言显示
因为用户可能需要使用各种语言访问自定义字段，所以**自定义字段**页面提供了一种机制来将自定义字段的标签和帮助文本翻译为其他语言。  

以下步骤介绍将自定义字段翻译为其他语言的流程： 
1.   在**自定义字段**页面中选择自定义字段。 
2.   选择操作窗格上的**翻译**按钮。 这将打开一个下拉菜单，其中包含该字段的现有翻译。
3.   **语言**下拉菜单显示已提供了其翻译的语言的集合。 
     1.   如果要编辑现有翻译，请从菜单中选择所需语言，然后修改标签和帮助文本的值。  
     2.   否则，单击**添加语言**按钮，从菜单中选择所需语言，然后为标签和帮助文本提供翻译后的值。  
4.   完成后，单击**确定**。  

### <a name="deleting-custom-fields"></a>删除自定义字段
在很少见的情况下，您可能认为不再需要某个自定义字段。 在发生此情况时，系统管理员可以选择从**自定义字段**页面删除该字段。 方法是，确保已选中正确字段，单击**删除**，单击**是**确认删除，最后单击**应用更改**。 

> [!Note]
> 此操作无法撤消，将导致从数据库永久删除与该字段关联的数据。 

## <a name="appendix"></a>附录 
### <a name="who-can-create-custom-fields"></a>谁可以创建自定义字段？
默认情况下，只有系统管理员这样的系统安全卫士才能创建自定义字段。 但是，系统管理员可使用**运行时自定义高级用户**安全角色为组织认为有必要拥有创建自定义字段的权限的高级用户提供该权限。 不具有此安全角色的用户不能创建自定义字段，但是仍然可以查看系统中其他用户添加的自定义字段和与之交互。    

### <a name="what-tables-support-custom-fields"></a>哪些表支持自定义字段？
出于性能和技术原因，现在只有满足以下条件的表才允许添加自定义字段。

- 表必须标记为以下组之一： 
     -   组合
     -   WorksheetHeader
     -   主要
     -   杂项
     -   参数
     -   参考
     -   TransactionHeader
- 表不能扩展其他表。
- 表不能标记为系统表。
- 表不能为临时表。

