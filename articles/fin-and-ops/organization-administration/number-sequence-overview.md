---
title: 编号规则
description: 编号规则用于为需要标识符的主数据记录和交易记录生成可读的唯一标识符。
author: MargoC
manager: AnnBe
ms.date: 08/17/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: NumberSequenceTableListPage, NumberSequenceConfiguration
audience: Application User, IT Pro
ms.reviewer: sericks
ms.search.scope: Core, Operations
ms.custom: 15461
ms.assetid: 6e19bd1d-192b-4da2-8573-84f6e1ce98ef
ms.search.region: Global
ms.author: margoc
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 7dadbe811e385ea6d5802c03381093d6693b23ba
ms.sourcegitcommit: 9d4c7edd0ae2053c37c7d81cdd180b16bf3a9d3b
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/15/2019
ms.locfileid: "1560559"
---
# <a name="number-sequences"></a>编号规则

[!include [banner](../includes/banner.md)]

编号规则用于为需要标识符的主数据记录和交易记录生成可读的唯一标识符。 需要标识符的主数据记录或交易记录称为 *“参考”*。

在您能为一个参考创建新记录之前，您必须设置编号规则并将其与参考相关联。 我们建议您使用**组织管理**中的页面来设置编号规则。 如果需要特定模块设置，您可以使用模块中的参数页面为该模块的参考指定编号规则。 例如，在**应收账款**和**应付账款**中，可以设置编号规则组分配特定编号规则指定客户或供应商。

在您设置编号规则时，必须指定“范围”，定义组织使用编号规则。 该范围内可以是**共享**、**公司**、**法人**或**运营单位**。 **法人**和**公司**范围可以与**会计日历期间**合并以创建更特定编号规则。

编号规则格式包括段落。 使用一个范围的编号规则而不是**共享**可以包含与该范围对应的段落。 例如，具有**法人**范围的编号规则可能包含法人段落。 通过包括编号规则格式的范围段落，您可以通过查看其编号标识特定记录的范围。

除了对应于范围的段落，则编号规则格式可以包含**常量**和**字母数字**段。 **常量**段包含不更改的一组字母，数字或符号。 **字母数字**段包含一组使用编号且递增的字母或数字。 使用数字标志 ()\# 表示递增的编号，使用符号（&）表示递增的字母。 例如，格式 \#\#\#\#\#\_2017 创建序列 00001\_2017、00002\_2017 等。

## <a name="number-sequence-examples"></a>编号规则示例

以下示例说明如何使用段创建编号规则格式。 特别是，示例演示使用范围段落的影响。

### <a name="expense-report-numbers"></a>支出报表编号

在以下示例中，支出报表编号可以为标题为**电缆装运**的法人设置。

- **区域：** 出差和费用
- **参考：** 支出报表编号
- **作用域：** 法人
- **法人：** CS

| 细分市场  | 段类型 | 值     |
|-----------|--------------|-----------|
| 段落 1 | 法人 | CS        |
| 段落 2 | 定额     | 支出 |
| 段落 3 | 字母数字 | \#\#\#\#  |

**格式编号的示例**: CS-EXPENSE-0039

您可以设置其他法人的类似的编号规则格式。 例如，对于称作**RW**的法人，如果您只更改法人段落的值，该格式的编号是 RW-EXPENSE-0039。 您还可以更改其他法人的整数规则格式。 例如，您可以省略法人范围段落创建一个格式的编号，例如 Exp-0001。

### <a name="sales-order-numbers"></a>销售订单编号

在以下示例中，销售订单编号为公司 ID**CEU**设置。

- **区域：** 销售
- **参考：** 销售订单
- **作用域：** 公司
- **公司：** CEU

| 细分市场  | 段落类型 | 值    |
|-----------|--------------|----------|
| 段落 1 | 定额     | SO-      |
| 段落 2 | 字母数字 | \#\#\#\# |

**格式的编号的示例**: SO-0029

即使范围段落不包括在格式中，每个公司 ID 重新启动编号。 如果为所有公司 ID 使用相同的格式，在每个公司使用相同的编号。 例如，在每个公司使用销售订单编号 SO-0029。 您还可以更改其他公司 IDs 的整数规则格式。

### <a name="purchase-requisition-numbers"></a>采购申请编号

在以下示例中，采购申请编号是组织范围的。

- **区域：** 采购
- **参考：** 采购申请
- **作用域：** 共享

| 细分市场  | 段落类型 | 值    |
|-----------|--------------|----------|
| 段落 1 | 定额     | 需求      |
| 段落 2 | 字母数字 | \#\#\#\# |

**格式的编号的示例**: Req0052

因为作用域是**共享**，因此编号规则格式在整个组织中使用。 不能为组织的不同部分设置不同的编号规则格式。

## <a name="performance-considerations-for-number-sequences"></a>编号规则的绩效注意事项

考虑有关编号规则的配置如何在设置编号规则之前影响系统性能的以下信息。

### <a name="continuous-and-non-continuous-number-sequences"></a>连续和间断的编号规则

编号规则可以是连续的或间断的。 连续的编号规则无法跳过所有数字，但是，不能连续使用编号。 某一间断编号规则的编号可以连续使用，但编号规则可以跳过编号。 例如，如果用户取消交易记录，生成编号，但不使用。 在一个连续编号规则，以后回收该编号。 在一间断的编号规则，不使用该编号。

连续编号规则通常是外部文档必需的，如采购订单、销售订单和发票。 但是，连续编号规则可以冲销影响系统响应时间，因为系统必须每次从创建新文档或记录的数据库请求一个编号。

如果您使用间断的编号规则，您可以在**编号规则**页的**性能**快速选项卡上启用**预分配**。 当您指定编号数量预分配时，系统选择这些编号和在内存中存储它们。 在使用了预分配的数量之后，新编号只从数据库请求。

除非有一个管理要求您使用连续编号规则，我们建议您为更好的性能使用间断的编号规则。

### <a name="automatic-cleanup-of-number-sequences"></a>编号规则自动清除

如果电源故障、应用程序错误，或者其他意外故障的情况下，系统不能为连续编号规则自动回收编号。 您可以运行清除流程手动或自动恢复丢失的编号。

当您计划清除过程时，应仔细考虑服务器使用。 我们建议您将清除作为批处理作业在非高峰期间执行。
