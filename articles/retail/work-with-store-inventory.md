---
title: 商店库存管理
description: 本主题描述可用于管理库存的文档类型。
author: rubencdelgado
manager: AnnBe
ms.date: 04/23/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: 21391
ms.assetid: bfef3717-d0e0-491d-8466-d8a9c995177d
ms.search.region: global
ms.search.industry: Retail
ms.author: rubendel
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update
ms.openlocfilehash: efc729c83b81bd8afb806c403d52fd85b36efc9d
ms.sourcegitcommit: 2b890cd7a801055ab0ca24398efc8e4e777d4d8c
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/07/2019
ms.locfileid: "1523753"
---
# <a name="store-inventory-management"></a><span data-ttu-id="194f9-103">商店库存管理</span><span class="sxs-lookup"><span data-stu-id="194f9-103">Store inventory management</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="194f9-104">在 Dynamics 365 for Retail 中处理库存和使用 POS 应用程序时，请务必记住 POS 为库存维度和某些库存物料类型提供有限支持。</span><span class="sxs-lookup"><span data-stu-id="194f9-104">When working with inventory in Dynamics 365 for Retail and using the POS application, it is important to note that POS provides limited support for inventory dimensions and certain inventory item types.</span></span>  

<span data-ttu-id="194f9-105">POS 解决方案不支持以下物料配置：</span><span class="sxs-lookup"><span data-stu-id="194f9-105">The POS solution does not support the following item configurations:</span></span>
- <span data-ttu-id="194f9-106">物料清单物料（除套件产品外，其使用物料清单框架的某些组件）</span><span class="sxs-lookup"><span data-stu-id="194f9-106">BOM items (except kit products, which utilize some components of the BOM framework)</span></span>
- <span data-ttu-id="194f9-107">实际称重物料</span><span class="sxs-lookup"><span data-stu-id="194f9-107">Catch weight items</span></span>
- <span data-ttu-id="194f9-108">批次控制物料</span><span class="sxs-lookup"><span data-stu-id="194f9-108">Batch-controlled items</span></span>

<span data-ttu-id="194f9-109">POS 应用程序当前在 POS 中不支持以下跟踪维度：</span><span class="sxs-lookup"><span data-stu-id="194f9-109">The POS application currently does not support the following tracking dimensions in the POS:</span></span>
- <span data-ttu-id="194f9-110">批次跟踪维度</span><span class="sxs-lookup"><span data-stu-id="194f9-110">Batch tracking dimension</span></span>
- <span data-ttu-id="194f9-111">所有者维度</span><span class="sxs-lookup"><span data-stu-id="194f9-111">Owner dimension</span></span>

<span data-ttu-id="194f9-112">POS 解决方案为以下维度提供有限支持。</span><span class="sxs-lookup"><span data-stu-id="194f9-112">The POS solution provides limited support for the following dimensions.</span></span> <span data-ttu-id="194f9-113">有限支持指示 POS 可以根据仓库/商店设置配置将其中的一些维度自动默认为库存交易记录中的维度。</span><span class="sxs-lookup"><span data-stu-id="194f9-113">Limited support indicates that the POS may default some of these dimensions into inventory transactions automatically based on warehouse/store setup configuration.</span></span> <span data-ttu-id="194f9-114">如果销售交易记录手动输入到 ERP，POS 将不以维度支持方式完全支持这些维度。</span><span class="sxs-lookup"><span data-stu-id="194f9-114">POS will not fully support the dimensions in the way they are supported if a sales transaction is manually entered into the ERP.</span></span> 

- <span data-ttu-id="194f9-115">**仓库库位** - 尚未将商店配置为使用仓库管理流程时，用户不能管理收到并放入商店仓库的物料的接收仓库库位。</span><span class="sxs-lookup"><span data-stu-id="194f9-115">**Warehouse Location** - Users will not have the ability to manage the receiving warehouse location for items received into a store warehouse when the store has not been configured to use the warehouse management process.</span></span>  <span data-ttu-id="194f9-116">将对这些物料使用为商店仓库定义的默认接收仓库库位。</span><span class="sxs-lookup"><span data-stu-id="194f9-116">A default receiving location defined on the store warehouse will be used for these items.</span></span>  <span data-ttu-id="194f9-117">如果已经为商店启用了仓库管理流程，将触发有限支持，以便提示用户为整个收货选择接收库位。</span><span class="sxs-lookup"><span data-stu-id="194f9-117">If the warehouse management process has been enabled for the store, limited support that prompts the user to choose a receiving location for the entire receipt will be triggered.</span></span>  <span data-ttu-id="194f9-118">从该商店售出的物料始终是从商店仓库设置中定义的默认零售库位售出的。</span><span class="sxs-lookup"><span data-stu-id="194f9-118">Items sold from the store will always be sold out of the default retail location as defined on the store warehouse setup.</span></span>   <span data-ttu-id="194f9-119">可以通过商店仓库的默认退货库位定义或基于退货库位策略中定义的退货原因代码控制用于管理退货库存的库位。</span><span class="sxs-lookup"><span data-stu-id="194f9-119">The location for managing return inventory can be controlled through default return location definition on the store warehouse or based on return reason codes as defined in the return location policy.</span></span>
- <span data-ttu-id="194f9-120">**牌照** - 仅当对物料和商店仓库启用了**使用仓库管理流程**时，牌照才适用。</span><span class="sxs-lookup"><span data-stu-id="194f9-120">**License plate** - License plates are only applicable when **Use warehouse management process** has been enabled on the item and the store warehouse.</span></span>  <span data-ttu-id="194f9-121">在 POS 中，如果接收库存的商店仓库启用了仓库管理流程，并且选择来接收物料的库位已绑定到需要牌照控制的库位模板，POS 应用程序将对收货行系统化地应用牌照。</span><span class="sxs-lookup"><span data-stu-id="194f9-121">In POS, if inventory is received into a store warehouse where the warehouse management process has been enabled, and the location chosen to receive the item into is tied to a location profile that requires license plate control, the POS application will systematically apply a license plate to the receiving line.</span></span>  <span data-ttu-id="194f9-122">POS 中的用户将不能更改或管理此牌照数据。</span><span class="sxs-lookup"><span data-stu-id="194f9-122">Users in POS will not have the ability to change or manage this license plate data.</span></span>   <span data-ttu-id="194f9-123">如果需要全面管理牌照，建议仓库使用 WMS 移动应用程序或后勤办公室 ERP 客户端管理这些物料的收货。</span><span class="sxs-lookup"><span data-stu-id="194f9-123">If full management of license plates is required, it is suggested the store use the WMS mobile application or the back office ERP client to manage the receipt of these items.</span></span>
- <span data-ttu-id="194f9-124">**序列号** - POS 应用程序有限支持要在 POS 中使用序列号物料创建的订单的交易记录销售行上登记的单个序列号。</span><span class="sxs-lookup"><span data-stu-id="194f9-124">**Serial number** - The POS application has limited support for single serial number to be registered on a transaction sales line for orders created in POS with serialized items.</span></span>  <span data-ttu-id="194f9-125">不会针对库存中已登记的序列号验证此序列号。</span><span class="sxs-lookup"><span data-stu-id="194f9-125">This serial number is not validated against registered serial numbers already in inventory.</span></span>  <span data-ttu-id="194f9-126">如果某个销售订单是在呼叫中心渠道注册或通过 ERP 履行的，并且在 ERP 中履行过程中将多个序列号登记到了一个销售行中，那么如果在 POS 中为这些订单处理退货，则不能应用或验证这些序列号。</span><span class="sxs-lookup"><span data-stu-id="194f9-126">If a sales order is created in the call center channel or fulfilled through the ERP and multiple serial numbers are registered to a single sales line during the fulfillment process in the ERP, these serial numbers will not be able to be applied or validated if a return is processed in POS for these orders.</span></span>
- <span data-ttu-id="194f9-127">**库存状态** - 对于使用仓库管理流程且需要库存状态的物料，则不能通过 POS 应用程序设置或修改此状态字段。</span><span class="sxs-lookup"><span data-stu-id="194f9-127">**Inventory status** - For items that use the warehouse management process and require an inventory status, this status field is not able to be set or modified through the POS application.</span></span>  <span data-ttu-id="194f9-128">库存中接收物料时，将使用商店仓库配置中定义的默认库存状态。</span><span class="sxs-lookup"><span data-stu-id="194f9-128">The default inventory status as defined on the store warehouse configuration will be used when items are received into inventory.</span></span>  

> [!NOTE]
> <span data-ttu-id="194f9-129">所有组织均必须在将配置部署到生产前在开发或测试环境中通过 POS 测试物料配置。</span><span class="sxs-lookup"><span data-stu-id="194f9-129">All organizations must test item configurations through POS in development or test environments before deploying them to production.</span></span> <span data-ttu-id="194f9-130">通过您的物料的 POS 通过执行常规的付现自运的销售交易并创建客户订单来测试您的物料（如果适用）。</span><span class="sxs-lookup"><span data-stu-id="194f9-130">Test your items by performing regular cash and carry sales transacting and creating customer orders (if applicable) through the POS with your items.</span></span> <span data-ttu-id="194f9-131">测试必须包括在测试环境中运行完整的对帐单过帐流程并确认没有问题。</span><span class="sxs-lookup"><span data-stu-id="194f9-131">Testing must include running a full statement posting processes in your test environment and verifying that there are no issues.</span></span>
> <span data-ttu-id="194f9-132">按 POS 应用程序不支持的方式配置物料，且不进行适当的测试，可能导致对帐单过帐流程在生产中失败，且没有更正问题的简便方法。</span><span class="sxs-lookup"><span data-stu-id="194f9-132">Configuring items in a way that is not supported by the POS application, without proper testing, can result in your statement posting process failing in production without an easy way to correct the issues.</span></span> <span data-ttu-id="194f9-133">可以有选择地考虑对应用程序进行合作伙伴或客户自定义以允许这些过帐流程成功完成。</span><span class="sxs-lookup"><span data-stu-id="194f9-133">Partner or customer customizations to the application may optionally be considered to allow these posting processes to successfully complete.</span></span> <span data-ttu-id="194f9-134">如果不需要自定义，组织必须确保您的产品的产品配置已经以标准 POS 应用程序/订单创建/对帐单过帐流程支持的方式完成。</span><span class="sxs-lookup"><span data-stu-id="194f9-134">If customizations are not needed, the organization must ensure that the product configuration of your products has been done in a way that is supported by the standard POS application/order creation/statement posting process.</span></span>

## <a name="purchase-orders"></a><span data-ttu-id="194f9-135">采购订单</span><span class="sxs-lookup"><span data-stu-id="194f9-135">Purchase orders</span></span>

<span data-ttu-id="194f9-136">采购订单在总部创建。</span><span class="sxs-lookup"><span data-stu-id="194f9-136">Purchase orders are created at the head office.</span></span> <span data-ttu-id="194f9-137">如果零售仓库包括在采购订单抬头中，通过**领料/收货**操作使用 Microsoft Dynamics 365 for Retail 中的 Modern POS (MPOS) 或 Cloud POS 订货可以在商店接收订单。</span><span class="sxs-lookup"><span data-stu-id="194f9-137">If a retail warehouse is included in the purchase order header, the order can be received at the store by using Modern POS (MPOS) or Cloud POS in Microsoft Dynamics 365 for Retail through the **Picking/Receiving** operation.</span></span> <span data-ttu-id="194f9-138">在 POS 中的**当前接收量**字段内为采购订单单据输入商店收到的数量时，可以在本地保存或提交这些数量。</span><span class="sxs-lookup"><span data-stu-id="194f9-138">After the quantities that are received at the store are entered in the **Receive Now** field in POS for the purchase order document, they can be saved locally or committed.</span></span> <span data-ttu-id="194f9-139">将这些数据保存在本地不会影响现货库存。</span><span class="sxs-lookup"><span data-stu-id="194f9-139">Saving this data locally has no effect on in-stock inventory.</span></span> <span data-ttu-id="194f9-140">仅当用户尚未准备好将收据过帐到总部，并且仅需要临时存储以前输入的**当前接收量**数据时，才应进行保存。</span><span class="sxs-lookup"><span data-stu-id="194f9-140">Saving should be done only if the user is not ready to post the receipt to HQ and just needs a way to temporarily store the previously entered **Receive Now** data.</span></span>  <span data-ttu-id="194f9-141">这将把当前接收量数据本地保存到用户的渠道数据库。</span><span class="sxs-lookup"><span data-stu-id="194f9-141">This saves the receive now data locally to the user's channel database.</span></span> <span data-ttu-id="194f9-142">使用**提交**选项处理单据之后，将把**当前接收量**数据发送到总部，并过帐采购订单收据。</span><span class="sxs-lookup"><span data-stu-id="194f9-142">After the document is processed using the **Commit** option, the **Receive Now** data is sent to HQ and the purchase order receipt will be posted.</span></span> 

## <a name="transfer-orders"></a><span data-ttu-id="194f9-143">转移单</span><span class="sxs-lookup"><span data-stu-id="194f9-143">Transfer orders</span></span>

<span data-ttu-id="194f9-144">转移单可指定特定商店为可发货的库位或将接收库存的库位。</span><span class="sxs-lookup"><span data-stu-id="194f9-144">A transfer order can specify that a particular store is the location that items can be shipped from or the location the inventory will be received into.</span></span> <span data-ttu-id="194f9-145">如果 POS 用户是转移单的装运仓库，这些用户可以从 POS 输入**当前装运量**数量。</span><span class="sxs-lookup"><span data-stu-id="194f9-145">If the POS user is the shipping warehouse for a transfer order, they will be able to enter **Ship Now** quantities from POS.</span></span>  <span data-ttu-id="194f9-146">可以在本地保存或提交装运商店输入的数据。</span><span class="sxs-lookup"><span data-stu-id="194f9-146">The data entered by the shipping store can be saved locally or committed.</span></span>  <span data-ttu-id="194f9-147">在本地保存时，不对总部的转移单单据进行任何更新。</span><span class="sxs-lookup"><span data-stu-id="194f9-147">When saved locally, no updates are made to the transfer order document in HQ.</span></span> <span data-ttu-id="194f9-148">仅当用户尚未准备好将装运过帐到总部，并且需要临时存储以前输入的**当前装运量**数据时，才应进行保存。</span><span class="sxs-lookup"><span data-stu-id="194f9-148">Saving should be done only if the user is not ready to post the shipment to HQ and needs a way to temporarily store the previously entered **Ship Now** data.</span></span> <span data-ttu-id="194f9-149">商店准备好确认装运时，应选择**提交**选项。</span><span class="sxs-lookup"><span data-stu-id="194f9-149">After the store is ready to confirm shipment, the **Commit** option should be selected.</span></span> <span data-ttu-id="194f9-150">这将在总部过帐转移单的装运，这样收货仓库现在可以对其收货。</span><span class="sxs-lookup"><span data-stu-id="194f9-150">This posts the shipment of the transfer order in HQ so that the receiving warehouse will now be able to receive against it.</span></span> 

<span data-ttu-id="194f9-151">如果 POS 用户是转移单的收货仓库，这些用户可以从 POS 输入**当前接收量**数量。</span><span class="sxs-lookup"><span data-stu-id="194f9-151">If the POS user is the receiving warehouse for a transfer order, they will be able to enter the **Receive Now** quantities from POS.</span></span>  <span data-ttu-id="194f9-152">可以在本地保存或提交收货商店输入的数据。</span><span class="sxs-lookup"><span data-stu-id="194f9-152">The data entered by the receiving store can be saved locally or committed.</span></span> <span data-ttu-id="194f9-153">仅当用户尚未准备好将收据过帐到总部，并且需要临时存储以前输入的**当前接收量**数据时，才应进行保存。</span><span class="sxs-lookup"><span data-stu-id="194f9-153">Saving should be done only if the user is not ready to post the receipt to HQ and needs a way to temporarily store the previously entered **Receive Now** data.</span></span> <span data-ttu-id="194f9-154">这将把当前接收量数据本地保存到用户的渠道数据库。</span><span class="sxs-lookup"><span data-stu-id="194f9-154">This saves the receive now data locally to the user's channel database.</span></span> <span data-ttu-id="194f9-155">使用**提交**选项处理单据之后，将把**当前接收量**数据发送到总部，并过帐转移单收据。</span><span class="sxs-lookup"><span data-stu-id="194f9-155">After the document is processed using the **Commit** option, the **Receive Now** data is sent to HQ and the transfer order receipt will be posted.</span></span> <span data-ttu-id="194f9-156">请务必注意，收货商店将受到限制，只能提交等于或小于装运数量的收货数量。</span><span class="sxs-lookup"><span data-stu-id="194f9-156">It's important to note that the receiving store will be restricted to only being able to commit receive quantities that are equal to or less than shipped quantities.</span></span> <span data-ttu-id="194f9-157">尝试接收转移单中以前尚未装运的数量将导致出错，并且将不在总部确认收货。</span><span class="sxs-lookup"><span data-stu-id="194f9-157">An attempt to receive quantities on a transfer order that have not previously shipped will result in errors and the receipt will not be confirmed in HQ.</span></span>

## <a name="stock-counts"></a><span data-ttu-id="194f9-158">存货盘点</span><span class="sxs-lookup"><span data-stu-id="194f9-158">Stock counts</span></span>

<span data-ttu-id="194f9-159">存货盘点可以是计划或不定期的。</span><span class="sxs-lookup"><span data-stu-id="194f9-159">Stock counts can be either scheduled or unscheduled.</span></span> <span data-ttu-id="194f9-160">存货盘点在总部启动，总部指定必须盘点的物料。</span><span class="sxs-lookup"><span data-stu-id="194f9-160">Scheduled stock counts are initiated at the head office, which specifies the items that must be counted.</span></span> <span data-ttu-id="194f9-161">总部会创建盘点文档，并将商店接收，将实际的现有存货数量输入 MPOS 或 Cloud POS.。</span><span class="sxs-lookup"><span data-stu-id="194f9-161">The head office creates a counting document that can be received at the store, where the quantities of actual on-hand stock are entered in MPOS or Cloud POS.</span></span> <span data-ttu-id="194f9-162">计划外存货盘点在商店启动，在 MPOS 或 Cloud POS. 中更新实际的现有存货数量。</span><span class="sxs-lookup"><span data-stu-id="194f9-162">Unscheduled stock counts are initiated at a store, and the quantities of actual on-hand stock are updated in either MPOS or Cloud POS.</span></span> <span data-ttu-id="194f9-163">与周期盘点不同，计划外存货盘点没有物料的预定义列表。</span><span class="sxs-lookup"><span data-stu-id="194f9-163">Unlike scheduled stock counts, unscheduled stock counts do not have a predefined list of items.</span></span> <span data-ttu-id="194f9-164">在存货盘点类型为已完工入库时，它承诺和发送给总部。</span><span class="sxs-lookup"><span data-stu-id="194f9-164">When a stock count of either type is completed, it is committed and sent to the head office.</span></span> <span data-ttu-id="194f9-165">在总部，将以一个单独步骤的形式验证和过帐盘点。</span><span class="sxs-lookup"><span data-stu-id="194f9-165">At the head office, the count is validated and posted as a separate step.</span></span>

## <a name="inventory-lookup"></a><span data-ttu-id="194f9-166">库存查找</span><span class="sxs-lookup"><span data-stu-id="194f9-166">Inventory lookup</span></span>

<span data-ttu-id="194f9-167">在**库存查找**页可以查看多个商店和仓库的当前现有产品数量。</span><span class="sxs-lookup"><span data-stu-id="194f9-167">The current product quantity on hand for multiple stores and warehouses can be viewed on the **Inventory lookup** page.</span></span> <span data-ttu-id="194f9-168">除了当前现有数量以外，还可以查看各个商店的未来可承诺 (ATP) 数量。</span><span class="sxs-lookup"><span data-stu-id="194f9-168">In addition to the current quantity on hand, the future available to promise (ATP) quantities can be viewed for each individual store.</span></span> <span data-ttu-id="194f9-169">为此，选择你要查看 ATP 的商店，然后单击**查看商店可用性**。</span><span class="sxs-lookup"><span data-stu-id="194f9-169">To do so, select the store that you want to view the ATP for and then click **Show store availability**.</span></span>
