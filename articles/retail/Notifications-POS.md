---
title: "在销售点 (POS) 中显示订单通知"
description: "此主题介绍如何在销售点和通知框架中启用订单通知。 最终，开发人员将可以将这些通知延伸到订单履行操作之外的操作。"
author: ShalabhjainMSFT
manager: AnnBe
ms.date: 03/13/2018
ms.topic: article
ms.prod: 
ms.service: dynamics-365-retail
ms.technology: 
ms.search.form: RetailOperations, RetailFunctionalityProfile
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.search.region: Global
ms.search.industry: retail
ms.author: ShalabhjainMSFT
ms.search.validFrom: 2017-10-30
ms.dyn365.ops.version: 
ms.translationtype: HT
ms.sourcegitcommit: 5098fb3339403b6f2779dfe3bb7ef5c4ca78051f
ms.openlocfilehash: 41f16d13051f6095bdb04af1586ec06fe0ce93f6
ms.contentlocale: zh-cn
ms.lasthandoff: 08/08/2018

---

# <a name="show-order-notifications-in-the-point-of-sale-pos"></a><span data-ttu-id="ae297-104">在销售点 (POS) 中显示订单通知</span><span class="sxs-lookup"><span data-stu-id="ae297-104">Show order notifications in the point of sale (POS)</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="ae297-105">在现代零售环境中，商店店员被分配了各种任务，例如帮助客户、输入交易记录、执行存货盘点以及在商店接收订单。</span><span class="sxs-lookup"><span data-stu-id="ae297-105">In the modern retail environment, store associates are assigned various tasks, such as helping customers, entering transactions, doing stock counts, and receiving orders in the store.</span></span> <span data-ttu-id="ae297-106">销售点 (POS) 客户端提供一个应用程序，可供店员执行所有这些任务和其他大量任务。</span><span class="sxs-lookup"><span data-stu-id="ae297-106">The point of sale (POS) client provides a single application where associates can perform all these tasks and many others.</span></span> <span data-ttu-id="ae297-107">由于各种任务必须在当天执行，所以可能必须在需要店员注意时通知店员。</span><span class="sxs-lookup"><span data-stu-id="ae297-107">Because various tasks must be performed during the day, associates might have to be notified when something requires their attention.</span></span> <span data-ttu-id="ae297-108">POS 中的通知框架可以提供帮助，方法是让零售商配置基于角色的通知。</span><span class="sxs-lookup"><span data-stu-id="ae297-108">The notification framework in the POS helps by letting retailers configure role-based notifications.</span></span> <span data-ttu-id="ae297-109">在具有应用程序更新 5 的 Microsoft Dynamics 365 for Retail 中，这些通知仅可针对 POS 操作进行配置。</span><span class="sxs-lookup"><span data-stu-id="ae297-109">In Microsoft Dynamics 365 for Retail with application update 5, these notifications can be configured only for POS operations.</span></span>

<span data-ttu-id="ae297-110">现在，系统只能显示有关订单履行操作的通知。</span><span class="sxs-lookup"><span data-stu-id="ae297-110">Currently, the system can show notifications only for order fulfillment operations.</span></span> <span data-ttu-id="ae297-111">但是，由于该框架设计为可扩展，所以开发人员最终将可以编写有关任何操作的通知处理程序，并在 POS 中显示相应操作的通知。</span><span class="sxs-lookup"><span data-stu-id="ae297-111">However, because the framework is designed to be extensible, developers will eventually be able to write a notification handler for any operation and show the notifications for that operation in the POS.</span></span>

## <a name="enable-notifications-for-order-fulfillment-operations"></a><span data-ttu-id="ae297-112">启用用于订单履行操作的通知</span><span class="sxs-lookup"><span data-stu-id="ae297-112">Enable notifications for order fulfillment operations</span></span>

<span data-ttu-id="ae297-113">要启用有关订单履行操作的通知，请执行以下步骤。</span><span class="sxs-lookup"><span data-stu-id="ae297-113">To enable notifications for order fulfillment operations, follow these steps.</span></span>

1. <span data-ttu-id="ae297-114">转至**零售** &gt; **渠道设置** &gt; **POS 设置** &gt; **POS** &gt; **操作**。</span><span class="sxs-lookup"><span data-stu-id="ae297-114">Go to **Retail** &gt; **Channel setup** &gt; **POS setup** &gt; **POS** &gt; **Operations**.</span></span>
2. <span data-ttu-id="ae297-115">搜索**订单履行**操作，然后为其选中**启用通知**复选框，以便指定通知框架应针对此操作侦听处理程序。</span><span class="sxs-lookup"><span data-stu-id="ae297-115">Search for the **Order fulfillment** operation, and select the **Enable notifications** check box for it to specify that the notification framework should listen to the handler for this operation.</span></span> <span data-ttu-id="ae297-116">如果实施该处理程序，将在 POS 中显示有关此操作的通知。</span><span class="sxs-lookup"><span data-stu-id="ae297-116">If the handler is implemented, notifications for this operation will then be shown in the POS.</span></span>
3. <span data-ttu-id="ae297-117">转到**零售** &gt; **员工** &gt; **工作人员** &gt;，在“零售”选项卡下，打开与该工作人员关联的 POS 权限。</span><span class="sxs-lookup"><span data-stu-id="ae297-117">Go to **Retail** &gt; **Employees** &gt; **Workers** &gt;, under Retail tab, open the POS permissions associated with the worker.</span></span> <span data-ttu-id="ae297-118">展开**通知**快速选项卡，添加**订单履行**操作，然后将**显示顺序**字段设置为 **1**。</span><span class="sxs-lookup"><span data-stu-id="ae297-118">Expand the **Notifications** FastTab, add the **Order fulfillment** operation, and set the **Display order** field to **1**.</span></span> <span data-ttu-id="ae297-119">如果配置了多个通知，将把此字段用于排列通知。</span><span class="sxs-lookup"><span data-stu-id="ae297-119">If more than one notification is configured, this field is used to arrange the notifications.</span></span> <span data-ttu-id="ae297-120">**显示顺序**值较低的通知在该值较高的通知上方显示。</span><span class="sxs-lookup"><span data-stu-id="ae297-120">Notifications that have a lower **Display order** value appear above notifications that have a higher value.</span></span> <span data-ttu-id="ae297-121">**显示顺序**值为 **1** 的通知在最上面显示。</span><span class="sxs-lookup"><span data-stu-id="ae297-121">Notifications that have a **Display order** value of **1** are at the top.</span></span>

    <span data-ttu-id="ae297-122">将仅显示有关**通知**快速选项卡上添加的操作的通知，而只有 **POS 操作**页上已选中了**启用通知**选项卡，才能在这里添加操作。</span><span class="sxs-lookup"><span data-stu-id="ae297-122">Notifications are shown only for operations that are added on the **Notifications** FastTab, and you can add operations there only if the **Enable notifications** check box for those operations has been selected on the **POS operations** page.</span></span> <span data-ttu-id="ae297-123">此外，仅当将操作添加到了工作人员的 POS 权限，才对这些工作人员显示有关该操作的通知。</span><span class="sxs-lookup"><span data-stu-id="ae297-123">Additionally, notifications for an operation are shown to workers only if the operation is added to the POS permissions for those workers.</span></span>

    > [!NOTE]
    > <span data-ttu-id="ae297-124">可以在用户级别覆盖通知。</span><span class="sxs-lookup"><span data-stu-id="ae297-124">Notifications can be overridden at the user level.</span></span> <span data-ttu-id="ae297-125">打开工作人员的记录，选择 **POS 权限**，然后编辑该用户的通知订阅。</span><span class="sxs-lookup"><span data-stu-id="ae297-125">Open the worker's record, select **POS permissions**, and then edit the user's notification subscription.</span></span>

4. <span data-ttu-id="ae297-126">转至**零售** &gt; **渠道设置** &gt; **POS 设置** &gt; **POS 配置文件** &gt; **功能配置文件**。</span><span class="sxs-lookup"><span data-stu-id="ae297-126">Go to **Retail** &gt; **Channel setup** &gt; **POS setup** &gt; **POS profiles** &gt; **Functionality profiles**.</span></span> <span data-ttu-id="ae297-127">在**通知时间间隔**字段中，指定提取通知的频率。</span><span class="sxs-lookup"><span data-stu-id="ae297-127">In the **Notification interval** field, specify how often notifications should be pulled.</span></span> <span data-ttu-id="ae297-128">对于某些通知，POS 必须实时调用后端办公应用程序。</span><span class="sxs-lookup"><span data-stu-id="ae297-128">For some notifications, the POS must make real-time calls to the back-office application.</span></span> <span data-ttu-id="ae297-129">这些调用将消耗后端办公应用程序的计算能力。</span><span class="sxs-lookup"><span data-stu-id="ae297-129">These calls consume the compute capacity of your back-office application.</span></span> <span data-ttu-id="ae297-130">因此，设置通知时间间隔时，应同时考虑业务需求和实时调用对后端办公应用程序的影响。</span><span class="sxs-lookup"><span data-stu-id="ae297-130">Therefore, when you set the notification interval, you should consider both your business requirements and the impact of real-time calls to the back-office application.</span></span> <span data-ttu-id="ae297-131">值为 **0**（零）将关闭通知。</span><span class="sxs-lookup"><span data-stu-id="ae297-131">A value of **0** (zero) turns off notifications.</span></span>
5. <span data-ttu-id="ae297-132">转到**零售** &gt; **零售 IT** &gt; **配送计划**。</span><span class="sxs-lookup"><span data-stu-id="ae297-132">Go to **Retail** &gt; **Retail IT** &gt; **Distribution schedule**.</span></span> <span data-ttu-id="ae297-133">选择 **1060**（**员工**）计划以同步通知订阅设置，然后选择**立即运行**。</span><span class="sxs-lookup"><span data-stu-id="ae297-133">Select the **1060** (**Staff**) schedule to synchronize notification subscription settings, and then select **Run now**.</span></span> <span data-ttu-id="ae297-134">接下来，选择 **1070**（**渠道配置**）计划以同步权限时间间隔，然后选择**立即运行**。</span><span class="sxs-lookup"><span data-stu-id="ae297-134">Next, select the **1070** (**Channel configuration**) schedule to synchronize the permission interval, and then select **Run now**.</span></span>

## <a name="view-notifications-in-the-pos"></a><span data-ttu-id="ae297-135">在 POS 中查看通知</span><span class="sxs-lookup"><span data-stu-id="ae297-135">View notifications in the POS</span></span>

<span data-ttu-id="ae297-136">完成上述步骤之后，工作人员就可以在 POS 中查看通知。</span><span class="sxs-lookup"><span data-stu-id="ae297-136">After you complete the preceding steps, the workers will be able to view the notifications in the POS.</span></span> <span data-ttu-id="ae297-137">要查看通知，按 POS 右上角的通知图标。</span><span class="sxs-lookup"><span data-stu-id="ae297-137">To view notifications, press the notification icon in the top right corner of the POS.</span></span> <span data-ttu-id="ae297-138">通知中心将显示，其中显示有关订单履行操作的通知。</span><span class="sxs-lookup"><span data-stu-id="ae297-138">A notification center appears and shows notifications for the order fulfillment operation.</span></span> <span data-ttu-id="ae297-139">通知中心应该在订单履行操作中显示以下组：</span><span class="sxs-lookup"><span data-stu-id="ae297-139">The notification center should show the following groups in the order fulfillment operation:</span></span>

- <span data-ttu-id="ae297-140">**商店提货** - 此组显示交货方式为**提货**并且已经计划从当前商店提货的订单计数。</span><span class="sxs-lookup"><span data-stu-id="ae297-140">**Store pickup** – This group shows the count of orders that have a delivery mode of **Pickup**, and that are scheduled for pickup from the current store.</span></span> <span data-ttu-id="ae297-141">可按组上的编号打开**订单履行**页。</span><span class="sxs-lookup"><span data-stu-id="ae297-141">You can press the number on the group to open the **Order fulfillment** page.</span></span> <span data-ttu-id="ae297-142">在此情况下，将过滤页面，以便仅显示为从当前商店提货而设置的有效订单。</span><span class="sxs-lookup"><span data-stu-id="ae297-142">In this case, the page will be filtered so that it shows only the active orders that are set up for pickup from the current store.</span></span>
- <span data-ttu-id="ae297-143">**从商店装运** - 此组显示交货方式为**装运**并且已经计划从当前商店装运的订单计数。</span><span class="sxs-lookup"><span data-stu-id="ae297-143">**Ship from store** – This group shows the count of orders that have the delivery mode of **Shipping**, and that are scheduled for shipment from the current store.</span></span> <span data-ttu-id="ae297-144">可按组上的编号打开**订单履行**页。</span><span class="sxs-lookup"><span data-stu-id="ae297-144">You can press the number on the group to open the **Order fulfillment** page.</span></span> <span data-ttu-id="ae297-145">在此情况下，将过滤页面，以便仅显示为从当前商店装运而设置的有效订单。</span><span class="sxs-lookup"><span data-stu-id="ae297-145">In this case, the page will be filtered so that it shows only the active orders that are set up for shipment from the current store.</span></span>

<span data-ttu-id="ae297-146">将新订单分配给商店履行时，通知图标将更改，以指示有新通知，并将更新相应组的计数。</span><span class="sxs-lookup"><span data-stu-id="ae297-146">When new orders are assigned to the store for fulfillment, the notification icon changes to indicate that there are new notifications, and the count for the appropriate groups is updated.</span></span> <span data-ttu-id="ae297-147">尽管组按照定期时间间隔刷新，但是 POS 用户随时可以通过选择组旁边的**刷新**按钮手动刷新组。</span><span class="sxs-lookup"><span data-stu-id="ae297-147">Even tough the groups are refreshed at regular intervals however, POS users can manually refresh the groups at any time by selecting the **Refresh** button next to the group.</span></span> <span data-ttu-id="ae297-148">最后，如果组有当前工作人员尚未查看的新项，该组将显示一个爆炸符号以指示新内容。</span><span class="sxs-lookup"><span data-stu-id="ae297-148">Lastly, if a group has a new item, that the current worker hasn't viewed, then the group shows a burst symbol to indicate new content.</span></span>

## <a name="enable-live-content-on-pos-buttons"></a><span data-ttu-id="ae297-149">在 POS 按钮上启用实时内容</span><span class="sxs-lookup"><span data-stu-id="ae297-149">Enable live content on POS buttons</span></span>

<span data-ttu-id="ae297-150">POS 按钮现在可以显示计数以帮助工作人员轻松确定哪些任务需要他们立即注意。</span><span class="sxs-lookup"><span data-stu-id="ae297-150">POS buttons can now show a count to help workers easily determine which tasks require their immediate attention.</span></span> <span data-ttu-id="ae297-151">若要在 POS 按钮上显示此编号，必须完成此主题前文介绍的通知设置（即，必须启用有关操作的通知，设置通知时间间隔和更新工作人员的 POS 权限组）。</span><span class="sxs-lookup"><span data-stu-id="ae297-151">To show this number on a POS button, you must complete the notification setup that is described earlier in this topic (that is, you must enable notifications for an operation, set up a notification interval, and update the POS permission group for the worker).</span></span> <span data-ttu-id="ae297-152">此外，还必须打开按钮网格设计器，查看按钮的属性，以及选中**启用实时内容**复选框。</span><span class="sxs-lookup"><span data-stu-id="ae297-152">Additionally, you must open the button grid designer, view the button's properties, and select the **Enable live content** check box.</span></span> <span data-ttu-id="ae297-153">在**内容对齐**字段中，可选择计数在按钮右上角（**靠上右对齐**）还是中央（**居中**）显示。</span><span class="sxs-lookup"><span data-stu-id="ae297-153">In the **Content alignment** field, you can select whether the count appears in the upper-right corner of the button (**Top right**) or in the center (**Center**).</span></span>

> [!NOTE]
> <span data-ttu-id="ae297-154">仅当按照此主题中前文的说明在 **POS 操作**页上为操作选中了**启用通知**复选框，才能为操作启用实时内容。</span><span class="sxs-lookup"><span data-stu-id="ae297-154">The live content can be enabled for operations only if the **Enable notifications** check box has been selected for them on the **POS operations** page, as described earlier in this topic.</span></span>

<span data-ttu-id="ae297-155">下图显示按钮网格设计器中的实时内容设置。</span><span class="sxs-lookup"><span data-stu-id="ae297-155">The following illustration shows the live content settings in the button grid designer.</span></span>

<span data-ttu-id="ae297-156">![按钮网格设计器中的实时内容设置](./media/ButtonGridDesigner.png "按钮网格设计器中的实时内容设置")</span><span class="sxs-lookup"><span data-stu-id="ae297-156">![Live content settings in the button grid designer](./media/ButtonGridDesigner.png "Live content settings in the button grid designer")</span></span>

<span data-ttu-id="ae297-157">下图显示在**内容对齐**字段中选择**靠上右对齐**与**居中**对各种尺寸的按钮的影响。</span><span class="sxs-lookup"><span data-stu-id="ae297-157">The following illustration shows the effect of selecting **Top right** versus **Center** in the **Content alignment** field for buttons of various sizes.</span></span>

<span data-ttu-id="ae297-158">![POS 按钮上的实时内容](./media/ButtonsWithLiveContent.png "POS 按钮上的实时内容")</span><span class="sxs-lookup"><span data-stu-id="ae297-158">![Live content on POS buttons](./media/ButtonsWithLiveContent.png "Live content on POS buttons")</span></span>

