---
title: "修改行定义单元格"
description: "本文介绍财务报表中行定义的每个单元格必需的信息，并解释如何输入该信息。"
author: ShylaThompson
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
ms.search.form: FinancialReports
audience: Application User
ms.reviewer: twheeloc
ms.search.scope: Core, Operations
ms.custom: 58881
ms.assetid: 0af492df-a84e-450c-8045-78ef1211abaf
ms.search.region: Global
ms.author: aolson
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
ms.translationtype: HT
ms.sourcegitcommit: dd34fb71f7a5d31a075c6475c2fe6627193d891f
ms.openlocfilehash: 6bb405937288b46f49420a1735c32b5b7c16248e
ms.contentlocale: zh-cn
ms.lasthandoff: 02/02/2018

---

# <a name="modify-row-definition-cells"></a>修改行定义单元格

[!include[banner](../includes/banner.md)]


本文介绍财务报表中行定义的每个单元格必需的信息，并解释如何输入该信息。 

## <a name="specify-a-row-code-in-a-row-definition"></a>在行定义中指定行代码

在行定义中，**“行代码”**单元格中的编号或标签标识行定义中的每一行。 你可以指定行代码来引用计算和总计中的数据。

### <a name="row-code-requirements"></a>行代码要求

所有行均需要行代码。 您可以在行定义中组合数字、字母数字和未设置（空）行代码。 行代码可以是可标识该行的任何正整数（小于 100,000,000）或说明性标签。 说明性标签必须遵循这些规则：

-   此标签必须以按字母顺序的字符（a 到 z 或 A 到 Z）开头，并且可能是长达 16 个字符的数字和字母组合。 

> [!Note] 
> 标签可以包含下划线字符 (\_)，但不允许使用任何其他特殊字符。

-   此标签不能使用下列任一保留字：AND、OR、IF、THEN、ELSE、PERIODS、TO、BASEROW、UNIT、NULL、CPO 或 RPO。

下列示例是有效的行代码：

-   320
-   TL\_NET\_INCOME
-   TL\_NET\_94

### <a name="change-a-row-code-in-a-row-definition"></a>在行定义中更改行代码

1.  在报表设计器中，单击**“行定义”**，然后打开行定义以修改。
2.  在相应行中，在**“行代码”**列的单元格中输入新值。

### <a name="reset-numeric-row-codes"></a>重置数字行代码

1.  在报表设计器中，单击**“行定义”**，然后打开行定义以修改。
2.  在**“编辑”**菜单上，单击**“对行重新编号”**。
3.  在**“对行重新编号”**对话框中，为起始行代码和行代码增量指定新值。 您可以将数字行代码重置为均等间距值。 但是，报表设计器仅对以数字（例如，130 或 246）开头的行代码重新编号。 它不对对以字母（例如，INCOME\_93 或 TP0693）开头的行代码重新编号。 

> [!Note] 
> 当您对行代码重新编号时，报表设计器将自动更新 **TOT** 和 **CAL** 引用。 例如，如果 **TOT** 行引用从行代码 100 开始的范围，并且您对从 90 开头的行重新编号，则起始 **TOT** 引用将从 100 更改为 90。

## <a name="add-a-description"></a>添加说明
描述单元格提供对报表行中财务数据的描述，如“收入”或“净收入”。 **“描述”**单元格中的文本将完全按照您在行定义中所输入的那样在报表中显示。 

> [!Note] 
> 报表上描述列的宽度是在列定义中设置的。 如果行定义中**“描述”**列中的文本太长，请确认 **DESC** 列的宽度。 当您使用**“从以下位置插入行”**对话框时，**“描述”**列中的值是财务数据中的段值或维度值。 你可以插入行以添加说明性文字（例如，节标题或节总计）并添加格式（例如，在汇总行之前添加一行）。 如果报表包含一个报告树，则您可以在该报告树中包含为报告单位定义的附加文本。 您也可以将附加文本限制为特定报告单位。

### <a name="add-the-description-for-a-line-on-a-report"></a>为报表中的行添加说明

1.  在报表设计器中，单击**“行定义”**，然后打开行定义以修改。
2.  选择**“描述”**单元格，然后输入报表行的名称。
3.  应用格式。

### <a name="add-additional-text-from-a-reporting-tree-in-the-description"></a>在说明中添加报告树中的附加文本

1.  在报表设计器中，单击**“行定义”**，然后打开行定义以修改。
2.  在相应**“描述”**单元格中输入其他文本代码和任何其他文本。
3.  应用格式。

### <a name="limit-the-additional-text-to-a-specific-reporting-unit"></a>将附加文本限制为特定报告单位

1.  在报表设计器中，单击**“行定义”**，然后打开行定义以修改。
2.  查找其中应创建其他文本的行，然后双击**“相关公式/行/单位”**列中的单元格。
3.  在**“报告单位选择”**对话框的**“报告结构树”**字段中，选择报告结构树。
4.  在**“选择要限制的报告单位”**字段中，展开或折叠报告结构树，然后选择报告单位。

## <a name="add-a-format-code"></a>添加格式代码
**“格式代码”**单元格为行内容提供很多预设格式选择。 如果**“格式代码”**单元格为空，则行将解释为财务数据明细行。 
> [!Note] 
> 如果报表包含与已隐藏的金额行（例如，由于零余额）相关的非金额格式行，您可使用**相关配方/行/单位**列防止打印标题和格式行。

### <a name="add-a-format-code-to-a-report-row"></a>向报表行添加格式代码

1.  在报表设计器中，单击**“行定义”**，然后选择行定义以修改。
2.  双击**“格式代码”**单元格。
3.  在列表中选择格式代码。 下表介绍了格式代码及其操作。

| **格式代码**               | **格式代码的解释** | **行为**                                                                                                                                                                                                     |
|-------------------------------|---------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| （无）                        |                                       | 清除**“格式代码”**单元格。                                                                                                                                                                               |
| TOT                           | 总计                                 |  标识在**“相关公式/行/单位”**列中使用数学运算符的行。 汇总包含简单运算符，如 **+** 或 **-**。                                                     |
| CAL                           | 计算                           | 标识在**“相关公式/行/单位”**列中使用数学运算符的行。 计算包含复杂运算符，如 **+**、**-**、**\***、**/** 和 **IF/THEN/ELSE** 语句。 |
| DES                           | 说明                           | 标识报表上的标题行或空行。                                                                                                                                                        |
| LFT RGT CEN                   | 向左对齐、向右对齐、居中对齐                     |  对齐报表页上的行说明文本，而不考虑该文本在列定义中的位置。                                                                                              |
| CBR                           | 更改基准行                       | 标识用于设置进行列计算的基准行的行。                                                                                                                                               |
| COLUMN                        | 分列符                          | 在报表上开始新列。                                                                                                                                                                             |
| PAGE                          | 分页                            | 在报表上开始新页。                                                                                                                                                                               |
| \---                          | 单下划线                      | 在报表上所有金额列下放置单下划线。                                                                                                                                                     |
|  ===                          | 双下划线                      | 在报表上所有金额列下放置双下划线。                                                                                                                                                     |
| LINE1                         | 细线                             | 在整个页面中绘制一条细线。                                                                                                                                                                      |
| LINE2                         | 粗线                            | 在整个页面中绘制一条粗线。                                                                                                                                                                     |
| LINE3                         | 虚线                           | 在整个页面中绘制一条单虚线。                                                                                                                                                                    |
| LINE4                         | 粗线和细线              | 在整个页面中绘制一条双线。 顶部线为粗线，底部线为细线。                                                                                                                       |
| LINE5                         | 细线和粗线              | 在整个页面中绘制一条双线。 顶部线为细线，底部线为粗线。                                                                                                                       |
| BXB BXC                       | 加框行                             | 围绕以 **BXB** 行开头和 **BXC** 行结尾的报表行绘制一个框。                                                                                                               |
| REM                           | 备注                                | 标识不应在报表中打印的注释行。 例如，备注行可用于说明你的格式设置方法。                                                            |
| SORT ASORT SORTDESC ASORTDESC | 排序                                  | 对支出或收入进行排序，根据最大差异对实际或预算差异报表进行排序，或按字母顺序对行说明进行排序。                                                                   |

## <a name="specify-related-formulasrowsunits"></a>指定相关的公式/行/单位
**“相关配方/行/单位”**单元格具有多个用途。 根据行的类型，**“相关配方/行/单位”**可以执行下列功能之一：

-   在您使用 **TOT** 格式代码或 **CAL** 格式代码时，定义要包含在计算中的行。
-   将格式行链接到金额行，以便只在打印相关金额时才打印格式。
-   将行限制为特定报告单位。
-   当您使用 **BASEROW** 格式代码时，为计算定义基准行。
-   当你使用任何排序格式代码时，可以定义要排序的行。

### <a name="use-a-row-total-in-a-row-definition"></a>在行定义中使用行总计

将行总计公式用于加上或减去其他行中的金额。 用于创建行总计的公式可以包含 + 和 - 运算符，以合并单个行代码和范围。 范围由冒号 (:) 表示。 该公式最多可包含 1,024 个字符。 以下是标准汇总公式的示例：400+420+430+450+460LIABILITIES+EQUITY520:546520:546-LIABILITIES

### <a name="components-of-a-row-total-formula"></a>行总计公式的组件

在您创建行总计公式时，您必须使用行代码指定要在当前行定义中加上或减去哪些行，且必须使用运算符指定如何组合行。 可以采用任意组合的形式使用总计行和金额行。 **请注意：**范围内的所有汇总行不包含在内。 若要创建合计，可以指定行的范围。 如果某个范围的第一行为总计行，则该行将包含在新总计中。 下表描述如何在行汇总公式中使用运算符。

| 操作员 | 公式示例 | 说明                                                 |
|----------|-----------------|-------------------------------------------------------------|
| +        | 100+330         | 将第 100 行中的金额与第 330 行中的金额相加。        |
| :        | 100:330         | 将位于第 100 行到第 330 行之间的所有行的汇总相加。    |
| -        | 100-330         | 将第 100 行中的金额与第 330 行中的金额相减。 |

### <a name="create-a-row-total"></a>创建行总计

1.  在报表设计器中，单击“行定义”，然后打开要修改的行定义。
2.  双击行定义中的**“格式代码”**单元格，然后选择 **TOT**。
3.  在**“相关公式/行/单位”**单元格中，输入汇总公式。

### <a name="relate-a-format-row-to-an-amount-row"></a>将格式行与金额行关联

在行定义中的**格式代码**列中，**DES**、**LFT**、**RGT**、**CEN**、**---** 和 **===** 格式代码对非金额行应用格式。 为了防止在隐藏相关金额行（例如，由于金额行包含零值或不包含期间活动）时打印此格式，您必须将格式行与对应的金额行关联。 如果您想要在期间无明细要打印时防止打印与小计相关的标题或格式，此功能很有用。 
> [!Note] 
> 您还可以通过清除“显示无金额的行”选项来防止打印明细金额行。 此选项位于报表定义的**“设置”**选项卡上。 默认情况下，报表中将不显示余额为零或不包含任何期间活动的交易记录明细会计科目。 要显示这些交易记录明细科目，请选中报表定义的**“设置”**选项卡上的**“显示无金额的行”**复选框。

### <a name="relate-a-format-row-to-an-amount-row"></a>将格式行与金额行关联

1.  在报表设计器中，单击**“行定义”**，然后选择行定义以修改。
2.  在格式行的**“相关配方/行/单位”**单元格中，键入要隐藏的金额行的行代码。 **请注意：**要隐藏金额行，行的余额必须为 0（零）。 有余额的金额行无法禁止。
3.  在**“文件”**菜单上，单击**“另存为”**。

### <a name="example-of-preventing-printing-of-rows"></a>禁止行打印的示例

在以下示例中，由于现金科目中无活动，Phyllis 想要防止打印报表**“现金总额”**行中的标题和下划线。 因此，在第 220 行（如 **---** 格式代码表示，此行是格式行）的**相关公式/行/单位**单元格中，她输入 **250**，该数是她想要隐藏的金额行的行代码。 [![RelatedRowsRowDefinition](./media/relatedrowsrowdefinition-1024x144.png)](./media/relatedrowsrowdefinition.png)

## <a name="select-the-base-row-for-a-column-calculation"></a>选择列计算的基准行
在关系报告中，通过使用 **CBR**（更改基准行）格式代码在行定义中分配一个或多个基准行。 然后，列定义中的计算会引用基准行。 下面是 CBR 计算的一些典型示例：

-   总收入相对于个体收入项目的百分比
-   总支出相对于个体支出项目的百分比
-   毛利相对于分部或部门明细的百分比。

在行定义中定义一个或多个基准行，然后使用列定义确定报告基准行时所依据的关系。 列公式中使用的代码为 **BASEROW**。 下列基本数学运算将与 **BASEROW** 一起使用：加、减、乘、除。 最常使用的运算将除以 **BASEROW**，其中结果将以百分比形式显示。 在公式中使用 **BASEROW** 的列计算将对相关基准行代码使用行定义。 **CBR** 行具有下列特征：

-   **CBR** 行不会打印在完成的报表上。
-   **CBR** 格式代码及其相关行代码的位置高于显示相关计算的行或部分。

在列定义中，“CALC”列类型指示在“公式”行中指定公式的列。 此公式将在报表此列的数据上运算并且使用 Baserow 关键字在行中的 **CBR** 格式代码上进行基础计算。 在行定义中，**CBR** 格式代码定义列的基准行，这些列将计算报表中每一行的基准行的百分比或乘以报表中每一行的基准行。 您的行格式中具有多个 **CBR** 格式代码，如净销售额 1 个、总销售额 1 个以及总支出 1 个。 通常，**CBR** 格式代码用于创建与合计行进行比较的科目的百分比。 基准行用于所有计算，直到定义了另一个基准行为止。 您必须定义一个起始 **CBR** 格式代码和一个结束 **CBR**格式代码。 例如，若要确定支出与净销售额的百分比，您可以用每个支出行中的值除以净销售额行中的值。 在此情况下，净销售额行为基准行。 您可以定义一个列定义，用于报告当前和年初至今的结果，以及每个结果的基准百分比，如下例所示。 从明细利润表开始。

### <a name="select-the-base-row-in-a-row-definition-for-a-column-calculation"></a>在行定义中选择列计算的基准行

1.  在报表设计器中，单击**“列定义”**，然后打开利润表的列定义。
2.  向列定义添加新列，并将列类型设置为 **CALC**。
3.  在新列的**“公式”**单元格中，输入公式 **X/BASEROW**，其中 **X** 为要查看百分比形式的 **FD** 列类型。
4.  双击**“格式/货币覆盖”**单元格。
5.  在**“格式覆盖”**对话框的**“格式类别”**列表中，选择**“百分比”**，然后单击**“确定”**。
6.  在**“文件”**菜单上，单击**“另存为”**以用新名称保存列定义。 将 **CBR** 追加到当前文件名（例如，**CUR\_YTD\_CBR**）。 此列定义是您的基准行列定义。
7.  在报表设计器中，单击**“行定义”**，然后打开行定义以通过使用基准行计算进行修改。
8.  在应开始基准行计算的行上方插入一个新行。
9.  双击行定义的**“格式代码”**单元格，然后选择 **CBR**。
10. 在**“相关公式/行/单位”**单元格中，输入基准行的行代码编号。

### <a name="example-of-base-row-calculation"></a>基准行计算示例

在以下行定义示例中，第 100 行显示计算的基准行为第 280 行。 [![基准行计算的示例。](./media/cbrrowdefinition.png)](./media/cbrrowdefinition.png) 在以下列定义示例中，计算使用 **CBR** 格式代码。 C 列中的计算将报表 B 列的值除以 B 列第 280 行中的值。B 列中的格式替代以百分比格式打印计算结果。 同样，E 列中的每个金额都是以净销售额的百分比表示的 D 列中的金额。 [![列定义示例。](./media/cbrcolumndefinition2.png)](./media/cbrcolumndefinition2.png) 以下示例显示了可根据以前的计算生成的报表。 [![基于上一示例计算的报表的示例。](./media/cbrreport-1024x272.png)](./media/cbrreport.png)

## <a name="select-a-sorting-code-for-a-row-definition"></a>为行定义选择排序代码
排序代码会对会计科目或值进行排序，根据最大差异对实际或预算差异报表进行排序，或按字母顺序对行说明进行排序。 可以使用下列排序代码：

-   **SORT** – 根据指定列中的值以升序对报表进行排序。
-   **ASORT** – 根据指定列中值的绝对值以升序对报表进行排序。 换句话说，在对这些值进行排序时将忽略每个值的符号。 此格式代码将根据差异的大小（无论差异是正还是负）确定各个值的顺序。
-   **SORTDESC** – 根据指定列中的值以降序对报表进行排序。
-   **ASORTDESC** – 根据指定列中值的绝对值以降序对报表进行排序。

### <a name="select-a-sorting-code"></a>选择排序代码

1.  在报表设计器中，单击**“行定义”**，然后打开行定义以修改。
2.  双击**“格式代码”**单元格，然后选择分类代码。
3.  在**“相关公式/行/单位”**单元格中，指定要排序的行代码的范围。 若要指定范围，请输入第一个行代码、冒号 (:)，然后输入最后一个行代码。 例如，输入 **160:490** 可指定第 160 行到第 490 行的范围。
4.  在**“列限制”**单元格中，输入要用于排序的报表列的字母。 
> [!Note] 
> 仅在排序计算中包括金额行。

### <a name="examples-of-ascending-and-descending-column-values"></a>升序和降序列值的示例

在以下示例中，将按升序为报表中第 160 到 490 行的 D 列中的值排序。 此外，将按降序为报表中第 610 到 940 行的 G 列中的值排序。

| 行代码 | 说明                                         | 格式代码 | 相关公式/行/单位 | 标准余额 | 列限制 | 指向财务维度的链接 |
|----------|-----------------------------------------------------|-------------|-----------------------------|----------------|--------------------|------------------------------|
| 100      | 按每月差异进行升序排序       | DES         |                             |                |                    |                              |
| 130      |                                                     | SORT        | 160:490                     |                | D                  |                              |
| 160      | 销售额                                               |             |                             | C              |                    | 4100                         |
| 190      | 销售退回                                       |             |                             |                |                    | 4110                         |
|          | ...                                                 |             |                             |                |                    |                              |
| 490      | 利息收入                                     |             |                             | C              |                    | 7000                         |
| 520      |                                                     | DES         |                             |                |                    |                              |
| 550      | 按 YTD 绝对差异进行降序排序 | DES         |                             |                |                    |                              |
| 580      |                                                     | ASORTDESC   | 610:940                     |                | G                  |                              |
| 610      | 销售                                               |             |                             | C              |                    | 4100                         |
| 640      | Sales Returns                                       |             |                             |                |                    | 4110                         |
|          | ...                                                 |             |                             |                |                    |                              |
| 940      | 利息收入                                     |             |                             | C              |                    | 7000                         |


## <a name="specify-a-format-override-cell"></a>指定“格式覆盖”单元格
**“格式覆盖”**单元格指定打印报表时行使用的格式。 此格式将替代在列定义和报表定义中指定的格式。 默认情况下，这些定义中指定的格式是货币。 如果报表中的一行列出资产数（如建筑数），另一行列出这些资产的货币值，则您可以替代该货币格式，并为指定建筑数的行输入数字格式。 在**“格式覆盖”**对话框中指定此信息。 可用的选项取决于你选择的格式类别。 此对话框的**“示例”**区域将显示示例格式。 以下是可用的格式类别：

-   货币格式
-   数字格式
-   百分比格式
-   自定义格式

### <a name="override-cell-formatting"></a>替代单元格格式

1.  在报表设计器中，打开要修改的行定义。
2.  在要覆盖其格式的行中，双击**“格式覆盖”**列中的单元格。
3.  在**“格式覆盖”**对话框中，选择格式选项以用于报表中的此行。
4.  单击“**OK**”。

### <a name="currency-formatting"></a>货币格式

货币格式将应用于会计金额并且包含货币符号。 以下是可用的选项：

-   **货币符号** – 报表采用的货币符号。 此值将覆盖公司信息的**“区域选项”**设置。
-   **负数** – 负数可包含负号 (-)，它们可出现在圆括号中，也可包含三角形 (∆)。
-   **小数位数** – 要显示在小数点后的数字的数量。
-   **零值覆盖文本** – 当金额为 0（零）时要包含在报表中的文本。 此文本显示为**“示例”**区域中的最后一行。 
> [!Note] 
> 如果打印将隐藏零值或不包含期间活动，则将隐藏此文本。

### <a name="numeric-formatting"></a>数字格式

数字格式适用于任何金额，并且不包含货币符号。 以下是可用的选项：

-   **负数** – 负数可包含负号 (-)，它们可出现在圆括号中，也可包含三角形 (∆)。
-   **小数位数** – 要显示在小数点后的数字的数量。
-   **零值覆盖文本** – 当金额为 0（零）时要包含在报表中的文本。 此文本显示为**“示例”**区域中的最后一行。 
> [!Note] 
> 如果打印将隐藏零值或不包含期间活动，则将隐藏此文本。

### <a name="percentage-formatting"></a>百分比格式

百分比格式包含百分比符号 (%)。 以下是可用的选项：

-   **负数** – 负数可包含负号 (-)，它们可出现在圆括号中，也可包含三角形 (∆)。
-   **小数位数** – 要显示在小数点后的数字的数量。
-   **零值覆盖文本** – 当金额为 0（零）时要包含在报表中的文本。 此文本显示为**“示例”**区域中的最后一行。 
> [!Note] 
> 如果打印将隐藏零值或不包含期间活动，则将隐藏此文本。

### <a name="custom-formatting"></a>自定义格式

可使用自定义格式类别来创建自定义格式替代。 以下是可用的选项：

-   **类型** – 自定义格式。
-   **零值覆盖文本** – 当金额为 0（零）时要包含在报表中的文本。 此文本显示为**“示例”**区域中的最后一行。 
> [!Note] 
> 如果打印将隐藏零值或不包含期间活动，则将隐藏此文本。

类型应该先表示正值，然后再表示负值。 通常，您输入的区分正值和负值的格式是类似的。 例如，要同时指定具有两个小数位数的正负值，但负值出现在圆括号中，请输入 **0.00;(0.00)**。 下表显示了可用于控制值的格式的自定义格式。 所有示例都从值 1234.56 开始。

| 格式                         | 正值   | 负     | 零    |
|--------------------------------|------------|--------------|---------|
| 0                              | 1235       | -1235        | 0       |
| 0;0                            | 1235       | 1235         | 0       |
| 0;(0);-                        | 1235       | 1235         | -       |
| \#,\#\#\#;(\#,\#\#\#);“”       | 1,235      | (1,235)      | （空白） |
| \#,\#\#0.00;(\#,\#\#0.00);zero | 1,234.56   | (1,234.56)   | 零    |
| 0.00%;(0.00%)                  | 123456.00% | (123456.00%) | 0.00%   |

## <a name="specify-a-normal-balance-cell"></a>指定“标准余额”单元格
行定义中的**“标准余额”**单元格控制行中金额的符号。 要改变行的符号，或者如果科目的标准余额为信用，则在该行的**“标准余额”**单元格中输入 **C**。 报表设计器将改变该行中所有信用余额科目上的符号。 当报表设计器改变这些科目时，它将从所有科目中删除借方/贷方特征，从而直接进行汇总。 例如，你仅需从收入中减去支出，即可以计算出净收入。 通常，汇总行和计算行不受 **C** 代码影响。 但是，列定义中的 **XCR** 打印控制将改变任何在**“标准余额”**列中包含 **C** 的行的符号。 当您要将所有逆差显示为负金额时，此格式尤其重要。 如果汇总或计算得出的数字具有错误的符号，则在相应行的**“标准余额”**单元格中输入 **C** 以改变符号。

## <a name="specify-a-row-modifier-cell"></a>指定“行修饰符”单元格
行定义中**“行修饰符”**单元格的内容将覆盖会计年度、期间和在相应行的列定义中指定的其他信息。 所选修饰符应用于行中的每个会计科目。 您可以使用以下一种或多种修饰符来修改每一行：

-   会计科目修饰符
-   帐簿代码修饰符
-   会计科目和交易记录属性

### <a name="override-a-column-definition"></a>替代列定义

1.  在报表设计器中，打开要修改的行定义。
2.  在其中您要覆盖列定义的行中，双击**“行修饰符”**单元格。
3.  在**“行修饰符”**对话框中，选择**“科目修饰符”**中的选项。 有关选项的说明，请参阅“科目修饰符”部分。
4.  在**“帐簿代码修饰符”**字段中，选择相应行要使用的帐簿代码。
5.  在**“属性”**下，执行下列步骤以为应包含在行代码中的各个属性添加条目：
    1.  双击**“属性”**单元格，然后选择属性名称。 **注意：**将数字符号 (\#) 替换为数值。
    2.  双击**“从”**单元格，并输入该范围的第一个值。
    3.  双击**“到”**单元格，然后输入该范围的最后一个值。

6.  单击“**OK**”。

### <a name="account-modifiers"></a>科目修饰符

当您选择特定科目时，报表设计器通常会将科目和会计年度、期间以及您在列定义中指定的其他信息组合在一起。 你可以将不同的信息（如其他会计期间）用于特定行。 下表显示可用的科目修饰符。 将数字符号 (\#) 替换为等于或小于会计年度中的期间数量的值。

| 科目修饰符 | 打印内容                                                                           |
|------------------|-------------------------------------------------------------------------------------------|
| /BB              | 科目的期初余额。                                                     |
| /\#              | 指定期间的余额。                                                     |
| /-\#             | 当前期间之前的第 \# 个期间的余额。                  |
| /+\#             | 当前期间之后的第 \# 个期间的余额。                   |
| /C               | 当前期间的余额。                                                       |
| /C-\#            | 当前期间之前的第 \# 个期间的余额。                  |
| /C+\#            | 当前期间之后的第 \# 个期间的余额。                   |
| /Y               | 截至当前期间的本年迄今余额。                                      |
| /Y-\#            | 截至当前期间之前的第 \# 个期间的本年迄今余额。 |
| /Y+\#            | 截至当前期间之后的第 \# 个期间的本年迄今余额。  |

### <a name="book-code-modifiers"></a>帐簿代码修饰符

您可将行限制为现有帐簿代码。 列定义必须包括至少一个具有帐簿代码的 **FD** 列。 
> [!NOTE]
> 行的帐簿代码限制将覆盖该行的列定义中的帐簿代码限制。

### <a name="account-and-transaction-attributes"></a>会计科目和交易记录属性

某些会计系统支持在财务数据中使用会计科目属性和交易记录属性。 这些属性的作用类似于虚拟会计科目段，并且可以包含有关会计科目或交易记录的附加信息。 此附加信息可能是会计科目 ID、批次 ID、邮政编码或其他属性。 如果你的会计系统支持这些属性，则可以将会计科目属性或交易记录属性用作行定义中的行修饰符。 有关如何覆盖行信息的信息，请参阅本文前文中的“覆盖列定义”部分。

## <a name="specify-a-link-to-financial-dimensions-cell"></a>指定“链接到财务维度”单元格
**“链接到财务维度”**单元格包含至应包含在报表每一行中的财务数据的链接。 此单元格包含维度值，而且您可指定 Microsoft Excel 工作表中的单元格，或除此之外，指定段值或维度值。 要打开**“维度”**对话框，请双击**“链接到财务维度”**单元格。 
> [!NOTE]
> 报表设计器不能选择 Microsoft Dynamics ERP 系统中包含任何下列保留字符的科目、维度或字段：&、\*、\[、\]、{ 或 }。 要为已在行定义中的行指定信息，请在**“链接到财务维度”**单元格中添加信息。 要添加链接到财务数据的新行，请使用**“从以下位置插入行”**对话框在报表定义中创建新行。 列标题会根据该列的配置方式而变化，如下表所示。

| 选定的链接类型       | “链接”列的描述将更改为 |
|----------------------------------|----------------------------------------------------|
| 财务维度             | 指向财务维度的链接                       |
| 外部工作表               | 指向工作表的链接                                  |
| 财务维度 + 工作表 | 指向财务维度的链接 + 工作表           |
| Management Reporter 报表       | Management Reporter 报表                         |

### <a name="specify-a-dimension-or-range"></a>指定维度或范围

1.  在报表设计器中，打开要修改的行定义。
2.  双击“指向财务维度的链接”列中的单元格。
3.  在“维度”对话框中，双击维度名称下的单元格。
4.  在维度的对话框中，选择**“单个或系列”**。
5.  在**从**字段中，输入起始维度，或单击![浏览](https://i-technet.sec.s-msft.com/dynimg/IC679490.gif "浏览")搜索可用维度。 要输入维度的范围，在**“到”**字段中输入结束维度。
6.  单击**“确定”**以关闭维度的对话框。 **“维度”**对话框将显示更新后的维度或范围。
7.  单击**“确定”**以关闭**“维度”**对话框。

## <a name="display-zero-balance-accounts-in-a-row-definition"></a>显示行定义中的零余额科目
默认情况下，报表设计器不会打印财务数据中没有相应余额的任何行。 因此，您可以创建一个行定义，在其中包含所有自然科目段值或所有维度值，然后将该行定义用于您的任意部门。

### <a name="modify-zero-balance-settings"></a>修改零余额设置

1.  在报表设计器中，打开要修改的报表定义。
2.  在**“设置”**选项卡上的**“其他格式”**下，选择报表定义中所使用的行定义的选项。
3.  在**“文件”**菜单上，单击**“保存”**以保存您的更改。

## <a name="use-wildcard-characters-and-ranges-in-a-row-definition"></a>在行定义中使用通配符和范围
当您在**“维度”**对话框中输入自然科目段值时，可在段的任何位置中放置通配符（? 或 \*）。 报表设计器将提取定义位置的所有值，而不考虑通配符。 例如，行定义只包含自然科目段值，而自然科目段包含 4 个字符。 通过在行中输入 **6???**， 您命令报表设计器包含具有以 6 开头的自然科目段值的所有科目。 如果输入 **6\***，将返回相同的结果，而且结果还包含可变宽度值，如 **60** 和 **600000**。 报表设计器会将每个通配符 (?) 替换为完整范围的可能值，这包含字母和特殊字符。 例如，在 **12?0** 到 **12?4** 的范围中，**12?0** 中的通配符将替换为字符集中的最低值，而 **12?4** 中的通配符将替换为字符集中的最高值。 
> [!Note] 
> 您应避免在范围的起始和结束科目中使用通配符。 如果在起始会计科目或结束会计科目中使用通配符，可能会收到意外的结果。

### <a name="single-segment-or-single-dimension-ranges"></a>单科目段范围或单维度范围

你可以指定一组科目段值或维度值。 指定范围的好处在于，您不必在每次向财务数据添加新的段值或维度值时更新行定义。 例如，范围 **+Account=\[6100:6900\]** 会将 6100 到 6900 科目中的值拉取到行金额中。 如果范围包含通配符 (?)，则报表设计器不会按字符计算范围。 相反，将确定范围的低端和高端值，然后包含这两端的值以及两端之间的所有值。 
> [!Note] 
> 报表设计器不能选择 Microsoft Dynamics ERP 系统中包含任何下列保留字符的科目、维度或字段：&、\*、\[、\]、{ 或 }。 仅当您通过使用**“从维度插入行”**对话框自动构建行定义时，才可添加与号 (&)。

### <a name="multiple-segment-or-multiple-dimension-ranges"></a>多科目段范围或多维度范围

通过使用多个维度值的组合输入范围时，将基于 ...\财务维度\逐维度完成范围比较。 范围比较无法逐字符或部分段完成。 例如，范围 **+Account=\[5000:6000\], Department=\[1000:2000\], Cost center=\[00\]** 仅包含与每个段匹配的科目。 在此方案中，第一个维度必须位于 5000 至 6000 的范围中，第二个维度必须位于 1000 至 2000 的范围中，最后一个维度必须为 00。 例如，**+Account=\[5100\], Department=\[1100\], Cost center=\[01\]** 未包含在报表上，因为最后一个段超出指定范围。 如果某一段值包含空格，请将此值包含在方括号中 (\[ \]) 中。 下列值对 4 字符段有效：**\[ 234\]、\[123 \]、\[1 34\]**。 维度值应包含在方括号 (\[ \]) 中，报表设计器将为您添加这些方括号。 当多段或多维度范围包含通配符（? 或 \*）时，将确定整个多段或多维度范围的低端和高端值，然后包含这两端的值以及两端之间的所有值。 如果您具有更大的范围（如 40000 至 99999 整个范围内的科目），则应尽可能指定有效起始科目和结束科目。 
> [!Note] 
> 报表设计器不能选择 Microsoft Dynamics ERP 系统中包含任何下列保留字符的科目、维度或字段：&、\*、\[、\]、{ 或 }。 仅当您通过使用**“从维度插入行”**对话框自动构建行定义时，才可添加与号 (&)。

## <a name="add-or-subtract-from-other-accounts-in-a-row-definition"></a>加上或减去行定义中的其他会计科目
要将一个科目中的货币金额与另一个科目中的货币金额进行加减，您可在**“链接到财务维度”**单元格中使用加号 (+) 和减号 (-)。 下表显示增加和减少指向财务数据的链接时可接受的格式。

| 操作  | 使用此格式  |
|------------|-----------------|
| 添加两个完全符合规则的科目。                                                       | +Division=\[000\], Account=\[1205\], Department=\[00\]+Division=\[100\], Account=\[1205\], Department=\[00\] |
| 添加两个段值。                                                                 | +Account=\[1205\]+Account=\[1210\]                                                                           |
| 添加包含通配符的段值。                                    | +Account=\[120?+Account=\[11??\]                                                                             |
| 添加一系列完全符合规则的科目。                                                | +Division=\[000:100\], Account=\[1205\], Department=\[00\]                                                   |
| 添加一系列段值。                                                          | +Account=\[1200:1205\]                                                                                       |
| 添加一系列包含通配符的段值。                         | +Account=\[120?:130?\]                                                                                       |
| 从另一完全符合规则的科目中减去一个完全符合规则的科目。              | +Division=\[000\], Account=\[1205\], Department=\[00\]-Division=\[100\], Account=\[1205\], Department=\[00\] |
| 从另一段值中减去一个段值。                                  | +Account=\[1205\]-Account=\[1210\]                                                                           |
| 从另一段值中减去一个包含通配符的段值。 | +Account=\[1200\]-Account=\[11??\]                                                                           |
| 减去一系列完全符合规则的科目。                                           | -Division=\[000:100\], Account=\[1200:1205\], Department=\[00:01\]                                           |
| 减去一系列段值。                                                     | -Account=\[1200:1205\]                                                                                       |
| 减去一系列包含通配符的段值。                    | -Account=\[120?:130?\]                                                                                       |

虽然您可直接修改科目，但也可使用**“维度”**对话框将正确的格式应用于财务数据链接。 任何值均可包含通配符（? 或 \*）。 但是，报表设计器不能选择 Microsoft Dynamics ERP 系统中包含任何下列保留字符的科目、维度或字段：&、\*、\[、\]、{ 或 }。 
> [!Note] 
> 要减去值，您必须将这些值放入圆括号中。 例如，如果您输入 **450? (- 4509)**，它将显示为 **+Account=\[4509\]-Account=\[450?\]**，并且您命令报表设计器 从以 450 开始的任何科目段的金额中减去科目段 4509 的金额。

### <a name="add-or-subtract-accounts-from-other-accounts"></a>从其他科目中加减金额

1.  在报表设计器中，打开要修改的行定义。
2.  在相应行中，双击**“链接到财务维度”**列中的单元格。
3.  在**“维度”**对话框的第一行中，执行下列步骤：
    1.  在第一个字段中，选择所有维度（默认），或者单击以打开**“管理维度集”**对话框，在其中您可创建、修改、复制或删除集。
    2.  双击**运算符 +/-** 单元格，然后选择适用于行中一个或多个维度值或维度集的加号 (**+**) 或减号 (**-**) 运算符。
    3.  在相应的维度值列中，双击单元格以打开**“维度”**对话框，然后选择此维度值适用于单个或系列、维度值还是汇总科目。 有关**“维度”**对话框中字段的描述，请参阅“维度对话框的描述”部分。
    4.  在**“从”**列和**“到”**列中输入段值。

4.  重复执行第 2 步到第 3 步，以添加更多运算。

> [!Note] 
> 此运算符将应用于行中的所有维度。

## <a name="description-of-the-dimensions-dialog-box"></a>“维度”对话框的描述
下表描述**“维度”**对话框中的字段。

| 项目                | 说明                                                                                                                                                                                                                                                                                             |
|---------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 单个或范围 | 在**从**字段中，输入科目的名称，或单击**浏览**按钮![浏览](https://i-technet.sec.s-msft.com/dynimg/IC679490.gif "浏览")以浏览科目。 要选择范围，请在**“到”**字段中输入值或浏览值。                                             |
| 维度值集 | 在**“名称”**字段中，输入维度值集的名称。 要创建、修改、复制或删除集，请单击**“管理维度值集”**。 **公式**字段将使用行定义中此维度值集的**链接到财务维度**单元格中的公式填充。 |
| 会计科目合计   | 在**“名称”**字段中，输入或浏览汇总科目的维度。 **“公式”**字段将使用报表定义中此汇总科目的**“链接到财务维度”**单元格中的公式填充。                                                                       |

## <a name="add-dimension-value-sets-in-a-row-definition"></a>在行定义中添加维度值
维度值集是命名维度值组。 维度值集可只包含单维度中的值，但您可在多个行定义、列定义、报告结构树定义和报表定义中使用维度值集。 您还可将维度值集组合到报表定义中。 如果更改财务数据时需要您更改维度值集，则可以更新维度值集定义，并将该更新应用到使用此维度值集的所有区域。 例如，如果通常指示要链接到您的财务数据的一系列值（如 5100 至 5600 的值），您可将此范围分配给名为“Sales”的科目集。 创建维度值集之后，您可以选择将该集作为您的财务数据链接。 又比如，假设将从 5100 到 5600 的值范围分配给“销售额”，将 4175 分配给“折扣”，则您可以用“销售额”减去“折扣”来确定销售总额。 此运算表示为 **(5100:5600)-4175**。

### <a name="create-a-set-of-dimension-values"></a>创建一组维度值

1.  在报表设计器中，打开要修改的行、列或树定义。
2.  在**“编辑”**菜单上，单击**“管理维度值集”**。
3.  在**“管理维度值集”**对话框的**“维度”**字段中，选择要创建的维度值集的类型，然后单击**“新建”**。
4.  在**“新建”**对话框中，输入此集的名称和描述。
5.  在**“从”**列中，双击单元格。
6.  在**“科目”**对话框中，选择列表中的科目名称或在**“搜索”**字段中搜索条目。 然后，单击**“确定”**。
7.  在**“到”**列中重复第 5 步到第 6 步以针对运算符设计公式。
8.  当公式完成后，单击**“确定”**。
9.  在“管理维度集”对话框中，单击“关闭”。

### <a name="update-a-set-of-dimension-values"></a>更新维度值集

1.  在报表设计器中，打开要修改的行、列或树定义。
2.  在**“编辑”**菜单上，单击**“管理维度值集”**。
3.  在**“管理维度值集”**对话框的**“维度”**字段中，选择维度类型。
4.  在列表中，选择要更新的维度值集，然后单击**“修改”**。
5.  在**“修改”**对话框中，修改要包含在此集中的公式值。 
> [!Note] 
> 如果您添加新科目或维度，请确保修改现有维度值集以合并更改。
6.  双击单元格，并选择正确的运算符、**“开始”**科目和**“结束”**科目。
7.  单击**“确定”**以关闭**“修改”**对话框并保存更改。

### <a name="copy-a-dimension-set"></a>复制维度集

1.  在报表设计器中，打开要修改的行、列或树定义。
2.  在**“编辑”**菜单上，单击**“管理维度值集”**。
3.  在**“管理维度值集”**对话框的**“维度”**字段中，选择维度类型。
4.  在列表中，选择要复制的集，然后单击**“另存为”**。
5.  输入已复制集的新名称，然后单击**“确定”**。

### <a name="delete-a-dimension-set"></a>删除维度集

1.  在报表设计器中，打开要修改的行、列或树定义。
2.  在**“编辑”**菜单上，单击**“管理维度值集”**。
3.  在**“管理维度值集”**对话框的**“维度”**字段中，选择维度类型。
4.  选择要删除的维度集，然后单击**“删除”**。 单击**“是”**可永久删除维度值集。


## <a name="see-also"></a>请参阅

[财务申报](financial-reporting-intro.md)




