---
title: "电子申报中 (ER) 的配方设计器"
description: "本主题说明如何在电子申报 (ER) 中使用配方设计器。"
author: NickSelin
manager: AnnBe
ms.date: 10/03/2018
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
ms.search.form: ERDataModelDesigner, ERExpressionDesignerFormula, ERMappedFormatDesigner, ERModelMappingDesigner
audience: Application User, IT Pro
ms.reviewer: shylaw
ms.search.scope: Core, Operations
ms.custom: 58771
ms.assetid: 24223e13-727a-4be6-a22d-4d427f504ac9
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: f0ded563ecf0b6d0ce67f046f631d8c4dcfc7802
ms.openlocfilehash: 1dc584355c8992ee701169fd5d29ad7b0300a498
ms.contentlocale: zh-cn
ms.lasthandoff: 10/22/2018

---

# <a name="formula-designer-in-electronic-reporting-er"></a><span data-ttu-id="60f1a-103">电子申报中 (ER) 的配方设计器</span><span class="sxs-lookup"><span data-stu-id="60f1a-103">Formula designer in Electronic reporting (ER)</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="60f1a-104">本主题说明如何在电子申报 (ER) 中使用配方设计器。</span><span class="sxs-lookup"><span data-stu-id="60f1a-104">This topic explains how to use the formula designer in Electronic reporting (ER).</span></span> <span data-ttu-id="60f1a-105">在您在 ER 中为特定电子文档设计格式时，您可以使用公式转换数据，以便使其满足该文档的履行和格式的要求。</span><span class="sxs-lookup"><span data-stu-id="60f1a-105">When you design a format for a specific electronic document in ER, you can use formulas to transform data so that it meets the requirements for the document's fulfillment and formatting.</span></span> <span data-ttu-id="60f1a-106">这些公式类似 Microsoft Excel 中的公式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-106">These formulas resemble formulas in Microsoft Excel.</span></span> <span data-ttu-id="60f1a-107">公式中支持各种函数类型：文本、日期和时间、数学、逻辑、信息、数据类型转换和其他（企业域特定函数）。</span><span class="sxs-lookup"><span data-stu-id="60f1a-107">Various types of functions are supported in the formulas: text, date and time, mathematical, logical, information, data type conversion, and other (business domain–specific functions).</span></span>

## <a name="formula-designer-overview"></a><span data-ttu-id="60f1a-108">配方设计器概述</span><span class="sxs-lookup"><span data-stu-id="60f1a-108">Formula designer overview</span></span>

<span data-ttu-id="60f1a-109">ER 支持公式设计器。</span><span class="sxs-lookup"><span data-stu-id="60f1a-109">ER supports the formula designer.</span></span> <span data-ttu-id="60f1a-110">因此，在设计时，您可以配置在运行时可用于执行以下任务的表达式：</span><span class="sxs-lookup"><span data-stu-id="60f1a-110">Therefore, at design time, you can configure expressions that can be used for the following tasks at runtime:</span></span>

- <span data-ttu-id="60f1a-111">将从 Microsoft Dynamics 365 for Finance and Operations 数据库接收的数据以及应输入的数据转换为设计作为 ER 格式的数据源的 ER 数据模型。</span><span class="sxs-lookup"><span data-stu-id="60f1a-111">Transform data that is received from a Microsoft Dynamics 365 for Finance and Operations database, and that should be entered in an ER data model that is designed to be a data source for ER formats.</span></span> <span data-ttu-id="60f1a-112">（例如，这些转换可以包括筛选、分组和数据转换类型。）</span><span class="sxs-lookup"><span data-stu-id="60f1a-112">(For example, these transformations might include filtering, grouping, and data type conversion.)</span></span>
- <span data-ttu-id="60f1a-113">设置必须发送到生成电子单据的数据的格式，以便满足特定 ER 格式的布局和条件。</span><span class="sxs-lookup"><span data-stu-id="60f1a-113">Format data that must be sent to a generating electronic document in accordance with the layout and conditions of a specific ER format.</span></span> <span data-ttu-id="60f1a-114">（例如，可以根据请求的语言、文化或编码完成格式化）。</span><span class="sxs-lookup"><span data-stu-id="60f1a-114">(For example, the formatting might be done in accordance with the requested language or culture, or the encoding).</span></span>
- <span data-ttu-id="60f1a-115">控制电子单据的创建过程。</span><span class="sxs-lookup"><span data-stu-id="60f1a-115">Control the process of creating electronic documents.</span></span> <span data-ttu-id="60f1a-116">（例如，表达式可根据处理数据启用或禁用该格式的特定元素的输出。</span><span class="sxs-lookup"><span data-stu-id="60f1a-116">(For example, the expressions can enable or disable the output of specific elements of the format, depending on processing data.</span></span> <span data-ttu-id="60f1a-117">还可以中断单据创建过程，或向用户显示消息。）</span><span class="sxs-lookup"><span data-stu-id="60f1a-117">They can also interrupt the document creation process or throw messages to users.)</span></span>

<span data-ttu-id="60f1a-118">执行以下任何操作时，可打开**公式设计器**页面：</span><span class="sxs-lookup"><span data-stu-id="60f1a-118">You can open the **Formula designer** page when you perform any of the following actions:</span></span>

- <span data-ttu-id="60f1a-119">数据源物料绑定到数据模型组件。</span><span class="sxs-lookup"><span data-stu-id="60f1a-119">Bind data source items to data model components.</span></span>
- <span data-ttu-id="60f1a-120">数据源物料绑定到格式组件。</span><span class="sxs-lookup"><span data-stu-id="60f1a-120">Bind data source items to format components.</span></span>
- <span data-ttu-id="60f1a-121">完成作为数据源的一部分的计算字段的维护。</span><span class="sxs-lookup"><span data-stu-id="60f1a-121">Complete maintenance of calculated fields that are part of data sources.</span></span>
- <span data-ttu-id="60f1a-122">定义用户输入参数的可见性条件。</span><span class="sxs-lookup"><span data-stu-id="60f1a-122">Define the visibility conditions for user input parameters.</span></span>
- <span data-ttu-id="60f1a-123">设计格式转换。</span><span class="sxs-lookup"><span data-stu-id="60f1a-123">Design a format's transformations.</span></span>
- <span data-ttu-id="60f1a-124">定义启用格式组件的条件。</span><span class="sxs-lookup"><span data-stu-id="60f1a-124">Define the enabling conditions for the format's components.</span></span>
- <span data-ttu-id="60f1a-125">定义格式的 FILE 组件的文件名。</span><span class="sxs-lookup"><span data-stu-id="60f1a-125">Define the file names for the format's FILE components.</span></span>
- <span data-ttu-id="60f1a-126">定义流程控制验证的条件。</span><span class="sxs-lookup"><span data-stu-id="60f1a-126">Define the conditions for process control validations.</span></span>
- <span data-ttu-id="60f1a-127">定义流程控制验证的消息文本。</span><span class="sxs-lookup"><span data-stu-id="60f1a-127">Define the message text for process control validations.</span></span>

## <a name="designing-er-formulas"></a><span data-ttu-id="60f1a-128">设计 ER 配方</span><span class="sxs-lookup"><span data-stu-id="60f1a-128">Designing ER formulas</span></span>

### <a name="data-binding"></a><span data-ttu-id="60f1a-129">数据绑定</span><span class="sxs-lookup"><span data-stu-id="60f1a-129">Data binding</span></span>

<span data-ttu-id="60f1a-130">ER 公式设计器可以用于定义转换接收自数据源的数据的表达式，以便数据在运行时可以在数据用户中输入数据：</span><span class="sxs-lookup"><span data-stu-id="60f1a-130">The ER formula designer can be used to define an expression that transforms data that is received from data sources, so that the data can be entered in the data consumer at runtime:</span></span>

- <span data-ttu-id="60f1a-131">从 Finance and Operations 数据源和运行时参数转换为 ER 数据模型</span><span class="sxs-lookup"><span data-stu-id="60f1a-131">From Finance and Operations data sources and runtime parameters to an ER data model</span></span>
- <span data-ttu-id="60f1a-132">从 ER 数据模型转换为 ER 格式</span><span class="sxs-lookup"><span data-stu-id="60f1a-132">From an ER data model to an ER format</span></span>
- <span data-ttu-id="60f1a-133">从 Finance and Operations 数据源和运行时参数转换为 ER 格式</span><span class="sxs-lookup"><span data-stu-id="60f1a-133">From Finance and Operations data sources and runtime parameters to an ER format</span></span>

<span data-ttu-id="60f1a-134">下图显示了此类表达式的设计。</span><span class="sxs-lookup"><span data-stu-id="60f1a-134">The following illustration shows the design of an expression of this type.</span></span> <span data-ttu-id="60f1a-135">在此示例中，表达式将 Finance and Operations 内部统计表的 **Intrastat.AmountMST** 字段的值舍入到两位小数，然后返回舍入值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-135">In this example, the expression rounds the value of the **Intrastat.AmountMST** field the Intrastat table in Finance and Operations to two decimal places and then returns the rounded value.</span></span>

<span data-ttu-id="60f1a-136">[![数据绑定](./media/picture-expression-binding.jpg)](./media/picture-expression-binding.jpg)</span><span class="sxs-lookup"><span data-stu-id="60f1a-136">[![Data binding](./media/picture-expression-binding.jpg)](./media/picture-expression-binding.jpg)</span></span>

<span data-ttu-id="60f1a-137">下图显示了如何使用此类表达式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-137">The following illustration shows how an expression of this type can be used.</span></span> <span data-ttu-id="60f1a-138">在此示例中，设计的表达式的结果输入在**纳税申报模型**数据模型的 **Transaction.InvoicedAmount** 组件中。</span><span class="sxs-lookup"><span data-stu-id="60f1a-138">In this example, the result of the designed expression is entered in the **Transaction.InvoicedAmount** component of the **Tax reporting model** data model.</span></span>

<span data-ttu-id="60f1a-139">[![使用的数据绑定](./media/picture-expression-binding2.jpg)](./media/picture-expression-binding2.jpg)</span><span class="sxs-lookup"><span data-stu-id="60f1a-139">[![Data binding being used](./media/picture-expression-binding2.jpg)](./media/picture-expression-binding2.jpg)</span></span>

<span data-ttu-id="60f1a-140">运行时，设计的公式 **ROUND (Intrastat.AmountMST, 2)** 将内部统计表中各记录的 **AmountMST** 字段的值舍入为两位小数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-140">At runtime, the designed formula, **ROUND (Intrastat.AmountMST, 2)**, rounds the value of the **AmountMST** field for each record in the Intrastat table to two decimal places.</span></span> <span data-ttu-id="60f1a-141">然后在**纳税申报**数据模型的 **Transaction.InvoicedAmount** 组件中输入舍入后的值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-141">It then enters the rounded value in the **Transaction.InvoicedAmount** component of the **Tax reporting** data model.</span></span>

### <a name="data-formatting"></a><span data-ttu-id="60f1a-142">数据格式设置</span><span class="sxs-lookup"><span data-stu-id="60f1a-142">Data formatting</span></span>

<span data-ttu-id="60f1a-143">ER 配方设计器可以用于定义确定接收自数据源的数据的格式的表达式，以便数据可以作为生成电子文档的一部分发送。</span><span class="sxs-lookup"><span data-stu-id="60f1a-143">The ER formula designer can be used to define an expression that formats data that is received from data sources, so that the data can be sent as part of the generating electronic document.</span></span> <span data-ttu-id="60f1a-144">可能必须将格式设置作为应对某种格式重复使用的典型规则来应用。</span><span class="sxs-lookup"><span data-stu-id="60f1a-144">You might have formatting that must be applied as a typical rule that should be reused for a format.</span></span> <span data-ttu-id="60f1a-145">在这种情况下，可将该格式设置在格式配置中引入一次，作为具有格式设置表达式的指定转换。</span><span class="sxs-lookup"><span data-stu-id="60f1a-145">In this case, you can introduce that formatting one time in the format configuration, as a named transformation that has a formatting expression.</span></span> <span data-ttu-id="60f1a-146">此指定的转换然后可链接到许多格式组件，这些组件是必须根据创建的格式表达式设置其输出的格式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-146">This named transformation can then be linked to many format components where the output must be formatted according to the formatting expression that you created.</span></span>

<span data-ttu-id="60f1a-147">下图显示了此类转换的设计。</span><span class="sxs-lookup"><span data-stu-id="60f1a-147">The following illustration shows the design of a transformation of this type.</span></span> <span data-ttu-id="60f1a-148">在此示例中，**TrimmedString** 转换通过去除前导空格和尾随空格截断**字符串**数据类型的传入数据。</span><span class="sxs-lookup"><span data-stu-id="60f1a-148">In this example, the **TrimmedString** transformation truncates incoming data of the **String** data type by removing leading and trailing spaces.</span></span> <span data-ttu-id="60f1a-149">然后返回截断后的字符串值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-149">It then returns the truncated string value.</span></span>

<span data-ttu-id="60f1a-150">[![转换](./media/picture-transformation-design.jpg)](./media/picture-transformation-design.jpg)</span><span class="sxs-lookup"><span data-stu-id="60f1a-150">[![Transformation](./media/picture-transformation-design.jpg)](./media/picture-transformation-design.jpg)</span></span>

<span data-ttu-id="60f1a-151">下图显示了如何使用此类转换。</span><span class="sxs-lookup"><span data-stu-id="60f1a-151">The following illustration shows how a transformation of this type can be used.</span></span> <span data-ttu-id="60f1a-152">在此示例中，若干格式组件在运行时将文本作为输出发送到生成电子单据。</span><span class="sxs-lookup"><span data-stu-id="60f1a-152">In this example, several format components send text as output to the generating electronic document at runtime.</span></span> <span data-ttu-id="60f1a-153">所有这些组件名义上引用 **TrimmedString** 转换。</span><span class="sxs-lookup"><span data-stu-id="60f1a-153">All these format components refer to the **TrimmedString** transformation by name.</span></span>

<span data-ttu-id="60f1a-154">[![正在使用的转换](./media/picture-transformation-usage.jpg)](./media/picture-transformation-usage.jpg)</span><span class="sxs-lookup"><span data-stu-id="60f1a-154">[![Transformation being used](./media/picture-transformation-usage.jpg)](./media/picture-transformation-usage.jpg)</span></span>

<span data-ttu-id="60f1a-155">上图中 **partyName** 组件之类格式组件引用 **TrimmedString** 转换时，该转换将把文本作为输出发送到生成电子单据。</span><span class="sxs-lookup"><span data-stu-id="60f1a-155">When format components, such as the **partyName** component in the preceding illustration, refer to the **TrimmedString** transformation, the transformation sends text as output to the generating electronic document.</span></span> <span data-ttu-id="60f1a-156">此文本中不包含前导空格和尾随空格。</span><span class="sxs-lookup"><span data-stu-id="60f1a-156">This text doesn't include leading and trailing spaces.</span></span>

<span data-ttu-id="60f1a-157">如果您具有必须单独应用的格式，可以将此格式作为特定格式组件绑定的单个表达式引入。</span><span class="sxs-lookup"><span data-stu-id="60f1a-157">If you have formatting that must be applied individually, you can introduce that formatting as an individual expression of a binding of a specific format component.</span></span> <span data-ttu-id="60f1a-158">下图显示了此类表达式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-158">The following illustration shows an expression of this type.</span></span> <span data-ttu-id="60f1a-159">在此示例中，**partyType** 格式组件通过将数据源中 **Model.Company.RegistrationType** 字段的传入数据转换为大写文本的表达式绑定到数据源。</span><span class="sxs-lookup"><span data-stu-id="60f1a-159">In this example, the **partyType** format component is bound to the data source via an expression that converts incoming data from the **Model.Company.RegistrationType** field in the data source to uppercase text.</span></span> <span data-ttu-id="60f1a-160">然后，该表达式将该文本作为输出发送到电子单据。</span><span class="sxs-lookup"><span data-stu-id="60f1a-160">The expression then sends that text as output to the electronic document.</span></span>

<span data-ttu-id="60f1a-161">[![将格式应用于单个组件](./media/picture-binding-with-formula.jpg)](./media/picture-binding-with-formula.jpg)</span><span class="sxs-lookup"><span data-stu-id="60f1a-161">[![Applying formatting to an individual component](./media/picture-binding-with-formula.jpg)](./media/picture-binding-with-formula.jpg)</span></span>

### <a name="process-flow-control"></a><span data-ttu-id="60f1a-162">流程控制</span><span class="sxs-lookup"><span data-stu-id="60f1a-162">Process flow control</span></span>

<span data-ttu-id="60f1a-163">ER 格式设计器可用于定义控制生成电子单据的流程的表达式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-163">The ER formula designer can be used to define expressions that control the process flow of generating electronic documents.</span></span> <span data-ttu-id="60f1a-164">您可以执行以下任务：</span><span class="sxs-lookup"><span data-stu-id="60f1a-164">You can perform the following tasks:</span></span>

- <span data-ttu-id="60f1a-165">定义确定必须停止文档创建流程的条件。</span><span class="sxs-lookup"><span data-stu-id="60f1a-165">Define conditions that determine when a document creation process must be stopped.</span></span>
- <span data-ttu-id="60f1a-166">指定表达式，这些表达式将创建有关已停止流程的用户的消息或引发有关继续报表生成流程的执行日志消息。</span><span class="sxs-lookup"><span data-stu-id="60f1a-166">Specify expressions that either create messages for the user about stopped processes or throw execution log messages about the continuing process of report generation.</span></span>
- <span data-ttu-id="60f1a-167">指定生成电子单据的文件名并控制其创建的条件。</span><span class="sxs-lookup"><span data-stu-id="60f1a-167">Specify the file names of generating electronic documents, and control the conditions of their creation.</span></span>

<span data-ttu-id="60f1a-168">流程控制的每个规则设计为单个验证。</span><span class="sxs-lookup"><span data-stu-id="60f1a-168">Each rule of the process flow control is designed as an individual validation.</span></span> <span data-ttu-id="60f1a-169">下图显示了此类验证。</span><span class="sxs-lookup"><span data-stu-id="60f1a-169">The following illustration shows a validation of this type.</span></span> <span data-ttu-id="60f1a-170">此示例中是对配置的说明：</span><span class="sxs-lookup"><span data-stu-id="60f1a-170">Here is an explanation of the configuration in this example:</span></span>

- <span data-ttu-id="60f1a-171">在 **INSTAT** 节点在生成 XML 文件期间创建时，将对验证进行评估。</span><span class="sxs-lookup"><span data-stu-id="60f1a-171">The validation is evaluated when the **INSTAT** node is created during generation of the XML file.</span></span>
- <span data-ttu-id="60f1a-172">如果事务列表为空，验证将停止执行流程并返回 **FALSE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-172">If the list of transactions is empty, the validation stops the execution process and returns **FALSE**.</span></span>
- <span data-ttu-id="60f1a-173">验证返回使用用户首选语言的包括 Finance and Operations 标签 SYS70894 文本的错误消息。</span><span class="sxs-lookup"><span data-stu-id="60f1a-173">The validation returns an error message that includes the text of Finance and Operations label SYS70894 in the user's preferred language.</span></span>

<span data-ttu-id="60f1a-174">[![验证](./media/picture-validation.jpg)](./media/picture-validation.jpg)</span><span class="sxs-lookup"><span data-stu-id="60f1a-174">[![Validation](./media/picture-validation.jpg)](./media/picture-validation.jpg)</span></span>

<span data-ttu-id="60f1a-175">ER 配方设计器还可用于生成文件名来生成电子单据和控制文件创建流程。</span><span class="sxs-lookup"><span data-stu-id="60f1a-175">The ER formula designer can also be used to generate a file name for a generating electronic document and control the file creation process.</span></span> <span data-ttu-id="60f1a-176">下图显示了此类流程控制的设计。</span><span class="sxs-lookup"><span data-stu-id="60f1a-176">The following illustration shows the design of a process flow control of this type.</span></span> <span data-ttu-id="60f1a-177">此示例中是对配置的说明：</span><span class="sxs-lookup"><span data-stu-id="60f1a-177">Here is an explanation of the configuration in this example:</span></span>

- <span data-ttu-id="60f1a-178">**model.Intrastat** 数据源的记录列表拆分为多个批次。</span><span class="sxs-lookup"><span data-stu-id="60f1a-178">The list of records from the **model.Intrastat** data source is divided into batches.</span></span> <span data-ttu-id="60f1a-179">每个批次最多包含 1,000 条记录。</span><span class="sxs-lookup"><span data-stu-id="60f1a-179">Each batch contains up to 1,000 records.</span></span>
- <span data-ttu-id="60f1a-180">输出创建以 XML 格式为创建的每个批次包含一个文件的压缩文件。</span><span class="sxs-lookup"><span data-stu-id="60f1a-180">The output creates a zip file that contains one file in XML format for every batch that was created.</span></span>
- <span data-ttu-id="60f1a-181">表达式通过连接文件名和文件名扩展返回生成电子文档的文件名。</span><span class="sxs-lookup"><span data-stu-id="60f1a-181">An expression returns a file name for generating electronic documents by concatenating the file name and the file name extension.</span></span> <span data-ttu-id="60f1a-182">对于第二个批次和所有后续的批次，文件名作为后缀包含批次 ID。</span><span class="sxs-lookup"><span data-stu-id="60f1a-182">For the second batch and all subsequent batches, the file name contains the batch ID as a suffix.</span></span>
- <span data-ttu-id="60f1a-183">表达式为包含至少一条记录的批次启用（通过返回 **TRUE**）文件创建流程。</span><span class="sxs-lookup"><span data-stu-id="60f1a-183">An expression enables (by returning **TRUE**) the file creation process for batches that contain at least one record.</span></span>

<span data-ttu-id="60f1a-184">[![文件控制](./media/picture-file-control.jpg)](./media/picture-file-control.jpg)</span><span class="sxs-lookup"><span data-stu-id="60f1a-184">[![File control](./media/picture-file-control.jpg)](./media/picture-file-control.jpg)</span></span>

### <a name="basic-syntax"></a><span data-ttu-id="60f1a-185">基本语法</span><span class="sxs-lookup"><span data-stu-id="60f1a-185">Basic syntax</span></span>

<span data-ttu-id="60f1a-186">ER 表达式可以包含任意或所有以下元素：</span><span class="sxs-lookup"><span data-stu-id="60f1a-186">ER expressions can contain any or all of the following elements:</span></span>

- <span data-ttu-id="60f1a-187">常量</span><span class="sxs-lookup"><span data-stu-id="60f1a-187">Constants</span></span>
- <span data-ttu-id="60f1a-188">运算符</span><span class="sxs-lookup"><span data-stu-id="60f1a-188">Operators</span></span>
- <span data-ttu-id="60f1a-189">参考</span><span class="sxs-lookup"><span data-stu-id="60f1a-189">References</span></span>
- <span data-ttu-id="60f1a-190">路径</span><span class="sxs-lookup"><span data-stu-id="60f1a-190">Paths</span></span>
- <span data-ttu-id="60f1a-191">功能</span><span class="sxs-lookup"><span data-stu-id="60f1a-191">Functions</span></span>

#### <a name="constants"></a><span data-ttu-id="60f1a-192">常量</span><span class="sxs-lookup"><span data-stu-id="60f1a-192">Constants</span></span>

<span data-ttu-id="60f1a-193">您可以在设计表达式时使用文本和数值常量（即未计算的值）。</span><span class="sxs-lookup"><span data-stu-id="60f1a-193">When you design expressions, you can use text and numeric constants (that is, values that aren't calculated).</span></span> <span data-ttu-id="60f1a-194">例如，表达式 **VALUE ("100") + 20** 使用数值常量 **20** 和字符串常量 **100**，返回数值 **120**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-194">For example, the expression **VALUE ("100") + 20** uses the numeric constant **20** and the string constant **"100"**, and returns the numeric value **120**.</span></span> <span data-ttu-id="60f1a-195">ER 公式设计器支持转义序列。</span><span class="sxs-lookup"><span data-stu-id="60f1a-195">The ER formula designer supports escape sequences.</span></span> <span data-ttu-id="60f1a-196">因此，可以指定应以不同方式处理的表达式字符串。</span><span class="sxs-lookup"><span data-stu-id="60f1a-196">Therefore, you can specify an expression string that should be handled differently.</span></span> <span data-ttu-id="60f1a-197">例如，表达式 **"Leo Tolstoy ""War and Peace"" Volume 1"** 返回文本字符串 **Leo Tolstoy "War and Peace" Volume 1**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-197">For example, the expression **"Leo Tolstoy ""War and Peace"" Volume 1"** returns the text string **Leo Tolstoy "War and Peace" Volume 1**.</span></span>

#### <a name="operators"></a><span data-ttu-id="60f1a-198">运算符</span><span class="sxs-lookup"><span data-stu-id="60f1a-198">Operators</span></span>

<span data-ttu-id="60f1a-199">下表显示您可以用于执行基本算术运算的算术运算符，例如加、减、乘和除。</span><span class="sxs-lookup"><span data-stu-id="60f1a-199">The following table shows the arithmetic operators that you can use to do basic mathematical operations, such as addition, subtraction, multiplication, and division.</span></span>

| <span data-ttu-id="60f1a-200">操作员</span><span class="sxs-lookup"><span data-stu-id="60f1a-200">Operator</span></span> | <span data-ttu-id="60f1a-201">含义</span><span class="sxs-lookup"><span data-stu-id="60f1a-201">Meaning</span></span>               | <span data-ttu-id="60f1a-202">示例</span><span class="sxs-lookup"><span data-stu-id="60f1a-202">Example</span></span> |
|----------|-----------------------|---------|
| +        | <span data-ttu-id="60f1a-203">增加额</span><span class="sxs-lookup"><span data-stu-id="60f1a-203">Addition</span></span>              | <span data-ttu-id="60f1a-204">1+2</span><span class="sxs-lookup"><span data-stu-id="60f1a-204">1+2</span></span>     |
| -        | <span data-ttu-id="60f1a-205">减法，负</span><span class="sxs-lookup"><span data-stu-id="60f1a-205">Subtraction, negation</span></span> | <span data-ttu-id="60f1a-206">5-2，-1</span><span class="sxs-lookup"><span data-stu-id="60f1a-206">5-2, -1</span></span> |
| \*       | <span data-ttu-id="60f1a-207">乘</span><span class="sxs-lookup"><span data-stu-id="60f1a-207">Multiplication</span></span>        | <span data-ttu-id="60f1a-208">7\*8</span><span class="sxs-lookup"><span data-stu-id="60f1a-208">7\*8</span></span>    |
| /        | <span data-ttu-id="60f1a-209">分部</span><span class="sxs-lookup"><span data-stu-id="60f1a-209">Division</span></span>              | <span data-ttu-id="60f1a-210">9/3</span><span class="sxs-lookup"><span data-stu-id="60f1a-210">9/3</span></span>     |

<span data-ttu-id="60f1a-211">下表显示支持的比较运算符。</span><span class="sxs-lookup"><span data-stu-id="60f1a-211">The following table shows the comparison operators that are supported.</span></span> <span data-ttu-id="60f1a-212">您可以使用这些运算符比较两个值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-212">You can use these operators to compare two values.</span></span>

| <span data-ttu-id="60f1a-213">操作员</span><span class="sxs-lookup"><span data-stu-id="60f1a-213">Operator</span></span> | <span data-ttu-id="60f1a-214">含义</span><span class="sxs-lookup"><span data-stu-id="60f1a-214">Meaning</span></span>                  | <span data-ttu-id="60f1a-215">示例</span><span class="sxs-lookup"><span data-stu-id="60f1a-215">Example</span></span>    |
|----------|--------------------------|------------|
| =        | <span data-ttu-id="60f1a-216">相等</span><span class="sxs-lookup"><span data-stu-id="60f1a-216">Equal</span></span>                    | <span data-ttu-id="60f1a-217">X=Y</span><span class="sxs-lookup"><span data-stu-id="60f1a-217">X=Y</span></span>        |
| &gt;     | <span data-ttu-id="60f1a-218">大于</span><span class="sxs-lookup"><span data-stu-id="60f1a-218">Greater than</span></span>             | <span data-ttu-id="60f1a-219">X&gt;Y</span><span class="sxs-lookup"><span data-stu-id="60f1a-219">X&gt;Y</span></span>     |
| &lt;     | <span data-ttu-id="60f1a-220">小于</span><span class="sxs-lookup"><span data-stu-id="60f1a-220">Less than</span></span>                | <span data-ttu-id="60f1a-221">X&lt;Y</span><span class="sxs-lookup"><span data-stu-id="60f1a-221">X&lt;Y</span></span>     |
| &gt;=    | <span data-ttu-id="60f1a-222">大于等于</span><span class="sxs-lookup"><span data-stu-id="60f1a-222">Greater than or equal to</span></span> | <span data-ttu-id="60f1a-223">X&gt;=Y</span><span class="sxs-lookup"><span data-stu-id="60f1a-223">X&gt;=Y</span></span>    |
| &lt;=    | <span data-ttu-id="60f1a-224">小于等于</span><span class="sxs-lookup"><span data-stu-id="60f1a-224">Less than or equal to</span></span>    | <span data-ttu-id="60f1a-225">X&lt;=Y</span><span class="sxs-lookup"><span data-stu-id="60f1a-225">X&lt;=Y</span></span>    |
| &lt;&gt; | <span data-ttu-id="60f1a-226">不等于</span><span class="sxs-lookup"><span data-stu-id="60f1a-226">Not equal to</span></span>             | <span data-ttu-id="60f1a-227">X&lt;&gt;Y</span><span class="sxs-lookup"><span data-stu-id="60f1a-227">X&lt;&gt;Y</span></span> |

<span data-ttu-id="60f1a-228">也可以将星号 (&) 用作文本连接运算符。</span><span class="sxs-lookup"><span data-stu-id="60f1a-228">Additionally, you can use an ampersand (&) as a text concatenation operator.</span></span> <span data-ttu-id="60f1a-229">这样就可以将一个或多个文本字符串联接或连接为一段文本。</span><span class="sxs-lookup"><span data-stu-id="60f1a-229">In this way, you can join, or concatenate, one or more text strings into a single piece of text.</span></span>

| <span data-ttu-id="60f1a-230">操作员</span><span class="sxs-lookup"><span data-stu-id="60f1a-230">Operator</span></span> | <span data-ttu-id="60f1a-231">含义</span><span class="sxs-lookup"><span data-stu-id="60f1a-231">Meaning</span></span>     | <span data-ttu-id="60f1a-232">示例</span><span class="sxs-lookup"><span data-stu-id="60f1a-232">Example</span></span>                                             |
|----------|-------------|-----------------------------------------------------|
| &        | <span data-ttu-id="60f1a-233">连接</span><span class="sxs-lookup"><span data-stu-id="60f1a-233">Concatenate</span></span> | <span data-ttu-id="60f1a-234">"没有东西打印" & ":&nbsp;" & "未找到记录"</span><span class="sxs-lookup"><span data-stu-id="60f1a-234">"Nothing to print" & ":&nbsp;" & "no records found"</span></span> |

##### <a name="operator-precedence"></a><span data-ttu-id="60f1a-235">运算符优先级</span><span class="sxs-lookup"><span data-stu-id="60f1a-235">Operator precedence</span></span>

<span data-ttu-id="60f1a-236">复合表达式部分评估的顺序很重要。</span><span class="sxs-lookup"><span data-stu-id="60f1a-236">The order that the parts of a compound expression are evaluated in is important.</span></span> <span data-ttu-id="60f1a-237">例如，表达式 **1 + 4 / 2** 的结果根据先执行加运算还是除运算有所不同。</span><span class="sxs-lookup"><span data-stu-id="60f1a-237">For example, the result of the expression **1 + 4 / 2** varies, depending on whether the addition operation or the division operation is done first.</span></span> <span data-ttu-id="60f1a-238">您可以使用括号明确定义表达式如何进行评估。</span><span class="sxs-lookup"><span data-stu-id="60f1a-238">You can use parentheses to explicitly define how an expression is evaluated.</span></span> <span data-ttu-id="60f1a-239">例如，要指示应首先执行加运算，您可以将之前的表达式更改为 **(1 + 4) / 2**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-239">For example, to indicate that the addition operation should be done first, you can change the preceding expression to **(1 + 4) / 2**.</span></span> <span data-ttu-id="60f1a-240">如果不在表达式中明确指定运算顺序，顺序将基于分配给支持的运算符的默认优先级。</span><span class="sxs-lookup"><span data-stu-id="60f1a-240">If you don't explicitly indicate the order of operations in an expression, the order is based on the default precedence that is assigned to the supported operators.</span></span> <span data-ttu-id="60f1a-241">下表显示分配给每个运算符的优先级。</span><span class="sxs-lookup"><span data-stu-id="60f1a-241">The following table shows the precedence that is assigned to each operator.</span></span> <span data-ttu-id="60f1a-242">有较高优先级的运算符（例如，7）在具有较低优先级的运算符之前进行评估（例如，1）。</span><span class="sxs-lookup"><span data-stu-id="60f1a-242">Operators that have a higher precedence (for example, 7) are evaluated before operators that have a lower precedence (for example, 1).</span></span>

| <span data-ttu-id="60f1a-243">优先级</span><span class="sxs-lookup"><span data-stu-id="60f1a-243">Precedence</span></span> | <span data-ttu-id="60f1a-244">运算符</span><span class="sxs-lookup"><span data-stu-id="60f1a-244">Operators</span></span>      | <span data-ttu-id="60f1a-245">语法</span><span class="sxs-lookup"><span data-stu-id="60f1a-245">Syntax</span></span>                                                                  |
|------------|----------------|-------------------------------------------------------------------------|
| <span data-ttu-id="60f1a-246">7</span><span class="sxs-lookup"><span data-stu-id="60f1a-246">7</span></span>          | <span data-ttu-id="60f1a-247">分组</span><span class="sxs-lookup"><span data-stu-id="60f1a-247">Grouping</span></span>       | <span data-ttu-id="60f1a-248">( …</span><span class="sxs-lookup"><span data-stu-id="60f1a-248">( …</span></span> <span data-ttu-id="60f1a-249">)</span><span class="sxs-lookup"><span data-stu-id="60f1a-249">)</span></span>                                                                   |
| <span data-ttu-id="60f1a-250">6</span><span class="sxs-lookup"><span data-stu-id="60f1a-250">6</span></span>          | <span data-ttu-id="60f1a-251">成员访问</span><span class="sxs-lookup"><span data-stu-id="60f1a-251">Member access</span></span>  | <span data-ttu-id="60f1a-252">…</span><span class="sxs-lookup"><span data-stu-id="60f1a-252">…</span></span> <span data-ttu-id="60f1a-253">。</span><span class="sxs-lookup"><span data-stu-id="60f1a-253">.</span></span> <span data-ttu-id="60f1a-254">…</span><span class="sxs-lookup"><span data-stu-id="60f1a-254">…</span></span>                                                                   |
| <span data-ttu-id="60f1a-255">5</span><span class="sxs-lookup"><span data-stu-id="60f1a-255">5</span></span>          | <span data-ttu-id="60f1a-256">函数调用</span><span class="sxs-lookup"><span data-stu-id="60f1a-256">Function call</span></span>  | <span data-ttu-id="60f1a-257">…</span><span class="sxs-lookup"><span data-stu-id="60f1a-257">…</span></span> <span data-ttu-id="60f1a-258">( …</span><span class="sxs-lookup"><span data-stu-id="60f1a-258">( …</span></span> <span data-ttu-id="60f1a-259">)</span><span class="sxs-lookup"><span data-stu-id="60f1a-259">)</span></span>                                                                 |
| <span data-ttu-id="60f1a-260">4</span><span class="sxs-lookup"><span data-stu-id="60f1a-260">4</span></span>          | <span data-ttu-id="60f1a-261">乘</span><span class="sxs-lookup"><span data-stu-id="60f1a-261">Multiplicative</span></span> | <span data-ttu-id="60f1a-262">…</span><span class="sxs-lookup"><span data-stu-id="60f1a-262">…</span></span> <span data-ttu-id="60f1a-263">\* …</span><span class="sxs-lookup"><span data-stu-id="60f1a-263">\* …</span></span><br><span data-ttu-id="60f1a-264">…</span><span class="sxs-lookup"><span data-stu-id="60f1a-264">…</span></span> <span data-ttu-id="60f1a-265">/ …</span><span class="sxs-lookup"><span data-stu-id="60f1a-265">/ …</span></span>                                                         |
| <span data-ttu-id="60f1a-266">3</span><span class="sxs-lookup"><span data-stu-id="60f1a-266">3</span></span>          | <span data-ttu-id="60f1a-267">加法的</span><span class="sxs-lookup"><span data-stu-id="60f1a-267">Additive</span></span>       | <span data-ttu-id="60f1a-268">…</span><span class="sxs-lookup"><span data-stu-id="60f1a-268">…</span></span> <span data-ttu-id="60f1a-269">+ …</span><span class="sxs-lookup"><span data-stu-id="60f1a-269">+ …</span></span><br><span data-ttu-id="60f1a-270">…</span><span class="sxs-lookup"><span data-stu-id="60f1a-270">…</span></span> <span data-ttu-id="60f1a-271">- …</span><span class="sxs-lookup"><span data-stu-id="60f1a-271">- …</span></span>                                                          |
| <span data-ttu-id="60f1a-272">2</span><span class="sxs-lookup"><span data-stu-id="60f1a-272">2</span></span>          | <span data-ttu-id="60f1a-273">比较</span><span class="sxs-lookup"><span data-stu-id="60f1a-273">Comparison</span></span>     | <span data-ttu-id="60f1a-274">…</span><span class="sxs-lookup"><span data-stu-id="60f1a-274">…</span></span> <span data-ttu-id="60f1a-275">&lt; …</span><span class="sxs-lookup"><span data-stu-id="60f1a-275">&lt; …</span></span><br><span data-ttu-id="60f1a-276">…</span><span class="sxs-lookup"><span data-stu-id="60f1a-276">…</span></span> <span data-ttu-id="60f1a-277">&lt;= …</span><span class="sxs-lookup"><span data-stu-id="60f1a-277">&lt;= …</span></span><br><span data-ttu-id="60f1a-278">…</span><span class="sxs-lookup"><span data-stu-id="60f1a-278">…</span></span><span data-ttu-id="60f1a-279"> =&gt; …</span><span class="sxs-lookup"><span data-stu-id="60f1a-279"> =&gt; …</span></span><br><span data-ttu-id="60f1a-280">…</span><span class="sxs-lookup"><span data-stu-id="60f1a-280">…</span></span> <span data-ttu-id="60f1a-281">&gt; …</span><span class="sxs-lookup"><span data-stu-id="60f1a-281">&gt; …</span></span><br><span data-ttu-id="60f1a-282">…</span><span class="sxs-lookup"><span data-stu-id="60f1a-282">…</span></span> <span data-ttu-id="60f1a-283">= …</span><span class="sxs-lookup"><span data-stu-id="60f1a-283">= …</span></span><br><span data-ttu-id="60f1a-284">…</span><span class="sxs-lookup"><span data-stu-id="60f1a-284">…</span></span> <span data-ttu-id="60f1a-285">&lt;&gt; …</span><span class="sxs-lookup"><span data-stu-id="60f1a-285">&lt;&gt; …</span></span> |
| <span data-ttu-id="60f1a-286">1</span><span class="sxs-lookup"><span data-stu-id="60f1a-286">1</span></span>          | <span data-ttu-id="60f1a-287">分隔</span><span class="sxs-lookup"><span data-stu-id="60f1a-287">Separation</span></span>     | <span data-ttu-id="60f1a-288">…</span><span class="sxs-lookup"><span data-stu-id="60f1a-288">…</span></span> <span data-ttu-id="60f1a-289">, …</span><span class="sxs-lookup"><span data-stu-id="60f1a-289">, …</span></span>                                                                   |

<span data-ttu-id="60f1a-290">如果表达式中包含多个具有相同优先级的连续运算符，将从左到右执行这些运算。</span><span class="sxs-lookup"><span data-stu-id="60f1a-290">If an expression includes multiple consecutive operators that have the same precedence, those operations are evaluated from left to right.</span></span> <span data-ttu-id="60f1a-291">例如，表达式 **1 + 6 / 2 \* 3 &gt; 5** 返回 **true**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-291">For example, the expression **1 + 6 / 2 \* 3 &gt; 5** returns **true**.</span></span> <span data-ttu-id="60f1a-292">我们建议您使用括号明确指示评估表达式中所需的运算顺序，以使表达式更便于读取和维护。</span><span class="sxs-lookup"><span data-stu-id="60f1a-292">We recommend that you use parentheses to explicitly indicate the desired order of operations in expressions, so that the expressions are easier to read and maintain.</span></span>

#### <a name="references"></a><span data-ttu-id="60f1a-293">参考</span><span class="sxs-lookup"><span data-stu-id="60f1a-293">References</span></span>

<span data-ttu-id="60f1a-294">在表达式设计期间当前 ER 组件的所有数据源均可用作指定引用。</span><span class="sxs-lookup"><span data-stu-id="60f1a-294">All data sources of the current ER component that are available during the design of an expression can be used as named references.</span></span> <span data-ttu-id="60f1a-295">（当前 ER 组件可以是模型或格式。）例如，当前的 ER 数据模型包含 **ReportingDate** 数据源，并且该数据源返回 **DATETIME** 数据类型的值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-295">(The current ER component can be either a model or a format.) For example, the current ER data model contains the **ReportingDate** data source, and this data source returns a value of the **DATETIME** data type.</span></span> <span data-ttu-id="60f1a-296">若要获取在生成文档中正确格式化的值，您可以按照如下方法在表达式中引用数据源：**DATETIMEFORMAT (ReportingDate, "dd-MM-yyyy")**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-296">To correctly format that value in the generating document, you can reference the data source in the expression as **DATETIMEFORMAT (ReportingDate, "dd-MM-yyyy")**.</span></span>

<span data-ttu-id="60f1a-297">不代表字母的引用数据源的名称中的所有字符必须前加单引号 (')。</span><span class="sxs-lookup"><span data-stu-id="60f1a-297">All characters in the name of a referencing data source that don't represent a letter of the alphabet must be preceded by a single quotation mark (').</span></span> <span data-ttu-id="60f1a-298">如果引用数据源的名称包含至少一个不代表字母的符号，名称必须以单引号括起。</span><span class="sxs-lookup"><span data-stu-id="60f1a-298">If the name of a referencing data source contains at least one symbol that doesn't represent a letter of the alphabet, the name must be enclosed in single quotation marks.</span></span> <span data-ttu-id="60f1a-299">（例如，这些非字母符号可以是标点符号或其他书面符号。）下面是一些示例：</span><span class="sxs-lookup"><span data-stu-id="60f1a-299">(For example, these non-alphabetic symbols can be punctuation marks or other written symbols.) Here are some examples:</span></span>

- <span data-ttu-id="60f1a-300">**今日日期和时间**数据源必须在 ER 表达式中引用，如下所示：**今日日期和时间**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-300">The **Today's date & time** data source must be referred to in an ER expression as **'Today''s date & time'**.</span></span>
- <span data-ttu-id="60f1a-301">**Customers** 数据源的 **name()** 方法必须在 ER 表达式中引用，如下所示：**Customers.'name()'**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-301">The **name()** method of the **Customers** data source must be referred to in an ER expression as **Customers.'name()'**.</span></span>

<span data-ttu-id="60f1a-302">如果 Finance and Operations 数据源的方法有参数，则使用下面的语法调用这些方法：</span><span class="sxs-lookup"><span data-stu-id="60f1a-302">If the methods of Finance and Operations data sources have parameters, the following syntax is used to call those methods:</span></span>

- <span data-ttu-id="60f1a-303">如果 **System** 数据源的 **isLanguageRTL** 方法具有 **String** 数据类型的 **EN-US** 参数，则该方法必须在 ER 表达式中引用为 **System.'isLanguageRTL'("EN-US")**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-303">If the **isLanguageRTL** method of the **System** data source has an **EN-US** parameter of the **String** data type, this method must be referred to in an ER expression as **System.'isLanguageRTL'("EN-US")**.</span></span>
- <span data-ttu-id="60f1a-304">当方法名称仅包含一个字母数字符号时，引号不是必需的。</span><span class="sxs-lookup"><span data-stu-id="60f1a-304">Quotation marks aren't required when a method name contains only alphanumeric symbols.</span></span> <span data-ttu-id="60f1a-305">但是，如果名称中包含括号，则它们是表方法所必需的。</span><span class="sxs-lookup"><span data-stu-id="60f1a-305">However, they are required for a method of a table if the name includes brackets.</span></span>

<span data-ttu-id="60f1a-306">当 **System** 数据源被添加到引用**全局** Finance and Operations 应用程序类的 ER 映射时，表达式返回布尔值 **FALSE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-306">When the **System** data source is added to an ER mapping that refers to the **Global** Finance and Operations application class, the expression returns the Boolean value **FALSE**.</span></span> <span data-ttu-id="60f1a-307">修改后的表达式 **System.' isLanguageRTL'("AR")** 返回布尔值 **TRUE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-307">The modified expression **System.' isLanguageRTL'("AR")** returns the Boolean value **TRUE**.</span></span>

<span data-ttu-id="60f1a-308">可限制值传递到此类型方法的参数的方式：</span><span class="sxs-lookup"><span data-stu-id="60f1a-308">You can limit the way that values are passed to the parameters of this type of method:</span></span>

- <span data-ttu-id="60f1a-309">只有常量可传递到此类型的方法。</span><span class="sxs-lookup"><span data-stu-id="60f1a-309">Only constants can be passed to methods of this type.</span></span> <span data-ttu-id="60f1a-310">常量的值定义为设计时间。</span><span class="sxs-lookup"><span data-stu-id="60f1a-310">The values of the constants are defined at design time.</span></span>
- <span data-ttu-id="60f1a-311">此类型的参数仅支持原始（基本）数据类型。</span><span class="sxs-lookup"><span data-stu-id="60f1a-311">Only primitive (basic) data types are supported for parameters of this type.</span></span> <span data-ttu-id="60f1a-312">（原始数据类型为整数、实数、布尔值、字符串等。）</span><span class="sxs-lookup"><span data-stu-id="60f1a-312">(The primitive data types are integer, real, Boolean, string, and so on.)</span></span>

#### <a name="paths"></a><span data-ttu-id="60f1a-313">路径</span><span class="sxs-lookup"><span data-stu-id="60f1a-313">Paths</span></span>

<span data-ttu-id="60f1a-314">在表达式引用结构化的数据源时，可以使用路径定义选择该数据源的特定基本元素。</span><span class="sxs-lookup"><span data-stu-id="60f1a-314">When an expression references a structured data source, you can use the path definition to select a specific primitive element of that data source.</span></span> <span data-ttu-id="60f1a-315">点字符 (.) 用于分离结构化数据源的各个元素。</span><span class="sxs-lookup"><span data-stu-id="60f1a-315">A dot character (.) is used to separate individual elements of a structured data source.</span></span> <span data-ttu-id="60f1a-316">例如，当前的 ER 数据模型包含 **InvoiceTransactions** 数据源，并且该数据源返回记录列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-316">For example, the current ER data model contains the **InvoiceTransactions** data source, and this data source returns a list of records.</span></span> <span data-ttu-id="60f1a-317">**InvoiceTransactions** 记录结构包含 **AmountDebit** 和 **AmountCredit** 字段，并且这两个字段都将返回数值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-317">The **InvoiceTransactions** record structure contains the **AmountDebit** and **AmountCredit** fields, and both these fields return numeric values.</span></span> <span data-ttu-id="60f1a-318">因此，您可以设计以下表达式来计算发票金额：**InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-318">Therefore, you can design the following expression to calculate the invoiced amount: **InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit**.</span></span>

#### <a name="functions"></a><span data-ttu-id="60f1a-319">功能</span><span class="sxs-lookup"><span data-stu-id="60f1a-319">Functions</span></span>

<span data-ttu-id="60f1a-320">下一节介绍可用于 ER 表达式的函数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-320">The next section describes the functions that can be used in ER expressions.</span></span> <span data-ttu-id="60f1a-321">根据调用函数参数的列表，可将表达式上下文（当前 ER 数据模型或 ER 格式）的所有数据源用作调用函数的参数，以便与调用函数的参数列表保持一致。</span><span class="sxs-lookup"><span data-stu-id="60f1a-321">All data sources of the expression context (the current ER data model or ER format) can be used as parameters of calling functions, in accordance with the list of arguments for calling functions.</span></span> <span data-ttu-id="60f1a-322">也可以将常量用作调用函数的参数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-322">Constants can also be used as parameters of calling functions.</span></span> <span data-ttu-id="60f1a-323">例如，当前的 ER 数据模型包含 **InvoiceTransactions** 数据源，并且该数据源返回记录列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-323">For example, the current ER data model contains the **InvoiceTransactions** data source, and this data source returns a list of records.</span></span> <span data-ttu-id="60f1a-324">**InvoiceTransactions** 记录结构包含 **AmountDebit** 和 **AmountCredit** 字段，并且这两个字段都将返回数值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-324">The **InvoiceTransactions** record structure contains the **AmountDebit** and **AmountCredit** fields, and both these fields return numeric values.</span></span> <span data-ttu-id="60f1a-325">因此，若要计算发票金额，可以设计使用内置的 ER 舍入函数的以下表达式：**ROUND (InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit, 2)**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-325">Therefore, to calculate the invoiced amount, you can design the following expression that uses the built-in ER rounding function: **ROUND (InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit, 2)**.</span></span>

## <a name="supported-functions"></a><span data-ttu-id="60f1a-326">支持的函数</span><span class="sxs-lookup"><span data-stu-id="60f1a-326">Supported functions</span></span>

<span data-ttu-id="60f1a-327">以下各表介绍可用于设计 ER 数据模型和 ER 报表的数据处理函数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-327">The following tables describe the data manipulation functions that you can use to design ER data models and ER reports.</span></span> <span data-ttu-id="60f1a-328">函数列表不是固定的。</span><span class="sxs-lookup"><span data-stu-id="60f1a-328">The list of functions isn't fixed.</span></span> <span data-ttu-id="60f1a-329">开发人员可扩展它。</span><span class="sxs-lookup"><span data-stu-id="60f1a-329">Developers can extend it.</span></span> <span data-ttu-id="60f1a-330">若要查看您可以使用的函数的列表，请打开 ER 公式设计器中的函数窗格。</span><span class="sxs-lookup"><span data-stu-id="60f1a-330">To see the list of functions that you can use, open the functions pane in the ER formula designer.</span></span>

### <a name="date-and-time-functions"></a><span data-ttu-id="60f1a-331">日期和时间函数</span><span class="sxs-lookup"><span data-stu-id="60f1a-331">Date and time functions</span></span>

| <span data-ttu-id="60f1a-332">职能</span><span class="sxs-lookup"><span data-stu-id="60f1a-332">Function</span></span> | <span data-ttu-id="60f1a-333">描述</span><span class="sxs-lookup"><span data-stu-id="60f1a-333">Description</span></span> | <span data-ttu-id="60f1a-334">示例</span><span class="sxs-lookup"><span data-stu-id="60f1a-334">Example</span></span> |
|----------|-------------|---------|
| <span data-ttu-id="60f1a-335">ADDDAYS（日期时间，天）</span><span class="sxs-lookup"><span data-stu-id="60f1a-335">ADDDAYS (datetime, days)</span></span> | <span data-ttu-id="60f1a-336">添加指定的天数到指定的日期/时间值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-336">Add the specified number of days to the specified date/time value.</span></span> | <span data-ttu-id="60f1a-337">**ADDDAYS (NOW(), 7)** 返回未来七天的日期和时间。</span><span class="sxs-lookup"><span data-stu-id="60f1a-337">**ADDDAYS (NOW(), 7)** returns the date and time seven days in the future.</span></span> |
| <span data-ttu-id="60f1a-338">DATETODATETIME（日期）</span><span class="sxs-lookup"><span data-stu-id="60f1a-338">DATETODATETIME (date)</span></span> | <span data-ttu-id="60f1a-339">转换指定日期值为一个日期/时间值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-339">Convert the specified date value to a date/time value.</span></span> | <span data-ttu-id="60f1a-340">**DATETODATETIME (CompInfo. 'getCurrentDate()')** 返回当前的 Finance and Operations 会话日期 2015 年 12 月 24 日为 **12/24/2015 12:00:00 AM**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-340">**DATETODATETIME (CompInfo. 'getCurrentDate()')** returns the current Finance and Operations session date, December 24, 2015, as **12/24/2015 12:00:00 AM**.</span></span> <span data-ttu-id="60f1a-341">在此示例中，**CompInfo** 为 **Finance and Operations/Table** 类型且引用 CompanyInfo 表的 ER 数据源。</span><span class="sxs-lookup"><span data-stu-id="60f1a-341">In this example, **CompInfo** is an ER data source of the **Finance and Operations/Table** type and refers to the CompanyInfo table.</span></span> |
| <span data-ttu-id="60f1a-342">NOW ()</span><span class="sxs-lookup"><span data-stu-id="60f1a-342">NOW ()</span></span> | <span data-ttu-id="60f1a-343">返回当前的 Finance and Operations 应用程序服务器日期和时间作为日期/时间值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-343">Return the current Finance and Operations application server date and time as a date/time value.</span></span> | |
| <span data-ttu-id="60f1a-344">TODAY ()</span><span class="sxs-lookup"><span data-stu-id="60f1a-344">TODAY ()</span></span> | <span data-ttu-id="60f1a-345">返回当前的 Finance and Operations 应用程序服务器日期作为日期值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-345">Return the current Finance and Operations application server date as a date value.</span></span> | |
| <span data-ttu-id="60f1a-346">NULLDATE ()</span><span class="sxs-lookup"><span data-stu-id="60f1a-346">NULLDATE ()</span></span> | <span data-ttu-id="60f1a-347">返回**空**日期值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-347">Return a **null** date value.</span></span> | |
| <span data-ttu-id="60f1a-348">NULLDATETIME ()</span><span class="sxs-lookup"><span data-stu-id="60f1a-348">NULLDATETIME ()</span></span> | <span data-ttu-id="60f1a-349">返回**空**日期/时间值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-349">Return a **null** date/time value.</span></span> | |
| <span data-ttu-id="60f1a-350">DATETIMEFORMAT（日期时间，格式）</span><span class="sxs-lookup"><span data-stu-id="60f1a-350">DATETIMEFORMAT (datetime, format)</span></span> | <span data-ttu-id="60f1a-351">转换指定的日期/时间值为指定格式的字符串。</span><span class="sxs-lookup"><span data-stu-id="60f1a-351">Convert the specified date/time value to a string in the specified format.</span></span> <span data-ttu-id="60f1a-352">（有关支持格式的信息，请参阅[标准](https://msdn.microsoft.com/en-us/library/az4se3k1(v=vs.110).aspx)和[自定义](https://msdn.microsoft.com/en-us/library/8kb3ddd4(v=vs.110).aspx)。）</span><span class="sxs-lookup"><span data-stu-id="60f1a-352">(For information about the supported formats, see [standard](https://msdn.microsoft.com/en-us/library/az4se3k1(v=vs.110).aspx) and [custom](https://msdn.microsoft.com/en-us/library/8kb3ddd4(v=vs.110).aspx).)</span></span> | <span data-ttu-id="60f1a-353">**DATETIMEFORMAT (NOW(), "dd-MM-yyyy")** 根据指定的自定义格式返回当前的 Finance and Operations 应用程序服务器日期 2015 年 12 月 24 日为 **"24-12-2015"**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-353">**DATETIMEFORMAT (NOW(), "dd-MM-yyyy")** returns the current Finance and Operations application server date, December 24, 2015, as **"24-12-2015"**, based on the specified custom format.</span></span> |
| <span data-ttu-id="60f1a-354">DATETIMEFORMAT（日期时间，格式，区域性）</span><span class="sxs-lookup"><span data-stu-id="60f1a-354">DATETIMEFORMAT (datetime, format, culture)</span></span> | <span data-ttu-id="60f1a-355">转换指定的日期/时间值为指定格式和[区域性](https://msdn.microsoft.com/en-us/goglobal/bb896001.aspx)的字符串。</span><span class="sxs-lookup"><span data-stu-id="60f1a-355">Convert the specified date/time value to a string in the specified format and [culture](https://msdn.microsoft.com/en-us/goglobal/bb896001.aspx).</span></span> <span data-ttu-id="60f1a-356">（有关支持格式的信息，请参阅[标准](https://msdn.microsoft.com/en-us/library/az4se3k1(v=vs.110).aspx)和[自定义](https://msdn.microsoft.com/en-us/library/8kb3ddd4(v=vs.110).aspx)。）</span><span class="sxs-lookup"><span data-stu-id="60f1a-356">(For information about the supported formats, see [standard](https://msdn.microsoft.com/en-us/library/az4se3k1(v=vs.110).aspx) and [custom](https://msdn.microsoft.com/en-us/library/8kb3ddd4(v=vs.110).aspx).)</span></span> | <span data-ttu-id="60f1a-357">**DATETIMEFORMAT (NOW(), "d", "de")** 根据所选的德国区域性返回当前的 Finance and Operations 应用程序服务器日期 2015 年 12 月 24 日为 **"24.12.2015"**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-357">**DATETIMEFORMAT (NOW(), "d", "de")** returns the current Finance and Operations application server date, December 24, 2015, as **"24.12.2015"**, based on the selected German culture.</span></span> |
| <span data-ttu-id="60f1a-358">SESSIONTODAY ()</span><span class="sxs-lookup"><span data-stu-id="60f1a-358">SESSIONTODAY ()</span></span> | <span data-ttu-id="60f1a-359">返回当前的 Finance and Operations 会话日期作为日期值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-359">Return the current Finance and Operations session date as a date value.</span></span> | |
| <span data-ttu-id="60f1a-360">SESSIONNOW ()</span><span class="sxs-lookup"><span data-stu-id="60f1a-360">SESSIONNOW ()</span></span> | <span data-ttu-id="60f1a-361">返回当前的 Finance and Operations 会话日期和时间作为日期/时间值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-361">Return the current Finance and Operations session date and time as a date/time value.</span></span> | |
| <span data-ttu-id="60f1a-362">DATEFORMAT（日期，格式）</span><span class="sxs-lookup"><span data-stu-id="60f1a-362">DATEFORMAT (date, format)</span></span> | <span data-ttu-id="60f1a-363">以指定格式返回指定日期的字符串表示形式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-363">Return a string representation of the specified date in the specified format.</span></span> | <span data-ttu-id="60f1a-364">**DATEFORMAT (SESSIONTODAY (), "dd-MM-yyyy")** 根据指定的自定义格式返回当前的 Finance and Operations 会话日期 2015 年 12 月 24 日为 **"24-12-2015"**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-364">**DATEFORMAT (SESSIONTODAY (), "dd-MM-yyyy")** returns the current Finance and Operations session date, December 24, 2015, as **"24-12-2015"**, based on the specified custom format.</span></span> |
| <span data-ttu-id="60f1a-365">DATEFORMAT（日期，格式，区域性）</span><span class="sxs-lookup"><span data-stu-id="60f1a-365">DATEFORMAT (date, format, culture)</span></span> | <span data-ttu-id="60f1a-366">转换指定的日期值为指定格式和[区域性](https://msdn.microsoft.com/en-us/goglobal/bb896001.aspx)的字符串。</span><span class="sxs-lookup"><span data-stu-id="60f1a-366">Convert the specified date value to a string in the specified format and [culture](https://msdn.microsoft.com/en-us/goglobal/bb896001.aspx).</span></span> <span data-ttu-id="60f1a-367">（有关支持格式的信息，请参阅[标准](https://msdn.microsoft.com/en-us/library/az4se3k1(v=vs.110).aspx)和[自定义](https://msdn.microsoft.com/en-us/library/8kb3ddd4(v=vs.110).aspx)。）</span><span class="sxs-lookup"><span data-stu-id="60f1a-367">(For information about the supported formats, see [standard](https://msdn.microsoft.com/en-us/library/az4se3k1(v=vs.110).aspx) and [custom](https://msdn.microsoft.com/en-us/library/8kb3ddd4(v=vs.110).aspx).)</span></span> | <span data-ttu-id="60f1a-368">**DATETIMEFORMAT (SESSIONNOW (), "d", "de")** 根据所选的德国区域性返回当前的 Finance and Operations 会话日期 2015 年 12 月 24 日为 **"24.12.2015"**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-368">**DATETIMEFORMAT (SESSIONNOW (), "d", "de")** returns the current Finance and Operations session date, December 24, 2015, as **"24.12.2015"**, based on the selected German culture.</span></span> |
| <span data-ttu-id="60f1a-369">DAYOFYEAR（日期）</span><span class="sxs-lookup"><span data-stu-id="60f1a-369">DAYOFYEAR (date)</span></span> | <span data-ttu-id="60f1a-370">返回 1 月 1 日与指定日期之间的天数的整数表现形式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-370">Return an integer representation of the number of days between January 1 and the specified date.</span></span> | <span data-ttu-id="60f1a-371">**DAYOFYEAR (DATEVALUE ("01-03-2016", "dd-MM-yyyy"))** 返回 **61**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-371">**DAYOFYEAR (DATEVALUE ("01-03-2016", "dd-MM-yyyy"))** returns **61**.</span></span> <span data-ttu-id="60f1a-372">**DAYOFYEAR (DATEVALUE ("01-01-2016", "dd-MM-yyyy"))** 返回 **1**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-372">**DAYOFYEAR (DATEVALUE ("01-01-2016", "dd-MM-yyyy"))** returns **1**.</span></span> |
| <span data-ttu-id="60f1a-373">DAYS (date 1, date 2)</span><span class="sxs-lookup"><span data-stu-id="60f1a-373">DAYS (date 1, date 2)</span></span> | <span data-ttu-id="60f1a-374">返回指定的第一个日期与第二个日期之间的天数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-374">Return the number of days between the first specified date and the second specified date.</span></span> <span data-ttu-id="60f1a-375">第一个日期比第二个日期晚时返回正值，第一个日期等于第二个日期时返回 **0**，第一个日期比第二个日期早时返回负值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-375">Return a positive value when the first date is later than the second date, return **0** (zero) when the first date equals the second date, or return a negative value when the first date is earlier than the second date.</span></span> | <span data-ttu-id="60f1a-376">**DAYS (TODAY (), DATEVALUE( DATETIMEFORMAT( ADDDAYS(NOW(), 1), "yyyyMMdd"), "yyyyMMdd"))** 返回 **-1**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-376">**DAYS (TODAY (), DATEVALUE( DATETIMEFORMAT( ADDDAYS(NOW(), 1), "yyyyMMdd"), "yyyyMMdd"))** returns **-1**.</span></span> |

### <a name="data-conversion-functions"></a><span data-ttu-id="60f1a-377">数据转换函数</span><span class="sxs-lookup"><span data-stu-id="60f1a-377">Data conversion functions</span></span>

| <span data-ttu-id="60f1a-378">职能</span><span class="sxs-lookup"><span data-stu-id="60f1a-378">Function</span></span> | <span data-ttu-id="60f1a-379">说明</span><span class="sxs-lookup"><span data-stu-id="60f1a-379">Description</span></span> | <span data-ttu-id="60f1a-380">示例</span><span class="sxs-lookup"><span data-stu-id="60f1a-380">Example</span></span> |
|----------|-------------|---------|
| <span data-ttu-id="60f1a-381">DATETODATETIME（日期）</span><span class="sxs-lookup"><span data-stu-id="60f1a-381">DATETODATETIME (date)</span></span> | <span data-ttu-id="60f1a-382">转换指定日期值为一个日期/时间值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-382">Convert the specified date value to a date/time value.</span></span> | <span data-ttu-id="60f1a-383">**DATETODATETIME (CompInfo. 'getCurrentDate()')** 返回当前的 Finance and Operations 会话日期 2015 年 12 月 24 日为 **12/24/2015 12:00:00 AM**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-383">**DATETODATETIME (CompInfo. 'getCurrentDate()')** returns the current Finance and Operations session date, December 24, 2015, as **12/24/2015 12:00:00 AM**.</span></span> <span data-ttu-id="60f1a-384">在此示例中，**CompInfo** 为 **Finance and Operations/Table** 类型且引用 CompanyInfo 表的 ER 数据源。</span><span class="sxs-lookup"><span data-stu-id="60f1a-384">In this example, **CompInfo** is an ER data source of the **Finance and Operations/Table** type and refers to the CompanyInfo table.</span></span> |
| <span data-ttu-id="60f1a-385">DATEVALUE（字符串，格式）</span><span class="sxs-lookup"><span data-stu-id="60f1a-385">DATEVALUE (string, format)</span></span> | <span data-ttu-id="60f1a-386">以指定格式返回指定字符串的日期表示形式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-386">Return a date representation of the specified string in the specified format.</span></span> | <span data-ttu-id="60f1a-387">**DATEVALUE ("21-Dec-2016", "dd-MMM-yyyy")** 根据指定的自定义格式和默认应用程序的 **EN-US** 区域性返回日期 2016 年 12 月 21 日。</span><span class="sxs-lookup"><span data-stu-id="60f1a-387">**DATEVALUE ("21-Dec-2016", "dd-MMM-yyyy")** returns the date December 21, 2016, based on specified custom format and the default application's **EN-US** culture.</span></span> |
| <span data-ttu-id="60f1a-388">DATEVALUE（字符串，格式，区域性）</span><span class="sxs-lookup"><span data-stu-id="60f1a-388">DATEVALUE (string, format, culture)</span></span> | <span data-ttu-id="60f1a-389">以指定格式和区域性返回指定字符串的日期表示形式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-389">Return a date representation of the specified string in the specified format and culture.</span></span> | <span data-ttu-id="60f1a-390">**DATEVALUE ("21-Gen-2016", "dd-MMM-yyyy", "IT")** 根据指定的自定义格式和区域性返回日期 2016 年 1 月 16 日。</span><span class="sxs-lookup"><span data-stu-id="60f1a-390">**DATEVALUE ("21-Gen-2016", "dd-MMM-yyyy", "IT")** returns the date January 21, 2016, based on the specified custom format and culture.</span></span> <span data-ttu-id="60f1a-391">但是，**DATEVALUE ("21-Gen-2016", "dd-MMM-yyyy", "EN-US")** 将引发异常，以通知用户指定字符串无法识别为有效日期。</span><span class="sxs-lookup"><span data-stu-id="60f1a-391">However, **DATEVALUE ("21-Gen-2016", "dd-MMM-yyyy", "EN-US")** throws an exception to inform the user that the specified string isn't recognized as a valid date.</span></span> |
| <span data-ttu-id="60f1a-392">DATETIMEVALUE（字符串，格式）</span><span class="sxs-lookup"><span data-stu-id="60f1a-392">DATETIMEVALUE (string, format)</span></span> | <span data-ttu-id="60f1a-393">以指定格式返回指定字符串的日期/时间表示形式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-393">Return a date/time representation of the specified string in the specified format.</span></span> | <span data-ttu-id="60f1a-394">**DATETIMEVALUE ("21-Dec-2016 02:55:00", "dd-MMM-yyyy hh:mm:ss")** 根据指定的自定义格式和默认应用程序的 **EN-US** 区域性返回 2016 年 12 月 21 日早上 2 点 55 分。</span><span class="sxs-lookup"><span data-stu-id="60f1a-394">**DATETIMEVALUE ("21-Dec-2016 02:55:00", "dd-MMM-yyyy hh:mm:ss")** returns 2:55:00 AM on December 21, 2016, based on the specified custom format and the default application's **EN-US** culture.</span></span> |
| <span data-ttu-id="60f1a-395">DATETIMEVALUE（字符串，格式，区域性）</span><span class="sxs-lookup"><span data-stu-id="60f1a-395">DATETIMEVALUE (string, format, culture)</span></span> | <span data-ttu-id="60f1a-396">以指定格式和区域性返回指定字符串的日期/时间表示形式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-396">Return a date/time representation of the specified string in the specified format and culture.</span></span> | <span data-ttu-id="60f1a-397">**DATETIMEVALUE ("21-Gen-2016 02:55:00", "dd-MMM-yyyy hh:mm:ss", "IT")** 根据指定的自定义格式和区域性返回 2016 年 12 月 21 日早上 2 点 55 分。</span><span class="sxs-lookup"><span data-stu-id="60f1a-397">**DATETIMEVALUE ("21-Gen-2016 02:55:00", "dd-MMM-yyyy hh:mm:ss", "IT")** returns 2:55:00 AM on December 21, 2016, based on the specified custom format and culture.</span></span> <span data-ttu-id="60f1a-398">但是，**DATETIMEVALUE ("21-Gen-2016 02:55:00", "dd-MMM-yyyy hh:mm:ss", "EN-US")** 将引发异常，以通知用户指定字符串无法识别为有效日期。</span><span class="sxs-lookup"><span data-stu-id="60f1a-398">However, **DATETIMEVALUE ("21-Gen-2016 02:55:00", "dd-MMM-yyyy hh:mm:ss", "EN-US")** throws an exception to inform the user that the specified string isn't recognized as a valid date/time.</span></span> |

### <a name="list-functions"></a><span data-ttu-id="60f1a-399">列表函数</span><span class="sxs-lookup"><span data-stu-id="60f1a-399">List functions</span></span>

<table>
<thead>
<tr>
<th><span data-ttu-id="60f1a-400">职能</span><span class="sxs-lookup"><span data-stu-id="60f1a-400">Function</span></span></th>
<th><span data-ttu-id="60f1a-401">说明</span><span class="sxs-lookup"><span data-stu-id="60f1a-401">Description</span></span></th>
<th><span data-ttu-id="60f1a-402">示例</span><span class="sxs-lookup"><span data-stu-id="60f1a-402">Example</span></span></th>
</tr>
</thead>
<tbody>
<tr>
<td><span data-ttu-id="60f1a-403">拆分（输入，长度）</span><span class="sxs-lookup"><span data-stu-id="60f1a-403">SPLIT (input, length)</span></span></td>
<td><span data-ttu-id="60f1a-404">拆分指定的输入字符串为子字符串，每个子字符串具有指定的长度。</span><span class="sxs-lookup"><span data-stu-id="60f1a-404">Split the specified input string into substrings, each of which has the specified length.</span></span> <span data-ttu-id="60f1a-405">返回结果为新的列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-405">Return the result as a new list.</span></span></td>
<td><span data-ttu-id="60f1a-406"><strong>SPLIT (&quot;abcd&quot;, 3)</strong> 返回包含具有 <strong>STRING</strong> 字段的两个记录的新列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-406"><strong>SPLIT (&quot;abcd&quot;, 3)</strong> returns a new list that consists of two records that have a <strong>STRING</strong> field.</span></span> <span data-ttu-id="60f1a-407">第一个记录中的字段包含文本 <strong>&quot;abc&quot;</strong>，第二个记录中的字段包含文本 <strong>&quot;d&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-407">The field in the first record contains the text <strong>&quot;abc&quot;</strong>, and the field in the second record contains the text <strong>&quot;d&quot;</strong>.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-408">SPLIT（输入、分隔符）</span><span class="sxs-lookup"><span data-stu-id="60f1a-408">SPLIT (input, delimiter)</span></span></td>
<td><span data-ttu-id="60f1a-409">根据指定的分隔符拆分指定的输入字符串为子字符串。</span><span class="sxs-lookup"><span data-stu-id="60f1a-409">Split the specified input string into substrings, based on the specified delimiter.</span></span></td>
<td><span data-ttu-id="60f1a-410"><strong>SPLIT (&quot;XAb aBy&quot;, &quot;aB&quot;)</strong> 返回包含具有 <strong>STRING</strong> 字段的三个记录的新列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-410"><strong>SPLIT (&quot;XAb aBy&quot;, &quot;aB&quot;)</strong> returns a new list that consists of three records that have a <strong>STRING</strong> field.</span></span> <span data-ttu-id="60f1a-411">第一个记录中的字段包含文本 <strong>&quot;X&quot;</strong>，第二个记录中的字段包含文本 &quot;&nbsp;&quot;，第三个记录中的字段包含文本 <strong>&quot;y&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-411">The field in the first record contains the text <strong>&quot;X&quot;</strong>, the field in the second record contains the text &quot;&nbsp;&quot;, and the field in the third record contains the text <strong>&quot;y&quot;</strong>.</span></span> <span data-ttu-id="60f1a-412">如果分隔符是空的，将返回一个新列表，其中包括具有包含输入文本的 <strong>STRING</strong> 字段的一个记录。</span><span class="sxs-lookup"><span data-stu-id="60f1a-412">If the delimiter is empty, a new list is returned that consists of one record that has a <strong>STRING</strong> field that contains the input text.</span></span> <span data-ttu-id="60f1a-413">如果输入为空，新的空列表将返回。</span><span class="sxs-lookup"><span data-stu-id="60f1a-413">If the input is empty, a new empty list is returned.</span></span>
<span data-ttu-id="60f1a-414">如果输入或分隔符未指定（空），将引发应用程序异常。</span><span class="sxs-lookup"><span data-stu-id="60f1a-414">If either the input or the delimiter is unspecified (null), an application exception is thrown.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-415">拆分列表（列表，数字）</span><span class="sxs-lookup"><span data-stu-id="60f1a-415">SPLITLIST (list, number)</span></span></td>
<td><span data-ttu-id="60f1a-416">将指定的列表拆分为多个批次，每个批次包含指定的记录数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-416">Split the specified list into batches, each of which contains the specified number of records.</span></span> <span data-ttu-id="60f1a-417">返回结果为包含以下元素的批次的新列表：</span><span class="sxs-lookup"><span data-stu-id="60f1a-417">Return the result as a new list of batches that contains the following elements:</span></span>
<ul>
<li><span data-ttu-id="60f1a-418">作为常规列表的批次（<strong>值</strong>组件）</span><span class="sxs-lookup"><span data-stu-id="60f1a-418">Batches as regular lists (<strong>Value</strong> component)</span></span></li>
<li><span data-ttu-id="60f1a-419">当前批处理号（<strong>BatchNumber</strong> 组件）</span><span class="sxs-lookup"><span data-stu-id="60f1a-419">The current batch number (<strong>BatchNumber</strong> component)</span></span></li>
</ul>
</td>
<td><span data-ttu-id="60f1a-420">下图中，将创建一个<strong>行</strong>数据源以充当三条记录组成的记录列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-420">In the following illustration, a <strong>Lines</strong> data source is created as a record list of three records.</span></span> <span data-ttu-id="60f1a-421">此列表分为多个批次，每个批次中最多包含两条记录。</span><span class="sxs-lookup"><span data-stu-id="60f1a-421">This list is divided into batches, each of which contains up to two records.</span></span>
<p><a href="./media/picture-splitlist-datasource.jpg"><img src="./media/picture-splitlist-datasource.jpg" alt="Data source that is divided into batches" class="alignnone wp-image-290681 size-full" width="397" height="136" /></a></p>
<p><span data-ttu-id="60f1a-422">下图显示设计的格式布局。</span><span class="sxs-lookup"><span data-stu-id="60f1a-422">The following illustration shows the designed format layout.</span></span> <span data-ttu-id="60f1a-423">在此格式布局中，创建了与<strong>行</strong>数据源的绑定，以便生成 XML 格式的输出。</span><span class="sxs-lookup"><span data-stu-id="60f1a-423">In this format layout, bindings to the <strong>Lines</strong> data source are created to generate output in XML format.</span></span> <span data-ttu-id="60f1a-424">此输出为各批次及其中的记录提供单个节点。</span><span class="sxs-lookup"><span data-stu-id="60f1a-424">This output presents individual nodes for each batch and the records in it.</span></span></p>
<p><a href="./media/picture-splitlist-format.jpg"><img src="./media/picture-splitlist-format.jpg" alt="Format layout that has bindings to a data source" class="alignnone wp-image-290691 size-full" width="374" height="161" /></a></p>
<p><span data-ttu-id="60f1a-425">下图显示运行设计的格式的结果。</span><span class="sxs-lookup"><span data-stu-id="60f1a-425">The following illustration shows the result when the designed format is run.</span></span></p>
<a href="./media/picture-splitlist-result.jpg"><img src="./media/picture-splitlist-result.jpg" alt="Result of running the format" class="alignnone wp-image-290701 size-full" width="358" height="191" /></a>
</td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-426">LIST (record 1 [, record 2, …])</span><span class="sxs-lookup"><span data-stu-id="60f1a-426">LIST (record 1 [, record 2, …])</span></span></td>
<td><span data-ttu-id="60f1a-427">返回从指定的参数创建的新列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-427">Return a new list that is created from the specified arguments.</span></span></td>
<td><span data-ttu-id="60f1a-428"><strong>LIST (model.MainData, model.OtherData)</strong> 返回空记录，在其中字段列表包含 <strong>MainData</strong> 和 <strong>OtherData</strong> 记录列表的所有字段。</span><span class="sxs-lookup"><span data-stu-id="60f1a-428"><strong>LIST (model.MainData, model.OtherData)</strong> returns an empty record, where the list of fields contains all fields of the <strong>MainData</strong> and <strong>OtherData</strong> record lists.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-429">LISTJOIN (list 1, list 2, …)</span><span class="sxs-lookup"><span data-stu-id="60f1a-429">LISTJOIN (list 1, list 2, …)</span></span></td>
<td><span data-ttu-id="60f1a-430">返回从指定的参数列表的连接列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-430">Return a joined list that is created from lists of specified arguments.</span></span></td>
<td><span data-ttu-id="60f1a-431"><strong>LISTJOIN (SPLIT (&quot;abc&quot;, 1), SPLIT (&quot;def&quot;, 1))</strong> 返回六个记录的列表，在其中 <strong>STRING</strong> 数据类型的一个字段包含一个字母。</span><span class="sxs-lookup"><span data-stu-id="60f1a-431"><strong>LISTJOIN (SPLIT (&quot;abc&quot;, 1), SPLIT (&quot;def&quot;, 1))</strong> returns a list of six records, where one field of the <strong>STRING</strong> data type contains single letters.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-432">ISEMPTY（列表）</span><span class="sxs-lookup"><span data-stu-id="60f1a-432">ISEMPTY (list)</span></span></td>
<td><span data-ttu-id="60f1a-433">如果指定的列表不包含任何元素，返回 <strong>TRUE</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-433">Return <strong>TRUE</strong> if the specified list contains no elements.</span></span> <span data-ttu-id="60f1a-434">否则，返回 <strong>FALSE</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-434">Otherwise, return <strong>FALSE</strong>.</span></span></td>
<td></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-435">EMPTYLIST（列表）</span><span class="sxs-lookup"><span data-stu-id="60f1a-435">EMPTYLIST (list)</span></span></td>
<td><span data-ttu-id="60f1a-436">通过使用指定的列表返回空列表为列表结构的来源。</span><span class="sxs-lookup"><span data-stu-id="60f1a-436">Return an empty list by using the specified list as a source for the list structure.</span></span></td>
<td><span data-ttu-id="60f1a-437"><strong>EMPTYLIST (SPLIT (&quot;abc&quot;, 1))</strong> 返回具有与 <strong>SPLIT</strong> 函数返回的列表相同结构的新空列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-437"><strong>EMPTYLIST (SPLIT (&quot;abc&quot;, 1))</strong> returns a new empty list that has the same structure as the list that is returned by the <strong>SPLIT</strong> function.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-438">FIRST（列表）</span><span class="sxs-lookup"><span data-stu-id="60f1a-438">FIRST (list)</span></span></td>
<td><span data-ttu-id="60f1a-439">如果该记录不为空，返回指定列表的第一个记录。</span><span class="sxs-lookup"><span data-stu-id="60f1a-439">Return the first record of the specified list, if that record isn't empty.</span></span> <span data-ttu-id="60f1a-440">否则，将引发异常。</span><span class="sxs-lookup"><span data-stu-id="60f1a-440">Otherwise, throw an exception.</span></span></td>
<td></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-441">FIRSTORNULL（列表）</span><span class="sxs-lookup"><span data-stu-id="60f1a-441">FIRSTORNULL (list)</span></span></td>
<td><span data-ttu-id="60f1a-442">如果该记录不为空，返回指定列表的第一个记录。</span><span class="sxs-lookup"><span data-stu-id="60f1a-442">Return the first record of the specified list, if that record isn't empty.</span></span> <span data-ttu-id="60f1a-443">否则，将返回<strong>空</strong>记录。</span><span class="sxs-lookup"><span data-stu-id="60f1a-443">Otherwise, return a <strong>null</strong> record.</span></span></td>
<td></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-444">LISTOFFIRSTITEM（列表）</span><span class="sxs-lookup"><span data-stu-id="60f1a-444">LISTOFFIRSTITEM (list)</span></span></td>
<td><span data-ttu-id="60f1a-445">返回仅包含指定列表的第一项的列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-445">Return a list that contains only the first item of the specified list.</span></span></td>
<td></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-446">ALLITEMS（路径）</span><span class="sxs-lookup"><span data-stu-id="60f1a-446">ALLITEMS (path)</span></span></td>
<td><span data-ttu-id="60f1a-447">此函数作为内存内选择运行。</span><span class="sxs-lookup"><span data-stu-id="60f1a-447">This function runs as an in-memory selection.</span></span> <span data-ttu-id="60f1a-448">它返回表示匹配指定路径的所有项的新的平展表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-448">It returns a new flattened list that represents all items that match the specified path.</span></span> <span data-ttu-id="60f1a-449">路径必须定义为记录列表数据类型的数据源元素的有效数据源路径。</span><span class="sxs-lookup"><span data-stu-id="60f1a-449">The path must be defined as a valid data source path of a data source element of a record list data type.</span></span> <span data-ttu-id="60f1a-450">路径字符串和日期等数据元素应在 ER 表达式生成器中设计时引发错误。</span><span class="sxs-lookup"><span data-stu-id="60f1a-450">Data elements such as the path string and date should raise an error in the ER expression builder at design time.</span></span></td>
<td><span data-ttu-id="60f1a-451">如果您输入 <strong>SPLIT(&quot;abcdef&quot; , 2)</strong> 为数据源 (DS)，<strong>COUNT( ALLITEMS (DS.Value))</strong> 返回 <strong>3</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-451">If you enter <strong>SPLIT(&quot;abcdef&quot; , 2)</strong> as a data source (DS), <strong>COUNT( ALLITEMS (DS.Value))</strong> returns <strong>3</strong>.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-452">ALLITEMSQUERY（路径）</span><span class="sxs-lookup"><span data-stu-id="60f1a-452">ALLITEMSQUERY (path)</span></span></td>
<td><span data-ttu-id="60f1a-453">此函数返回一个联接的 SQL 查询。</span><span class="sxs-lookup"><span data-stu-id="60f1a-453">This function runs as a joined SQL query.</span></span> <span data-ttu-id="60f1a-454">它返回表示匹配指定路径的所有项的新的平展表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-454">It returns a new flattened list that represents all items that match the specified path.</span></span> <span data-ttu-id="60f1a-455">指定的路径必须定义为记录列表数据类型的数据源元素的有效数据源路径，并且必须至少包含一个关系。</span><span class="sxs-lookup"><span data-stu-id="60f1a-455">The specified path must be defined as a valid data source path of a data source element of a record list data type, and it must contain at least one relation.</span></span> <span data-ttu-id="60f1a-456">路径字符串和日期等数据元素应在 ER 表达式生成器中设计时引发错误。</span><span class="sxs-lookup"><span data-stu-id="60f1a-456">Data elements such as the path string and date should raise an error in the ER expression builder at design time.</span></span></td>
<td><span data-ttu-id="60f1a-457">在模型映射中定义以下数据源：</span><span class="sxs-lookup"><span data-stu-id="60f1a-457">Define the following data sources in your model mapping:</span></span>
<ul>
<li><span data-ttu-id="60f1a-458"><strong>CustInv</strong>（<strong>表记录</strong>类型），引用的是 CustInvoiceTable 表</span><span class="sxs-lookup"><span data-stu-id="60f1a-458"><strong>CustInv</strong> (<strong>Table records</strong> type), which refers to the CustInvoiceTable table</span></span></li> 
<li><span data-ttu-id="60f1a-459"><strong>FilteredInv</strong>（<strong>计算字段</strong>类型），其中包含表达式 <strong>FILTER (CustInv, CustInv.InvoiceAccount = &quot;US-001&quot;)</strong></span><span class="sxs-lookup"><span data-stu-id="60f1a-459"><strong>FilteredInv</strong> (<strong>Calculated field</strong> type), which contains the expression <strong>FILTER (CustInv, CustInv.InvoiceAccount = &quot;US-001&quot;)</strong></span></span></li>
<li><span data-ttu-id="60f1a-460"><strong>JourLines</strong>（<strong>计算字段</strong>类型），其中包含表达式 <strong>ALLITEMSQUERY (FilteredInv.'&lt;Relations'.CustInvoiceJour.'&lt;Relations'.CustInvoiceTrans)</strong></span><span class="sxs-lookup"><span data-stu-id="60f1a-460"><strong>JourLines</strong> (<strong>Calculated field</strong> type), which contains the expression <strong>ALLITEMSQUERY (FilteredInv.'&lt;Relations'.CustInvoiceJour.'&lt;Relations'.CustInvoiceTrans)</strong></span></span></li>
</ul>
<p><span data-ttu-id="60f1a-461">运行模型映射以调用 <strong>JourLines</strong> 数据源时，将运行以下 SQL 语句：</span><span class="sxs-lookup"><span data-stu-id="60f1a-461">When you run your model mapping to call the <strong>JourLines</strong> data source, the following SQL statement is run:</span></span></p>
<span data-ttu-id="60f1a-462">SELECT ... FROM CUSTINVOICETABLE T1 CROSS JOIN CUSTINVOICEJOUR T2 CROSS JOIN CUSTINVOICETRANS T3 WHERE...</span><span class="sxs-lookup"><span data-stu-id="60f1a-462">SELECT ... FROM CUSTINVOICETABLE T1 CROSS JOIN CUSTINVOICEJOUR T2 CROSS JOIN CUSTINVOICETRANS T3 WHERE...</span></span>
</td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-463">ORDERBY（列表 [，表达式 1，表达式 2，...]）</span><span class="sxs-lookup"><span data-stu-id="60f1a-463">ORDERBY (list [, expression 1, expression 2, …])</span></span></td>
<td><span data-ttu-id="60f1a-464">根据指定变量排序后返回指定的列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-464">Return the specified list after it has been sorted according to the specified arguments.</span></span> <span data-ttu-id="60f1a-465">可将这些变量定义为表达式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-465">These arguments can be defined as expressions.</span></span></td>
<td><span data-ttu-id="60f1a-466">如果<strong>供应商</strong>配置为引用 VendTable 表的 ER 数据源，<strong>ORDERBY (Vendors, Vendors.'name()')</strong> 返回升序排列的按名称排序的供应商列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-466">If <strong>Vendor</strong> is configured as an ER data source that refers to the VendTable table, <strong>ORDERBY (Vendors, Vendors.'name()')</strong> returns a list of vendors that is sorted by name in ascending order.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-467">REVERSE（列表）</span><span class="sxs-lookup"><span data-stu-id="60f1a-467">REVERSE (list)</span></span></td>
<td><span data-ttu-id="60f1a-468">以反转排序顺序返回指定的列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-468">Return the specified list in reversed sort order.</span></span></td>
<td><span data-ttu-id="60f1a-469">如果<strong>供应商</strong>配置为引用 VendTable 表的 ER 数据源，<strong>REVERSE (ORDERBY (Vendors, Vendors.'name()')) )</strong> 返回降序排列的按名称排序的供应商列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-469">If <strong>Vendor</strong> is configured as an ER data source that refers to the VendTable table, <strong>REVERSE (ORDERBY (Vendors, Vendors.'name()')) )</strong> returns a list of vendors that is sorted by name in descending order.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-470">WHERE（列表，条件）</span><span class="sxs-lookup"><span data-stu-id="60f1a-470">WHERE (list, condition)</span></span></td>
<td><span data-ttu-id="60f1a-471">根据指定条件筛选后返回指定的列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-471">Return the specified list after it has been filtered according to the specified condition.</span></span> <span data-ttu-id="60f1a-472">将对内存中的列表应用指定条件。</span><span class="sxs-lookup"><span data-stu-id="60f1a-472">The specified condition is applied to the list in memory.</span></span> <span data-ttu-id="60f1a-473">因此，<strong>WHERE</strong> 函数与 <strong>FILTER</strong> 函数不同。</span><span class="sxs-lookup"><span data-stu-id="60f1a-473">In this way, the <strong>WHERE</strong> function differs from the <strong>FILTER</strong> function.</span></span></td>
<td><span data-ttu-id="60f1a-474">如果<strong>供应商</strong>配置为引用 VendTable 表的 ER 数据源，<strong>WHERE(Vendors, Vendors.VendGroup = &quot;40&quot;)</strong> 返回仅包含属于供应商组 40 的供应商的列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-474">If <strong>Vendor</strong> is configured as an ER data source that refers to the VendTable table, <strong>WHERE(Vendors, Vendors.VendGroup = &quot;40&quot;)</strong> returns a list of just the vendors that belong to vendor group 40.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-475">ENUMERATE（列表）</span><span class="sxs-lookup"><span data-stu-id="60f1a-475">ENUMERATE (list)</span></span></td>
<td><span data-ttu-id="60f1a-476">返回包括指定列表的枚举记录并显示以下元素的新列表：</span><span class="sxs-lookup"><span data-stu-id="60f1a-476">Return a new list that consists of enumerated records of the specified list, and that exposes the following elements:</span></span>
<ul>
<li><span data-ttu-id="60f1a-477">作为常规列表的指定列表记录（<strong>值</strong>组件）</span><span class="sxs-lookup"><span data-stu-id="60f1a-477">Specified list records as regular lists (<strong>Value</strong> component)</span></span></li>
<li><span data-ttu-id="60f1a-478">当前记录索引（<strong>编号</strong>组件）</span><span class="sxs-lookup"><span data-stu-id="60f1a-478">The current record index (<strong>Number</strong> component)</span></span></li>
</ul>
</td>
<td><span data-ttu-id="60f1a-479">在下图中中，<strong>枚举</strong>数据源创建为引用 VendTable 表的<strong>供应商</strong>数据源的供应商记录的枚举列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-479">In the following illustration, an <strong>Enumerated</strong> data source is created as an enumerated list of vendor records from the <strong>Vendors</strong> data source that refers to the VendTable table.</span></span>
<p><a href="./media/picture-enumerate-datasource.jpg"><img src="./media/picture-enumerate-datasource.jpg" alt="Enumerated data source" class="alignnone wp-image-290711 size-full" width="387" height="136" /></a></p>
<p><span data-ttu-id="60f1a-480">下图显示格式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-480">The following illustration shows the format.</span></span> <span data-ttu-id="60f1a-481">在此格式布局中，创建了数据绑定，以便生成 XML 格式的输出。</span><span class="sxs-lookup"><span data-stu-id="60f1a-481">In this format, data bindings are created to generate output in XML format.</span></span> <span data-ttu-id="60f1a-482">此输出将单个供应商表示为枚举的节点。</span><span class="sxs-lookup"><span data-stu-id="60f1a-482">This output presents individual vendors as enumerated nodes.</span></span></p>
<p><a href="./media/picture-enumerate-format.jpg"><img src="./media/picture-enumerate-format.jpg" alt="Format that has data bindings" class="alignnone wp-image-290721 size-full" width="414" height="138" /></a></p>
<p><span data-ttu-id="60f1a-483">下图显示运行设计的格式的结果。</span><span class="sxs-lookup"><span data-stu-id="60f1a-483">The following illustration shows the result when the designed format is run.</span></span></p>
<a href="./media/picture-enumerate-result.jpg"><img src="./media/picture-enumerate-result.jpg" alt="Result of running the format" class="alignnone wp-image-290731 size-full" width="567" height="176" /></a>
</td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-484">COUNT（列表）</span><span class="sxs-lookup"><span data-stu-id="60f1a-484">COUNT (list)</span></span></td>
<td><span data-ttu-id="60f1a-485">如果列表不为空，返回指定列表中的记录数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-485">Return the number of records in the specified list, if the list isn't empty.</span></span> <span data-ttu-id="60f1a-486">否则，返回 <strong>0</strong>（零）。</span><span class="sxs-lookup"><span data-stu-id="60f1a-486">Otherwise, return <strong>0</strong> (zero).</span></span></td>
<td><span data-ttu-id="60f1a-487"><strong>COUNT (SPLIT(&quot;abcd&quot; , 3))</strong> 返回 <strong>2</strong>，因为 <strong>SPLIT</strong> 函数创建包含两个记录的列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-487"><strong>COUNT (SPLIT(&quot;abcd&quot; , 3))</strong> returns <strong>2</strong>, because the <strong>SPLIT</strong> function creates a list that consists of two records.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-488">LISTOFFIELDS（路径）</span><span class="sxs-lookup"><span data-stu-id="60f1a-488">LISTOFFIELDS (path)</span></span></td>
<td><span data-ttu-id="60f1a-489">返回从以下其中一种类型的参数创建的记录列表：</span><span class="sxs-lookup"><span data-stu-id="60f1a-489">Return a record list that is created from an argument of one of the following types:</span></span>
<ul>
<li><span data-ttu-id="60f1a-490">模型枚举</span><span class="sxs-lookup"><span data-stu-id="60f1a-490">Model enumeration</span></span></li>
<li><span data-ttu-id="60f1a-491">格式枚举</span><span class="sxs-lookup"><span data-stu-id="60f1a-491">Format enumeration</span></span></li>
<li><span data-ttu-id="60f1a-492">集装箱</span><span class="sxs-lookup"><span data-stu-id="60f1a-492">Container</span></span></li>
</ul>
<p><span data-ttu-id="60f1a-493">创建的列表由具有以下字段的记录组成：</span><span class="sxs-lookup"><span data-stu-id="60f1a-493">The list that is created consists of records that have the following fields:</span></span></p>
<ul>
<li><span data-ttu-id="60f1a-494">姓名</span><span class="sxs-lookup"><span data-stu-id="60f1a-494">Name</span></span></li>
<li><span data-ttu-id="60f1a-495">标签</span><span class="sxs-lookup"><span data-stu-id="60f1a-495">Label</span></span></li>
<li><span data-ttu-id="60f1a-496">说明</span><span class="sxs-lookup"><span data-stu-id="60f1a-496">Description</span></span></li>
</ul>
<span data-ttu-id="60f1a-497">运行时，<strong>标签</strong>和<strong>说明</strong>字段将返回基于格式的语言设置的值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-497">At runtime, the <strong>Label</strong> and <strong>Description</strong> fields return values that are based on the format's language settings.</span></span>
</td>
<td><span data-ttu-id="60f1a-498">在下图中，数据模型中引入了枚举。</span><span class="sxs-lookup"><span data-stu-id="60f1a-498">In the following illustration, an enumeration is introduced in a data model.</span></span>
<p><a href="./media/ger-listoffields-function-model-enumeration.png"><img src="./media/ger-listoffields-function-model-enumeration-e1474545790761.png" alt="Enumeration in a model" class="alignnone wp-image-1203943 size-full" width="514" height="155" /></a></p>
<p><span data-ttu-id="60f1a-499">下图显示以下详细信息：</span><span class="sxs-lookup"><span data-stu-id="60f1a-499">The following illustration shows these details:</span></span></p>
<ul>
<li><span data-ttu-id="60f1a-500">模型枚举作为数据源插入了报表中。</span><span class="sxs-lookup"><span data-stu-id="60f1a-500">The model enumeration is inserted into a report as a data source.</span></span></li>
<li><span data-ttu-id="60f1a-501">ER 表达式将模型枚举用作 <strong>LISTOFFIELDS</strong> 函数的参数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-501">An ER expression uses the model enumeration as a parameter of the <strong>LISTOFFIELDS</strong> function.</span></span></li>
<li><span data-ttu-id="60f1a-502">使用创建的 ER 表达式将记录列表类型的数据源插入了报表中。</span><span class="sxs-lookup"><span data-stu-id="60f1a-502">A data source of the record list type is inserted into a report by using the ER expression that is created.</span></span></li>
</ul>
<p><a href="./media/ger-listoffields-function-in-format-expression.png"><img src="./media/ger-listoffields-function-in-format-expression-e1474546110395.png" alt="Format" class="alignnone wp-image-1204033 size-full" width="549" height="318" /></a></p>
<p><span data-ttu-id="60f1a-503">以下示例显示绑定到使用 <strong>LISTOFFIELDS</strong> 函数创建的记录列表类型数据源的 ER 格式元素。</span><span class="sxs-lookup"><span data-stu-id="60f1a-503">The following example shows the ER format elements that are bound to the data source of the record list type that was created by using the <strong>LISTOFFIELDS</strong> function.</span></span></p>
<p><a href="./media/ger-listoffields-function-format-design.png"><img src="./media/ger-listoffields-function-format-design.png" alt="Format design" class="alignnone size-full wp-image-1204043" width="466" height="221" /></a></p>
<p><span data-ttu-id="60f1a-504">下图显示运行设计的格式的结果。</span><span class="sxs-lookup"><span data-stu-id="60f1a-504">The following illustration shows the result when the designed format is run.</span></span></p>
<p><a href="./media/ger-listoffields-function-format-output.png"><img src="./media/ger-listoffields-function-format-output.png" alt="Format output" class="alignnone size-full wp-image-1204053" width="585" height="158" /></a></p>
<blockquote>[!NOTE] <span data-ttu-id="60f1a-505">根据父 FILE 和 FOLDER 格式元素的语言设置，在 ER 格式的输出中输入了经过翻译的标签和说明文本。</span><span class="sxs-lookup"><span data-stu-id="60f1a-505">Based on the language settings of the parent FILE and FOLDER format elements, translated text for labels and descriptions is entered in the output of the ER format.</span></span></blockquote>
</td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-506">LISTOFFIELDS (path, language)</span><span class="sxs-lookup"><span data-stu-id="60f1a-506">LISTOFFIELDS (path, language)</span></span></td>
<td><span data-ttu-id="60f1a-507">返回从变量（如模型枚举、格式枚举或容器）创建的记录列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-507">Return a record list that is created from an argument, such as a model enumeration, a format enumeration, or a container.</span></span> <span data-ttu-id="60f1a-508">创建的列表由具有以下字段的记录组成：</span><span class="sxs-lookup"><span data-stu-id="60f1a-508">The list that is created consists of records that have the following fields:</span></span>
<ul>
<li><span data-ttu-id="60f1a-509">姓名</span><span class="sxs-lookup"><span data-stu-id="60f1a-509">Name</span></span></li>
<li><span data-ttu-id="60f1a-510">标签</span><span class="sxs-lookup"><span data-stu-id="60f1a-510">Label</span></span></li>
<li><span data-ttu-id="60f1a-511">说明</span><span class="sxs-lookup"><span data-stu-id="60f1a-511">Description</span></span></li>
<li><span data-ttu-id="60f1a-512">已翻译</span><span class="sxs-lookup"><span data-stu-id="60f1a-512">Is translated</span></span></li>
</ul>
<span data-ttu-id="60f1a-513">运行时，<strong>标签</strong>和<strong>说明</strong>字段将返回基于格式的语言设置和指定语言的值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-513">At runtime, the <strong>Label</strong> and <strong>Description</strong> fields return values that are based on the format's language settings and the specified language.</span></span> <span data-ttu-id="60f1a-514"><strong>已翻译</strong>字段指示<strong>标签</strong>字段已翻译为指定语言。</span><span class="sxs-lookup"><span data-stu-id="60f1a-514">The <strong>Is translated</strong> field indicates that the <strong>Label</strong> field has been translated into the specified language.</span></span>
</td>
<td><span data-ttu-id="60f1a-515">例如，使用<strong>计算字段</strong>数据源类型为 <strong>enumType</strong> 数据模型枚举配置 <strong>enumType_de</strong> 和 <strong>enumType_deCH</strong> 数据源。</span><span class="sxs-lookup"><span data-stu-id="60f1a-515">For example, you use the <strong>Calculated field</strong> data source type to configure the <strong>enumType_de</strong> and <strong>enumType_deCH</strong> data sources for the <strong>enumType</strong> data model enumeration.</span></span>
<ul>
<li><span data-ttu-id="60f1a-516">enumType_de = <strong>LISTOFFIELDS</strong> (enumType, &quot;de&quot;)</span><span class="sxs-lookup"><span data-stu-id="60f1a-516">enumType_de = <strong>LISTOFFIELDS</strong> (enumType, &quot;de&quot;)</span></span></li>
<li><span data-ttu-id="60f1a-517">enumType_deCH = <strong>LISTOFFIELDS</strong> (enumType, &quot;de-CH&quot;)</span><span class="sxs-lookup"><span data-stu-id="60f1a-517">enumType_deCH = <strong>LISTOFFIELDS</strong> (enumType, &quot;de-CH&quot;)</span></span></li>
</ul>
<p><span data-ttu-id="60f1a-518">在此情况下，可使用以下表达式获取瑞士德语（如果此翻译可用）的枚举值标签。</span><span class="sxs-lookup"><span data-stu-id="60f1a-518">In this case, you can use the following expression to get the label of the enumeration value in Swiss German, if this translation is available.</span></span> <span data-ttu-id="60f1a-519">如果瑞士德语翻译不可用，标签将为德语。</span><span class="sxs-lookup"><span data-stu-id="60f1a-519">If the Swiss German translation isn't available, the label is in German.</span></span></p>
<span data-ttu-id="60f1a-520">IF (NOT (enumType_deCH.IsTranslated), enumType_de.Label, enumType_deCH.Label)</span><span class="sxs-lookup"><span data-stu-id="60f1a-520">IF (NOT (enumType_deCH.IsTranslated), enumType_de.Label, enumType_deCH.Label)</span></span>
</td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-521">STRINGJOIN（列表、字段名称，分隔符）</span><span class="sxs-lookup"><span data-stu-id="60f1a-521">STRINGJOIN (list, field name, delimiter)</span></span></td>
<td><span data-ttu-id="60f1a-522">返回由指定列表中的指定字段的连接值组成的字符串。</span><span class="sxs-lookup"><span data-stu-id="60f1a-522">Return a string that consists of concatenated values of the specified field from the specified list.</span></span> <span data-ttu-id="60f1a-523">这些值通过指定分隔符分隔。</span><span class="sxs-lookup"><span data-stu-id="60f1a-523">The values are separated by the specified delimiter.</span></span></td>
<td><span data-ttu-id="60f1a-524">如果输入 <strong>SPLIT(&quot;abc&quot; , 1)</strong> 作为数据源 (DS)，则 <strong>STRINGJOIN (DS, DS.Value, &quot;-&quot;)</strong> 返回 <strong>&quot;a-b-c&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-524">If you enter <strong>SPLIT(&quot;abc&quot; , 1)</strong> as a data source (DS), <strong>STRINGJOIN (DS, DS.Value, &quot;-&quot;)</strong> returns <strong>&quot;a-b-c&quot;</strong>.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-525">SPLITLISTBYLIMIT（列表、限值，源限制）</span><span class="sxs-lookup"><span data-stu-id="60f1a-525">SPLITLISTBYLIMIT (list, limit value, limit source)</span></span></td>
<td><span data-ttu-id="60f1a-526">将指定列表拆分为子列表组成的新列表，并返回记录列表内容的结果。</span><span class="sxs-lookup"><span data-stu-id="60f1a-526">Split the specified list into a new list of sub-lists, and return the result in record list content.</span></span> <span data-ttu-id="60f1a-527"><strong>限值</strong>参数定义拆分原始列表的限值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-527">The <strong>limit value</strong> parameter defines the value of the limit for splitting the original list.</span></span> <span data-ttu-id="60f1a-528"><strong>限制源</strong>参数定义增加总和的步骤。</span><span class="sxs-lookup"><span data-stu-id="60f1a-528">The <strong>limit source</strong> parameter defines the step that the total sum is increased on.</span></span> <span data-ttu-id="60f1a-529">如果限值源超过定义的限值时，限值不适用于原始列表的单个项目。</span><span class="sxs-lookup"><span data-stu-id="60f1a-529">The limit isn't applied to a single item of the original list if the limit source exceeds the defined limit.</span></span></td>
<td><span data-ttu-id="60f1a-530">下图显示一个格式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-530">The following illustration shows a format.</span></span> 
<p><a href="./media/ger-splitlistbylimit-format.png"><img src="./media/ger-splitlistbylimit-format.png" alt="Format" class="alignnone size-full wp-image-1204063" width="396" height="195" /></a></p>
<p><span data-ttu-id="60f1a-531">下图显示用于该格式的数据源。</span><span class="sxs-lookup"><span data-stu-id="60f1a-531">The following illustration shows the data sources that are used for the format.</span></span></p>
<p><a href="./media/ger-splitlistbylimit-datasources.png"><img src="./media/ger-splitlistbylimit-datasources.png" alt="Data sources" class="alignnone size-full wp-image-1204073" width="320" height="208" /></a></p>
<p><span data-ttu-id="60f1a-532">下图显示运行该格式的结果。</span><span class="sxs-lookup"><span data-stu-id="60f1a-532">The following illustration shows the result when the format is run.</span></span> <span data-ttu-id="60f1a-533">在此情况下，输出为商品项目的简单列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-533">In this case, the output is a flat list of commodity items.</span></span></p>
<p><a href="./media/ger-splitlistbylimit-output.png"><img src="./media/ger-splitlistbylimit-output.png" alt="Output" class="alignnone size-full wp-image-1204083" width="462" height="204" /></a></p>
<p><span data-ttu-id="60f1a-534">在以下图中，调整了同一个格式，以显示单个批次必须包括总重量不应超过限值 9 的商品的批次中的商品物料的列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-534">In the following illustrations, the same format has been adjusted so that it presents the list of commodity items in batches when a single batch must include commodities and the total weight should not exceed the limit of 9.</span></span></p>
<p><a href="./media/ger-splitlistbylimit-format-1.png"><img src="./media/ger-splitlistbylimit-format-1.png" alt="Adjusted format" class="alignnone size-full wp-image-1204103" width="466" height="438" /></a></p>
<p><a href="./media/ger-splitlistbylimit-datasources-1.png"><img src="./media/ger-splitlistbylimit-datasources-1.png" alt="Data sources for the adjusted format" class="alignnone size-full wp-image-1204093" width="645" height="507" /></a></p>
<p><span data-ttu-id="60f1a-535">下图显示运行调整后的格式的结果。</span><span class="sxs-lookup"><span data-stu-id="60f1a-535">The following illustration shows the result when the adjusted format is run.</span></span></p>
<p><a href="./media/ger-splitlistbylimit-output-1.png"><img src="./media/ger-splitlistbylimit-output-1.png" alt="Output of the adjusted format" class="alignnone size-full wp-image-1204113" width="676" height="611" /></a></p>
<blockquote>[!NOTE] <span data-ttu-id="60f1a-536">此限值不适用于原始列表的最后一个物料，因为其限值源（重量）的值 (11) 超出定义的限值 (9)。</span><span class="sxs-lookup"><span data-stu-id="60f1a-536">The limit isn't applied to the last item of the original list, because the value (11) of the limit source (weight) exceeds the defined limit (9).</span></span> <span data-ttu-id="60f1a-537">在报表生成过程中（如有必要）使用相应格式元素的 <strong>WHERE</strong> 函数或 <strong>Enabled</strong> 表达式忽略（跳过）子列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-537">Use either the <strong>WHERE</strong> function or the <strong>Enabled</strong> expression of the corresponding format element to ignore (skip) sub-lists during report generation, as required.</span></span></blockquote>
</td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-538">FILTER（列表，条件）</span><span class="sxs-lookup"><span data-stu-id="60f1a-538">FILTER (list, condition)</span></span></td>
<td><span data-ttu-id="60f1a-539">已修改查询以针对指定条件进行筛选后，返回指定列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-539">Return the specified list after the query has been modified to filter for the specified condition.</span></span> <span data-ttu-id="60f1a-540">此函数与 <strong>WHERE</strong> 函数，因为指定条件适用于数据库级别的<strong>表格记录</strong>类型的任何 ER 数据源。</span><span class="sxs-lookup"><span data-stu-id="60f1a-540">This function differs from the <strong>WHERE</strong> function, because the specified condition is applied to any ER data source of the <strong>Table records</strong> type at the database level.</span></span> <span data-ttu-id="60f1a-541">可使用表格和关系定义列表和条件。</span><span class="sxs-lookup"><span data-stu-id="60f1a-541">The list and condition can be defined by using tables and relations.</span></span></td>
<td><span data-ttu-id="60f1a-542">如果<strong>供应商</strong>配置为引用 VendTable 表的 ER 数据源，<strong>FILTER (Vendors, Vendors.VendGroup = &quot;40&quot;)</strong> 返回仅包含属于供应商组 40 的供应商的列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-542">If <strong>Vendor</strong> is configured as an ER data source that refers to the VendTable table, <strong>FILTER (Vendors, Vendors.VendGroup = &quot;40&quot;)</strong> returns a list of just the vendors that belong to vendor group 40.</span></span> <span data-ttu-id="60f1a-543">如果<strong>供应商</strong>配置为引用 VendTable 表的 ER 数据源，并且配置为 ER 数据源的 <strong>parmVendorBankGroup</strong> 返回<strong>字符串</strong>数据类型的值，则 <strong>FILTER (Vendor.'&lt;Relations'.VendBankAccount, Vendor.'&lt;Relations'.VendBankAccount.BankGroupID = parmVendorBankGroup)</strong> 返回仅包含属于特定空白组的供应商帐户的列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-543">If <strong>Vendor</strong> is configured as an ER data source that refers to the VendTable table, and if <strong>parmVendorBankGroup</strong> is configured as an ER data source that returns a value of the <strong>String</strong> data type, <strong>FILTER (Vendor.'&lt;Relations'.VendBankAccount, Vendor.'&lt;Relations'.VendBankAccount.BankGroupID = parmVendorBankGroup)</strong> returns a list of just the vendor accounts that belong to a specific bank group.</span></span></td>
</tr>
</tbody>
</table>

### <a name="logical-functions"></a><span data-ttu-id="60f1a-544">逻辑函数</span><span class="sxs-lookup"><span data-stu-id="60f1a-544">Logical functions</span></span>

| <span data-ttu-id="60f1a-545">职能</span><span class="sxs-lookup"><span data-stu-id="60f1a-545">Function</span></span> | <span data-ttu-id="60f1a-546">说明</span><span class="sxs-lookup"><span data-stu-id="60f1a-546">Description</span></span> | <span data-ttu-id="60f1a-547">示例</span><span class="sxs-lookup"><span data-stu-id="60f1a-547">Example</span></span> |
|----------|-------------|---------|
| <span data-ttu-id="60f1a-548">CASE（表达式，选项 1，结果 1 \[，选项 2，结果 2\] ...</span><span class="sxs-lookup"><span data-stu-id="60f1a-548">CASE (expression, option 1, result 1 \[, option 2, result 2\] …</span></span> <span data-ttu-id="60f1a-549">\[, 默认结果\]）</span><span class="sxs-lookup"><span data-stu-id="60f1a-549">\[, default result\])</span></span> | <span data-ttu-id="60f1a-550">根据指定的备选选项评估指定的表达式值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-550">Evaluate the specified expression value against the specified alternative options.</span></span> <span data-ttu-id="60f1a-551">返回与表达式的值相等的选项的结果。</span><span class="sxs-lookup"><span data-stu-id="60f1a-551">Return the result of the option that equals the value of the expression.</span></span> <span data-ttu-id="60f1a-552">否则，返回可选默认结果（如果指定了默认结果）。</span><span class="sxs-lookup"><span data-stu-id="60f1a-552">Otherwise, return the optional default result, if a default result is specified.</span></span> <span data-ttu-id="60f1a-553">（默认结果是前面不加选项的最后一个参数。）</span><span class="sxs-lookup"><span data-stu-id="60f1a-553">(The default result is the last parameter that isn't preceded by an option.)</span></span> | <span data-ttu-id="60f1a-554">当当前的 Finance and Operations 会话日期是在 10 月和 12 月之间时，**CASE( DATETIMEFORMAT( NOW(), "MM"), "10", "WINTER", "11", "WINTER", "12", "WINTER", "")** 返回字符串 **"WINTER"**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-554">**CASE( DATETIMEFORMAT( NOW(), "MM"), "10", "WINTER", "11", "WINTER", "12", "WINTER", "")** returns the string **"WINTER"** when the current Finance and Operations session date is between October and December.</span></span> <span data-ttu-id="60f1a-555">否则，它返回一个空字符串。</span><span class="sxs-lookup"><span data-stu-id="60f1a-555">Otherwise, it returns a blank string.</span></span> |
| <span data-ttu-id="60f1a-556">IF（条件，值 1，值 2）</span><span class="sxs-lookup"><span data-stu-id="60f1a-556">IF (condition, value 1, value 2)</span></span> | <span data-ttu-id="60f1a-557">在满足指定条件时，返回第一个指定值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-557">Return the first specified value when the specified condition is met.</span></span> <span data-ttu-id="60f1a-558">否则，返回第二个指定值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-558">Otherwise, return the second specified value.</span></span> <span data-ttu-id="60f1a-559">如果值 1 和值 2 是记录或记录列表，结果将只包含两个列表都存在的字段。</span><span class="sxs-lookup"><span data-stu-id="60f1a-559">If value 1 and value 2 are records or record lists, the result has only the fields that exist in both lists.</span></span> | <span data-ttu-id="60f1a-560">**IF (1=2, "condition is met", "condition is not met")** 返回字符串 **"condition is not met"**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-560">**IF (1=2, "condition is met", "condition is not met")** returns the string **"condition is not met"**.</span></span> |
| <span data-ttu-id="60f1a-561">NOT（条件）</span><span class="sxs-lookup"><span data-stu-id="60f1a-561">NOT (condition)</span></span> | <span data-ttu-id="60f1a-562">返回指定条件的冲销逻辑值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-562">Return the reversed logical value of the specified condition.</span></span> | <span data-ttu-id="60f1a-563">**NOT (TRUE)** 返回 **FALSE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-563">**NOT (TRUE)** returns **FALSE**.</span></span> |
| <span data-ttu-id="60f1a-564">AND (condition 1\[, condition 2, …\])</span><span class="sxs-lookup"><span data-stu-id="60f1a-564">AND (condition 1\[, condition 2, …\])</span></span> | <span data-ttu-id="60f1a-565">如果指定的*所有*条件均为 True，返回 **TRUE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-565">Return **TRUE** if *all* specified conditions are true.</span></span> <span data-ttu-id="60f1a-566">否则，返回 **FALSE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-566">Otherwise, return **FALSE**.</span></span> | <span data-ttu-id="60f1a-567">**AND (1=1, "a"="a")** 返回 **TRUE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-567">**AND (1=1, "a"="a")** returns **TRUE**.</span></span> <span data-ttu-id="60f1a-568">**AND (1=2, "a"="a")** 返回 **FALSE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-568">**AND (1=2, "a"="a")** returns **FALSE**.</span></span> |
| <span data-ttu-id="60f1a-569">OR (condition 1\[, condition 2, …\])</span><span class="sxs-lookup"><span data-stu-id="60f1a-569">OR (condition 1\[, condition 2, …\])</span></span> | <span data-ttu-id="60f1a-570">如果指定的*所有*条件均为 False，返回 **FALSE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-570">Return **FALSE** if *all* specified conditions are false.</span></span> <span data-ttu-id="60f1a-571">如果指定的*任何*条件均为 True，返回 **TRUE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-571">Return **TRUE** if *any* specified condition is true.</span></span> | <span data-ttu-id="60f1a-572">**OR (1=2, "a"="a")** 返回 **TRUE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-572">**OR (1=2, "a"="a")** returns **TRUE**.</span></span> |
| <span data-ttu-id="60f1a-573">VALUEIN（输入、列表、列表项表达式）</span><span class="sxs-lookup"><span data-stu-id="60f1a-573">VALUEIN (input, list, list item expression)</span></span> | <span data-ttu-id="60f1a-574">确定指定的输入是否匹配指定列表中任何项目的值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-574">Determine whether the specified input matches any value of an item in the specified list.</span></span> <span data-ttu-id="60f1a-575">如果指定的输入与运行至少一个记录的指定表达式的结果匹配，则返回 **TRUE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-575">Return **TRUE** if the specified input matches the result of running the specified expression for at least one record.</span></span> <span data-ttu-id="60f1a-576">否则，返回 **FALSE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-576">Otherwise, return **FALSE**.</span></span> <span data-ttu-id="60f1a-577">**输入**参数表示数据源元素的路径。</span><span class="sxs-lookup"><span data-stu-id="60f1a-577">The **input** parameter represents the path of a data source element.</span></span> <span data-ttu-id="60f1a-578">将匹配此元素的值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-578">The value of this element will be matched.</span></span> <span data-ttu-id="60f1a-579">**列表**参数将记录列表类型的数据源元素的路径表示为包含表达式的记录的列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-579">The **list** parameter represents the path of a data source element of the record list type as a list of records that contains an expression.</span></span> <span data-ttu-id="60f1a-580">此元素的值将与指定输入比较。</span><span class="sxs-lookup"><span data-stu-id="60f1a-580">The value of this element will be compared with the specified input.</span></span> <span data-ttu-id="60f1a-581">**列表项表达式**参数表示指向或包含应用于匹配的指定列表的一个字段的表达式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-581">The **list item expression** argument represents an expression that either points to or contains a single field of the specified list that should be used for the matching.</span></span> | <span data-ttu-id="60f1a-582">有关示例，请参阅随后的[示例：VALUEIN（输入、列表、列表项表达式）](#examples-valuein-input-list-list-item-expression)部分。</span><span class="sxs-lookup"><span data-stu-id="60f1a-582">For examples, see the [Examples: VALUEIN (input, list, list item expression)](#examples-valuein-input-list-list-item-expression) section that follows.</span></span> |

#### <a name="examples-valuein-input-list-list-item-expression"></a><span data-ttu-id="60f1a-583">示例：VALUEIN（输入、列表、列表项表达式）</span><span class="sxs-lookup"><span data-stu-id="60f1a-583">Examples: VALUEIN (input, list, list item expression)</span></span>
<span data-ttu-id="60f1a-584">一般来说，**VALUEIN** 函数转换为一组 **OR** 条件：</span><span class="sxs-lookup"><span data-stu-id="60f1a-584">In general, the **VALUEIN** function is translated to a set of **OR** conditions:</span></span>

<span data-ttu-id="60f1a-585">(input = list.item1.value) OR (input = list.item2.value) OR …</span><span class="sxs-lookup"><span data-stu-id="60f1a-585">(input = list.item1.value) OR (input = list.item2.value) OR …</span></span>

##### <a name="example-1"></a><span data-ttu-id="60f1a-586">示例 1</span><span class="sxs-lookup"><span data-stu-id="60f1a-586">Example 1</span></span>
<span data-ttu-id="60f1a-587">您在模型映射中定义以下数据源：**列表**（**计算字段**类型）。</span><span class="sxs-lookup"><span data-stu-id="60f1a-587">You define the following data source in your model mapping: **List** (**Calculated field** type).</span></span> <span data-ttu-id="60f1a-588">此数据源包含表达式 **SPLIT ("a,b,c", ",")**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-588">This data source contains the expression **SPLIT ("a,b,c", ",")**.</span></span>

<span data-ttu-id="60f1a-589">在调用配置为 **VALUEIN ("B", List, List.Value)** 表达式的数据源时，它将返回 **TRUE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-589">When a data source is called that is configured as the **VALUEIN ("B", List, List.Value)** expression, it returns **TRUE**.</span></span> <span data-ttu-id="60f1a-590">在这种情况下，**VALUEIN** 函数转换为以下一组条件：</span><span class="sxs-lookup"><span data-stu-id="60f1a-590">In this case, the **VALUEIN** function is translated to the following set of conditions:</span></span>

<span data-ttu-id="60f1a-591">**(("B" = "a") or ("B" = "b") or ("B" = "c"))**, where **("B" = "b")** is equal to **TRUE**</span><span class="sxs-lookup"><span data-stu-id="60f1a-591">**(("B" = "a") or ("B" = "b") or ("B" = "c"))**, where **("B" = "b")** is equal to **TRUE**</span></span>

<span data-ttu-id="60f1a-592">在调用配置为 **VALUEIN ("B", List, LEFT(List.Value, 0))** 表达式的数据源时，它将返回 **FALSE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-592">When a data source is called that is configured as the **VALUEIN ("B", List, LEFT(List.Value, 0))** expression, it returns **FALSE**.</span></span> <span data-ttu-id="60f1a-593">在这种情况下，**VALUEIN** 函数转换为以下条件：</span><span class="sxs-lookup"><span data-stu-id="60f1a-593">In this case, the **VALUEIN** function is translated to the following condition:</span></span>

<span data-ttu-id="60f1a-594">**("B" = "")**, which isn't equal to **TRUE**</span><span class="sxs-lookup"><span data-stu-id="60f1a-594">**("B" = "")**, which isn't equal to **TRUE**</span></span>

<span data-ttu-id="60f1a-595">请注意，此条件的文本中的字符数的上限为 32,768 个字符。</span><span class="sxs-lookup"><span data-stu-id="60f1a-595">Note that the upper limit for the number of characters in the text of such a condition is 32,768 characters.</span></span> <span data-ttu-id="60f1a-596">因此，您不应该在运行时创建可能超出此限制的数据源。</span><span class="sxs-lookup"><span data-stu-id="60f1a-596">Therefore, you should not create data sources that might exceed this limit at runtime.</span></span> <span data-ttu-id="60f1a-597">如果超出限制，应用程序将停止运行，并将引发异常。</span><span class="sxs-lookup"><span data-stu-id="60f1a-597">If the limit is exceeded, the application will stop running, and an exception will be thrown.</span></span> <span data-ttu-id="60f1a-598">例如，如果数据源被配置为 **WHERE (List1, VALUEIN (List1.ID, List2, List2.ID)**，并且 **List1** 和 **List2** 列表包含大量记录，将发生此情况。</span><span class="sxs-lookup"><span data-stu-id="60f1a-598">For example, this situation can occur if the data source is configured as **WHERE (List1, VALUEIN (List1.ID, List2, List2.ID)**, and the **List1** and **List2** lists contain a large volume of records.</span></span>

<span data-ttu-id="60f1a-599">在某些情况下，**VALUEIN** 函数通过使用 **EXISTS JOIN** 运算符转换为数据库语句。</span><span class="sxs-lookup"><span data-stu-id="60f1a-599">In some cases, the **VALUEIN** function is translated to a database statement by using the **EXISTS JOIN** operator.</span></span> <span data-ttu-id="60f1a-600">此行为会在使用 **FILTER** 函数并且当满足以下条件时发生：</span><span class="sxs-lookup"><span data-stu-id="60f1a-600">This behavior occurs when the **FILTER** function is used and the following conditions are met:</span></span>

- <span data-ttu-id="60f1a-601">**ASK FOR QUERY** 选项将对引用记录列表的 **VALUEIN** 函数的数据源关闭。</span><span class="sxs-lookup"><span data-stu-id="60f1a-601">The **ASK FOR QUERY** option is turned off for the data source of the **VALUEIN** function that refers to the list of records.</span></span> <span data-ttu-id="60f1a-602">（附加条件不会在运行时应用于此数据源。）</span><span class="sxs-lookup"><span data-stu-id="60f1a-602">(No additional conditions will be applied to this data source at runtime.)</span></span>
- <span data-ttu-id="60f1a-603">不会为引用记录列表的 **VALUEIN** 函数的数据源配置嵌套表达式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-603">No nested expressions are configured for the data source of the **VALUEIN** function that refers to the list of records.</span></span>
- <span data-ttu-id="60f1a-604">**VALUEIN** 函数的列表项引用指定数据源的字段（不是表达式或方法）。</span><span class="sxs-lookup"><span data-stu-id="60f1a-604">A list item of the **VALUEIN** function refers to a field (not an expression or a method) of the specified data source.</span></span>

<span data-ttu-id="60f1a-605">请考虑使用此选项而不是 **WHERE** 函数，如本示例前面所述。</span><span class="sxs-lookup"><span data-stu-id="60f1a-605">Consider using this option instead of the **WHERE** function as described earlier in this example.</span></span>

##### <a name="example-2"></a><span data-ttu-id="60f1a-606">示例 2</span><span class="sxs-lookup"><span data-stu-id="60f1a-606">Example 2</span></span>

<span data-ttu-id="60f1a-607">在模型映射中定义以下数据源：</span><span class="sxs-lookup"><span data-stu-id="60f1a-607">You define the following data sources in your model mapping:</span></span>

- <span data-ttu-id="60f1a-608">**In**（**表记录**类型），引用的是 Intrastat 表</span><span class="sxs-lookup"><span data-stu-id="60f1a-608">**In** (**Table records** type), which refers to the Intrastat table</span></span>
- <span data-ttu-id="60f1a-609">**Port**（**表记录**类型），引用的是 IntrastatPort 表</span><span class="sxs-lookup"><span data-stu-id="60f1a-609">**Port** (**Table records** type), which refers to the IntrastatPort table</span></span>

<span data-ttu-id="60f1a-610">在调用配置为 **FILTER (In, VALUEIN(In.Port, Port, Port.PortId)** 表达式的数据源时，以下 SQL 语句将生成以返回筛选的内部统计表记录：</span><span class="sxs-lookup"><span data-stu-id="60f1a-610">When a data source is called that is configured as the **FILTER (In, VALUEIN(In.Port, Port, Port.PortId)** expression, the following SQL statement is generated to return filtered records of the Intrastat table:</span></span>

```
select … from Intrastat
exists join TableId from IntrastatPort
where IntrastatPort.PortId = Intrastat.Port
```

<span data-ttu-id="60f1a-611">对于 **dataAreaId** 字段，最后的 SQL 语句使用 **IN** 运算符生成。</span><span class="sxs-lookup"><span data-stu-id="60f1a-611">For **dataAreaId** fields, the final SQL statement is generated by the using **IN** operator.</span></span>

##### <a name="example-3"></a><span data-ttu-id="60f1a-612">示例 3</span><span class="sxs-lookup"><span data-stu-id="60f1a-612">Example 3</span></span>

<span data-ttu-id="60f1a-613">在模型映射中定义以下数据源：</span><span class="sxs-lookup"><span data-stu-id="60f1a-613">You define the following data sources in your model mapping:</span></span>

- <span data-ttu-id="60f1a-614">**Le**（**计算字段**类型），包含表达式 **SPLIT ("DEMF,GBSI,USMF", ",")**</span><span class="sxs-lookup"><span data-stu-id="60f1a-614">**Le** (**Calculated field** type), which contains the expression **SPLIT ("DEMF,GBSI,USMF", ",")**</span></span>
- <span data-ttu-id="60f1a-615">**In**（**表记录**类型），引用内部统计表，其**跨公司**选项打开</span><span class="sxs-lookup"><span data-stu-id="60f1a-615">**In** (**Table records** type), which refers to the Intrastat table and for which the **Cross-company** option is turned on</span></span>

<span data-ttu-id="60f1a-616">在调用配置为 **FILTER (In, VALUEIN (In.dataAreaId, Le, Le.Value)** 表达式的数据源时，最后的 SQL 语句包含以下条件：</span><span class="sxs-lookup"><span data-stu-id="60f1a-616">When a data source is called that is configured as the **FILTER (In, VALUEIN (In.dataAreaId, Le, Le.Value)** expression, the final SQL statement contains the following condition:</span></span>

```
Intrastat.dataAreaId IN ('DEMF', 'GBSI', 'USMF')
```

### <a name="mathematical-functions"></a><span data-ttu-id="60f1a-617">数学函数</span><span class="sxs-lookup"><span data-stu-id="60f1a-617">Mathematical functions</span></span>

| <span data-ttu-id="60f1a-618">职能</span><span class="sxs-lookup"><span data-stu-id="60f1a-618">Function</span></span> | <span data-ttu-id="60f1a-619">说明</span><span class="sxs-lookup"><span data-stu-id="60f1a-619">Description</span></span> | <span data-ttu-id="60f1a-620">示例</span><span class="sxs-lookup"><span data-stu-id="60f1a-620">Example</span></span> |
|----------|-------------|---------|
| <span data-ttu-id="60f1a-621">ABS（数字）</span><span class="sxs-lookup"><span data-stu-id="60f1a-621">ABS (number)</span></span> | <span data-ttu-id="60f1a-622">返回指定数字的绝对值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-622">Return the absolute value of the specified number.</span></span> <span data-ttu-id="60f1a-623">（即，返回不带符号的数字。）</span><span class="sxs-lookup"><span data-stu-id="60f1a-623">(In other words, return the number without its sign.)</span></span> | <span data-ttu-id="60f1a-624">**ABS (-1)** 返回 **1**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-624">**ABS (-1)** returns **1**.</span></span> |
| <span data-ttu-id="60f1a-625">POWER（数字，功率）</span><span class="sxs-lookup"><span data-stu-id="60f1a-625">POWER (number, power)</span></span> | <span data-ttu-id="60f1a-626">返回将指定的正数增加到指定的功率的结果。</span><span class="sxs-lookup"><span data-stu-id="60f1a-626">Return the result of raising the specified positive number to the specified power.</span></span> | <span data-ttu-id="60f1a-627">**POWER (10, 2)** 返回 **100**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-627">**POWER (10, 2)** returns **100**.</span></span> |
| <span data-ttu-id="60f1a-628">NUMBERVALUE（字符串，小数分隔符，数字分组分隔符）</span><span class="sxs-lookup"><span data-stu-id="60f1a-628">NUMBERVALUE (string, decimal separator, digit grouping separator)</span></span> | <span data-ttu-id="60f1a-629">将指定的字符串转换为数字。</span><span class="sxs-lookup"><span data-stu-id="60f1a-629">Convert the specified string to a number.</span></span> <span data-ttu-id="60f1a-630">将在十进制数字的整数和小数部分之间使用小数点分隔符。</span><span class="sxs-lookup"><span data-stu-id="60f1a-630">The specified decimal separator is used between the integer and fractional parts of a decimal number.</span></span> <span data-ttu-id="60f1a-631">指定的数字分组分隔符用作千分位分隔符。</span><span class="sxs-lookup"><span data-stu-id="60f1a-631">The specified digit grouping separator is used as the thousands separator.</span></span> | <span data-ttu-id="60f1a-632">**NUMBERVALUE("1 234,56", ",", " ")** 返回值 **1234.56**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-632">**NUMBERVALUE("1 234,56", ",", " ")** returns the value **1234.56**.</span></span> |
| <span data-ttu-id="60f1a-633">VALUE（字符串）</span><span class="sxs-lookup"><span data-stu-id="60f1a-633">VALUE (string)</span></span> | <span data-ttu-id="60f1a-634">将指定的字符串转换为数字。</span><span class="sxs-lookup"><span data-stu-id="60f1a-634">Convert the specified string to a number.</span></span> <span data-ttu-id="60f1a-635">逗号和点字符 (.) 被视为小数分隔符，前导连字符 (-) 用作负号。</span><span class="sxs-lookup"><span data-stu-id="60f1a-635">Commas and dot characters (.) are considered decimal separators, and a leading hyphen (-) is used as a negative sign.</span></span> <span data-ttu-id="60f1a-636">如果指定字符串中包含其他非数值字符，将引发异常。</span><span class="sxs-lookup"><span data-stu-id="60f1a-636">Throw an exception if the specified string contains other non-numeric characters.</span></span> | <span data-ttu-id="60f1a-637">**VALUE ("1 234,56")** 引发异常。</span><span class="sxs-lookup"><span data-stu-id="60f1a-637">**VALUE ("1 234,56")** throws an exception.</span></span> |
| <span data-ttu-id="60f1a-638">ROUND（数字，小数位）</span><span class="sxs-lookup"><span data-stu-id="60f1a-638">ROUND (number, decimals)</span></span> | <span data-ttu-id="60f1a-639">返回已舍入到指定小数位数的指定数字：</span><span class="sxs-lookup"><span data-stu-id="60f1a-639">Return the specified number after it has been rounded to the specified number of decimal places:</span></span><ul><li><span data-ttu-id="60f1a-640">如果**小数**参数的值大于 0（零），则指定的数值舍入到这个多位小数位数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-640">If the value of the **decimals** parameter is more than 0 (zero), the specified number is rounded to that many decimal places.</span></span></li><li><span data-ttu-id="60f1a-641">如果**小数**参数的值为 **0**（零），则指定的数值舍入到最近的整数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-641">If the value of the **decimals** parameter is **0** (zero), the specified number is rounded to the nearest integer.</span></span></li><li><span data-ttu-id="60f1a-642">如果**小数**参数的值小于 0（零），则指定的数值舍入到小数点左边。</span><span class="sxs-lookup"><span data-stu-id="60f1a-642">If the value of the **decimals** parameter is less than 0 (zero), the specified number is rounded to the left of the decimal point.</span></span></li></ul> | <span data-ttu-id="60f1a-643">**ROUND (1200.767, 2)** 舍入到两位小数，返回 **1200.77**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-643">**ROUND (1200.767, 2)** rounds to two decimal places and returns **1200.77**.</span></span> <span data-ttu-id="60f1a-644">**ROUND (1200.767, -3)** 舍入到最接近的 1,000 的倍数，返回 **1000**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-644">**ROUND (1200.767, -3)** rounds to the nearest multiple of 1,000 and returns **1000**.</span></span> |
| <span data-ttu-id="60f1a-645">ROUNDDOWN（数字，小数位）</span><span class="sxs-lookup"><span data-stu-id="60f1a-645">ROUNDDOWN (number, decimals)</span></span> | <span data-ttu-id="60f1a-646">返回已向下舍入到指定小数位数的指定数字。</span><span class="sxs-lookup"><span data-stu-id="60f1a-646">Return the specified number after it has been rounded down to the specified number of decimal places.</span></span><blockquote>[!NOTE] <span data-ttu-id="60f1a-647">此函数类似 **ROUND**，但始终向下（朝零）舍入到指定的数字。</span><span class="sxs-lookup"><span data-stu-id="60f1a-647">This function behaves like **ROUND**, but it always rounds the specified number down (toward zero).</span></span></blockquote> | <span data-ttu-id="60f1a-648">**ROUNDDOWN (1200.767, 2)** 向下舍入到两位小数，返回 **1200.76**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-648">**ROUNDDOWN (1200.767, 2)** rounds down to two decimal places and returns **1200.76**.</span></span> <span data-ttu-id="60f1a-649">**ROUNDDOWN (1700.767, -3)** 向下舍入到最接近的 1,000 的倍数，返回 **1000**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-649">**ROUNDDOWN (1700.767, -3)** rounds down to the nearest multiple of 1,000 and returns **1000**.</span></span> |
| <span data-ttu-id="60f1a-650">ROUNDUP（数字，小数位）</span><span class="sxs-lookup"><span data-stu-id="60f1a-650">ROUNDUP (number, decimals)</span></span> | <span data-ttu-id="60f1a-651">返回已向上舍入到指定小数位数的指定数字。</span><span class="sxs-lookup"><span data-stu-id="60f1a-651">Return the specified number after it has been rounded up to the specified number of decimal places.</span></span><blockquote>[!NOTE] <span data-ttu-id="60f1a-652">此函数类似 **ROUND**，但始终向上（不朝零）舍入到指定的数字。</span><span class="sxs-lookup"><span data-stu-id="60f1a-652">This function behaves like **ROUND**, but it always rounds the specified number up (away from zero).</span></span></blockquote> | <span data-ttu-id="60f1a-653">**ROUNDUP (1200.763, 2)** 向上舍入到两位小数，返回 **1200.77**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-653">**ROUNDUP (1200.763, 2)** rounds up to two decimal places and returns **1200.77**.</span></span> <span data-ttu-id="60f1a-654">**ROUNDUP (1200.767, -3)** 向上舍入到最接近的 1,000 的倍数，返回 **2000**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-654">**ROUNDUP (1200.767, -3)** rounds up to the nearest multiple of 1,000 and returns **2000**.</span></span> |

### <a name="data-conversion-functions"></a><span data-ttu-id="60f1a-655">数据转换函数</span><span class="sxs-lookup"><span data-stu-id="60f1a-655">Data conversion functions</span></span>

| <span data-ttu-id="60f1a-656">职能</span><span class="sxs-lookup"><span data-stu-id="60f1a-656">Function</span></span> | <span data-ttu-id="60f1a-657">说明</span><span class="sxs-lookup"><span data-stu-id="60f1a-657">Description</span></span> | <span data-ttu-id="60f1a-658">示例</span><span class="sxs-lookup"><span data-stu-id="60f1a-658">Example</span></span> |
|----------|-------------|---------|
| <span data-ttu-id="60f1a-659">VALUE（字符串）</span><span class="sxs-lookup"><span data-stu-id="60f1a-659">VALUE (string)</span></span> | <span data-ttu-id="60f1a-660">将指定的字符串转换为数字。</span><span class="sxs-lookup"><span data-stu-id="60f1a-660">Convert the specified string to a number.</span></span> <span data-ttu-id="60f1a-661">逗号和点字符 (.) 被视为小数分隔符，前导连字符 (-) 用作负号。</span><span class="sxs-lookup"><span data-stu-id="60f1a-661">Commas and dot characters (.) are considered decimal separators, and a leading hyphen (-) is used as a negative sign.</span></span> <span data-ttu-id="60f1a-662">如果指定字符串中包含其他非数值字符，将引发异常。</span><span class="sxs-lookup"><span data-stu-id="60f1a-662">Throw an exception if the specified string contains other non-numeric characters.</span></span> | <span data-ttu-id="60f1a-663">**VALUE ("1 234,56")** 引发异常。</span><span class="sxs-lookup"><span data-stu-id="60f1a-663">**VALUE ("1 234,56")** throws an exception.</span></span> |
| <span data-ttu-id="60f1a-664">NUMBERVALUE（字符串，小数分隔符，数字分组分隔符）</span><span class="sxs-lookup"><span data-stu-id="60f1a-664">NUMBERVALUE (string, decimal separator, digit grouping separator)</span></span> | <span data-ttu-id="60f1a-665">将指定的字符串转换为数字。</span><span class="sxs-lookup"><span data-stu-id="60f1a-665">Convert the specified string to a number.</span></span> <span data-ttu-id="60f1a-666">将在十进制数字的整数和小数部分之间使用小数点分隔符。</span><span class="sxs-lookup"><span data-stu-id="60f1a-666">The specified decimal separator is used between the integer and fractional parts of a decimal number.</span></span> <span data-ttu-id="60f1a-667">指定的数字分组分隔符用作千分位分隔符。</span><span class="sxs-lookup"><span data-stu-id="60f1a-667">The specified digit grouping separator is used as the thousands separator.</span></span> | <span data-ttu-id="60f1a-668">**NUMBERVALUE("1 234,56", ",", " ")** 返回 **1234.56**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-668">**NUMBERVALUE("1 234,56", ",", " ")** returns **1234.56**.</span></span> |
| <span data-ttu-id="60f1a-669">INTVALUE（字符串）</span><span class="sxs-lookup"><span data-stu-id="60f1a-669">INTVALUE (string)</span></span> | <span data-ttu-id="60f1a-670">返回指定字符串的整数表示形式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-670">Return an integer representation of the specified string.</span></span> <span data-ttu-id="60f1a-671">将截断所有小数部分。</span><span class="sxs-lookup"><span data-stu-id="60f1a-671">Any decimal places are truncated.</span></span> | <span data-ttu-id="60f1a-672">**INTVALUE ("100.77")** 返回 **100**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-672">**INTVALUE ("100.77")** returns **100**.</span></span> |
| <span data-ttu-id="60f1a-673">INTVALUE（编号）</span><span class="sxs-lookup"><span data-stu-id="60f1a-673">INTVALUE (number)</span></span> | <span data-ttu-id="60f1a-674">返回指定数字的整数表示形式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-674">Return an integer representation of the specified number.</span></span> <span data-ttu-id="60f1a-675">将截断所有小数部分。</span><span class="sxs-lookup"><span data-stu-id="60f1a-675">Any decimal places are truncated.</span></span> | <span data-ttu-id="60f1a-676">**INTVALUE (-100.77)** 返回 **-100**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-676">**INTVALUE (-100.77)** returns **-100**.</span></span> |
| <span data-ttu-id="60f1a-677">INT64VALUE（字符串）</span><span class="sxs-lookup"><span data-stu-id="60f1a-677">INT64VALUE (string)</span></span> | <span data-ttu-id="60f1a-678">返回指定字符串的 int64 表示形式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-678">Return an int64 representation of the specified string.</span></span> <span data-ttu-id="60f1a-679">将截断所有小数部分。</span><span class="sxs-lookup"><span data-stu-id="60f1a-679">Any decimal places are truncated.</span></span> | <span data-ttu-id="60f1a-680">**INT64VALUE ("22565422744")** 返回 **22565422744**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-680">**INT64VALUE ("22565422744")** returns **22565422744**.</span></span> |
| <span data-ttu-id="60f1a-681">INT64VALUE（数字）</span><span class="sxs-lookup"><span data-stu-id="60f1a-681">INT64VALUE (number)</span></span> | <span data-ttu-id="60f1a-682">返回指定数字的 int64 表示形式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-682">Return an int64 representation of the specified number.</span></span> <span data-ttu-id="60f1a-683">将截断所有小数部分。</span><span class="sxs-lookup"><span data-stu-id="60f1a-683">Any decimal places are truncated.</span></span> | <span data-ttu-id="60f1a-684">**INT64VALUE (22565422744.00)** 返回 **22565422744**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-684">**INT64VALUE (22565422744.00)** returns **22565422744**.</span></span> |

### <a name="record-functions"></a><span data-ttu-id="60f1a-685">记录函数</span><span class="sxs-lookup"><span data-stu-id="60f1a-685">Record functions</span></span>

| <span data-ttu-id="60f1a-686">职能</span><span class="sxs-lookup"><span data-stu-id="60f1a-686">Function</span></span> | <span data-ttu-id="60f1a-687">说明</span><span class="sxs-lookup"><span data-stu-id="60f1a-687">Description</span></span> | <span data-ttu-id="60f1a-688">示例</span><span class="sxs-lookup"><span data-stu-id="60f1a-688">Example</span></span> |
|----------|-------------|---------|
| <span data-ttu-id="60f1a-689">NULLCONTAINER（列表）</span><span class="sxs-lookup"><span data-stu-id="60f1a-689">NULLCONTAINER (list)</span></span> | <span data-ttu-id="60f1a-690">返回与指定的记录列表或记录具有相同结构的**空**记录。</span><span class="sxs-lookup"><span data-stu-id="60f1a-690">Return a **null** record that has the same structure as the specified record list or record.</span></span><blockquote>[!NOTE] <span data-ttu-id="60f1a-691">此函数已废弃。</span><span class="sxs-lookup"><span data-stu-id="60f1a-691">This function is obsolete.</span></span> <span data-ttu-id="60f1a-692">使用 **EMPTYRECORD**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-692">Use **EMPTYRECORD** instead.</span></span></blockquote> | <span data-ttu-id="60f1a-693">**NULLCONTAINER (SPLIT ("abc", 1))** 返回具有与 **SPLIT** 函数返回的列表相同结构的新空记录。</span><span class="sxs-lookup"><span data-stu-id="60f1a-693">**NULLCONTAINER (SPLIT ("abc", 1))** returns a new empty record that has the same structure as the list that is returned by the **SPLIT** function.</span></span> |
| <span data-ttu-id="60f1a-694">EMPTYRECORD（记录）</span><span class="sxs-lookup"><span data-stu-id="60f1a-694">EMPTYRECORD (record)</span></span> | <span data-ttu-id="60f1a-695">返回与指定的记录列表或记录具有相同结构的**空**记录。</span><span class="sxs-lookup"><span data-stu-id="60f1a-695">Return a **null** record that has the same structure as the specified record list or record.</span></span><blockquote>[!NOTE] <span data-ttu-id="60f1a-696">**null** 记录为其中的所有字符串都有空值的记录。</span><span class="sxs-lookup"><span data-stu-id="60f1a-696">A **null** record is a record where all fields have an empty value.</span></span> <span data-ttu-id="60f1a-697">空值对于数字来说为 **0**（零），对于字符串来说为空字符串，依此类推。</span><span class="sxs-lookup"><span data-stu-id="60f1a-697">An empty value is **0** (zero) for numbers, an empty string for strings, and so on.</span></span></blockquote> | <span data-ttu-id="60f1a-698">**EMPTYRECORD (SPLIT ("abc", 1))** 返回具有与 **SPLIT** 函数返回的列表相同结构的新空记录。</span><span class="sxs-lookup"><span data-stu-id="60f1a-698">**EMPTYRECORD (SPLIT ("abc", 1))** returns a new empty record that has the same structure as the list that is returned by the **SPLIT** function.</span></span> |

### <a name="text-functions"></a><span data-ttu-id="60f1a-699">文本函数</span><span class="sxs-lookup"><span data-stu-id="60f1a-699">Text functions</span></span>

<table>
<thead>
<tr>
<th><span data-ttu-id="60f1a-700">职能</span><span class="sxs-lookup"><span data-stu-id="60f1a-700">Function</span></span></th>
<th><span data-ttu-id="60f1a-701">说明</span><span class="sxs-lookup"><span data-stu-id="60f1a-701">Description</span></span></th>
<th><span data-ttu-id="60f1a-702">示例</span><span class="sxs-lookup"><span data-stu-id="60f1a-702">Example</span></span></th>
</tr>
</thead>
<tbody>
<tr>
<td><span data-ttu-id="60f1a-703">UPPER（字符串）</span><span class="sxs-lookup"><span data-stu-id="60f1a-703">UPPER (string)</span></span></td>
<td><span data-ttu-id="60f1a-704">返回已转换为大写字母的指定字符串。</span><span class="sxs-lookup"><span data-stu-id="60f1a-704">Return the specified string after it has been converted to uppercase letters.</span></span></td>
<td><span data-ttu-id="60f1a-705"><strong>UPPER(&quot;Sample&quot;)</strong> 返回 <strong>&quot;SAMPLE&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-705"><strong>UPPER(&quot;Sample&quot;)</strong> returns <strong>&quot;SAMPLE&quot;</strong>.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-706">LOWER（字符串）</span><span class="sxs-lookup"><span data-stu-id="60f1a-706">LOWER (string)</span></span></td>
<td><span data-ttu-id="60f1a-707">返回已转换为小写字母的指定字符串。</span><span class="sxs-lookup"><span data-stu-id="60f1a-707">Return the specified string after it has been converted to lowercase letters.</span></span></td>
<td><span data-ttu-id="60f1a-708"><strong>LOWER (&quot;Sample&quot;)</strong> 返回 <strong>&quot;sample&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-708"><strong>LOWER (&quot;Sample&quot;)</strong> returns <strong>&quot;sample&quot;</strong>.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-709">LEFT（字符串，字符数）</span><span class="sxs-lookup"><span data-stu-id="60f1a-709">LEFT (string, number of characters)</span></span></td>
<td><span data-ttu-id="60f1a-710">从指定字符串的开头返回指定数目的字符。</span><span class="sxs-lookup"><span data-stu-id="60f1a-710">Return the specified number of characters from the start of the specified string.</span></span></td>
<td><span data-ttu-id="60f1a-711"><strong>LEFT (&quot;Sample&quot;, 3)</strong> 返回 <strong>&quot;Sam&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-711"><strong>LEFT (&quot;Sample&quot;, 3)</strong> returns <strong>&quot;Sam&quot;</strong>.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-712">RIGHT（字符串，字符数）</span><span class="sxs-lookup"><span data-stu-id="60f1a-712">RIGHT (string, number of characters)</span></span></td>
<td><span data-ttu-id="60f1a-713">从指定字符串的结尾返回指定数目的字符。</span><span class="sxs-lookup"><span data-stu-id="60f1a-713">Return the specified number of characters from the end of the specified string.</span></span></td>
<td><span data-ttu-id="60f1a-714"><strong>RIGHT (&quot;Sample&quot;, 3)</strong> 返回 <strong>&quot;ple&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-714"><strong>RIGHT (&quot;Sample&quot;, 3)</strong> returns <strong>&quot;ple&quot;</strong>.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-715">MID（字符串，起始位置，字符数）</span><span class="sxs-lookup"><span data-stu-id="60f1a-715">MID (string, starting position, number of characters)</span></span></td>
<td><span data-ttu-id="60f1a-716">从指定位置开始返回指定字符串的指定数目的字符。</span><span class="sxs-lookup"><span data-stu-id="60f1a-716">Return the specified number of characters from the specified string, starting at the specified position.</span></span></td>
<td><span data-ttu-id="60f1a-717"><strong>MID (&quot;Sample&quot;, 2, 3)</strong> 返回 <strong>&quot;amp&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-717"><strong>MID (&quot;Sample&quot;, 2, 3)</strong> returns <strong>&quot;amp&quot;</strong>.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-718">LEN（字符串）</span><span class="sxs-lookup"><span data-stu-id="60f1a-718">LEN (string)</span></span></td>
<td><span data-ttu-id="60f1a-719">返回指定字符串中的字符数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-719">Return the number of characters in the specified string.</span></span></td>
<td><span data-ttu-id="60f1a-720"><strong>LEN (&quot;Sample&quot;)</strong> 返回 <strong>6</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-720"><strong>LEN (&quot;Sample&quot;)</strong> returns <strong>6</strong>.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-721">CHAR（数字）</span><span class="sxs-lookup"><span data-stu-id="60f1a-721">CHAR (number)</span></span></td>
<td><span data-ttu-id="60f1a-722">返回指定的 Unicode 数值引用的字符的字符串。</span><span class="sxs-lookup"><span data-stu-id="60f1a-722">Return the string of characters that is referenced by the specified Unicode number.</span></span></td>
<td><span data-ttu-id="60f1a-723"><strong>CHAR (255)</strong> 返回 <strong>&quot;ÿ&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-723"><strong>CHAR (255)</strong> returns <strong>&quot;ÿ&quot;</strong>.</span></span>
<blockquote>[!NOTE] <span data-ttu-id="60f1a-724">此函数返回的字符串取决于在父 FILE 格式元素中选择的编码。</span><span class="sxs-lookup"><span data-stu-id="60f1a-724">The string that this function returns depends on the encoding that is selected in the parent FILE format element.</span></span> <span data-ttu-id="60f1a-725">有关支持的编码的列表，请参阅<a href="https://msdn.microsoft.com/en-us/library/system.text.encoding(v=vs.110).aspx">编码类</a>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-725">For the list of supported encodings, see <a href="https://msdn.microsoft.com/en-us/library/system.text.encoding(v=vs.110).aspx">Encoding class</a>.</span></span></blockquote>
</td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-726">CONCATENATE（字符串 1 [，2，…]）</span><span class="sxs-lookup"><span data-stu-id="60f1a-726">CONCATENATE (string 1 [, string 2, …])</span></span></td>
<td><span data-ttu-id="60f1a-727">返回已联接为一个字符串的所有指定文本字符串。</span><span class="sxs-lookup"><span data-stu-id="60f1a-727">Return all specified text strings after they have been joined into one string.</span></span></td>
<td><span data-ttu-id="60f1a-728"><strong>CONCATENATE (&quot;abc&quot;, &quot;def&quot;)</strong>返回 <strong>&quot;abcdef&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-728"><strong>CONCATENATE (&quot;abc&quot;, &quot;def&quot;)</strong> returns <strong>&quot;abcdef&quot;</strong>.</span></span>
<blockquote>[!NOTE] <span data-ttu-id="60f1a-729">表达式 <strong>&quot;abc&quot; &amp; &quot;def&quot;</strong> 也返回 <strong>&quot;abcdef&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-729">The expression <strong>&quot;abc&quot; &amp; &quot;def&quot;</strong> also returns <strong>&quot;abcdef&quot;</strong>.</span></span></blockquote>
</td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-730">TRANSLATE（字符串，模式，替换）</span><span class="sxs-lookup"><span data-stu-id="60f1a-730">TRANSLATE (string, pattern, replacement)</span></span></td>
<td><span data-ttu-id="60f1a-731">返回指定串字符，其中所有在指定模式字符串中出现的字符已由指定替换字符相应位置的字符替换。</span><span class="sxs-lookup"><span data-stu-id="60f1a-731">Return the specified string after all occurrences of the characters in the specified pattern string have been replaced by the characters at the corresponding position in the specified replacement string.</span></span></td>
<td><span data-ttu-id="60f1a-732"><strong>TRANSLATE (&quot;abcdef&quot;, &quot;cd&quot;, &quot;GH&quot;)</strong> 将模式 <strong>&quot;cd&quot;</strong> 替换为字符串 <strong>&quot;GH&quot;</strong>，并返回 <strong>&quot;abGHef&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-732"><strong>TRANSLATE (&quot;abcdef&quot;, &quot;cd&quot;, &quot;GH&quot;)</strong> replaces the pattern <strong>&quot;cd&quot;</strong> with the string <strong>&quot;GH&quot;</strong> and returns <strong>&quot;abGHef&quot;</strong>.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-733">REPLACE（字符串，模式，替换，正则表达式标志）</span><span class="sxs-lookup"><span data-stu-id="60f1a-733">REPLACE (string, pattern, replacement, regular expression flag)</span></span></td>
<td><span data-ttu-id="60f1a-734">在指定的<strong>正则表达式标记</strong>参数为 <strong>True</strong> 时，返回指定字符串，并且其已通过应用指定为此函数的<strong>模式</strong>参数的正则表达式来修改。</span><span class="sxs-lookup"><span data-stu-id="60f1a-734">When the specified <strong>regular expression flag</strong> parameter is <strong>true</strong>, return the specified string after it has been modified by applying the regular expression that is specified as the <strong>pattern</strong> argument for this function.</span></span> <span data-ttu-id="60f1a-735">此表达式用于查找必须替换的字符。</span><span class="sxs-lookup"><span data-stu-id="60f1a-735">This expression is used to find characters that must be replaced.</span></span> <span data-ttu-id="60f1a-736">指定的<strong>替换</strong>参数的字符用于替换找到的字符。</span><span class="sxs-lookup"><span data-stu-id="60f1a-736">Characters of the specified <strong>replacement</strong> argument are used to replace characters that are found.</span></span> <span data-ttu-id="60f1a-737">在指定的<strong>正则表达式标记</strong>参数为 <strong>False</strong> 时，此函数类似 <strong>TRANSLATE</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-737">When the specified <strong>regular expression flag</strong> parameter is <strong>false</strong>, this function behaves like <strong>TRANSLATE</strong>.</span></span></td>
<td><span data-ttu-id="60f1a-738"><strong>REPLACE (&quot;+1 923 456 4971&quot;, &quot;[^0-9]&quot;, &quot;&quot;, true)</strong> 应用删除所有非数字符号的正则表达式，并返回 <strong>&quot;19234564971&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-738"><strong>REPLACE (&quot;+1 923 456 4971&quot;, &quot;[^0-9]&quot;, &quot;&quot;, true)</strong> applies a regular expression that removes all non-numeric symbols, and returns <strong>&quot;19234564971&quot;</strong>.</span></span> <span data-ttu-id="60f1a-739"><strong>REPLACE (&quot;abcdef&quot;, &quot;cd&quot;, &quot;GH&quot;, false)</strong> 将模式 <strong>&quot;cd&quot;</strong> 替换为字符串 <strong>&quot;GH&quot;</strong>，并返回 <strong>&quot;abGHef&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-739"><strong>REPLACE (&quot;abcdef&quot;, &quot;cd&quot;, &quot;GH&quot;, false)</strong> replaces the pattern <strong>&quot;cd&quot;</strong> with the string <strong>&quot;GH&quot;</strong> and returns <strong>&quot;abGHef&quot;</strong>.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-740">TEXT（输入）</span><span class="sxs-lookup"><span data-stu-id="60f1a-740">TEXT (input)</span></span></td>
<td><span data-ttu-id="60f1a-741">返回指定的输入，并且其已转换为根据当前 Finance and Operations 实例的服务器区域设置设置格式的文本字符串。</span><span class="sxs-lookup"><span data-stu-id="60f1a-741">Return the specified input after it has been converted to a text string that is formatted according to the server locale settings of the current Finance and Operations instance.</span></span> <span data-ttu-id="60f1a-742">对于 <strong>real</strong> 类型的值，字符串转换被限制为两位小数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-742">For values of the <strong>real</strong> type, the string conversion is limited to two decimal places.</span></span></td>
<td><span data-ttu-id="60f1a-743">如果将 Finance and Operations 实例的服务器区域定义为 <strong>EN-US</strong>，<strong>TEXT (NOW ())</strong> 返回当前 Finance and Operations 会话日期 2015 年 12 月 17 日为文本字符串 <strong>&quot;12/17/2015 07:59:23 AM&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-743">If the server locale of the Finance and Operations instance is defined as <strong>EN-US</strong>, <strong>TEXT (NOW ())</strong> returns the current Finance and Operations session date, December 17, 2015, as the text string <strong>&quot;12/17/2015 07:59:23 AM&quot;</strong>.</span></span> <span data-ttu-id="60f1a-744"><strong>TEXT (1/3)</strong> 返回 <strong>&quot;0.33&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-744"><strong>TEXT (1/3)</strong> returns <strong>&quot;0.33&quot;</strong>.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-745">FORMAT (string 1, string 2[, string 3, …])</span><span class="sxs-lookup"><span data-stu-id="60f1a-745">FORMAT (string 1, string 2[, string 3, …])</span></span></td>
<td><span data-ttu-id="60f1a-746">返回指定字符串，并且其已通过代替任何出现的带有第 <em>n</em> 个参数的 <strong>%N</strong> 设置格式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-746">Return the specified string after it has been formatted by substituting any occurrences of <strong>%N</strong> with the <em>n</em>th argument.</span></span> <span data-ttu-id="60f1a-747">这些参数是字符串。</span><span class="sxs-lookup"><span data-stu-id="60f1a-747">The arguments are strings.</span></span> <span data-ttu-id="60f1a-748">如果参数不是为参量提供，则参量在字符串中返回为 <strong>&quot;%N&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-748">If an argument isn't provided for a parameter, the parameter is returned as <strong>&quot;%N&quot;</strong> in the string.</span></span> <span data-ttu-id="60f1a-749">对于 <strong>real</strong> 类型的值，字符串转换被限制为两位小数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-749">For values of the <strong>real</strong> type, the string conversion is limited to two decimal places.</span></span></td>
<td><span data-ttu-id="60f1a-750">在下图中，数据源 <strong>PaymentModel</strong> 通过<strong>客户</strong>组件返回客户记录列表，通过 <strong>ProcessingDate</strong> 字段返回处理日期值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-750">In the following illustration, the <strong>PaymentModel</strong> data source returns the list of customer records via the <strong>Customer</strong> component and the processing date value via the <strong>ProcessingDate</strong> field.</span></span>
<p><a href="./media/picture-format-datasource.jpg"><img src="./media/picture-format-datasource.jpg" alt="PaymentModel data source" class="alignnone wp-image-290751 size-full" width="293" height="143" /></a></p>
<p><span data-ttu-id="60f1a-751">在指定用于为所选客户生成电子文件的 ER 格式中，<strong>PaymentModel</strong> 被选择为数据源并控制流程。</span><span class="sxs-lookup"><span data-stu-id="60f1a-751">In the ER format that is designed to generate an electronic file for selected customers, <strong>PaymentModel</strong> is selected as a data source and controls the process flow.</span></span> <span data-ttu-id="60f1a-752">当所选客户在处理报表的日期停止时，将引发异常以通知用户。</span><span class="sxs-lookup"><span data-stu-id="60f1a-752">An exception is thrown to inform the user when a selected customer is stopped for the date when the report is processed.</span></span> <span data-ttu-id="60f1a-753">为此类处理控制设计的配方可以使用以下资源：</span><span class="sxs-lookup"><span data-stu-id="60f1a-753">The formula that is designed for this type of processing control can use the following resources:</span></span></p>
<ul>
<li><span data-ttu-id="60f1a-754">Finance and Operations 标签 SYS70894，具有以下文本：</span><span class="sxs-lookup"><span data-stu-id="60f1a-754">Finance and Operations label SYS70894, which has the following text:</span></span>
<ul>
<li><span data-ttu-id="60f1a-755"><strong>对于 EN-US 语言：</strong>&quot;Nothing to print&quot;</span><span class="sxs-lookup"><span data-stu-id="60f1a-755"><strong>For the EN-US language:</strong> &quot;Nothing to print&quot;</span></span></li>
<li><span data-ttu-id="60f1a-756"><strong>对于 DE 语言：</strong>&quot;Nichts zu drucken&quot;</span><span class="sxs-lookup"><span data-stu-id="60f1a-756"><strong>For the DE language:</strong> &quot;Nichts zu drucken&quot;</span></span></li>
</ul></li>
<li><span data-ttu-id="60f1a-757">Finance and Operations 标签 SYS18389，具有以下文本：</span><span class="sxs-lookup"><span data-stu-id="60f1a-757">Finance and Operations label SYS18389, which has the following text:</span></span>
<ul>
<li><span data-ttu-id="60f1a-758"><strong>对于 EN-US 语言：</strong>&quot;Customer %1 is stopped for %2&quot;。</span><span class="sxs-lookup"><span data-stu-id="60f1a-758"><strong>For the EN-US language:</strong> &quot;Customer %1 is stopped for %2.&quot;</span></span></li>
<li><span data-ttu-id="60f1a-759"><strong>对于 DE 语言：</strong>&quot;Debitor '%1' wird für %2 gesperrt&quot;。</span><span class="sxs-lookup"><span data-stu-id="60f1a-759"><strong>For the DE language:</strong> &quot;Debitor '%1' wird für %2 gesperrt.&quot;</span></span></li>
</ul></li>
</ul>
<p><span data-ttu-id="60f1a-760">这是一个可设计的公式：</span><span class="sxs-lookup"><span data-stu-id="60f1a-760">Here is the formula that can be designed:</span></span></p>
<p><span data-ttu-id="60f1a-761">FORMAT (CONCATENATE (@&quot;SYS70894&quot;, &quot;.</span><span class="sxs-lookup"><span data-stu-id="60f1a-761">FORMAT (CONCATENATE (@&quot;SYS70894&quot;, &quot;.</span></span> <span data-ttu-id="60f1a-762">&quot;, @&quot;SYS18389&quot;), model.Customer.Name, DATETIMEFORMAT (model.ProcessingDate, &quot;d&quot;))</span><span class="sxs-lookup"><span data-stu-id="60f1a-762">&quot;, @&quot;SYS18389&quot;), model.Customer.Name, DATETIMEFORMAT (model.ProcessingDate, &quot;d&quot;))</span></span></p>
<p><span data-ttu-id="60f1a-763">如果报表于 2015 年 12 月 17 日为 <strong>Litware 零售</strong>客户处理，在 <strong>EN-US</strong> 区域性和 <strong>EN-US</strong> 语言中，此公式返回以下文本，其可能向用户呈现为异常消息：</span><span class="sxs-lookup"><span data-stu-id="60f1a-763">If a report is processed for the <strong>Litware Retail</strong> customer on December 17, 2015, in the <strong>EN-US</strong> culture and the <strong>EN-US</strong> language, this formula returns the following text, which can be presented to the user as an exception message:</span></span></p>
<p><span data-ttu-id="60f1a-764">&quot;没有要打印的内容。</span><span class="sxs-lookup"><span data-stu-id="60f1a-764">&quot;Nothing to print.</span></span> <span data-ttu-id="60f1a-765">客户 Litware 零售已于 2015 年 12 月 17 日停止。&quot;</span><span class="sxs-lookup"><span data-stu-id="60f1a-765">Customer Litware Retail is stopped for 12/17/2015.&quot;</span></span></p>
<p><span data-ttu-id="60f1a-766">如果 2015 年 12 月 17 日为 <strong>Litware 零售</strong>客户处理同一个报表，在 <strong>DE</strong> 区域性和 <strong>DE</strong> 语言中，此公式返回以下文本（使用不同的日期格式）：</span><span class="sxs-lookup"><span data-stu-id="60f1a-766">If the same report is processed for the <strong>Litware Retail</strong> customer on December 17, 2015, in the <strong>DE</strong> culture and the <strong>DE</strong> language, the formula returns the following text, which uses a different date format:</span></span></p>
<p><span data-ttu-id="60f1a-767">&quot;Nichts zu drucken.</span><span class="sxs-lookup"><span data-stu-id="60f1a-767">&quot;Nichts zu drucken.</span></span> <span data-ttu-id="60f1a-768">Debitor 'Litware Retail' wird für 17.12.2015 gesperrt。&quot;</span><span class="sxs-lookup"><span data-stu-id="60f1a-768">Debitor 'Litware Retail' wird für 17.12.2015 gesperrt.&quot;</span></span></p>
<blockquote>[!NOTE] <span data-ttu-id="60f1a-769">以下语法在标签的 ER 公式中应用：</span><span class="sxs-lookup"><span data-stu-id="60f1a-769">The following syntax is applied in ER formulas for labels:</span></span>
<ul>
<li><span data-ttu-id="60f1a-770"><strong>对于 Finance and Operations 资源的标签：</strong><strong>@&quot;X&quot;</strong>，其中 <strong>X</strong> 是应用程序对象树 (AOT) 中的标签 ID</span><span class="sxs-lookup"><span data-stu-id="60f1a-770"><strong>For labels from Finance and Operations resources:</strong> <strong>@&quot;X&quot;</strong>, where <strong>X</strong> is the label ID in the Application Object Tree (AOT)</span></span></li>
<li><span data-ttu-id="60f1a-771"><strong>对于位于 ER 配置中的标签：</strong><strong>@&quot;GER_LABEL:X&quot;</strong>，其中 <strong>X</strong> 是 ER 配置中的标签 ID</span><span class="sxs-lookup"><span data-stu-id="60f1a-771"><strong>For labels that reside in ER configurations:</strong> <strong>@&quot;GER_LABEL:X&quot;</strong>, where <strong>X</strong> is the label ID in the ER configuration</span></span></li>
</ul>
</blockquote>
</td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-772">NUMBERFORMAT（数字，格式）</span><span class="sxs-lookup"><span data-stu-id="60f1a-772">NUMBERFORMAT (number, format)</span></span></td>
<td><span data-ttu-id="60f1a-773">以指定格式返回指定数值的字符串表示形式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-773">Return a string representation of the specified number in the specified format.</span></span> <span data-ttu-id="60f1a-774">（有关支持的格式的信息，请参阅<a href="https://msdn.microsoft.com/en-us/library/dwhawy9k(v=vs.110).aspx">标准</a>和<a href="https://msdn.microsoft.com/en-us/library/0c899ak8(v=vs.110).aspx">自定义</a>。）此函数在其中运行的环境确定设置数字格式的区域性。</span><span class="sxs-lookup"><span data-stu-id="60f1a-774">(For information about the supported formats, see <a href="https://msdn.microsoft.com/en-us/library/dwhawy9k(v=vs.110).aspx">standard</a> and <a href="https://msdn.microsoft.com/en-us/library/0c899ak8(v=vs.110).aspx">custom</a>.) The context that this function is run in determines the culture that is used to format numbers.</span></span></td>
<td><span data-ttu-id="60f1a-775">对于 EN-US 区域性，<strong>NUMBERFORMAT (0.45, &quot;p&quot;)</strong> 返回 <strong>&quot;45.00 %&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-775">For the EN-US culture, <strong>NUMBERFORMAT (0.45, &quot;p&quot;)</strong> returns <strong>&quot;45.00 %&quot;</strong>.</span></span> <span data-ttu-id="60f1a-776"><strong>NUMBERFORMAT (10.45, &quot;#&quot;)</strong> 返回 <strong>&quot;10&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-776"><strong>NUMBERFORMAT (10.45, &quot;#&quot;)</strong> returns <strong>&quot;10&quot;</strong>.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-777">NUMERALSTOTEXT（数字，语言，币种，打印币种名称标志，小数点）</span><span class="sxs-lookup"><span data-stu-id="60f1a-777">NUMERALSTOTEXT (number, language, currency, print currency name flag, decimal points)</span></span></td>
<td><span data-ttu-id="60f1a-778">返回已以指定语言拼出（转换为文本字符串）的指定数字。</span><span class="sxs-lookup"><span data-stu-id="60f1a-778">Return the specified number after it has been spelled out (converted to text strings) in the specified language.</span></span> <span data-ttu-id="60f1a-779">语言代码可选。</span><span class="sxs-lookup"><span data-stu-id="60f1a-779">The language code is optional.</span></span> <span data-ttu-id="60f1a-780">定义为空字符串时，将使用运行上下文的语言代码。</span><span class="sxs-lookup"><span data-stu-id="60f1a-780">When it's defined as an empty string, the language code for the running context is used.</span></span> <span data-ttu-id="60f1a-781">（运行上下文的语言代码是为生成文件夹或文件定义的。）币种代码也可选。</span><span class="sxs-lookup"><span data-stu-id="60f1a-781">(The language code for the running context is defined for a generating folder or file.) The currency code is also optional.</span></span> <span data-ttu-id="60f1a-782">定义为空字符串时，采用公司币种。</span><span class="sxs-lookup"><span data-stu-id="60f1a-782">When it's defined as an empty string, the company currency is used.</span></span>
<blockquote>[!NOTE] <span data-ttu-id="60f1a-783">仅为以下语言代码分析<strong>打印币种名称标记</strong>和<strong>小数点</strong>参数：<strong>CS</strong>、<strong>ET</strong>、<strong>HU</strong>、<strong>LT</strong>、<strong>LV</strong>、<strong>PL</strong> 和 <strong>RU</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-783">The <strong>print currency name flag</strong> and <strong>decimal points</strong> parameters are analyzed only for the following language codes: <strong>CS</strong>, <strong>ET</strong>, <strong>HU</strong>, <strong>LT</strong>, <strong>LV</strong>, <strong>PL</strong>, and <strong>RU</strong>.</span></span> <span data-ttu-id="60f1a-784">此外，仅为国家或地区的上下文支持币种名称偏差的 Finance and Operations 公司分析<strong>打印币种名称标记</strong>参数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-784">Additionally, the <strong>print currency name flag</strong> parameter is analyzed only for Finance and Operations companies where the country's or region's context supports declension of currency names.</span></span></blockquote>
</td>
<td><span data-ttu-id="60f1a-785"><strong>NUMERALSTOTEXT (1234.56, &quot;EN&quot;, &quot;&quot;, false, 2)</strong> 返回 <strong>&quot;One Thousand Two Hundred Thirty Four and 56&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-785"><strong>NUMERALSTOTEXT (1234.56, &quot;EN&quot;, &quot;&quot;, false, 2)</strong> returns <strong>&quot;One Thousand Two Hundred Thirty Four and 56&quot;</strong>.</span></span> <span data-ttu-id="60f1a-786"><strong>NUMERALSTOTEXT (120, &quot;PL&quot;, &quot;&quot;, false, 0)</strong> 返回 <strong>&quot;Sto dwadzieścia&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-786"><strong>NUMERALSTOTEXT (120, &quot;PL&quot;, &quot;&quot;, false, 0)</strong> returns <strong>&quot;Sto dwadzieścia&quot;</strong>.</span></span> <span data-ttu-id="60f1a-787"><strong>NUMERALSTOTEXT (120.21, &quot;RU&quot;, &quot;EUR&quot;, true, 2)</strong> 返回 <strong>&quot;Сто двадцать евро 21 евроцент&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-787"><strong>NUMERALSTOTEXT (120.21, &quot;RU&quot;, &quot;EUR&quot;, true, 2)</strong> returns <strong>&quot;Сто двадцать евро 21 евроцент&quot;</strong>.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-788">PADLEFT（字符串，长度，填充字符）</span><span class="sxs-lookup"><span data-stu-id="60f1a-788">PADLEFT (string, length, padding chars)</span></span></td>
<td><span data-ttu-id="60f1a-789">返回指定长度的字符串，其中指定字符串的开头是使用指定字符填充的。</span><span class="sxs-lookup"><span data-stu-id="60f1a-789">Return a string of the specified length, where the start of the specified string is padded with the specified characters.</span></span></td>
<td><span data-ttu-id="60f1a-790"><strong>PADLEFT (&quot;1234&quot;, 10, &quot;&nbsp;&quot;)</strong> 返回文本字符串 <strong>&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1234&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-790"><strong>PADLEFT (&quot;1234&quot;, 10, &quot;&nbsp;&quot;)</strong> returns the text string <strong>&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1234&quot;</strong>.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-791">TRIM（字符串）</span><span class="sxs-lookup"><span data-stu-id="60f1a-791">TRIM (string)</span></span></td>
<td><span data-ttu-id="60f1a-792">返回已截断前导空格和尾随空格且已除去单词之间的多个空格的指定文本字符串。</span><span class="sxs-lookup"><span data-stu-id="60f1a-792">Return the specified text string after leading and trailing spaces have been truncated, and after multiple spaces between words have been removed.</span></span></td>
<td><span data-ttu-id="60f1a-793"><strong>TRIM (&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sample&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;)</strong> 返回 <strong>&quot;Sample text&quot;</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-793"><strong>TRIM (&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sample&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;)</strong> returns <strong>&quot;Sample text&quot;</strong>.</span></span></td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-794">GETENUMVALUEBYNAME（枚举数据源路径，枚举值标签文本）</span><span class="sxs-lookup"><span data-stu-id="60f1a-794">GETENUMVALUEBYNAME (enumeration data source path, enumeration value label text)</span></span></td>
<td><span data-ttu-id="60f1a-795">根据枚举标签的指定文本返回指定枚举数据源的值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-795">Return a value of the specified enumeration data source, based on the specified text of the enumeration label.</span></span></td>
<td><span data-ttu-id="60f1a-796">在下图中，数据模型中引入了 <strong>ReportDirection</strong> 枚举。</span><span class="sxs-lookup"><span data-stu-id="60f1a-796">In the following illustration, the <strong>ReportDirection</strong> enumeration is introduced in a data model.</span></span> <span data-ttu-id="60f1a-797">请注意，为枚举值定义标签。</span><span class="sxs-lookup"><span data-stu-id="60f1a-797">Note that labels are defined for enumeration values.</span></span>
<p><a href="./media/ER-data-model-enumeration-values.PNG"><img src="./media/ER-data-model-enumeration-values.PNG" alt="Available values for data model enumeration" class="alignnone wp-image-290681 size-full" width="397" height="136" /></a></p>
<p><span data-ttu-id="60f1a-798">下图显示以下详细信息：</span><span class="sxs-lookup"><span data-stu-id="60f1a-798">The following illustration shows these details:</span></span></p>
<ul>
<li><span data-ttu-id="60f1a-799"><strong>ReportDirection</strong> 模型枚举作为数据源 <strong>$Direction</strong> 插入了报表中。</span><span class="sxs-lookup"><span data-stu-id="60f1a-799">The <strong>ReportDirection</strong> model enumeration is inserted into a report as a data source, <strong>$Direction</strong>.</span></span></li>
<li><span data-ttu-id="60f1a-800">ER 表达式 <strong>$IsArrivals</strong> 设计为将该模型枚举用作此函数的参数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-800">An ER expression, <strong>$IsArrivals</strong>, is designed to use the model enumeration as a parameter of this function.</span></span> <span data-ttu-id="60f1a-801">此表达式的值为 <strong>TRUE</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-801">The value of this expression is <strong>TRUE</strong>.</span></span></li>
</ul>
<a href="./media/ER-data-model-enumeration-usage.PNG"><img src="./media/ER-data-model-enumeration-usage.PNG" alt="Example of data model enumeration" class="alignnone wp-image-290681 size-full" width="397" height="136" /></a>
</td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-802">GUIDVALUE（输入）</span><span class="sxs-lookup"><span data-stu-id="60f1a-802">GUIDVALUE (input)</span></span></td>
<td><span data-ttu-id="60f1a-803">将<strong>字符串</strong>数据类型的指定输入转换为 <strong>GUID</strong> 数据类型的数据项。</span><span class="sxs-lookup"><span data-stu-id="60f1a-803">Convert the specified input of the <strong>String</strong> data type to a data item of the <strong>GUID</strong> data type.</span></span><blockquote>[!NOTE] <span data-ttu-id="60f1a-804">若要执行反向转换（即，将指定的 <strong>GUID</strong> 数据类型的输入转换为<strong>字符串</strong>数据类型的数据项），您可以使用 <strong>TEXT()</strong> 函数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-804">To do a conversion in the opposite direction (that is, to convert specified input of the <strong>GUID</strong> data type to a data item of the <strong>String</strong> data type), you can use the <strong>TEXT()</strong> function.</span></span></blockquote></td>
<td><span data-ttu-id="60f1a-805">在模型映射中定义以下数据源：</span><span class="sxs-lookup"><span data-stu-id="60f1a-805">You define the following data sources in your model mapping:</span></span>
<ul>
<li><span data-ttu-id="60f1a-806"><strong>myID</strong>（<strong>计算字段</strong>类型），其中包含表达式 <strong>GUIDVALUE(&quot;AF5CCDAC-F728-4609-8C8B- A4B30B0C0AA0&quot;)</strong></span><span class="sxs-lookup"><span data-stu-id="60f1a-806"><strong>myID</strong> (<strong>Calculated field</strong> type), which contains the expression <strong>GUIDVALUE(&quot;AF5CCDAC-F728-4609-8C8B- A4B30B0C0AA0&quot;)</strong></span></span></li>
<li><span data-ttu-id="60f1a-807"><strong>Users</strong>（<strong>表记录</strong>类型），引用的是 UserInfo 表</span><span class="sxs-lookup"><span data-stu-id="60f1a-807"><strong>Users</strong> (<strong>Table records</strong> type), which refers to the UserInfo table</span></span></li>
</ul>
<span data-ttu-id="60f1a-808">如果定义了这些数据源，就可以使用 <strong>FILTER (Users, Users.objectId = myID)</strong> 之类表达式按 <strong>GUID</strong> 数据类型的 <strong>objectId</strong> 字段筛选 UserInfo 表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-808">When these data sources are defined, you can use an expression such as <strong>FILTER (Users, Users.objectId = myID)</strong> to filter the UserInfo table by the <strong>objectId</strong> field of the <strong>GUID</strong> data type.</span></span>
</td>
</tr>
<tr>
<td><span data-ttu-id="60f1a-809">JSONVALUE（ID、路径）</span><span class="sxs-lookup"><span data-stu-id="60f1a-809">JSONVALUE (id, path)</span></span></td>
<td><span data-ttu-id="60f1a-810">分析按指定路径访问且格式为 JavaScript Object Notation (JSON) 的数据，以便提取基于指定 ID 的标量值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-810">Parse data in JavaScript Object Notation (JSON) format that is accessed by the specified path to extract a scalar value that is based on the specified ID.</span></span></td>
<td><span data-ttu-id="60f1a-811">数据源 <strong>$JsonField</strong> 中包含 JSON 格式的以下数据：<strong>{&quot;BuildNumber&quot;:&quot;7.3.1234.1&quot;, &quot;KeyThumbprint&quot;:&quot;7366E&quot;}</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-811">The data source <strong>$JsonField</strong> contains the following data in JSON format: <strong>{&quot;BuildNumber&quot;:&quot;7.3.1234.1&quot;, &quot;KeyThumbprint&quot;:&quot;7366E&quot;}</strong>.</span></span> <span data-ttu-id="60f1a-812">对于此数据源，</strong>JSONVALUE ( &quot;BuildNumber&quot;, $JsonField)</strong> 返回<strong>字符串</strong>数据类型的值 <strong>7.3.1234.1</strong>。</span><span class="sxs-lookup"><span data-stu-id="60f1a-812">For this data source, </strong>JSONVALUE ( &quot;BuildNumber&quot;, $JsonField)</strong> returns the value <strong>7.3.1234.1</strong> of the <strong>String</strong> data type.</span></span></td>
</tr>
</tbody>
</table>

### <a name="data-conversion-functions"></a><span data-ttu-id="60f1a-813">数据转换函数</span><span class="sxs-lookup"><span data-stu-id="60f1a-813">Data conversion functions</span></span>

| <span data-ttu-id="60f1a-814">职能</span><span class="sxs-lookup"><span data-stu-id="60f1a-814">Function</span></span> | <span data-ttu-id="60f1a-815">说明</span><span class="sxs-lookup"><span data-stu-id="60f1a-815">Description</span></span> | <span data-ttu-id="60f1a-816">示例</span><span class="sxs-lookup"><span data-stu-id="60f1a-816">Example</span></span> |
|----------|-------------|---------|
| <span data-ttu-id="60f1a-817">TEXT（输入）</span><span class="sxs-lookup"><span data-stu-id="60f1a-817">TEXT (input)</span></span> | <span data-ttu-id="60f1a-818">返回指定的输入，并且其已转换为根据当前 Finance and Operations 实例的服务器区域设置设置格式的文本字符串。</span><span class="sxs-lookup"><span data-stu-id="60f1a-818">Return the specified input after it has been converted to a text string that is formatted according to the server locale settings of the current Finance and Operations instance.</span></span> <span data-ttu-id="60f1a-819">对于 **real** 类型的值，字符串转换被限制为两位小数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-819">For values of the **real** type, the string conversion is limited to two decimal places.</span></span> | <span data-ttu-id="60f1a-820">如果将 Finance and Operations 实例的服务器区域定义为 **EN-US**，**TEXT (NOW ())** 返回当前 Finance and Operations 会话日期 2015 年 12 月 17 日为文本字符串 **"12/17/2015 07:59:23 AM"**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-820">If the server locale of the Finance and Operations instance is defined as **EN-US**, **TEXT (NOW ())** returns the current Finance and Operations session date, December 17, 2015, as the text string **"12/17/2015 07:59:23 AM"**.</span></span> <span data-ttu-id="60f1a-821">**TEXT (1/3)** 返回 **"0.33"**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-821">**TEXT (1/3)** returns **"0.33"**.</span></span> |
| <span data-ttu-id="60f1a-822">QRCODE（字符串）</span><span class="sxs-lookup"><span data-stu-id="60f1a-822">QRCODE (string)</span></span> | <span data-ttu-id="60f1a-823">为指定字符串返回 base64 二进制格式的快速响应码 (QR 代码) 图像。</span><span class="sxs-lookup"><span data-stu-id="60f1a-823">Return a Quick Response Code (QR code) image in base64 binary format for the specified string.</span></span> | <span data-ttu-id="60f1a-824">**QRCODE ("Sample text")** 返回 **U2FtcGxlIHRleHQ=**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-824">**QRCODE ("Sample text")** returns **U2FtcGxlIHRleHQ=**.</span></span> |

### <a name="data-collection-functions"></a><span data-ttu-id="60f1a-825">数据收集功能</span><span class="sxs-lookup"><span data-stu-id="60f1a-825">Data collection functions</span></span>

| <span data-ttu-id="60f1a-826">职能</span><span class="sxs-lookup"><span data-stu-id="60f1a-826">Function</span></span> | <span data-ttu-id="60f1a-827">说明</span><span class="sxs-lookup"><span data-stu-id="60f1a-827">Description</span></span> | <span data-ttu-id="60f1a-828">示例</span><span class="sxs-lookup"><span data-stu-id="60f1a-828">Example</span></span> |
|----------|-------------|---------|
| <span data-ttu-id="60f1a-829">FORMATELEMENTNAME ()</span><span class="sxs-lookup"><span data-stu-id="60f1a-829">FORMATELEMENTNAME ()</span></span> | <span data-ttu-id="60f1a-830">返回当前格式的元素的名称。</span><span class="sxs-lookup"><span data-stu-id="60f1a-830">Return the name of the current format's element.</span></span> <span data-ttu-id="60f1a-831">在当前文件的**收集输出详细信息**标记关闭时返回空字符串。</span><span class="sxs-lookup"><span data-stu-id="60f1a-831">Return an empty string when the **Collect output details** flag of the current files is turned off.</span></span> | <span data-ttu-id="60f1a-832">有关如何使用此函数的详细信息，请参阅**盘点和合计格式输出的 ER 使用数据**任务指南，这是**购置/开发 IT 服务/解决方案组件**业务流程的一部分。</span><span class="sxs-lookup"><span data-stu-id="60f1a-832">To learn more about how to use this function, see the **ER Use data of format output for counting and summing** task guide, which is part of the **Acquire/Develop IT service/solution components** business process.</span></span> |
| <span data-ttu-id="60f1a-833">SUMIFS (key string for summing, criteria range1 string, criteria value1 string \[, criteria range2 string, criteria value2 string, …\])</span><span class="sxs-lookup"><span data-stu-id="60f1a-833">SUMIFS (key string for summing, criteria range1 string, criteria value1 string \[, criteria range2 string, criteria value2 string, …\])</span></span> | <span data-ttu-id="60f1a-834">在此格式运行且满足指定条件（范围和值配对）时，返回为 XML 节点（其名称定义为键）收集的值的总和。</span><span class="sxs-lookup"><span data-stu-id="60f1a-834">Return the sum of values  that was collected for XML nodes (where the name is defined as a key) when the format was run, and that satisfies the specified conditions (pairs of ranges and values).</span></span> <span data-ttu-id="60f1a-835">在当前文件的**收集输出详细信息**标记关闭时返回 **0**（零）值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-835">Return a **0** (zero) value when the **Collect output details** flag of the current files is turned off.</span></span> | |
| <span data-ttu-id="60f1a-836">SUMIF（要合计的键字符串，条件范围字符串，条件值字符串）</span><span class="sxs-lookup"><span data-stu-id="60f1a-836">SUMIF (key string for summing, criteria range string, criteria value string)</span></span> | <span data-ttu-id="60f1a-837">在此格式运行且满足指定条件（范围和值）时，返回为 XML 节点（其名称定义为键）收集的值的总和。</span><span class="sxs-lookup"><span data-stu-id="60f1a-837">Return the sum of values that was collected for XML nodes (where the name is defined as a key) when the format was run, and that satisfies the specified condition (a range and value).</span></span> <span data-ttu-id="60f1a-838">在当前文件的**收集输出详细信息**标记关闭时返回 **0**（零）值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-838">Return a **0** (zero) value when the **Collect output details** flag of the current files is turned off.</span></span> | |
| <span data-ttu-id="60f1a-839">COUNTIFS (criteria range1 string, criteria value1 string \[, criteria range2 string, criteria value2 string, …\])</span><span class="sxs-lookup"><span data-stu-id="60f1a-839">COUNTIFS (criteria range1 string, criteria value1 string \[, criteria range2 string, criteria value2 string, …\])</span></span> | <span data-ttu-id="60f1a-840">在此格式运行且满足指定条件（范围和值配对）时，返回收集的 XML 节点的数量。</span><span class="sxs-lookup"><span data-stu-id="60f1a-840">Return the number of XML nodes that was collected when the format was run, and that satisfies the specified conditions (pairs of ranges and values).</span></span> <span data-ttu-id="60f1a-841">在当前文件的**收集输出详细信息**标记关闭时返回 **0**（零）值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-841">Return a **0** (zero) value when the **Collect output details** flag of the current files is turned off.</span></span> | |
| <span data-ttu-id="60f1a-842">COUNTIF（范围条件字符串，条件值字符串）</span><span class="sxs-lookup"><span data-stu-id="60f1a-842">COUNTIF (criteria range string, criteria value string)</span></span> | <span data-ttu-id="60f1a-843">在此格式运行且满足指定条件（范围和值）时，返回收集的 XML 节点的数量。</span><span class="sxs-lookup"><span data-stu-id="60f1a-843">Return the number of XML nodes that was collected when the format was run, and that satisfies the specified condition (a range and value).</span></span> <span data-ttu-id="60f1a-844">在当前文件的标记**收集输出详细信息**关闭时返回 **0**（零）值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-844">Return a **0** (zero) value the flag **Collect output details** flag of the current files is turned off.</span></span> | |
| <span data-ttu-id="60f1a-845">COLLECTEDLIST (criteria range1 string, criteria value1 string \[, criteria range2 string, criteria value2 string, …\])</span><span class="sxs-lookup"><span data-stu-id="60f1a-845">COLLECTEDLIST (criteria range1 string, criteria value1 string \[, criteria range2 string, criteria value2 string, …\])</span></span> | <span data-ttu-id="60f1a-846">在此格式运行且满足指定条件（范围和值）时，返回为 XML 节点收集的值的列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-846">Return the list of values that was collected for XML nodes when the format was run, and that satisfies the specified conditions (a range and value).</span></span> <span data-ttu-id="60f1a-847">在当前文件的**收集输出详细信息**标记关闭时返回空列表。</span><span class="sxs-lookup"><span data-stu-id="60f1a-847">Return an empty list when the **Collect output details** flag of the current files is turned off.</span></span> | |

### <a name="other-business-domainspecific-functions"></a><span data-ttu-id="60f1a-848">其他（业务域特定的）函数</span><span class="sxs-lookup"><span data-stu-id="60f1a-848">Other (business domain–specific) functions</span></span>

| <span data-ttu-id="60f1a-849">职能</span><span class="sxs-lookup"><span data-stu-id="60f1a-849">Function</span></span> | <span data-ttu-id="60f1a-850">说明</span><span class="sxs-lookup"><span data-stu-id="60f1a-850">Description</span></span> | <span data-ttu-id="60f1a-851">示例</span><span class="sxs-lookup"><span data-stu-id="60f1a-851">Example</span></span> |
|----------|-------------|---------|
| <span data-ttu-id="60f1a-852">CONVERTCURRENCY（金额，源币种，目标币种，日期，格式）</span><span class="sxs-lookup"><span data-stu-id="60f1a-852">CONVERTCURRENCY (amount, source currency, target currency, date, company)</span></span> | <span data-ttu-id="60f1a-853">通过使用指定日期的指定 Finance and Operations 公司的设置，将指定的货币金额从指定源币种转换为指定目标币种。</span><span class="sxs-lookup"><span data-stu-id="60f1a-853">Convert the specified monetary amount from the specified source currency to the specified target currency by using the settings of the specified Finance and Operations company on the specified date.</span></span> | <span data-ttu-id="60f1a-854">**CONVERTCURRENCY (1, "EUR", "USD", TODAY(), "DEMF")** 基于 DEMF 公司的设置返回当前会话日期一欧元的等额美元。</span><span class="sxs-lookup"><span data-stu-id="60f1a-854">**CONVERTCURRENCY (1, "EUR", "USD", TODAY(), "DEMF")** returns the equivalent of one euro in US dollars on the current session date, based on settings for the DEMF company.</span></span> |
| <span data-ttu-id="60f1a-855">ROUNDAMOUNT（数字，小数位，舍入规则）</span><span class="sxs-lookup"><span data-stu-id="60f1a-855">ROUNDAMOUNT (number, decimals, round rule)</span></span> | <span data-ttu-id="60f1a-856">根据指定的舍入规则将指定金额舍入为指定小数位数。</span><span class="sxs-lookup"><span data-stu-id="60f1a-856">Round the specified amount to the specified number of decimal places according to the specified rounding rule.</span></span><blockquote>[!NOTE] <span data-ttu-id="60f1a-857">舍入规则必须指定为 Finance and Operations **RoundOffType** 枚举的值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-857">The rounding rule must be specified as a value of the Finance and Operations **RoundOffType** enumeration.</span></span></blockquote> | <span data-ttu-id="60f1a-858">如果 **model.RoundOff** 参数设置为 **Downward**，**ROUNDAMOUNT (1000.787, 2, model.RoundOff)** 返回值 **1000.78**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-858">If the **model.RoundOff** parameter is set to **Downward**, **ROUNDAMOUNT (1000.787, 2, model.RoundOff)** returns the value **1000.78**.</span></span> <span data-ttu-id="60f1a-859">如果 **model.RoundOff** 参数设置为 **Normal** 或 **Rounding-up**，**ROUNDAMOUNT (1000.787, 2, model.RoundOff)** 返回值 **1000.79**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-859">If the **model.RoundOff** parameter is set to either **Normal** or **Rounding-up**, **ROUNDAMOUNT (1000.787, 2, model.RoundOff)** returns the value **1000.79**.</span></span> |
| <span data-ttu-id="60f1a-860">CURCredRef（位数）</span><span class="sxs-lookup"><span data-stu-id="60f1a-860">CURCredRef (digits)</span></span> | <span data-ttu-id="60f1a-861">基于指定发票编号的数字返回贷方引用。</span><span class="sxs-lookup"><span data-stu-id="60f1a-861">Return a creditor reference, based on the digits of the specified invoice number.</span></span> | <span data-ttu-id="60f1a-862">**CURCredRef ("VEND-200002")** 返回 **"2200002"**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-862">**CURCredRef ("VEND-200002")** returns **"2200002"**.</span></span> |
| <span data-ttu-id="60f1a-863">MOD\_97（位数）</span><span class="sxs-lookup"><span data-stu-id="60f1a-863">MOD\_97 (digits)</span></span> | <span data-ttu-id="60f1a-864">基于指定发票编号的数字返回贷方引用为 MOD97 表达式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-864">Return a creditor reference as a MOD97 expression, based on the digits of the specified invoice number.</span></span> | <span data-ttu-id="60f1a-865">**MOD\_97 ("VEND-200002")** 返回 **"20000285"**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-865">**MOD\_97 ("VEND-200002")** returns **"20000285"**.</span></span> |
| <span data-ttu-id="60f1a-866">ISOCredRef（位数）</span><span class="sxs-lookup"><span data-stu-id="60f1a-866">ISOCredRef (digits)</span></span> | <span data-ttu-id="60f1a-867">基于指定发票编号的数字和字母符号返回国际标准化组织 (ISO) 贷方引用。</span><span class="sxs-lookup"><span data-stu-id="60f1a-867">Return an International Organization for Standardization (ISO) creditor reference, based on the digits and alphabetic symbols of the specified invoice number.</span></span><blockquote>[!NOTE] <span data-ttu-id="60f1a-868">若要从不是 ISO 兼容的字母表中清除符号，输入参数必须在传递给此函数前转换。</span><span class="sxs-lookup"><span data-stu-id="60f1a-868">To eliminate symbols from alphabets that aren't ISO-compliant, the input parameter must be translated before it's passed to this function.</span></span></blockquote> | <span data-ttu-id="60f1a-869">**ISOCredRef ("VEND-200002")** 返回 **"RF23VEND-200002"**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-869">**ISOCredRef ("VEND-200002")** returns **"RF23VEND-200002"**.</span></span> |
| <span data-ttu-id="60f1a-870">CN\_GBT\_AdditionalDimensionID （字符串，数字）</span><span class="sxs-lookup"><span data-stu-id="60f1a-870">CN\_GBT\_AdditionalDimensionID (string, number)</span></span> | <span data-ttu-id="60f1a-871">获取指定的额外财务维度 ID。</span><span class="sxs-lookup"><span data-stu-id="60f1a-871">Get the specified additional financial dimension ID.</span></span> <span data-ttu-id="60f1a-872">在 **string** 参数中，维度在此字符串中显示为以逗号分隔的 ID。</span><span class="sxs-lookup"><span data-stu-id="60f1a-872">In the **string** parameter, dimensions are represented as IDs that are separated by commas.</span></span> <span data-ttu-id="60f1a-873">**number** 参数定义字符串中所请求维度的序列代码。</span><span class="sxs-lookup"><span data-stu-id="60f1a-873">The **number** parameter defines the sequence code of the requested dimension in the string.</span></span> | <span data-ttu-id="60f1a-874">**CN\_GBT\_AdditionalDimensionID ("AA,BB,CC,DD,EE,FF,GG,HH",3)** 返回 **"CC"**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-874">**CN\_GBT\_AdditionalDimensionID ("AA,BB,CC,DD,EE,FF,GG,HH",3)** returns **"CC"**.</span></span> |
| <span data-ttu-id="60f1a-875">GetCurrentCompany ()</span><span class="sxs-lookup"><span data-stu-id="60f1a-875">GetCurrentCompany ()</span></span> | <span data-ttu-id="60f1a-876">返回用户目前已登录到的法人（公司）的代码的文本表示形式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-876">Return a text representation of the code for the legal entity (company) that a user is currently signed in to.</span></span> | <span data-ttu-id="60f1a-877">**GETCURRENTCOMPANY ()** 为在 Finance and Operations 中已登录 的 **Contoso Entertainment System USA** 公司的用户返回 **USMF**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-877">**GETCURRENTCOMPANY ()** returns **USMF** for a user who is signed in to the **Contoso Entertainment System USA** company in Finance and Operations.</span></span> |
| <span data-ttu-id="60f1a-878">CH\_BANK\_MOD\_10（位数）</span><span class="sxs-lookup"><span data-stu-id="60f1a-878">CH\_BANK\_MOD\_10 (digits)</span></span> | <span data-ttu-id="60f1a-879">基于指定发票编号的数字返回贷方引用为 MOD10 表达式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-879">Return a creditor reference as an MOD10 expression, based on the digits of the specified invoice number.</span></span> | <span data-ttu-id="60f1a-880">**CH\_BANK\_MOD\_10 ("VEND-200002")** 返回 **3**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-880">**CH\_BANK\_MOD\_10 ("VEND-200002")** returns **3**.</span></span> |
| <span data-ttu-id="60f1a-881">FA\_SUM（固定资产代码，值模型代码，开始日期，结束日期）</span><span class="sxs-lookup"><span data-stu-id="60f1a-881">FA\_SUM (fixed asset code, value model code, start date, end date)</span></span> | <span data-ttu-id="60f1a-882">返回指定期间的固定资产金额的准备的数据容器。</span><span class="sxs-lookup"><span data-stu-id="60f1a-882">Return the prepared data container of the fixed asset amount for the specified period.</span></span> | <span data-ttu-id="60f1a-883">**FA\_SUM ("COMP-000001", "Current", Date1, Date2)** 返回具有值模型 **Current** 的固定资产 **"COMP-000001"** 从 **Date1** 到 **Date2** 期间的已准备的数据容器。</span><span class="sxs-lookup"><span data-stu-id="60f1a-883">**FA\_SUM ("COMP-000001", "Current", Date1, Date2)** returns the prepared data container of fixed asset **"COMP-000001"** that has the **"Current"** value model for a period from **Date1** to **Date2**.</span></span> |
| <span data-ttu-id="60f1a-884">FA\_BALANCE（固定资产代码，值模型代码，报告年度，报告日期）</span><span class="sxs-lookup"><span data-stu-id="60f1a-884">FA\_BALANCE (fixed asset code, value model code, reporting year, reporting date)</span></span> | <span data-ttu-id="60f1a-885">返回固定资产余额的准备的数据容器。</span><span class="sxs-lookup"><span data-stu-id="60f1a-885">Return the prepared data container of the fixed asset balance.</span></span> <span data-ttu-id="60f1a-886">报告年度必须在 Finance and Operations 中指定为 **AssetYear** 枚举的值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-886">The reporting year must be specified as a value of the **AssetYear** enumeration in Finance and Operations.</span></span> | <span data-ttu-id="60f1a-887">**FA\_SUM ("COMP-000001", "Current", AxEnumAssetYear.ThisYear, SESSIONTODAY ())** 返回具有值模型 **Current** 的固定资产 **"COMP-000001"** 的余额在当前 Finance and Operations 会话日期的准备的数据容器。</span><span class="sxs-lookup"><span data-stu-id="60f1a-887">**FA\_SUM ("COMP-000001", "Current", AxEnumAssetYear.ThisYear, SESSIONTODAY ())** returns the prepared data container of balances for fixed asset **"COMP-000001"** that has the **"Current"** value model on the current Finance and Operations session date.</span></span> |
| <span data-ttu-id="60f1a-888">TABLENAME2ID（字符串）</span><span class="sxs-lookup"><span data-stu-id="60f1a-888">TABLENAME2ID (string)</span></span> | <span data-ttu-id="60f1a-889">为指定表名返回表 ID 的整数表示形式。</span><span class="sxs-lookup"><span data-stu-id="60f1a-889">Return an integer representation of a table ID for the specified table name.</span></span> | <span data-ttu-id="60f1a-890">**TABLENAME2ID ("Intrastat")** 返回 **1510**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-890">**TABLENAME2ID ("Intrastat")** returns **1510**.</span></span> |
| <span data-ttu-id="60f1a-891">ISVALIDCHARACTERISO7064（字符串）</span><span class="sxs-lookup"><span data-stu-id="60f1a-891">ISVALIDCHARACTERISO7064 (string)</span></span> | <span data-ttu-id="60f1a-892">当指定字符串表示有效的国际银行帐号 (IBAN) 时，返回布尔值 **TRUE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-892">Return the Boolean value **TRUE** when the specified string represents a valid international bank account number (IBAN).</span></span> <span data-ttu-id="60f1a-893">否则，返回布尔值 **FALSE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-893">Otherwise, return the Boolean value **FALSE**.</span></span> | <span data-ttu-id="60f1a-894">**ISVALIDCHARACTERISO7064 ("AT61 1904 3002 3457 3201")** 返回 **TRUE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-894">**ISVALIDCHARACTERISO7064 ("AT61 1904 3002 3457 3201")** returns **TRUE**.</span></span> <span data-ttu-id="60f1a-895">**ISVALIDCHARACTERISO7064 ("AT61")** 返回 **FALSE**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-895">**ISVALIDCHARACTERISO7064 ("AT61")** returns **FALSE**.</span></span> |
| <span data-ttu-id="60f1a-896">NUMSEQVALUE（编号规则代码、作用域、作用域 ID）</span><span class="sxs-lookup"><span data-stu-id="60f1a-896">NUMSEQVALUE (number sequence code, scope, scope id)</span></span> | <span data-ttu-id="60f1a-897">基于指定的编号规则代码、作用域和作用域 ID 返回新生成的编号规则值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-897">Return the new generated value of a number sequence, based on the specified number sequence code, scope, and scope ID.</span></span> <span data-ttu-id="60f1a-898">作用域必须指定为 **ERExpressionNumberSequenceScopeType**枚举（**共享**、**法人**或**公司**）的值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-898">The scope must be specified as a value of the **ERExpressionNumberSequenceScopeType** enumeration (**Shared**, **Legal entity**, or **Company**).</span></span> <span data-ttu-id="60f1a-899">对于**共享**作用域，指定一个空字符串作为作用域 ID。</span><span class="sxs-lookup"><span data-stu-id="60f1a-899">For the **Shared** scope, specify an empty string as the scope ID.</span></span> <span data-ttu-id="60f1a-900">对于**公司**和**法人**作用域，指定公司代码作为作用域 ID。</span><span class="sxs-lookup"><span data-stu-id="60f1a-900">For the **Company** and **Legal entity** scopes, specify the company code as the scope ID.</span></span> <span data-ttu-id="60f1a-901">对于**公司**和**法人**作用域，如果您指定空字符串作为作用域 ID，则将使用当前的公司代码。</span><span class="sxs-lookup"><span data-stu-id="60f1a-901">For the **Company** and **Legal entity** scopes, if you specify an empty string as the scope ID, the current company code is used.</span></span> | <span data-ttu-id="60f1a-902">在模型映射中定义以下数据源：</span><span class="sxs-lookup"><span data-stu-id="60f1a-902">You define the following data sources in your model mapping:</span></span><ul><li><span data-ttu-id="60f1a-903">**enumScope**（**Dynamics 365 for Operations 枚举**类型），引用 **ERExpressionNumberSequenceScopeType** 枚举</span><span class="sxs-lookup"><span data-stu-id="60f1a-903">**enumScope** (**Dynamics 365 for Operations enumeration** type), which refers to the **ERExpressionNumberSequenceScopeType** enumeration</span></span></li><li><span data-ttu-id="60f1a-904">**NumSeq**（**计算字段**类型），包含表达式 **NUMSEQVALUE ("Gene\_1", enumScope.Company, "")**</span><span class="sxs-lookup"><span data-stu-id="60f1a-904">**NumSeq** (**Calculated field** type), which contains the expression **NUMSEQVALUE ("Gene\_1", enumScope.Company, "")**</span></span></li></ul><span data-ttu-id="60f1a-905">在调用 **NumSeq** 数据源时，将返回为提供 ER 格式在其中运行的上下文的公司配置的 **Gene\_1** 编号规则的新生成值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-905">When the **NumSeq** data source is called, it returns the new generated value of the **Gene\_1** number sequence that has been configured for the company that supplies the context that the ER format is run under.</span></span> |
| <span data-ttu-id="60f1a-906">NUMSEQVALUE（编号规则代码）</span><span class="sxs-lookup"><span data-stu-id="60f1a-906">NUMSEQVALUE (number sequence code)</span></span> | <span data-ttu-id="60f1a-907">基于指定的编号规则、**公司**作用域，以及提供 ER 格式在其中运行的上下文的公司的代码（作为作用域 ID）返回新生成的编号规则值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-907">Return the new generated value of a number sequence, based on the specified number sequence, the **Company** scope, and (as the scope ID) the code of the company that supplies the context that is ER format is run under.</span></span> | <span data-ttu-id="60f1a-908">您在模型映射中定义以下数据源：**NumSeq**（**计算字段**类型）。</span><span class="sxs-lookup"><span data-stu-id="60f1a-908">You define the following data source in your model mapping: **NumSeq** (**Calculated field** type).</span></span> <span data-ttu-id="60f1a-909">此数据源包含表达式 **NUMSEQVALUE ("Gene\_1")**。</span><span class="sxs-lookup"><span data-stu-id="60f1a-909">This data source contains the expression **NUMSEQVALUE ("Gene\_1")**.</span></span> <span data-ttu-id="60f1a-910">在调用 **NumSeq** 数据源时，将返回为提供 ER 格式在其中运行的上下文的公司配置的 **Gene\_1** 编号规则的新生成值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-910">When the **NumSeq** data source is called, it returns the new generated value of the **Gene\_1** number sequence that has been configured for the company that supplies the context that the ER format is run under.</span></span> |
| <span data-ttu-id="60f1a-911">NUMSEQVALUE（编号规则记录 ID）</span><span class="sxs-lookup"><span data-stu-id="60f1a-911">NUMSEQVALUE (number sequence record ID)</span></span> | <span data-ttu-id="60f1a-912">基于指定的编号规则记录 ID 返回新生成的编号规则值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-912">Return the new generated value of a number sequence, based on the specified number sequence record ID.</span></span> | <span data-ttu-id="60f1a-913">在模型映射中定义以下数据源：</span><span class="sxs-lookup"><span data-stu-id="60f1a-913">You define the following data sources in your model mapping:</span></span><ul><li><span data-ttu-id="60f1a-914">**LedgerParms**（**表**类型），引用的是 LedgerParameters 表</span><span class="sxs-lookup"><span data-stu-id="60f1a-914">**LedgerParms** (**Table** type), which refers to the LedgerParameters table</span></span></li><li><span data-ttu-id="60f1a-915">**NumSeq**（**计算字段**类型），包含表达式 **NUMSEQVALUE (LedgerParameters.'numRefJournalNum()'.NumberSequenceId)**</span><span class="sxs-lookup"><span data-stu-id="60f1a-915">**NumSeq** (**Calculated field** type), which contains the expression **NUMSEQVALUE (LedgerParameters.'numRefJournalNum()'.NumberSequenceId)**</span></span></li></ul><span data-ttu-id="60f1a-916">在调用 **NumSeq** 数据源时，将返回在提供 ER 格式在其中运行的上下文的公司的总帐参数中配置的编号规则的新生成值。</span><span class="sxs-lookup"><span data-stu-id="60f1a-916">When the **NumSeq** data source is called, it returns the new generated value of the number sequence that has been configured in the General ledger parameters for the company that supplies the context that the ER format is run under.</span></span> <span data-ttu-id="60f1a-917">此编号规则唯一标识日记帐，并充当将交易记录链接在一起的批号。</span><span class="sxs-lookup"><span data-stu-id="60f1a-917">This number sequence uniquely identifies journals and acts as a batch number that links the transactions together.</span></span> |

### <a name="functions-list-extension"></a><span data-ttu-id="60f1a-918">函数的列表扩展</span><span class="sxs-lookup"><span data-stu-id="60f1a-918">Functions list extension</span></span>

<span data-ttu-id="60f1a-919">ER 允许您扩展 ER 表达式中使用的函数列表的功能。</span><span class="sxs-lookup"><span data-stu-id="60f1a-919">ER lets you extend the list of functions that are used in ER expressions.</span></span> <span data-ttu-id="60f1a-920">需要执行一些工程工作。</span><span class="sxs-lookup"><span data-stu-id="60f1a-920">Some engineering effort is required.</span></span> <span data-ttu-id="60f1a-921">有关详细信息，请参阅[扩展电子申报查询功能的列表](general-electronic-reporting-formulas-list-extension.md)。</span><span class="sxs-lookup"><span data-stu-id="60f1a-921">For detailed information, see [Extending the list of Electronic reporting functions](general-electronic-reporting-formulas-list-extension.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="60f1a-922">其他资源</span><span class="sxs-lookup"><span data-stu-id="60f1a-922">Additional resources</span></span>

- [<span data-ttu-id="60f1a-923">电子申报概览</span><span class="sxs-lookup"><span data-stu-id="60f1a-923">Electronic Reporting overview</span></span>](general-electronic-reporting.md)
- [<span data-ttu-id="60f1a-924">扩展电子申报 (ER) 功能的列表</span><span class="sxs-lookup"><span data-stu-id="60f1a-924">Extend the list of Electronic reporting (ER) functions</span></span>](general-electronic-reporting-formulas-list-extension.md)

