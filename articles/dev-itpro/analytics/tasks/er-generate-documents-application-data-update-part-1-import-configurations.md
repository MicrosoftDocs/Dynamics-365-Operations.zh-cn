--- 
title: "针对电子申报 (ER) 导入配置以通过更新应用程序生成单据"
description: "为了完成此过程中的步骤，您必须首先完成“ER 创建配置提供商并标记为有效”这一过程。"
author: NickSelin
manager: AnnBe
ms.date: 11/02/2017
ms.topic: business-process
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
audience: Application User
ms.reviewer: kfend
ms.search.scope: Operations
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: 5d4f57ae2a309d9e15c1afe60c3e91d7d7eb3870
ms.openlocfilehash: 6a945eb6c733d760cc723bfa7135d73bdf502724
ms.contentlocale: zh-cn
ms.lasthandoff: 11/02/2017

---
# <a name="import-configurations-to-generate-documents-with-application-data-update-for-electronic-reporting-er"></a>针对电子申报 (ER) 导入配置以通过更新应用程序生成单据

[!include[task guide banner](../../includes/task-guide-banner.md)]

为了完成此过程中的步骤，您必须首先完成“ER 创建配置提供商并标记为有效”这一过程。

此过程中的步骤介绍如何设计电子申报 (ER) 配置以生成电子单据。 在此过程中，将导入已为示例公司 Litware 公司创建的所需 ER 配置，并用于生成电子单据。 此过程是为向其分配了系统管理员角色或电子申报开发人员角色的用户创建的。 可使用 DEMF 数据集完成这些步骤。 首先，下载并保存帮助主题“使用 ER 工具生成电子单据和更新应用程序数据”(generate-electronic-documents-update-application-data/) 中列出的文件。 这些文件是内部统计（模型）.xml、内部统计（映射）.xml 和内部统计（格式）.xml。

1. 转到“组织管理”>“工作区”>“电子申报”。
    * 确保示例公司 Litware 公司的配置提供程序可用且标记为“有效”。 如果没有看到此配置提供程序，请首先完成“创建配置提供程序并标记为有效”这一过程中的步骤。  
    * 此过程中的步骤显示如何使用 ER 功能完成应用程序数据更新和如何生成内部统计报告。 报告流程的详细信息存档到应用程序表中。 目前从内部统计窗体激活内部统计报告流程时，将基于现有源代码中编程的逻辑完成存档。 在此过程中，将仅使用 ER 框架配置相似但经过简化的应用程序数据逻辑。 将不更改源代码。   

## <a name="import-er-configurations"></a>导入 ER 配置
1. 单击“申报配置”。
2. 单击“交换”。
3. 单击“从 XML 文件加载”。
    * 导入 ER 模型配置，其中包含一个数据模型，设计为用作生成内部统计报告的数据源。 然后，您将扩展此数据模型定义，以便将其用于应用程序数据更新来存档内部统计报告流程的详细信息。   
    * 单击“浏览”并选择内部统计（模型）.xml 文件。  
4. 单击“确定”。
5. 在树中，选择“内部统计(模型)”。
6. 单击“设计器”。
7. 在树中，展开“用于传出单据”。
8. 在树中，展开“用于传出单据\交易记录”。
    * 检查所导入数据模型的结构。 请注意，定义根项“用于传出单据”是为了指定用于从应用程序获取数据并将其用作数据源以生成内部统计报告的数据流。 “交易记录(记录列表)”用于表示必须报告的内部统计交易记录的列表。 由于您将存档报告的商品代码，所以此数据流中需要单个商品代码“商品记录标识(Int64)”的唯一标识符。   
9. 关闭该页面。
10. 单击“交换”。
11. 单击“从 XML 文件加载”。
    * 导入用于指定以下用途的 ER 映射配置：从应用程序获取数据，然后将其用于生成内部统计报表。 然后，您将扩展此模型映射定义，以便从内部统计报表获取数据，并将其用于应用程序数据更新来存档内部统计报告流程的详细信息。   
    * 单击“浏览”并选择内部统计（映射）.xml 文件。  
12. 单击“确定”。
13. 在树中，展开“内部统计(模型)”。
14. 在树中，选择“内部统计(模型)\内部统计(映射)”。
15. 单击“设计器”。
    * 请注意，当前模型映射中的“方向”字段内包含值“截止模型”。 这意味着此模型映射已设计为从应用程序获取数据，然后将其存储到数据模型中。  
16. 单击“设计器”。
17. 在树中，展开“列表”。
18. 在树中，展开“交易记录 = 列表”。
    * 检查使用基于根项“用于传出单据”筛选的数据模型的模型映射的结构。 请注意，添加的数据源“列表”提供对所需应用程序的访问权限，这是来自内部统计表的记录的列表。  
19. 关闭该页面。
20. 关闭该页面。
21. 单击“交换”。
22. 单击“从 XML 文件加载”。
    * 导入用于指定内部统计报表的布局和将数据填充到报表的流程的 ER 格式配置。 然后，您将扩展此格式定义，以便将来自内部统计报表的数据放入数据模型，并将其用于更新应用程序数据更新来存档内部统计报告流程的详细信息。   
    * 单击“浏览”并选择内部统计（格式）.xml 文件。  
23. 单击“确定”。
24. 在树中，选择“内部统计(模型)\内部统计(格式)”。
25. 单击“设计器”。
26. 单击”展开/折叠“。
27. 在树中，选择“文件\申报”。
28. 单击“映射”选项卡。
29. 在树中，选择“文件”。
    * 检查用于生成内部统计报表的格式的结构。 请注意，这设计为通过填充来自数据模型的数据生成 XML 文件，该文件基于根项“用于传出单据”。 验证用户对话框窗体（为其使用了“fn”数据源）中是否定义了所生成文件的名称。   
30. 关闭该页面。


