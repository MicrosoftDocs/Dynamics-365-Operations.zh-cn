---
title: 财务报表中的报告结构树定义
description: 本文提供了有关报告结构树定义的信息。 报告结构树定义是报表组件或构造基块，可帮助定义组织的结构和层次结构。
author: ShylaThompson
manager: AnnBe
ms.date: 01/11/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: FinancialReports
audience: Application User
ms.reviewer: shylaw
ms.search.scope: Core, Operations
ms.custom: 57592
ms.assetid: 747faa47-9a23-4277-bc11-8d0a1267c3a4
ms.search.region: Global
ms.author: aolson
ms.search.validFrom: 2016-05-31
ms.dyn365.ops.version: AX 7.0.1
ms.openlocfilehash: 00219f21076af60f8e2f16ca365b1138bb279400
ms.sourcegitcommit: 9d4c7edd0ae2053c37c7d81cdd180b16bf3a9d3b
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/15/2019
ms.locfileid: "1553863"
---
# <a name="reporting-tree-definitions-in-financial-reports"></a><span data-ttu-id="e913a-104">财务报表中的报告结构树定义</span><span class="sxs-lookup"><span data-stu-id="e913a-104">Reporting tree definitions in financial reports</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="e913a-105">本文提供了有关报告结构树定义的信息。</span><span class="sxs-lookup"><span data-stu-id="e913a-105">This article provides information about reporting tree definitions.</span></span> <span data-ttu-id="e913a-106">报告结构树定义是报表组件或构造基块，可帮助定义组织的结构和层次结构。</span><span class="sxs-lookup"><span data-stu-id="e913a-106">A reporting tree definition is a report component, or building block, that helps define the structure and hierarchy of your organization.</span></span>

<span data-ttu-id="e913a-107">财务报告支持灵活报告，以便在您的业务结构发生变化时您可以轻松进行更改。</span><span class="sxs-lookup"><span data-stu-id="e913a-107">Financial reporting supports flexible reporting, so that you can easily make changes as your business structure changes.</span></span> <span data-ttu-id="e913a-108">报表通过不同的组件或构建基块构建。</span><span class="sxs-lookup"><span data-stu-id="e913a-108">Reports are built from various components, or building blocks.</span></span> <span data-ttu-id="e913a-109">这些构建基块之一是报告结构树定义。</span><span class="sxs-lookup"><span data-stu-id="e913a-109">One of these building blocks is a reporting tree definition.</span></span> <span data-ttu-id="e913a-110">报告结构树定义帮助定义您组织的结构和层次结构。</span><span class="sxs-lookup"><span data-stu-id="e913a-110">A reporting tree definition helps define the structure and hierarchy of your organization.</span></span> <span data-ttu-id="e913a-111">这是基于财务数据中的维度关系的跨维层次结构。</span><span class="sxs-lookup"><span data-stu-id="e913a-111">It's a cross-dimensional hierarchical structure that is based on the dimensional relationships in your financial data.</span></span> <span data-ttu-id="e913a-112">它在报告单位级别和摘要级别为结构树中的所有单位提供信息。</span><span class="sxs-lookup"><span data-stu-id="e913a-112">It provides information at the reporting unit level and at a summary level for all units in the tree.</span></span> <span data-ttu-id="e913a-113">可将报告结构树定义与列定义和报表定义组合以创建可由多个公司使用的构建基块组。</span><span class="sxs-lookup"><span data-stu-id="e913a-113">Reporting tree definitions can be combined with column definitions and report definitions, to create a building block group that can be used by multiple companies.</span></span> <span data-ttu-id="e913a-114">为组织结构图中的每个框使用一个报告单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-114">A reporting unit is used for each box in an organizational chart.</span></span> <span data-ttu-id="e913a-115">一个报告单位可以是财务数据中一个单独的部门，也可以是将其他报告单位的信息组合在一起的较高级别的汇总单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-115">A reporting unit can be an individual department from the financial data, or it can be a higher-level summary unit that combines information from other reporting units.</span></span> <span data-ttu-id="e913a-116">对于包含报告结构树的报表定义，为每个报告单位和汇总级别生成一个报表。</span><span class="sxs-lookup"><span data-stu-id="e913a-116">For a report definition that includes a reporting tree, one report is generated for each reporting unit and for the summary level.</span></span> <span data-ttu-id="e913a-117">除非报表定义指定应使用来自行定义的报告结构树，否则所有这些报表将使用报表定义中指定的行和列定义。</span><span class="sxs-lookup"><span data-stu-id="e913a-117">All these reports use the row and column definitions that are specified in the report definition, unless the report definition specifies that the reporting tree from the row definition should be used.</span></span> <span data-ttu-id="e913a-118">行和列定义是财务报表中的设计和功能的重要组件。</span><span class="sxs-lookup"><span data-stu-id="e913a-118">Row and column definitions are important components in the design and functionality of financial reports.</span></span> <span data-ttu-id="e913a-119">在业务结构发生更改时，报告结构树会增强组件的功能并支持灵活报告。</span><span class="sxs-lookup"><span data-stu-id="e913a-119">Reporting trees increase the power of the components and support flexible reporting as the business structure changes.</span></span> <span data-ttu-id="e913a-120">未基于报告结构树的财务报表仅使用财务报告的部分功能。</span><span class="sxs-lookup"><span data-stu-id="e913a-120">Financial reports that aren't based on a reporting tree use only some of the capabilities of financial reporting.</span></span> <span data-ttu-id="e913a-121">您可以使用多个报告结构树定义以及相同行和列定义来以各种方式查看组织的数据。</span><span class="sxs-lookup"><span data-stu-id="e913a-121">You can use multiple reporting tree definitions together with the same row and column definitions to view your organization's data in various ways.</span></span>

## <a name="reporting-tree-best-practices"></a><span data-ttu-id="e913a-122">报告结构树最佳实践</span><span class="sxs-lookup"><span data-stu-id="e913a-122">Reporting tree best practices</span></span>
<span data-ttu-id="e913a-123">在创建报告结构树之前，请考虑以下最佳实践：</span><span class="sxs-lookup"><span data-stu-id="e913a-123">Before you create a reporting tree, consider the following best practices:</span></span>

- <span data-ttu-id="e913a-124">首先，确定法人或公司所需的报告维度。</span><span class="sxs-lookup"><span data-stu-id="e913a-124">First determine which reporting dimensions your legal entity or company requires.</span></span>
- <span data-ttu-id="e913a-125">考虑如何设置结构，然后绘制您公司的组织结构图。</span><span class="sxs-lookup"><span data-stu-id="e913a-125">Consider how you've set up your structure, and then draw an organizational chart of your company.</span></span> <span data-ttu-id="e913a-126">组织结构图将帮助您以直观方式显示如何将报告单位分组到一个或多个报告树中。</span><span class="sxs-lookup"><span data-stu-id="e913a-126">The organizational chart will help you visualize how to group the reporting units into one or more reporting trees.</span></span>
- <span data-ttu-id="e913a-127">从最低的可用详细信息级别开始，例如财务数据中定义的部门和项目。</span><span class="sxs-lookup"><span data-stu-id="e913a-127">Start with the lowest available level of detail, such as the departments and projects that are defined in the financial data.</span></span> <span data-ttu-id="e913a-128">将所需数目的框添加到详细信息级别以显示较高级别的分部或地区。</span><span class="sxs-lookup"><span data-stu-id="e913a-128">Add as many boxes to the level of detail as are require to show higher-level divisions or regions.</span></span> <span data-ttu-id="e913a-129">每个框均表示您创建的任何报告结构树中的一个潜在报告单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-129">Each box represents a potential reporting unit in any reporting tree that you create.</span></span>
- <span data-ttu-id="e913a-130">您还必须考虑生成树的最佳方式。</span><span class="sxs-lookup"><span data-stu-id="e913a-130">You must also consider the best way to build your trees.</span></span> <span data-ttu-id="e913a-131">您可以使用自动化的流程来生成报告结构树，也可以手动创建报告结构树。</span><span class="sxs-lookup"><span data-stu-id="e913a-131">You can use an automated build process to generate a reporting tree, or you can manually create a reporting tree.</span></span> <span data-ttu-id="e913a-132">在您设计树之前，了解这两种方法很重要。</span><span class="sxs-lookup"><span data-stu-id="e913a-132">It's important that you understand both methods before you design your trees.</span></span>
- <span data-ttu-id="e913a-133">您可以使用财务数据系统中定义的报告单位将报告单位添加到报告结构树定义。</span><span class="sxs-lookup"><span data-stu-id="e913a-133">You can use the reporting units that are defined in your financial data system to add reporting units to the reporting tree definition.</span></span>

## <a name="create-multiple-reporting-trees"></a><span data-ttu-id="e913a-134"> 创建多个报告结构树</span><span class="sxs-lookup"><span data-stu-id="e913a-134">Create multiple reporting trees</span></span>
<span data-ttu-id="e913a-135">您可以创建数量不限的报告结构树来以各种方式查看组织的数据。</span><span class="sxs-lookup"><span data-stu-id="e913a-135">You can create an unlimited number of reporting trees to view your organization's data in various ways.</span></span> <span data-ttu-id="e913a-136">每个报告树可以包含部门和汇总单位的任意组合。</span><span class="sxs-lookup"><span data-stu-id="e913a-136">Each reporting tree can contain any combination of departments and summary units.</span></span> <span data-ttu-id="e913a-137">报表定义一次只能包含一个指向报告结构树的链接。</span><span class="sxs-lookup"><span data-stu-id="e913a-137">A report definition can contain a link to only one reporting tree at a time.</span></span> <span data-ttu-id="e913a-138">通过重新安排报告单位的结构，可以创建不同的报告结构树。</span><span class="sxs-lookup"><span data-stu-id="e913a-138">By rearranging the structure of the reporting units, you can create different reporting trees.</span></span> <span data-ttu-id="e913a-139">然后可以为每个报告结构树使用相同的行和列定义。</span><span class="sxs-lookup"><span data-stu-id="e913a-139">You can then use the same row and column definitions for each reporting tree.</span></span> <span data-ttu-id="e913a-140">以这种方式，您可以快速创建不同的财务报表布局。</span><span class="sxs-lookup"><span data-stu-id="e913a-140">In this manner, you can quickly create different financial report layouts.</span></span> <span data-ttu-id="e913a-141">如果您创建多个报告结构树，您可以每个月打印一系列财务报表来以各种方式分析和呈现公司的运营。</span><span class="sxs-lookup"><span data-stu-id="e913a-141">If you create multiple reporting trees, you can print a series of financial statements each month that analyze and present your company's operations in various ways.</span></span> <span data-ttu-id="e913a-142">有关详细信息，请参阅本文结尾的报告单位结构示例。</span><span class="sxs-lookup"><span data-stu-id="e913a-142">For more information, see the examples of reporting unit structures at the end of this article.</span></span>

## <a name="create-a-reporting-tree-definition"></a><span data-ttu-id="e913a-143"> 创建报告结构树定义</span><span class="sxs-lookup"><span data-stu-id="e913a-143">Create a reporting tree definition</span></span>
<span data-ttu-id="e913a-144">报告结构树定义包含下表中描述的列。</span><span class="sxs-lookup"><span data-stu-id="e913a-144">A reporting tree definition contains the columns that are described in the following table.</span></span>

| <span data-ttu-id="e913a-145">报告结构树列</span><span class="sxs-lookup"><span data-stu-id="e913a-145">Reporting tree column</span></span> | <span data-ttu-id="e913a-146">说明</span><span class="sxs-lookup"><span data-stu-id="e913a-146">Description</span></span> |
|-----------------------|-------------|
| <span data-ttu-id="e913a-147">公司</span><span class="sxs-lookup"><span data-stu-id="e913a-147">Company</span></span>               | <span data-ttu-id="e913a-148">报告单位的公司名称。</span><span class="sxs-lookup"><span data-stu-id="e913a-148">The company name for the reporting unit.</span></span> <span data-ttu-id="e913a-149">**@ANY**值（通常只分派给汇总级别）允许将报告树用于所有公司。</span><span class="sxs-lookup"><span data-stu-id="e913a-149">The **@ANY** value, which is typically assigned only to the summary level, enables the reporting tree to be used for all companies.</span></span> <span data-ttu-id="e913a-150">所有子分支都会分得一个公司。</span><span class="sxs-lookup"><span data-stu-id="e913a-150">All child branches have a company assigned to them.</span></span> |
| <span data-ttu-id="e913a-151">单位名称</span><span class="sxs-lookup"><span data-stu-id="e913a-151">Unit Name</span></span>             | <span data-ttu-id="e913a-152">用于在图形报告结构树中标识此报告单位的代码。</span><span class="sxs-lookup"><span data-stu-id="e913a-152">The code that identifies this reporting unit in the graphical reporting tree.</span></span> <span data-ttu-id="e913a-153">请一定要建立一个一致的而且便于用户理解的唯一编码系统。</span><span class="sxs-lookup"><span data-stu-id="e913a-153">Be sure to establish a unique coding system that is consistent, and that will be easy for users to understand.</span></span> |
| <span data-ttu-id="e913a-154">单位描述</span><span class="sxs-lookup"><span data-stu-id="e913a-154">Unit Description</span></span>      | <span data-ttu-id="e913a-155">如果您输入 **UnitDesc** 作为报表定义的**页眉和页脚**选项卡上的代码，则报告单位标题将显示在报表页面或页脚中。</span><span class="sxs-lookup"><span data-stu-id="e913a-155">The reporting unit title appears in the report header or footer if you enter **UnitDesc** as a code on the **Headers and Footers** tab of the report definition.</span></span> <span data-ttu-id="e913a-156">如果在行定义的**描述**单元格中输入 **UnitDesc**，则标题将显示在报表行描述中。</span><span class="sxs-lookup"><span data-stu-id="e913a-156">The title appears in the report row description if you enter **UnitDesc** in the **Description** cell of the row definition.</span></span> |
| <span data-ttu-id="e913a-157">维度</span><span class="sxs-lookup"><span data-stu-id="e913a-157">Dimensions</span></span>            | <span data-ttu-id="e913a-158">直接从财务数据中提取信息的报告单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-158">A reporting unit that draws information directly from the financial data.</span></span> <span data-ttu-id="e913a-159">它定义帐户和相关细分市场的逻辑定位和长度。</span><span class="sxs-lookup"><span data-stu-id="e913a-159">It defines the logical positioning and lengths for the account and related segments.</span></span> <span data-ttu-id="e913a-160">每个报告单位行必须在此列具有维度。</span><span class="sxs-lookup"><span data-stu-id="e913a-160">Every reporting unit row must have a dimension in this column.</span></span> <span data-ttu-id="e913a-161">您还可以将维度放置在汇总单位行（例如，与该单位直接有关的费用）。</span><span class="sxs-lookup"><span data-stu-id="e913a-161">You can also put a dimension in a summary unit row (for example, for expenses that are directly related to that unit).</span></span> <span data-ttu-id="e913a-162">如果您在汇总单位行中输入维度，则不应在子单位中使用父单位中使用的帐户。</span><span class="sxs-lookup"><span data-stu-id="e913a-162">If you enter a dimension in a summary unit row, accounts that are used in parent units should not be used in child units.</span></span> <span data-ttu-id="e913a-163">否则，金额可能会出现重复。</span><span class="sxs-lookup"><span data-stu-id="e913a-163">Otherwise, amounts might be duplicated.</span></span> |
| <span data-ttu-id="e913a-164">行定义</span><span class="sxs-lookup"><span data-stu-id="e913a-164">Row Definitions</span></span>       | <span data-ttu-id="e913a-165">报告单位的行定义的名称。</span><span class="sxs-lookup"><span data-stu-id="e913a-165">The name of the row definition for the reporting unit.</span></span> <span data-ttu-id="e913a-166">将对报告树中的每个单位使用相同的行定义。</span><span class="sxs-lookup"><span data-stu-id="e913a-166">The same row definition is used for each unit of the reporting tree.</span></span> <span data-ttu-id="e913a-167">生成报表时，将对每个报告单位使用此行定义。</span><span class="sxs-lookup"><span data-stu-id="e913a-167">When you generate a report, this row definition is used for each reporting unit.</span></span> <span data-ttu-id="e913a-168">行定义可以包括多个财务维度链接。</span><span class="sxs-lookup"><span data-stu-id="e913a-168">The row definition can include multiple financial dimensions links.</span></span> <span data-ttu-id="e913a-169">如果在报告结构树中指定行定义，则选择报表定义的**报表**选项卡上的**使用报告结构树中的行定义**复选框。</span><span class="sxs-lookup"><span data-stu-id="e913a-169">If a row definition is specified in the reporting tree, select the **Use row definition from reporting tree** check box on the **Report** tab of the report definition.</span></span> |
| <span data-ttu-id="e913a-170">行链接</span><span class="sxs-lookup"><span data-stu-id="e913a-170">Row link</span></span>              | <span data-ttu-id="e913a-171">要用于报告单位的行链接。</span><span class="sxs-lookup"><span data-stu-id="e913a-171">The row link to use for the reporting unit.</span></span> <span data-ttu-id="e913a-172">为行定义定义行链接可标识要链接到的财务维度。</span><span class="sxs-lookup"><span data-stu-id="e913a-172">Row links are defined for the row definition to identify the financial dimensions to link to.</span></span> |
| <span data-ttu-id="e913a-173">外部链接</span><span class="sxs-lookup"><span data-stu-id="e913a-173">External link</span></span>         | <span data-ttu-id="e913a-174">要用于此报告单位的行链接。</span><span class="sxs-lookup"><span data-stu-id="e913a-174">The row link to use for this reporting unit.</span></span> <span data-ttu-id="e913a-175">为行定义定义行链接以标识要链接到的报表。</span><span class="sxs-lookup"><span data-stu-id="e913a-175">Row links are defined for the row definition to identify the report to link to.</span></span> |
| <span data-ttu-id="e913a-176">外部文件</span><span class="sxs-lookup"><span data-stu-id="e913a-176">External file</span></span>         | <span data-ttu-id="e913a-177">从中提取数据的财务报告工作表的文件路径。</span><span class="sxs-lookup"><span data-stu-id="e913a-177">The file path of the financial reporting worksheet to pull data from.</span></span> |
| <span data-ttu-id="e913a-178">页面选项</span><span class="sxs-lookup"><span data-stu-id="e913a-178">Page Options</span></span>          | <span data-ttu-id="e913a-179">此列控制在查看或打印报表时是否取消报告单位的详细信息。</span><span class="sxs-lookup"><span data-stu-id="e913a-179">This column controls whether the details for the reporting unit are suppressed when the report is viewed or printed.</span></span> |
| <span data-ttu-id="e913a-180">累积百分比</span><span class="sxs-lookup"><span data-stu-id="e913a-180">Rollup %</span></span>              | <span data-ttu-id="e913a-181">应分配给父单位的报告单位的百分比。</span><span class="sxs-lookup"><span data-stu-id="e913a-181">The percentage of the reporting unit that should be allocated to the parent unit.</span></span> <span data-ttu-id="e913a-182">在将行中的值添加到父报表之前，您在此列中输入的百分比适用于行定义的每个行。</span><span class="sxs-lookup"><span data-stu-id="e913a-182">The percentage that you enter in this column applies to each row of the row definition before the value in the row is added to the parent report.</span></span> <span data-ttu-id="e913a-183">例如，如果必须在两个部门之间均匀划分子单位，则会先将每个行中的金额乘以 50%，然后再将该值添加到部门报表。</span><span class="sxs-lookup"><span data-stu-id="e913a-183">For example, if a child unit must be divided evenly between two departments, the amounts in each row are multiplied by 50 percent before the value is added to the department report.</span></span> <span data-ttu-id="e913a-184">一个报告单位不能具有两个父单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-184">One reporting unit can't have two parent units.</span></span> <span data-ttu-id="e913a-185">要将一个报告单位中的金额分配给两个父单位，可创建另一个具有相同维度的报告单位以累积额外的 50%。</span><span class="sxs-lookup"><span data-stu-id="e913a-185">To allocate the amounts from a reporting unit to two parent units, create another reporting unit that has the same dimension to roll up the additional 50 percent.</span></span> <span data-ttu-id="e913a-186">键入完整百分比（不带小数点）。</span><span class="sxs-lookup"><span data-stu-id="e913a-186">Enter whole percentages without a decimal point.</span></span> <span data-ttu-id="e913a-187">例如，**25** 表示 25% 分配给父单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-187">For example, **25** represents 25-percent allocation to the parent.</span></span> <span data-ttu-id="e913a-188">如果包含小数点 (**.25**)，0.25% 分配给父单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-188">If you include a decimal point (**.25**), 0.25 percent is allocated to the parent.</span></span> <span data-ttu-id="e913a-189">要使用小于 1% 的百分比，可使用报表定义中的**允许累积 &lt;1%** 选项。</span><span class="sxs-lookup"><span data-stu-id="e913a-189">To use a percentage that is less than 1 percent, use the **Allow Rollup &lt;1%** option in the report definition.</span></span> <span data-ttu-id="e913a-190">此选项位于**报表设置**对话框中的**其他选项**选项卡上。</span><span class="sxs-lookup"><span data-stu-id="e913a-190">This option is on the **Additional Options** tab in the **Report Settings** dialog box.</span></span> <span data-ttu-id="e913a-191">从报表定义的**设置**选项卡上的**其他**按钮访问此对话框。</span><span class="sxs-lookup"><span data-stu-id="e913a-191">You access this dialog box from the **Other** button on the **Settings** tab of the report definition.</span></span> |
| <span data-ttu-id="e913a-192">单位安全性</span><span class="sxs-lookup"><span data-stu-id="e913a-192">Unit Security</span></span>         | <span data-ttu-id="e913a-193">有关哪些用户和组可访问报告单位的信息的限制。</span><span class="sxs-lookup"><span data-stu-id="e913a-193">Restrictions on the users and groups that can access the information for the reporting unit.</span></span> |
| <span data-ttu-id="e913a-194">附加文本</span><span class="sxs-lookup"><span data-stu-id="e913a-194">Additional Text</span></span>       | <span data-ttu-id="e913a-195">包括在报表中的文本。</span><span class="sxs-lookup"><span data-stu-id="e913a-195">Text that is included on the report.</span></span> |

<span data-ttu-id="e913a-196">要创建报告结构树定义，请完成以下步骤。</span><span class="sxs-lookup"><span data-stu-id="e913a-196">To create a reporting tree definition, follow these steps.</span></span>

1. <span data-ttu-id="e913a-197">打开报表设计器。</span><span class="sxs-lookup"><span data-stu-id="e913a-197">Open Report Designer.</span></span>
2. <span data-ttu-id="e913a-198">单击**文件** &gt; **新建** &gt; **报告结构树定义**。</span><span class="sxs-lookup"><span data-stu-id="e913a-198">Click **File** &gt; **New** &gt; **Reporting Tree Definition**.</span></span>
3. <span data-ttu-id="e913a-199">单击**编辑**&gt; **从维度插入报告单位**。</span><span class="sxs-lookup"><span data-stu-id="e913a-199">Click **Edit** &gt; **Insert Reporting Units from Dimensions**.</span></span>
4. <span data-ttu-id="e913a-200">在**从维度插入报告单位**对话框中，选中要包含在报告结构树中的每个维度的复选框。</span><span class="sxs-lookup"><span data-stu-id="e913a-200">In the **Insert Reporting Units from Dimensions** dialog box, select the check box for each dimension to include in the reporting tree.</span></span> <span data-ttu-id="e913a-201">**从维度插入报告单位**对话框包含以下部分。</span><span class="sxs-lookup"><span data-stu-id="e913a-201">The **Insert Reporting Units from Dimensions** dialog box contains the following sections.</span></span>

    | <span data-ttu-id="e913a-202">节</span><span class="sxs-lookup"><span data-stu-id="e913a-202">Section</span></span>                          | <span data-ttu-id="e913a-203">说明</span><span class="sxs-lookup"><span data-stu-id="e913a-203">Description</span></span> |
    |----------------------------------|-------------|
    | <span data-ttu-id="e913a-204">报告维度细分</span><span class="sxs-lookup"><span data-stu-id="e913a-204">Reporting dimension segmentation</span></span> | <span data-ttu-id="e913a-205">使用**拆分科目段**和**合并科目段**按钮可更改科目段的数量和长度。</span><span class="sxs-lookup"><span data-stu-id="e913a-205">Use the **Split Segments** and **Combine Segments** buttons to change the number and length of segments.</span></span><blockquote>[!NOTE] <span data-ttu-id="e913a-206">您只能合并已拆分的科目段。</span><span class="sxs-lookup"><span data-stu-id="e913a-206">You can combine only segments that you've split.</span></span> <span data-ttu-id="e913a-207">要合并多个维度，可在维度值中使用通配符。</span><span class="sxs-lookup"><span data-stu-id="e913a-207">To combine multiple dimensions, use wildcard characters in your dimension values.</span></span></blockquote> |
    | <span data-ttu-id="e913a-208">包括/字符位置</span><span class="sxs-lookup"><span data-stu-id="e913a-208">Include/Character position</span></span>       | <span data-ttu-id="e913a-209">此部分列出了财务数据中定义的维度并显示为每个维度定义的最长值中的字符数。</span><span class="sxs-lookup"><span data-stu-id="e913a-209">This section lists the dimensions that are defined in the financial data and shows the number of characters in the longest value that is defined for each dimension.</span></span> <span data-ttu-id="e913a-210">选中维度的这个复选框以在报告结构树层次结构中包括该维度。</span><span class="sxs-lookup"><span data-stu-id="e913a-210">Select the check box for a dimension to include that dimension in the reporting tree hierarchy.</span></span> |
    | <span data-ttu-id="e913a-211">细分层次结构和范围</span><span class="sxs-lookup"><span data-stu-id="e913a-211">Segment hierarchy and ranges</span></span>     | <span data-ttu-id="e913a-212">此部分显示维度层次结构。</span><span class="sxs-lookup"><span data-stu-id="e913a-212">This section shows the dimension hierarchy.</span></span> <span data-ttu-id="e913a-213">您可以移动列表中的维度来更改其报告顺序。</span><span class="sxs-lookup"><span data-stu-id="e913a-213">You can move the dimensions in the list to change their reporting order.</span></span> <span data-ttu-id="e913a-214">在**起始维度**和**结束维度**字段中，指定每个维度中的值的范围。</span><span class="sxs-lookup"><span data-stu-id="e913a-214">In the **From Dimension** and **To Dimension** fields, you can specify a range of values in each dimension.</span></span> <span data-ttu-id="e913a-215">如果您不指定一个范围，所有维度值都将插入报告结构树。</span><span class="sxs-lookup"><span data-stu-id="e913a-215">If you don't specify a range, all dimension values are inserted into the reporting tree.</span></span><blockquote>[!NOTE] <span data-ttu-id="e913a-216">如果您使用了多个维度，结果中将只返回已发布的维度组合。</span><span class="sxs-lookup"><span data-stu-id="e913a-216">If you're using more than one dimension, only dimension combinations that have been posted to are returned in the results.</span></span></blockquote> |

    <span data-ttu-id="e913a-217">要获取显示**从维度插入报告单位**对话框示例的屏幕截图，请参阅本文下文中的“‘从维度插入报告单位’对话框的示例”部分。</span><span class="sxs-lookup"><span data-stu-id="e913a-217">For a screen shot that shows an example of the **Insert Reporting Units from Dimensions** dialog box, see the "Example of the Insert Reporting Units from Dimensions dialog box" section later in this article.</span></span>

5. <span data-ttu-id="e913a-218">要创建其他段（例如，将一个段拆分成两个较短的段），请在**字符位置**字段中单击正确的位置，然后单击**拆分段**。</span><span class="sxs-lookup"><span data-stu-id="e913a-218">To create additional segments (for example, by split one segment into two shorter segments), click the correct location in a **Character position** field, and then click **Split Segments**.</span></span>
6. <span data-ttu-id="e913a-219">要将两个段合并为一个段，请单击要合并段的任一段框，然后单击**合并段**。</span><span class="sxs-lookup"><span data-stu-id="e913a-219">To merge two segments into one segment, click in either of the segment boxes to merge, and then click **Combine Segments**.</span></span>
7. <span data-ttu-id="e913a-220">层次结构定义维度如何相互报告和每个维度的范围。</span><span class="sxs-lookup"><span data-stu-id="e913a-220">The hierarchy defines how dimensions report to each other and the range for each dimension.</span></span> <span data-ttu-id="e913a-221">要在**段层次结构和范围**区域中更改维度的层次结构，请选择要移动的维度，然后单击**上移**或**下移**。</span><span class="sxs-lookup"><span data-stu-id="e913a-221">To change the hierarchy of the dimensions, in the **Segment hierarchy and ranges** area, select the dimension to move, and then click **Move Up** or **Move Down**.</span></span>
8. <span data-ttu-id="e913a-222">要指定要添加到新报告结构树的维度值的范围，请在**细分层次结构和范围**区域中，执行以下步骤：</span><span class="sxs-lookup"><span data-stu-id="e913a-222">To specify a range of dimension values to add to the new reporting tree, in the **Segment hierarchy and ranges** area, follow these steps:</span></span>

    1. <span data-ttu-id="e913a-223">在该维度的**起始维度**字段中，输入范围中的第一个值。</span><span class="sxs-lookup"><span data-stu-id="e913a-223">In the **From Dimension** field for that dimension, enter the first value in the range.</span></span>
    2. <span data-ttu-id="e913a-224">在**结束维度**字段中，输入范围内的最后一个值。</span><span class="sxs-lookup"><span data-stu-id="e913a-224">In the **To Dimension** field, enter the last value in the range.</span></span>

9. <span data-ttu-id="e913a-225">对于**段层次结构和范围**区域中的每个维度，重复步骤 7 和 8。</span><span class="sxs-lookup"><span data-stu-id="e913a-225">Repeat steps 7 through 8 for each dimension in the **Segment hierarchy and ranges** area.</span></span>
10. <span data-ttu-id="e913a-226">在定义完将报告单位引入新报告结构树的方式后，单击**确定**。</span><span class="sxs-lookup"><span data-stu-id="e913a-226">After you've finished defining how your reporting units should be brought into the new reporting tree, click **OK**.</span></span>
11. <span data-ttu-id="e913a-227">单击**文件** &gt; **保存**以保存报告结构树。</span><span class="sxs-lookup"><span data-stu-id="e913a-227">Click **File** &gt; **Save** to save the reporting tree.</span></span> <span data-ttu-id="e913a-228">为报告结构树输入一个唯一的名称和描述，然后单击**确定**。</span><span class="sxs-lookup"><span data-stu-id="e913a-228">Enter a unique name and description for the reporting tree, and then click **OK**.</span></span>

### <a name="open-an-existing-reporting-tree-definition"></a><span data-ttu-id="e913a-229">打开现有报告结构树定义</span><span class="sxs-lookup"><span data-stu-id="e913a-229">Open an existing reporting tree definition</span></span>

1. <span data-ttu-id="e913a-230">在报表设计器的导航窗格中，单击**报告结构树定义**。</span><span class="sxs-lookup"><span data-stu-id="e913a-230">In Report Designer, click **Reporting Tree Definitions** in the navigation pane.</span></span>
2. <span data-ttu-id="e913a-231">双击报告结构树列表中的名称以打开报告结构树。</span><span class="sxs-lookup"><span data-stu-id="e913a-231">Double-click a name in the reporting tree list to open it.</span></span>
3. <span data-ttu-id="e913a-232">要查看与报告结构树关联的任何构建基块，请右键单击报告结构树定义，然后选择**关联**。</span><span class="sxs-lookup"><span data-stu-id="e913a-232">To view any building blocks that are associated with the reporting tree, right-click the reporting tree definition, and then select **Associations**.</span></span>

### <a name="roll-up-data-in-a-reporting-tree"></a><span data-ttu-id="e913a-233">累积报告结构树中的数据</span><span class="sxs-lookup"><span data-stu-id="e913a-233">Roll up data in a reporting tree</span></span>

<span data-ttu-id="e913a-234">在使用报告结构树时，您可以在父报告单位级别聚合子报告单位中的金额。</span><span class="sxs-lookup"><span data-stu-id="e913a-234">When you use a reporting tree, you can aggregate amounts from child reporting units at the level of the parent reporting unit.</span></span> <span data-ttu-id="e913a-235">此聚合称为累积数据。</span><span class="sxs-lookup"><span data-stu-id="e913a-235">This aggregation is known as rolling up the data.</span></span> <span data-ttu-id="e913a-236">以下规则用于将金额累积到报告结构树中的父单位：</span><span class="sxs-lookup"><span data-stu-id="e913a-236">The following rules are used to roll up amounts to parent units in a reporting tree:</span></span>

- <span data-ttu-id="e913a-237">在报告结构树中，子单位必须包含维度，除非报告结构树是单级别树。</span><span class="sxs-lookup"><span data-stu-id="e913a-237">In a reporting tree, child units must contain dimensions, unless the reporting tree is a single-level tree.</span></span> <span data-ttu-id="e913a-238">父单位在报表结构树中通常不包含维度。</span><span class="sxs-lookup"><span data-stu-id="e913a-238">Parent units usually don't contain dimensions in a reporting tree.</span></span>

    > [!NOTE]
    > <span data-ttu-id="e913a-239">如果指定子单位和父单位的维度，可能导致报表中的数据重复。</span><span class="sxs-lookup"><span data-stu-id="e913a-239">If you specify dimensions for both child units and parent units, you might cause duplication of data in the report.</span></span>

- <span data-ttu-id="e913a-240">在报告结构树包含维度的报告单位对应于在行和列定义中使用的维度。</span><span class="sxs-lookup"><span data-stu-id="e913a-240">Reporting units that contain dimensions in the reporting tree correspond to the dimensions that are used in the row and column definitions.</span></span> <span data-ttu-id="e913a-241">维度的组合确定为该单位返回的金额。</span><span class="sxs-lookup"><span data-stu-id="e913a-241">The combination of dimensions determines the amounts that are returned for that unit.</span></span> <span data-ttu-id="e913a-242">例如，在本文稍后的示例 2 中，行 6 和 7 仅分别返回部门 00 和 01 的值。</span><span class="sxs-lookup"><span data-stu-id="e913a-242">For example, in example 2 later in this article, lines 6 and 7 return values only for departments 00 and 01, respectively.</span></span>
- <span data-ttu-id="e913a-243">在报告结构树中不包含维度的父报告单位的金额由子单位报表确定，并且将金额累积到指定的父单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-243">The amounts for parent reporting units that don't contain dimensions in the reporting tree are determined from the child unit report and roll up the amount to the specified parent unit.</span></span> <span data-ttu-id="e913a-244">例如，如果父单位（请参阅累积数据示例 2 中的“Contoso 美国”）具有两个子单位（022 和 023）且不包含维度，则为每个子单位和父单位生成一个报表。</span><span class="sxs-lookup"><span data-stu-id="e913a-244">For example, if the parent unit (see Contoso USA in example 2 of data roll-up examples) has two child units (022 and 023) and doesn't contain dimensions, a report is generated for each child and the parent.</span></span> <span data-ttu-id="e913a-245">父总计是两个子金额的和。</span><span class="sxs-lookup"><span data-stu-id="e913a-245">The parent total is the sum of the two child amounts.</span></span>

### <a name="manage-reporting-units"></a><span data-ttu-id="e913a-246">管理报告单位</span><span class="sxs-lookup"><span data-stu-id="e913a-246">Manage reporting units</span></span>

<span data-ttu-id="e913a-247">每个报告结构树定义在唯一视图中显示。</span><span class="sxs-lookup"><span data-stu-id="e913a-247">Each reporting tree definition is displayed in unique views.</span></span> <span data-ttu-id="e913a-248">有一个显示父/子层次结构的图形视图和一个显示每个报告单位的特定信息的工作表视图。</span><span class="sxs-lookup"><span data-stu-id="e913a-248">There is a graphical view that shows the parent/child hierarchy and a worksheet view that shows the specific information for each reporting unit.</span></span> <span data-ttu-id="e913a-249">图形视图和工作表视图是关联的。</span><span class="sxs-lookup"><span data-stu-id="e913a-249">The graphical view and the worksheet view are connected.</span></span> <span data-ttu-id="e913a-250">如果在一个视图中选择一个报告单位，则也会在另一个视图中选择此报告单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-250">When you select a reporting unit in one view, it's also selected in the other view.</span></span> <span data-ttu-id="e913a-251">可以根据财务数据中的维度关系来生成跨维层次结构。</span><span class="sxs-lookup"><span data-stu-id="e913a-251">You can build cross-dimensional hierarchies that are based on the dimensional relationships in the financial data.</span></span> <span data-ttu-id="e913a-252">在创建报告结构树定义时，可以多次使用相同的行定义，无论您是生成部门收入报表还是合并的汇总收入报表。</span><span class="sxs-lookup"><span data-stu-id="e913a-252">When you create a reporting tree definition, you can use the same row definitions multiple times, regardless of whether you're generating a departmental income statement or a consolidated summary income statement.</span></span> <span data-ttu-id="e913a-253">在行定义中定义的维度可与报告结构树定义中的维度合并，以提供您组织的绩效的各种视图。</span><span class="sxs-lookup"><span data-stu-id="e913a-253">The dimensions that are defined in the row definition can be combined with dimensions in the reporting tree definition to provide various views of your organization's performance.</span></span>

### <a name="reporting-unit-structure"></a><span data-ttu-id="e913a-254"> 报告单位结构</span><span class="sxs-lookup"><span data-stu-id="e913a-254">Reporting unit structure</span></span>

<span data-ttu-id="e913a-255">在财务报告中使用以下类型的报告单位：</span><span class="sxs-lookup"><span data-stu-id="e913a-255">The following types of reporting units are used in financial reporting:</span></span>

- <span data-ttu-id="e913a-256">详细信息单位直接从财务数据、Excel 工作表或其他财务报告工作表中提取信息。</span><span class="sxs-lookup"><span data-stu-id="e913a-256">A detail unit draws information directly from the financial data, from an Excel worksheet, or from another financial reporting worksheet.</span></span>
- <span data-ttu-id="e913a-257">汇总单位将汇总较低级别单位中的数据。</span><span class="sxs-lookup"><span data-stu-id="e913a-257">A summary unit summarizes data from lower-level units.</span></span>

<span data-ttu-id="e913a-258">父报告单位是用于聚合详细信息单位中的汇总信息的汇总单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-258">A parent reporting unit is a summary unit that aggregates summarized information from a detail unit.</span></span> <span data-ttu-id="e913a-259">汇总单位可以是详细信息单元和汇总单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-259">A summary unit can be both a detail unit and a summary unit.</span></span> <span data-ttu-id="e913a-260">因此，汇总单位可以从较低级别单位、财务数据或 Excel 工作表提取信息。</span><span class="sxs-lookup"><span data-stu-id="e913a-260">Therefore, a summary unit can draw information from a lower-level unit, the financial data, or an Excel worksheet.</span></span> <span data-ttu-id="e913a-261">父单位可以是较高级的父单位的子单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-261">A parent unit can be the child unit of a higher-level parent unit.</span></span> <span data-ttu-id="e913a-262">子报告单位可以是直接从财务数据或 Excel 工作表中提取信息的详细信息单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-262">A child reporting unit can be a detail unit that pulls information directly from the financial data or an Excel worksheet.</span></span> <span data-ttu-id="e913a-263">子报告单位还可以是中间汇总单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-263">A child reporting unit can also be an intermediate summary unit.</span></span> <span data-ttu-id="e913a-264">换句话说，它可以是较低级单位的上级单位，也可以是较高级汇总单位的子单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-264">In other words, it can be the parent unit of a lower-level unit and also the child unit of a higher-level summary unit.</span></span> <span data-ttu-id="e913a-265">报告单位的最常见方案中，父单位在**维度**列中具有空的单元格，且子单位具有指向特定的或通配符维度组合的链接。</span><span class="sxs-lookup"><span data-stu-id="e913a-265">In the most common scenario for reporting units, parent units have a blank cell in the **Dimensions** column, and child units have links to specific or wildcard dimension combinations.</span></span>

### <a name="organize-reporting-units"></a><span data-ttu-id="e913a-266"> 组织报告单位</span><span class="sxs-lookup"><span data-stu-id="e913a-266">Organize reporting units</span></span>

<span data-ttu-id="e913a-267">通过移动图形视图中的报告单位，你可以重新排列报告树定义的组织结构。</span><span class="sxs-lookup"><span data-stu-id="e913a-267">You can rearrange the organizational structure of a reporting tree definition by moving reporting units in the graphical view.</span></span> <span data-ttu-id="e913a-268">您还可以在报告结构树中将报告单位提升到更高的级别，或将其降到更低级别。</span><span class="sxs-lookup"><span data-stu-id="e913a-268">You can also promote reporting units to a higher level in the reporting tree or demote them to a lower level.</span></span>

1. <span data-ttu-id="e913a-269">在报表设计器中，打开要修改的报告结构树定义。</span><span class="sxs-lookup"><span data-stu-id="e913a-269">In Report Designer, open the reporting tree definition to modify.</span></span>
2. <span data-ttu-id="e913a-270">在报告结构树定义的图形视图中，选择一个报告单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-270">In the graphical view of the reporting tree definition, select a reporting unit.</span></span>
3. <span data-ttu-id="e913a-271">将单位拖动到新位置。</span><span class="sxs-lookup"><span data-stu-id="e913a-271">Drag the unit to a new position.</span></span> <span data-ttu-id="e913a-272">或者，右键单击单位并选择**升级报告单位**或**降级报告单位**。</span><span class="sxs-lookup"><span data-stu-id="e913a-272">Alternatively, right-click the unit, and then select **Promote Reporting Unit** or **Demote Reporting Unit**.</span></span>
4. <span data-ttu-id="e913a-273">单击**文件** &gt; **保存**以保存您的更改。</span><span class="sxs-lookup"><span data-stu-id="e913a-273">Click **File** &gt; **Save** to save your changes.</span></span>

### <a name="add-text-about-a-reporting-unit"></a><span data-ttu-id="e913a-274"> 添加有关报告单位的文本</span><span class="sxs-lookup"><span data-stu-id="e913a-274">Add text about a reporting unit</span></span>

<span data-ttu-id="e913a-275">附加的文本条目为静态文本字符串（最多 255 个字符），该字符串将信息添加到报告结构树定义。</span><span class="sxs-lookup"><span data-stu-id="e913a-275">An additional text entry is a static text string of up to 255 characters that adds information to the reporting tree definition.</span></span> <span data-ttu-id="e913a-276">例如，附加的文本可以是简短的公司描述。</span><span class="sxs-lookup"><span data-stu-id="e913a-276">For example, the additional text can be a short company description.</span></span> <span data-ttu-id="e913a-277">可在报告结构树定义中为每个报告单位创建最多 10 个附加文本条目。</span><span class="sxs-lookup"><span data-stu-id="e913a-277">You can create up to ten additional text entries for each reporting unit in a reporting tree definition.</span></span> <span data-ttu-id="e913a-278">附加文本显示在将文本分配到的报告单位的报表中。</span><span class="sxs-lookup"><span data-stu-id="e913a-278">The additional text appears on the report for the reporting unit that the text is assigned to.</span></span> <span data-ttu-id="e913a-279">可以添加来自行定义的**描述**列和报表定义中的**页眉和页脚**选项卡的文本条目。</span><span class="sxs-lookup"><span data-stu-id="e913a-279">You can add text entries from the **Description** column of the row definition, and from the **Headers and Footers** tab in the report definition.</span></span>

1. <span data-ttu-id="e913a-280">在报表设计器中，打开要修改的报告结构树定义。</span><span class="sxs-lookup"><span data-stu-id="e913a-280">In Report Designer, open the reporting tree definition to modify.</span></span>
2. <span data-ttu-id="e913a-281">双击报告单位行的**附加文本**单元格。</span><span class="sxs-lookup"><span data-stu-id="e913a-281">Double-click the **Additional Text** cell for the reporting unit row.</span></span>
3. <span data-ttu-id="e913a-282">在**附加文本**对话框的第一个空白行中，输入文本。</span><span class="sxs-lookup"><span data-stu-id="e913a-282">In the **Additional Text** dialog box, in the first empty row, enter the text.</span></span> <span data-ttu-id="e913a-283">第一个包含文本的行被视作 UnitText1，无论其在**附加文本**对话框中的位置如何。</span><span class="sxs-lookup"><span data-stu-id="e913a-283">The first row that contains text is referenced as UnitText1, regardless of its position in the **Additional Text** dialog box.</span></span>
4. <span data-ttu-id="e913a-284">要为此报告单位添加更多文本条目，请在空白行中输入文本。</span><span class="sxs-lookup"><span data-stu-id="e913a-284">To add more text entries for this reporting unit, enter the text in an empty row.</span></span>
5. <span data-ttu-id="e913a-285">单击**OK**。</span><span class="sxs-lookup"><span data-stu-id="e913a-285">Click **OK**.</span></span>

### <a name="remove-additional-text-from-a-reporting-unit"></a><span data-ttu-id="e913a-286">从报告单位中删除附加文本</span><span class="sxs-lookup"><span data-stu-id="e913a-286">Remove additional text from a reporting unit</span></span>

1. <span data-ttu-id="e913a-287">在报表设计器中，打开要修改的报告树定义。</span><span class="sxs-lookup"><span data-stu-id="e913a-287">In Report Designer, open the reporting tree definition to modify.</span></span>
2. <span data-ttu-id="e913a-288">双击报告单位行的**附加文本**单元格。</span><span class="sxs-lookup"><span data-stu-id="e913a-288">Double-click the **Additional Text** cell for the reporting unit row.</span></span>
3. <span data-ttu-id="e913a-289">在**附加文本**对话框中，选择要删除的条目，然后单击**清除**。</span><span class="sxs-lookup"><span data-stu-id="e913a-289">In the **Additional Text** dialog box, select the entry to remove, and then click **Clear**.</span></span> <span data-ttu-id="e913a-290">或右键单击该条目，然后选择**剪切**。</span><span class="sxs-lookup"><span data-stu-id="e913a-290">Alternatively, right-click the entry, and then select **Cut**.</span></span>
4. <span data-ttu-id="e913a-291">单击**OK**。</span><span class="sxs-lookup"><span data-stu-id="e913a-291">Click **OK**.</span></span>

### <a name="restrict-access-to-a-reporting-unit"></a><span data-ttu-id="e913a-292">限制对报告单位的访问</span><span class="sxs-lookup"><span data-stu-id="e913a-292">Restrict access to a reporting unit</span></span>

<span data-ttu-id="e913a-293">您可以阻止某些用户和组访问报告单位，</span><span class="sxs-lookup"><span data-stu-id="e913a-293">You can prevent certain users and groups from accessing a reporting unit.</span></span> <span data-ttu-id="e913a-294">您还可以定义限制，使其适用于报告单位的子报告单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-294">You can also define restrictions so that they apply to child reporting units of the reporting unit.</span></span>

1. <span data-ttu-id="e913a-295">在报表设计器中，打开要修改的报告结构树定义。</span><span class="sxs-lookup"><span data-stu-id="e913a-295">In Report Designer, open the reporting tree definition to modify.</span></span>
2. <span data-ttu-id="e913a-296">双击要限制对其的访问权的报告单位行的**单位安全性**单元格。</span><span class="sxs-lookup"><span data-stu-id="e913a-296">Double-click the **Unit Security** cell for the reporting unit row to restrict access to.</span></span>
3. <span data-ttu-id="e913a-297">在**单位安全性**对话框中，单击**用户和组**。</span><span class="sxs-lookup"><span data-stu-id="e913a-297">In the **Unit Security** dialog box, click **Users and Groups**.</span></span>
4. <span data-ttu-id="e913a-298">选择应有权访问报告单位的用户或组，然后单击**确定**。</span><span class="sxs-lookup"><span data-stu-id="e913a-298">Select the users or groups that should have access to the reporting unit, and then click **OK**.</span></span>
5. <span data-ttu-id="e913a-299">要限制对子报告单位的访问，请选中**向子报告单位添加安全性**复选框。</span><span class="sxs-lookup"><span data-stu-id="e913a-299">To restrict access to child reporting units, select the **Add security to children reporting units** check box.</span></span>
6. <span data-ttu-id="e913a-300">单击**OK**。</span><span class="sxs-lookup"><span data-stu-id="e913a-300">Click **OK**.</span></span>

### <a name="remove-access-to-a-reporting-unit"></a><span data-ttu-id="e913a-301">取消对报告单位的访问权</span><span class="sxs-lookup"><span data-stu-id="e913a-301">Remove access to a reporting unit</span></span>

1. <span data-ttu-id="e913a-302">在报表设计器中，打开要修改的报告结构树定义。</span><span class="sxs-lookup"><span data-stu-id="e913a-302">In Report Designer, open the reporting tree definition to modify.</span></span>
2. <span data-ttu-id="e913a-303">双击要取消其访问权的报告单位行的**单位安全性**单元格。</span><span class="sxs-lookup"><span data-stu-id="e913a-303">Double-click the **Unit Security** cell for the reporting unit row to remove access to.</span></span>
3. <span data-ttu-id="e913a-304">在**单位安全性**对话框中，选择一个名称，然后单击**删除**。</span><span class="sxs-lookup"><span data-stu-id="e913a-304">In the **Unit Security** dialog box, select a name, and then click **Remove**.</span></span>
4. <span data-ttu-id="e913a-305">单击**OK**。</span><span class="sxs-lookup"><span data-stu-id="e913a-305">Click **OK**.</span></span>

### <a name="link-toreports"></a><span data-ttu-id="e913a-306">报表链接</span><span class="sxs-lookup"><span data-stu-id="e913a-306">Link to reports</span></span>

<span data-ttu-id="e913a-307">在行定义中创建 **报表**列并指定报表包含在该报表中后，您必须使用链接的列和有关报表的信息更新报告结构树。</span><span class="sxs-lookup"><span data-stu-id="e913a-307">After you've created a **report** column in the row definition and specified the report to include on the report, you must update the reporting tree with the linked column and the information about the report.</span></span> <span data-ttu-id="e913a-308">可将报表导入报告结构树中的任何单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-308">A report can be imported into any unit in the reporting tree.</span></span>

### <a name="identify-the-report-in-a-reporting-tree"></a><span data-ttu-id="e913a-309">在报告结构树中标识报表</span><span class="sxs-lookup"><span data-stu-id="e913a-309">Identify the report in a reporting tree</span></span>

1. <span data-ttu-id="e913a-310">在报表设计器中，打开要修改的报告结构树定义。</span><span class="sxs-lookup"><span data-stu-id="e913a-310">In Report Designer, open the reporting tree definition to modify.</span></span>
2. <span data-ttu-id="e913a-311">在**行定义**列中，单元格中的信息基于所选行的信息，因为必须在报告结构树的所有单位中使用相同的行定义。</span><span class="sxs-lookup"><span data-stu-id="e913a-311">In the **Row Definitions** column, the information in the cells is based on the information for the selected row, because the same row definition must be used in all units of the reporting tree.</span></span> <span data-ttu-id="e913a-312">双击**行定义**单元格，然后选择包含有关报表的信息的行定义。</span><span class="sxs-lookup"><span data-stu-id="e913a-312">Double-click the **Row Definitions** cell, and then select the row definition that contains information about the report.</span></span>
3. <span data-ttu-id="e913a-313">在报告单位的**工作表链接**单元格中，选择与报表对应的链接名称。</span><span class="sxs-lookup"><span data-stu-id="e913a-313">In the **Worksheet Link** cell for a reporting unit, select the link name that corresponds to the report.</span></span>
4. <span data-ttu-id="e913a-314">在报告单位的**工作簿或报表路径**单元格中，输入报表的名称或浏览以选择报表。</span><span class="sxs-lookup"><span data-stu-id="e913a-314">In the **Workbook or Report Path** cell for a reporting unit, enter the name of the report, or browse to select the report.</span></span>
5. <span data-ttu-id="e913a-315">要指定报表中的某个工作表，请在**工作表名称**单元格中输入该工作表的名称。</span><span class="sxs-lookup"><span data-stu-id="e913a-315">To specify a worksheet in a report, enter the name of the worksheet in the **Worksheet name** cell.</span></span>
6. <span data-ttu-id="e913a-316">对应接收来自报表的数据的每个报告单位重复步骤 3 到 5。</span><span class="sxs-lookup"><span data-stu-id="e913a-316">Repeat steps 3 through 5 for each reporting unit that should receive data from a report.</span></span> <span data-ttu-id="e913a-317">要阻止报表中出现错误的数据，请确保正确的报表名称显示在报告结构树的相应单位中。</span><span class="sxs-lookup"><span data-stu-id="e913a-317">To prevent incorrect data from appearing in your report, make sure that the correct report names appear in the corresponding unit of the reporting tree.</span></span>

## <a name="examples"></a><span data-ttu-id="e913a-318">示例</span><span class="sxs-lookup"><span data-stu-id="e913a-318">Examples</span></span>
### <a name="reporting-unit-structure--example-1"></a><span data-ttu-id="e913a-319">报告单位结构 – 示例 1</span><span class="sxs-lookup"><span data-stu-id="e913a-319">Reporting unit structure – Example 1</span></span>

<span data-ttu-id="e913a-320">此处是以下报告结构树中的报告单位：</span><span class="sxs-lookup"><span data-stu-id="e913a-320">Here is the structure of the reporting units in the following reporting tree:</span></span>

- <span data-ttu-id="e913a-321">Contoso 日本报告单位是 Contoso 日本销售和 Contoso 日本咨询子单位的父单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-321">The Contoso Japan reporting unit is a parent unit of the Contoso Japan Sales and Contoso Japan Consulting child units.</span></span>
- <span data-ttu-id="e913a-322">Contoso 日本分部单位既是Contoso 日本单位的子单位，又是 Home Sales 和 Auto Sales 单位的父单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-322">The Contoso Japan Sales division unit is both a child unit of the Contoso Japan unit, and a parent unit of the Home Sales and Auto Sales units.</span></span>
- <span data-ttu-id="e913a-323">最低级别的详细信息报告单位（Home Sales、Auto Sales、Client Services 和 Operations）代表财务数据中的部门。</span><span class="sxs-lookup"><span data-stu-id="e913a-323">The lowest-level detail reporting units (Home Sales, Auto Sales, Client Services, and Operations) represent departments in the financial data.</span></span> <span data-ttu-id="e913a-324">这些报告单位在图中的阴影区域中。</span><span class="sxs-lookup"><span data-stu-id="e913a-324">These reporting units are in the shaded area of the diagram.</span></span>
- <span data-ttu-id="e913a-325">更高级别的汇总单位汇总了详细信息单位中的信息。</span><span class="sxs-lookup"><span data-stu-id="e913a-325">The higher-level summary units summarize information from the detail units.</span></span>

<span data-ttu-id="e913a-326">[![ContosoEntertainmentSummaryReportStructure](./media/contosoentertainmentsummaryreportstructure.png)](./media/contosoentertainmentsummaryreportstructure.png)</span><span class="sxs-lookup"><span data-stu-id="e913a-326">[![ContosoEntertainmentSummaryReportStructure](./media/contosoentertainmentsummaryreportstructure.png)](./media/contosoentertainmentsummaryreportstructure.png)</span></span>

### <a name="reporting-unit-structure--example-2"></a><span data-ttu-id="e913a-327">报告单位结构 – 示例 2</span><span class="sxs-lookup"><span data-stu-id="e913a-327">Reporting unit structure – Example 2</span></span>

<span data-ttu-id="e913a-328">在下图中，报告结构树具有按业务职能划分的组织结构树。</span><span class="sxs-lookup"><span data-stu-id="e913a-328">In the following diagram, the reporting tree has an organizational structure that is divided by business function.</span></span>

<span data-ttu-id="e913a-329">[![summaryofallunitscontoso](./media/summaryofallunitscontoso.png)](./media/summaryofallunitscontoso.png)</span><span class="sxs-lookup"><span data-stu-id="e913a-329">[![summaryofallunitscontoso](./media/summaryofallunitscontoso.png)](./media/summaryofallunitscontoso.png)</span></span>

### <a name="example-of-the-insert-reporting-units-from-dimensions-dialog-box"></a><span data-ttu-id="e913a-330">“从维度插入报告单位”对话框的示例</span><span class="sxs-lookup"><span data-stu-id="e913a-330">Example of the Insert Reporting Units from Dimensions dialog box</span></span>

<span data-ttu-id="e913a-331">下图显示了**从维度插入报告单位**对话框的示例。</span><span class="sxs-lookup"><span data-stu-id="e913a-331">The following illustration shows an example of the **Insert Reporting Units from Dimensions** dialog box.</span></span> <span data-ttu-id="e913a-332">在本示例中，结果将返回业务单位、成本中心和部门的组合。</span><span class="sxs-lookup"><span data-stu-id="e913a-332">For this example, the results will return the combination of business units, cost centers, and departments.</span></span>

<span data-ttu-id="e913a-333">[![InsertReportingUnits](./media/insertreportingunits.png)](./media/insertreportingunits.png)</span><span class="sxs-lookup"><span data-stu-id="e913a-333">[![InsertReportingUnits](./media/insertreportingunits.png)](./media/insertreportingunits.png)</span></span>

<span data-ttu-id="e913a-334">结果报告结构树定义按业务单位排序，然后按成本中心，再然后按部门。</span><span class="sxs-lookup"><span data-stu-id="e913a-334">The resulting reporting tree definition is sorted by business unit, then by cost center, and then by department.</span></span> <span data-ttu-id="e913a-335">第五个报告单位的维度是**业务单位 = \[001\]、成本中心 =\[\]、部门 = \[022\]**，标识特定于业务单位 001 和部门 022 的帐户的报告单位。</span><span class="sxs-lookup"><span data-stu-id="e913a-335">The dimension for the fifth reporting unit is **Business Unit = \[001\], Cost Center =\[\], Department = \[022\]**, and identifies a reporting unit for accounts that are specific to business unit 001 and department 022.</span></span>

<span data-ttu-id="e913a-336">[![ReportingTree](./media/reportingtree-1024x646.png)](./media/reportingtree.png)</span><span class="sxs-lookup"><span data-stu-id="e913a-336">[![ReportingTree](./media/reportingtree-1024x646.png)](./media/reportingtree.png)</span></span>

### <a name="examples-of-data-roll-up"></a><span data-ttu-id="e913a-337">数据累积的示例</span><span class="sxs-lookup"><span data-stu-id="e913a-337">Examples of data roll-up</span></span>

<span data-ttu-id="e913a-338">以下示例显示了可能在报告结构树定义中为累积的数据使用的信息。</span><span class="sxs-lookup"><span data-stu-id="e913a-338">The following examples show possible information that is used in a reporting tree definition for data that is rolled up.</span></span>

#### <a name="example-1"></a><span data-ttu-id="e913a-339">示例 1</span><span class="sxs-lookup"><span data-stu-id="e913a-339">Example 1</span></span>

<span data-ttu-id="e913a-340">[![MutliCompanyRollUp](./media/mutlicompanyrollup.png)](./media/mutlicompanyrollup.png)</span><span class="sxs-lookup"><span data-stu-id="e913a-340">[![MutliCompanyRollUp](./media/mutlicompanyrollup.png)](./media/mutlicompanyrollup.png)</span></span>

#### <a name="example-2"></a><span data-ttu-id="e913a-341">示例 2</span><span class="sxs-lookup"><span data-stu-id="e913a-341">Example 2</span></span>

<span data-ttu-id="e913a-342">[![CrossCompanyDepartmentRollUp](./media/crosscompanydepartmentrollup.png)](./media/crosscompanydepartmentrollup.png)</span><span class="sxs-lookup"><span data-stu-id="e913a-342">[![CrossCompanyDepartmentRollUp](./media/crosscompanydepartmentrollup.png)](./media/crosscompanydepartmentrollup.png)</span></span>

## <a name="additional-resources"></a><span data-ttu-id="e913a-343">其他资源</span><span class="sxs-lookup"><span data-stu-id="e913a-343">Additional resources</span></span>

[<span data-ttu-id="e913a-344">财务申报</span><span class="sxs-lookup"><span data-stu-id="e913a-344">Financial reporting</span></span>](financial-reporting-intro.md)
