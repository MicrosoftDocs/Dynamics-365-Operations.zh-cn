---
title: POS 中的入站库存操作
description: 此主题介绍销售点 (POS) 入站库存操作的功能。
author: hhaines
manager: annbe
ms.date: 03/12/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: Retail
ms.author: hhaines
ms.search.validFrom: ''
ms.dyn365.ops.version: 10.0.9
ms.openlocfilehash: b212906dcf037171af264c60720f361215eed599
ms.sourcegitcommit: 437170338c49b61bba58f822f8494095ea1308c2
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/12/2020
ms.locfileid: "3123891"
---
# <a name="inbound-inventory-operation-in-pos"></a><span data-ttu-id="a1907-103">POS 中的入站库存操作</span><span class="sxs-lookup"><span data-stu-id="a1907-103">Inbound inventory operation in POS</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="a1907-104">在 Microsoft Dynamics 365 Commerce 版本 10.0.10 及更高版本中，销售点 (POS) 中的入站和出站操作取代了领料和收货操作。</span><span class="sxs-lookup"><span data-stu-id="a1907-104">In Microsoft Dynamics 365 Commerce version 10.0.10 and later, inbound and outbound operations in the point of sale (POS) replace the picking and receiving operation.</span></span>

> [!NOTE]
> <span data-ttu-id="a1907-105">在版本 10.0.10 及更高版本中，POS 应用程序中中与接收商店库存和采购订单及转移单有关的所有新功能将添加到**入站操作** POS 操作中。</span><span class="sxs-lookup"><span data-stu-id="a1907-105">In version 10.0.10 and later, any new features in the POS application that are related to receiving store inventory against purchase orders and transfer orders will be added to the **Inbound operation** POS operation.</span></span> <span data-ttu-id="a1907-106">如果您正在使用 POS 中的领料和收货操作，建议您指定策略从该操作迁移到新的入站和出站操作。</span><span class="sxs-lookup"><span data-stu-id="a1907-106">If you're currently using the picking and receiving operation in POS, we recommend that you develop a strategy for moving from that operation to the new inbound and outbound operations.</span></span> <span data-ttu-id="a1907-107">虽然此产品中不会移除领料和收货操作，但是在版本 10.0.9 之后，从功能角度到性能角度，都不会再对其进行更多投入。</span><span class="sxs-lookup"><span data-stu-id="a1907-107">Although the picking and receiving operation won't be removed from the product, there will be no further investments in it, from a functional or performance perspective, after version 10.0.9.</span></span>

## <a name="prerequisite-configure-an-asynchronous-document-framework"></a><span data-ttu-id="a1907-108">先决条件：配置异步单据框架</span><span class="sxs-lookup"><span data-stu-id="a1907-108">Prerequisite: Configure an asynchronous document framework</span></span>

<span data-ttu-id="a1907-109">入站操作中包含性能改进，以便确保在大量商店或公司需要过帐大量收货且拥有大量库存单据的的用户可以将这些单据传输给 Commerce Headquarters，并且不会超时或失败。</span><span class="sxs-lookup"><span data-stu-id="a1907-109">The inbound operation includes performance improvements to ensure that users who have high volumes of receipt postings across many stores or companies, and large inventory documents, can process those documents to Commerce Headquarters without experiencing time-outs or failures.</span></span> <span data-ttu-id="a1907-110">这些改进需要使用异步单据框架。</span><span class="sxs-lookup"><span data-stu-id="a1907-110">These improvements require use of an asynchronous document framework.</span></span>

<span data-ttu-id="a1907-111">使用异步单据框架时，可以将入站单据更改从 POS 提交到 Commerce Headquarters，然后继续执行其他任务，同时在后台传输到 Commerce Headquarters。</span><span class="sxs-lookup"><span data-stu-id="a1907-111">When an asynchronous document framework is used, you can commit inbound document changes from POS to Commerce Headquarters and then move on to other tasks while the processing to Commerce Headquarters occurs in the background.</span></span> <span data-ttu-id="a1907-112">可以通过 POS 中的**入站操作**单据列表页检查单据的状态，以确保过帐成功。</span><span class="sxs-lookup"><span data-stu-id="a1907-112">You can check the status of a document through the **Inbound operation** document list page in POS to make sure that posting was successful.</span></span> <span data-ttu-id="a1907-113">在 POS 应用程序中，也可以使用入站操作活动单据列表查看无法过帐到 Commerce Headquarters 的任何单据。</span><span class="sxs-lookup"><span data-stu-id="a1907-113">In the POS application, you can also use the inbound operation active document list to see any documents that could not be posted to Commerce Headquarters.</span></span> <span data-ttu-id="a1907-114">如果单据失败，POS 用户可以进行更正，然后再次尝试将其传输到 Commerce Headquarters。</span><span class="sxs-lookup"><span data-stu-id="a1907-114">If a document fails, POS users can make corrections to it and then try again to process it to Commerce Headquarters.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a1907-115">必须在公司尝试在 POS 中使用入站操作之前配置异步单据框架。</span><span class="sxs-lookup"><span data-stu-id="a1907-115">The asynchronous document framework must be configured before a company tries to use the inbound operation in POS.</span></span>

<span data-ttu-id="a1907-116">若要配置异步单据框架，请完成以下过程。</span><span class="sxs-lookup"><span data-stu-id="a1907-116">To configure an asynchronous document framework, complete the following procedures.</span></span>

### <a name="create-and-configure-a-number-sequence"></a><span data-ttu-id="a1907-117">创建和配置编号规则</span><span class="sxs-lookup"><span data-stu-id="a1907-117">Create and configure a number sequence</span></span>

1. <span data-ttu-id="a1907-118">转到**组织管理 \> 编号规则 \> 编号规则**。</span><span class="sxs-lookup"><span data-stu-id="a1907-118">Go to **Organization administration \> Number sequences \> Number sequences**.</span></span>
2. <span data-ttu-id="a1907-119">在**编号规则**页，创建一个编号规则。</span><span class="sxs-lookup"><span data-stu-id="a1907-119">On the **Number sequences** page, create a number sequence.</span></span>
3. <span data-ttu-id="a1907-120">在**编号规则代码**和**名称**字段中，输入用户定义的值。</span><span class="sxs-lookup"><span data-stu-id="a1907-120">In the **Number sequence code** and **Name** fields, enter user-defined values.</span></span>
4. <span data-ttu-id="a1907-121">在**引用**快速选项卡上，选择**添加**。</span><span class="sxs-lookup"><span data-stu-id="a1907-121">On the **References** FastTab, select **Add**.</span></span>
5. <span data-ttu-id="a1907-122">在**区域**字段中，选择 **Commerce 参数**。</span><span class="sxs-lookup"><span data-stu-id="a1907-122">In the **Area** field, select **Commerce parameters**.</span></span>
4. <span data-ttu-id="a1907-123">在**引用**字段中，选择**零售单据操作标识**。</span><span class="sxs-lookup"><span data-stu-id="a1907-123">In the **Reference** field, select **Retail document operation identifier**.</span></span>
5. <span data-ttu-id="a1907-124">在**常规**快速选项卡的**设置**部分中，将**连续**选项设置为**否**以确保无性能问题。</span><span class="sxs-lookup"><span data-stu-id="a1907-124">On the **General** FastTab, in the **Setup** section, set the **Continuous** option to **No** to ensure that there are no performance issues.</span></span>

### <a name="create-and-schedule-two-batch-jobs-for-the-document-processing-and-monitoring-tasks"></a><span data-ttu-id="a1907-125">为单据处理和监视任务创建和计划两个批处理作业</span><span class="sxs-lookup"><span data-stu-id="a1907-125">Create and schedule two batch jobs for the document processing and monitoring tasks</span></span>

<span data-ttu-id="a1907-126">将把创建的批处理作业用于处理失败或超时的单据。还会在从 POS 处理的活动库存单据数量超过系统配置的值时使用。</span><span class="sxs-lookup"><span data-stu-id="a1907-126">The batch jobs that you create will be used to process documents that fail or time out. They will also be used when the number of active inventory documents that are being processed from POS exceeds a system-configured value.</span></span>

1. <span data-ttu-id="a1907-127">转到**系统管理 \> 查询 \> 批处理作业**。</span><span class="sxs-lookup"><span data-stu-id="a1907-127">Go to **System administration \> Inquiries \> Batch jobs**.</span></span>
2. <span data-ttu-id="a1907-128">在**批处理作业**页面上，创建两个批处理作业：</span><span class="sxs-lookup"><span data-stu-id="a1907-128">On the **Batch job** page, create two batch jobs:</span></span>

    - <span data-ttu-id="a1907-129">将一个作业配置为运行 **RetailDocumentOperationMonitorBatch** 类。</span><span class="sxs-lookup"><span data-stu-id="a1907-129">Configure one job to run the **RetailDocumentOperationMonitorBatch** class.</span></span>
    - <span data-ttu-id="a1907-130">将另一个作业配置为运行 **RetailDocumentOperationProcessingBatch** 类。</span><span class="sxs-lookup"><span data-stu-id="a1907-130">Configure the other job to run the **RetailDocumentOperationProcessingBatch** class.</span></span>

2. <span data-ttu-id="a1907-131">将新批处理作业计划为重复运行。</span><span class="sxs-lookup"><span data-stu-id="a1907-131">Schedule the new batch jobs to run on a recurring basis.</span></span> <span data-ttu-id="a1907-132">例如，将计划设置为每隔五分钟运行一次作业。</span><span class="sxs-lookup"><span data-stu-id="a1907-132">For example, set the schedule so that the jobs are run every five minutes.</span></span>

## <a name="prerequisite-add-inbound-operation-to-the-pos-screen-layout"></a><span data-ttu-id="a1907-133">先决条件：向 POS 屏幕布局添加入站操作</span><span class="sxs-lookup"><span data-stu-id="a1907-133">Prerequisite: Add Inbound operation to the POS screen layout</span></span>

<span data-ttu-id="a1907-134">组织必须在一个或多个 [POS 屏幕布局](https://docs.microsoft.com/dynamics365/unified-operations/retail/pos-screen-layouts)中配置**入站操作** POS 操作，才能使用入站操作功能。</span><span class="sxs-lookup"><span data-stu-id="a1907-134">Before your organization can use the inbound operation functionality, it must configure the **Inbound operation** POS operation on one or more of your [POS screen layouts](https://docs.microsoft.com/dynamics365/unified-operations/retail/pos-screen-layouts).</span></span> <span data-ttu-id="a1907-135">在生产环境中部署新操作之前，确保彻底测试该操作，并为用户培训使用方法。</span><span class="sxs-lookup"><span data-stu-id="a1907-135">Before you deploy the new operation in a production environment, make sure that you thoroughly test it and train your users to use it.</span></span>

## <a name="overview"></a><span data-ttu-id="a1907-136">概览</span><span class="sxs-lookup"><span data-stu-id="a1907-136">Overview</span></span>

<span data-ttu-id="a1907-137">POS 用户可通过入站操作执行以下任务：</span><span class="sxs-lookup"><span data-stu-id="a1907-137">The inbound operation lets POS users perform the following tasks:</span></span>

- <span data-ttu-id="a1907-138">从已确认采购订单单据或已装运转移单单据库存库存并放到商店存货中。</span><span class="sxs-lookup"><span data-stu-id="a1907-138">Receive inventory into store stock from either confirmed purchase order documents or shipped transfer order documents.</span></span>
- <span data-ttu-id="a1907-139">查看有关单据完全收货后七天内的历史库存收货的信息。</span><span class="sxs-lookup"><span data-stu-id="a1907-139">View information about historical inventory receipts for a period of seven days after the document has been fully received.</span></span>
- <span data-ttu-id="a1907-140">创建新的入站转移单请求。</span><span class="sxs-lookup"><span data-stu-id="a1907-140">Create new inbound transfer order requests.</span></span>

<span data-ttu-id="a1907-141">从 POS 应用程序开始执行入站操作时，将显示列表页视图。</span><span class="sxs-lookup"><span data-stu-id="a1907-141">When the inbound operation is started from the POS application, a list page view appears.</span></span> <span data-ttu-id="a1907-142">此视图显示其中包含计划由当前商店收货的库存行的未结采购订单和转移单单据。</span><span class="sxs-lookup"><span data-stu-id="a1907-142">This view shows open purchase order and transfer order documents that have inventory lines that are scheduled to be received by the current store.</span></span> <span data-ttu-id="a1907-143">若要查找和选择特定单据，用户可以滚动列表或使用搜索功能。</span><span class="sxs-lookup"><span data-stu-id="a1907-143">To find and select a specific document, users can scroll the list or use the search feature.</span></span>

<span data-ttu-id="a1907-144">入站库存单据列表中有三个选项卡：</span><span class="sxs-lookup"><span data-stu-id="a1907-144">The inbound inventory document list has three tabs:</span></span>

- <span data-ttu-id="a1907-145">**有效** – 此选项卡显示全部或部分未结，并且包含仍然必须收货的行或数量的单据。</span><span class="sxs-lookup"><span data-stu-id="a1907-145">**Active** – This tab shows documents that are fully or partially open, and that contain lines or quantities on lines that must still be received.</span></span>
- <span data-ttu-id="a1907-146">**草稿** – 此选项卡显示商店创建的新入站转移单请求。</span><span class="sxs-lookup"><span data-stu-id="a1907-146">**Draft** – This tab shows new inbound transfer order requests that the store has created.</span></span> <span data-ttu-id="a1907-147">但是，这些单据仅保存在本地。</span><span class="sxs-lookup"><span data-stu-id="a1907-147">However, the documents have only been saved locally.</span></span> <span data-ttu-id="a1907-148">尚未提交到 Commerce Headquarters 进行处理。</span><span class="sxs-lookup"><span data-stu-id="a1907-148">They haven't yet been submitted to Commerce Headquarters for processing.</span></span>
- <span data-ttu-id="a1907-149">**完成** – 此选项卡显示过去七天内商店已全部收货的采购订单或转移单单据的列表。</span><span class="sxs-lookup"><span data-stu-id="a1907-149">**Complete** – This tab shows a list of purchase order or transfer order documents that the store has fully received during the last seven days.</span></span> <span data-ttu-id="a1907-150">此选项卡仅供参考。</span><span class="sxs-lookup"><span data-stu-id="a1907-150">This tab is for informational purposes only.</span></span> <span data-ttu-id="a1907-151">对于商店来说，有关这些单据的所有信息均为只读数据。</span><span class="sxs-lookup"><span data-stu-id="a1907-151">All the information about the documents is read-only data for the store.</span></span>

<span data-ttu-id="a1907-152">查看这些选项卡中任何一个上的单据时，**状态**字段可以帮助您了解单据所处阶段。</span><span class="sxs-lookup"><span data-stu-id="a1907-152">When you view documents on any of the tabs, the **Status** field can help you understand the stage that the document is in.</span></span>

- <span data-ttu-id="a1907-153">**草稿** – 转移单单据仅已本地保存到商店的渠道数据库。</span><span class="sxs-lookup"><span data-stu-id="a1907-153">**Draft** – The transfer order document has only been saved locally to the store's channel database.</span></span> <span data-ttu-id="a1907-154">尚未将有关转移单请求的任何信息提交到 Commerce Headquarters。</span><span class="sxs-lookup"><span data-stu-id="a1907-154">No information about the transfer order request has yet been submitted to Commerce Headquarters.</span></span>
- <span data-ttu-id="a1907-155">**已请求** – 已在 Commerce Headquarters 中创建并完全打开了采购订单或转移单。</span><span class="sxs-lookup"><span data-stu-id="a1907-155">**Requested** – The purchase order or transfer order has been created in Commerce Headquarters, and is fully open.</span></span> <span data-ttu-id="a1907-156">尚未处理单据的任何收货。</span><span class="sxs-lookup"><span data-stu-id="a1907-156">No receipts have yet been processed against the document.</span></span> <span data-ttu-id="a1907-157">对于采购订单单据类型的单据，状态为**已请求**时，随时可以开始收货。</span><span class="sxs-lookup"><span data-stu-id="a1907-157">For documents of the purchase order document type, receiving can begin at any time while the status is **Requested**.</span></span>
- <span data-ttu-id="a1907-158">**已部分装运** – 转移单单据有一个或多个行或部分行数量已经被出站仓库作为装运过帐。</span><span class="sxs-lookup"><span data-stu-id="a1907-158">**Partially shipped** – The transfer order document has one or more lines or partial line quantities that have been posted as shipped by the outbound warehouse.</span></span> <span data-ttu-id="a1907-159">可以通过入站操作接收这些装运的行。</span><span class="sxs-lookup"><span data-stu-id="a1907-159">These shipped lines are available to be received through the inbound operation.</span></span>
- <span data-ttu-id="a1907-160">**已完全装运** – 转移单的所有行和整行数量已经被出站仓库作为装运过帐。</span><span class="sxs-lookup"><span data-stu-id="a1907-160">**Fully shipped** – The transfer order has had all its lines and full line quantities posted as shipped by the outbound warehouse.</span></span> <span data-ttu-id="a1907-161">可以通过入站操作对整个单据收货。</span><span class="sxs-lookup"><span data-stu-id="a1907-161">The whole document is available to be received through the inbound operation.</span></span>
- <span data-ttu-id="a1907-162">**已部分收货** – 商店已收到了采购订单或转移单单据的部分行或行数量的货物，但是部分行仍然未结。</span><span class="sxs-lookup"><span data-stu-id="a1907-162">**Partially received** – Some of the lines or line quantities on the purchase order or transfer order document have been received by the store, but some lines remain open.</span></span>
- <span data-ttu-id="a1907-163">**已全部收货** – 已收到了采购订单或转移单单据的全部行或数量的货物。</span><span class="sxs-lookup"><span data-stu-id="a1907-163">**Fully received** – All lines and quantities on the purchase order or transfer order document have been fully received.</span></span> <span data-ttu-id="a1907-164">这些单据只能通过**完成**选项卡访问，并且只有商店用户才能查看。</span><span class="sxs-lookup"><span data-stu-id="a1907-164">The documents are accessible only on the **Complete** tab and are read-only by store users.</span></span>
- <span data-ttu-id="a1907-165">**进行中** – 此状态用于通知设备用户另一位用户正在主动处理该单据。</span><span class="sxs-lookup"><span data-stu-id="a1907-165">**In progress** – This status is used to inform device users that the document is being actively worked on by another user.</span></span>
- <span data-ttu-id="a1907-166">**已暂停** – 选择**暂停接收**以暂时停止接收流程之后，显示此状态。</span><span class="sxs-lookup"><span data-stu-id="a1907-166">**Paused** – This status is shown after **Pause receiving** is selected to temporarily stop the receiving process.</span></span>
- <span data-ttu-id="a1907-167">**正在 HQ 处理** – 单据已从 POS 应用程序提交到 Commerce Headquarters，但是尚未成功过帐到 Commerce Headquarters。</span><span class="sxs-lookup"><span data-stu-id="a1907-167">**Processing in HQ** – The document was submitted to Commerce Headquarters from the POS application, but it hasn't yet been successfully posted to Commerce Headquarters.</span></span> <span data-ttu-id="a1907-168">单据将经历异步单据过帐流程。</span><span class="sxs-lookup"><span data-stu-id="a1907-168">The document is going through the asynchronous document posting process.</span></span> <span data-ttu-id="a1907-169">将单据成功过帐到 Commerce Headquarters 之后，其状态应该会更新为**已完全接收**或**已部分接收**。</span><span class="sxs-lookup"><span data-stu-id="a1907-169">After the document is successfully posted to Commerce Headquarters, its status should be updated to **Fully received** or **Partially received**.</span></span>
- <span data-ttu-id="a1907-170">**处理失败** – 单据已过帐到 Commerce Headquarters，但被拒绝。</span><span class="sxs-lookup"><span data-stu-id="a1907-170">**Processing failed** – The document was posted to Commerce Headquarters and rejected.</span></span> <span data-ttu-id="a1907-171">**详细信息**窗格显示过帐失败的原因。</span><span class="sxs-lookup"><span data-stu-id="a1907-171">The **Details** pane shows the reason for the posting failure.</span></span> <span data-ttu-id="a1907-172">必须编辑单据以解决数据问题，然后必须将其重新提交到 Commerce Headquarters 进行处理。</span><span class="sxs-lookup"><span data-stu-id="a1907-172">The document must be edited to fix data issues, and then it must be resubmitted to Commerce Headquarters for processing.</span></span>

<span data-ttu-id="a1907-173">在列表中选择单据行之后，将显示**详细信息**窗格。</span><span class="sxs-lookup"><span data-stu-id="a1907-173">When you select a document line in the list, a **Details** pane appears.</span></span> <span data-ttu-id="a1907-174">此窗格显示有关单据的更多信息，如装运和日期信息。</span><span class="sxs-lookup"><span data-stu-id="a1907-174">This pane shows additional information about the document, such as shipment and date information.</span></span> <span data-ttu-id="a1907-175">进度条显示还必须处理多少个物料。</span><span class="sxs-lookup"><span data-stu-id="a1907-175">A progress bar shows how many items must still be processed.</span></span> <span data-ttu-id="a1907-176">如果未将单据成功过帐到 Commerce Headquarters，**详细信息**窗格还会显示与失败有关的错误消息。</span><span class="sxs-lookup"><span data-stu-id="a1907-176">If the document wasn't successfully processed to Commerce Headquarters, the **Details** pane also shows error messages that are related to the failure.</span></span>

<span data-ttu-id="a1907-177">在单据列表页视图中，可以选择应用程序栏中的**订单详细信息**查看单据详细信息。</span><span class="sxs-lookup"><span data-stu-id="a1907-177">In the document list page view, you can select **Order details** on the app bar to view the document details.</span></span> <span data-ttu-id="a1907-178">也可以在符合资格的单据行中激活收据处理。</span><span class="sxs-lookup"><span data-stu-id="a1907-178">You can also activate receipt processing on eligible document lines.</span></span>

<span data-ttu-id="a1907-179">在单据列表页视图中，还可以为商店创建新的入站转移单请求。</span><span class="sxs-lookup"><span data-stu-id="a1907-179">In the document list page view, you can also create a new inbound transfer order request for a store.</span></span> <span data-ttu-id="a1907-180">单据继续保持**草稿**状态，并且将其提交给 Commerce Headquarters 进行处理之前，可以进行调整或删除。</span><span class="sxs-lookup"><span data-stu-id="a1907-180">The documents remain in **Draft** status, and they can be adjusted or deleted until they are submitted to Commerce Headquarters for processing.</span></span> <span data-ttu-id="a1907-181">提交到 Commerce Headquarters 之后，不能从 POS 应用程序更改转移单行。</span><span class="sxs-lookup"><span data-stu-id="a1907-181">After they are submitted to Commerce Headquarters, the transfer order lines can no longer be changed from the POS application.</span></span>

## <a name="receiving-process"></a><span data-ttu-id="a1907-182">收货流程</span><span class="sxs-lookup"><span data-stu-id="a1907-182">Receiving process</span></span>

<span data-ttu-id="a1907-183">在**有效**选项卡上选择采购订单或转移单单据之后，可以选择**订单详细信息**开始执行收货流程。</span><span class="sxs-lookup"><span data-stu-id="a1907-183">After you select a purchase order or transfer order document on the **Active** tab, you can select **Order details** to begin the receiving process.</span></span>

<span data-ttu-id="a1907-184">默认情况下，将显示**立即收货**视图。</span><span class="sxs-lookup"><span data-stu-id="a1907-184">By default, the **Receiving now** view is shown.</span></span> <span data-ttu-id="a1907-185">此视图已针对条形码扫描进行了优化。</span><span class="sxs-lookup"><span data-stu-id="a1907-185">This view is optimized for bar code scanning.</span></span> <span data-ttu-id="a1907-186">可用于创建已扫描物料列表，这样就可以对这些物料进行收货。</span><span class="sxs-lookup"><span data-stu-id="a1907-186">It can be used to build a list of the items that have been scanned, so that those items can be received.</span></span> <span data-ttu-id="a1907-187">若要开始执行收货流程，可以开始扫描物料条形码。</span><span class="sxs-lookup"><span data-stu-id="a1907-187">To begin the receiving process, you can start to scan item bar codes.</span></span>

<span data-ttu-id="a1907-188">在**立即收货**视图中扫描了物料条形码之后，应用程序将根据所选采购订单或转移单单据验证物料，以确保扫描的每个物料与单据中的有效物料匹配。</span><span class="sxs-lookup"><span data-stu-id="a1907-188">As item bar codes are scanned in the **Receiving now** view, the application validates the items against the selected purchase or transfer order document, to make sure that each scanned item matches a valid item on the document.</span></span> <span data-ttu-id="a1907-189">在**立即收货**视图中，每次扫描条形码都视为收货一个单位的数量，除非条形码中嵌入了数量。</span><span class="sxs-lookup"><span data-stu-id="a1907-189">In the **Receiving now** view, each scan of a bar code is assumed to represent the receipt of a quantity of one unit, unless a quantity is embedded in the bar code.</span></span> <span data-ttu-id="a1907-190">可以在此视图中重复扫描条形码，以便建立所有物料和收货数量的列表。</span><span class="sxs-lookup"><span data-stu-id="a1907-190">You can repeatedly scan bar codes in this view to build a list of all the items and quantities for the receipt.</span></span>

### <a name="example-scenario"></a><span data-ttu-id="a1907-191">示例场景</span><span class="sxs-lookup"><span data-stu-id="a1907-191">Example scenario</span></span>

<span data-ttu-id="a1907-192">用户收到了一个采购订单，其中包含 10 个单位的条形码 5657900266。</span><span class="sxs-lookup"><span data-stu-id="a1907-192">A user receives a purchase order that contains 10 units of bar code 5657900266.</span></span> <span data-ttu-id="a1907-193">用户可以扫描该条形码 10 次以按照每次扫描一个单位的频率更新**立即收货**字段。</span><span class="sxs-lookup"><span data-stu-id="a1907-193">The user can scan that bar code 10 times to update the **Receiving now** field by one unit per scan.</span></span> <span data-ttu-id="a1907-194">用户完成扫描后，物料行的**立即收货**字段将显示已收货数量为 10。</span><span class="sxs-lookup"><span data-stu-id="a1907-194">When the user has completed the scans, the **Receiving now** field for the item's line will show that a quantity of 10 was received.</span></span>

<span data-ttu-id="a1907-195">此外，如果物料数量极大，用户可能希望手动输入数量，而不是扫描收到的每个物料的条形码。</span><span class="sxs-lookup"><span data-stu-id="a1907-195">Alternatively, in a scenario where the item quantity is large, the user might prefer to manually enter the quantity instead of scanning the bar code for each item that is received.</span></span> <span data-ttu-id="a1907-196">在这种情况下，用户可以扫描条形码一次，以将物料添加到**立即收货**清单。</span><span class="sxs-lookup"><span data-stu-id="a1907-196">In this case, the user can scan the bar code one time to add the item to the **Receiving now** list.</span></span> <span data-ttu-id="a1907-197">然后，用户可以在**立即收货**视图中选择关联行，再在页面右侧显示的**详细信息**窗格中更新该物料的**收货数量**字段。</span><span class="sxs-lookup"><span data-stu-id="a1907-197">The user can then select the associated line in the **Receiving now** view and then, in the **Details** pane that appears on the right side of the page, update the **Receiving quantity** field for the item.</span></span>

<span data-ttu-id="a1907-198">虽然**立即收货**视图已针对条形码扫描进行了优化，用户还是可以选择应用程序栏中的**接收产品**，然后通过对话框输入物料 ID 或条形码数据。</span><span class="sxs-lookup"><span data-stu-id="a1907-198">Although the **Receiving now** view is optimized for bar code scanning, users can also select **Receive product** on the app bar, and then enter the item ID or bar code data through a dialog box.</span></span> <span data-ttu-id="a1907-199">验证输入的物料之后，将提示用户输入收货数量。</span><span class="sxs-lookup"><span data-stu-id="a1907-199">After the item that was entered is validated, the user is prompted to enter the receipt quantity.</span></span>

<span data-ttu-id="a1907-200">**立即收货**视图提供焦点方法供用户查看正在扫描哪些产品。</span><span class="sxs-lookup"><span data-stu-id="a1907-200">The **Receiving now** view provides a focused way for users to see which products they are receiving.</span></span> <span data-ttu-id="a1907-201">也可以使用**完整订单列表**视图。</span><span class="sxs-lookup"><span data-stu-id="a1907-201">Alternatively, the **Full order list** view can be used.</span></span> <span data-ttu-id="a1907-202">此视图显示所选采购订单或转移单单据的单据行完整列表。</span><span class="sxs-lookup"><span data-stu-id="a1907-202">This view shows the whole list of document lines for the selected purchase or transfer order document.</span></span> <span data-ttu-id="a1907-203">用户可以在此列表中手动选择行，然后在**详细信息**窗格中更新所选行的**收货数量**字段。</span><span class="sxs-lookup"><span data-stu-id="a1907-203">Users can manually select lines manually in the list and then, in the **Details** pane, update the **Receiving quantity** field for the selected line.</span></span> <span data-ttu-id="a1907-204">在**完整订单列表**视图中，用户可以选择条形码，也可以使用**接收产品**功能输入物料 ID 或条形码，以及有关收货数量的数据，不必先在列表中选择匹配物料行。</span><span class="sxs-lookup"><span data-stu-id="a1907-204">In the **Full order list** view, users can scan bar codes, or they can use the **Receive product** function to enter the item ID or bar code, and data about the received quantity, without first having to select the matching item line in the list.</span></span>

### <a name="over-receiving-validations"></a><span data-ttu-id="a1907-205">超收验证</span><span class="sxs-lookup"><span data-stu-id="a1907-205">Over-receiving validations</span></span>

<span data-ttu-id="a1907-206">单据行的接收流程中执行验证。</span><span class="sxs-lookup"><span data-stu-id="a1907-206">Validations occur during the receiving process for the document lines.</span></span> <span data-ttu-id="a1907-207">其中包括超交验证。</span><span class="sxs-lookup"><span data-stu-id="a1907-207">They include validations for over-delivery.</span></span> <span data-ttu-id="a1907-208">如果用户尝试接收的库存比采购订单中订购的多，但是未配置超交，或接收的量超过了为采购订单行配置的超交容差，用户将收到错误，并且不能接收超额数量。</span><span class="sxs-lookup"><span data-stu-id="a1907-208">If a user tries to receive more inventory than was ordered on a purchase order, but either over-delivery isn't configured or the amount that is received exceeds the over-delivery tolerance that is configured for the purchase order line, the user receives an error and isn't allowed to receive the excess quantity.</span></span>

<span data-ttu-id="a1907-209">转移单单据不允许超收。</span><span class="sxs-lookup"><span data-stu-id="a1907-209">Over-receiving isn't permitted for transfer order documents.</span></span> <span data-ttu-id="a1907-210">用户如果尝试收货数量超过为转移单行装运的数量，则始终会收到错误。</span><span class="sxs-lookup"><span data-stu-id="a1907-210">Users will always receive errors if they try to receive more than was shipped for the transfer order line.</span></span>

### <a name="receiving-location-controlled-items"></a><span data-ttu-id="a1907-211">接收位置控制的物料</span><span class="sxs-lookup"><span data-stu-id="a1907-211">Receiving location-controlled items</span></span>

<span data-ttu-id="a1907-212">如果正在接收的物料受位置控制，用户可以选择在收货流程要接收物料的位置。</span><span class="sxs-lookup"><span data-stu-id="a1907-212">If the items that are being received are location-controlled, users can select the location where they want to receive the items during the receiving process.</span></span> <span data-ttu-id="a1907-213">建议为商店仓库配置默认收货位置，以便提高此流程的效率。</span><span class="sxs-lookup"><span data-stu-id="a1907-213">We recommend that you configure a default receiving location for your store warehouse, to make this process more efficient.</span></span> <span data-ttu-id="a1907-214">即使配置了默认位置，用户也可以在需要时替换所选行中的收货位置。</span><span class="sxs-lookup"><span data-stu-id="a1907-214">Even if a default location is configured, users can override the receiving location on selected lines as they require.</span></span>

<span data-ttu-id="a1907-215">此操作采用**位置**存储维度中的**允许空收货**配置，如果配置了空收货，则不要求输入位置维度。</span><span class="sxs-lookup"><span data-stu-id="a1907-215">The operation respects the **Blank receipt allowed** configuration on the **Location** storage dimension and doesn't require that a location dimension be entered if blank receipt is configured.</span></span> <span data-ttu-id="a1907-216">如果不允许物料采用空收货位置，POS 应用程序将显示错误，并要求先输入位置，之后才能过帐收据。</span><span class="sxs-lookup"><span data-stu-id="a1907-216">If blank receipt locations aren't allowed for an item, the POS application shows an error and requires that a location be entered before the receipt can be posted.</span></span>

### <a name="receive-all"></a><span data-ttu-id="a1907-217">全部接收</span><span class="sxs-lookup"><span data-stu-id="a1907-217">Receive all</span></span>

<span data-ttu-id="a1907-218">可以按照您的要求选择应用程序栏中的**全部接收**以将所有单据行的**立即接收**数量快速更新到可为这些行收货的最大值。</span><span class="sxs-lookup"><span data-stu-id="a1907-218">As you require, you can select **Receive all** on the app bar to quickly update the **Receiving now** quantity for all the document lines to the maximum value that is available to be received for those lines.</span></span>

### <a name="cancel-receiving"></a><span data-ttu-id="a1907-219">取消接收</span><span class="sxs-lookup"><span data-stu-id="a1907-219">Cancel receiving</span></span>

<span data-ttu-id="a1907-220">仅当要退出单据，并且不希望保存任何更改时，才应使用应用程序栏中的**取消收货**功能。</span><span class="sxs-lookup"><span data-stu-id="a1907-220">You should use the **Cancel receiving** function on the app bar only if you want to back out of the document and don't want to save any changes.</span></span> <span data-ttu-id="a1907-221">例如，最初选择了错误的单据，因此不需要之前保存的任何收货数据。</span><span class="sxs-lookup"><span data-stu-id="a1907-221">For example, you initially selected the wrong document and don't want any of the previous receiving data saved.</span></span>

### <a name="pause-receiving"></a><span data-ttu-id="a1907-222">暂停接收</span><span class="sxs-lookup"><span data-stu-id="a1907-222">Pause receiving</span></span>

<span data-ttu-id="a1907-223">如果要接收库存，并且希望暂时停止收货流程，可以使用**暂停收货**功能。</span><span class="sxs-lookup"><span data-stu-id="a1907-223">If you're receiving inventory, you can use the **Pause receiving** function if you want to take a break from the receiving process.</span></span> <span data-ttu-id="a1907-224">例如，您可能希望从 POS 执行另一个操作（如记录客户销售额），或推迟收货过帐。</span><span class="sxs-lookup"><span data-stu-id="a1907-224">For example, you might want to perform another operation from the POS, such as ringing up a customer sale, or delay posting of the receipt.</span></span>

<span data-ttu-id="a1907-225">选择**暂停收货**之后，单据状态将变为**已暂停**。</span><span class="sxs-lookup"><span data-stu-id="a1907-225">When you select **Pause receiving**, the document's status is changed to **Paused**.</span></span> <span data-ttu-id="a1907-226">因此，用户就会知道已为单据输入了值，但是尚未提交单据。</span><span class="sxs-lookup"><span data-stu-id="a1907-226">Therefore, users will know that data has been entered for the document, but the document hasn't yet been committed.</span></span> <span data-ttu-id="a1907-227">准备好恢复收货流程后，选择暂停的单据，然后选择**订单详细信息**。</span><span class="sxs-lookup"><span data-stu-id="a1907-227">When you're ready to resume the receiving process, select the paused document, and then select **Order details**.</span></span> <span data-ttu-id="a1907-228">之前保存的所有**立即收货**数量将保留，并且可以从**完整订单列表**视图查看。</span><span class="sxs-lookup"><span data-stu-id="a1907-228">Any **Receiving now** quantities that were previously saved are retained and can be viewed from the **Full order list** view.</span></span>

### <a name="finish-receiving"></a><span data-ttu-id="a1907-229">完成接收</span><span class="sxs-lookup"><span data-stu-id="a1907-229">Finish receiving</span></span>

<span data-ttu-id="a1907-230">输入产品的所有**立即收货**数量完毕后，必须选择应用程序栏中的**完成收货**以处理收据。</span><span class="sxs-lookup"><span data-stu-id="a1907-230">When you've finished entering all the **Receiving now** quantities for products, you must select **Finish receiving** on the app bar to process the receipt.</span></span>

<span data-ttu-id="a1907-231">当用户填写采购订单收据时，系统将提示他们在**收据编号**字段中输入值（如果已配置此功能）。</span><span class="sxs-lookup"><span data-stu-id="a1907-231">When users complete a purchase order receipt, they are prompted to enter a value in the **Receipt number** field, if this functionality is configured.</span></span> <span data-ttu-id="a1907-232">此值通常等于供应商装箱单的标识。</span><span class="sxs-lookup"><span data-stu-id="a1907-232">Typically, this value is equivalent to the identifier of the vendor packing slip.</span></span> <span data-ttu-id="a1907-233">**收据编号**数据将存储在 Commerce Headquarters 中的物料收货日记帐内。</span><span class="sxs-lookup"><span data-stu-id="a1907-233">The **Receipt number** data will be stored in the Product receipt journal in Commerce Headquarters.</span></span> <span data-ttu-id="a1907-234">不会捕获转移单收据的收据编号。</span><span class="sxs-lookup"><span data-stu-id="a1907-234">Receipt numbers aren't captured for transfer order receipts.</span></span>

<span data-ttu-id="a1907-235">如果使用异步单据处理，将通过异步单据框架提交收据。</span><span class="sxs-lookup"><span data-stu-id="a1907-235">When asynchronous document processing is used, the receipt is submitted through an asynchronous document framework.</span></span> <span data-ttu-id="a1907-236">过帐单据所用时间取决于单据的大小（行数）和服务器中出现的常规处理流量。</span><span class="sxs-lookup"><span data-stu-id="a1907-236">The time that it takes for the document to be posted depends on the size of the document (the number of lines) and the general processing traffic that is occurring on the server.</span></span> <span data-ttu-id="a1907-237">此流程通常以秒为单位计算。</span><span class="sxs-lookup"><span data-stu-id="a1907-237">Typically, this process occurs in a matter of seconds.</span></span> <span data-ttu-id="a1907-238">如果单据过帐失败，将通过**入站操作**单据列表通知用户，此选项卡上的单据状态将更新为**处理失败**。</span><span class="sxs-lookup"><span data-stu-id="a1907-238">If document posting fails, the user is notified through the **Inbound operation** document list, where the document status will be updated to **Processing failed**.</span></span> <span data-ttu-id="a1907-239">然后，用户可在 POS 中选择失败单据，以便在**详细信息**窗格中查看错误消息和失败原因。</span><span class="sxs-lookup"><span data-stu-id="a1907-239">The user can then select the failed document in POS to view the error messages and the reason for the failure in the **Details** pane.</span></span> <span data-ttu-id="a1907-240">失败单据仍然未过帐，因此需要用户通过在 POS 中选择**订单详细信息**回到单据行。</span><span class="sxs-lookup"><span data-stu-id="a1907-240">A failed document remains unposted and requires that the user return to the document lines by selecting **Order details** in POS.</span></span> <span data-ttu-id="a1907-241">然后，用户必须根据错误通过更正更新单据。</span><span class="sxs-lookup"><span data-stu-id="a1907-241">The user must then update the document with corrections, based on the errors.</span></span> <span data-ttu-id="a1907-242">更正单据之后，用户可以通过在应用程序栏中选择**完成履行**来再次尝试处理该单据。</span><span class="sxs-lookup"><span data-stu-id="a1907-242">After a document is corrected, the user can try again to process it by selecting **Finish fulfillment** on the app bar.</span></span>

## <a name="create-an-inbound-transfer-order"></a><span data-ttu-id="a1907-243">创建入站转移单</span><span class="sxs-lookup"><span data-stu-id="a1907-243">Create an inbound transfer order</span></span>

<span data-ttu-id="a1907-244">用户可从 POS 创建新的转移单单据。</span><span class="sxs-lookup"><span data-stu-id="a1907-244">From POS, users can create new transfer order documents.</span></span> <span data-ttu-id="a1907-245">若要开始执行此流程，请在主**入站操作**单据列表中时，在应用程序栏中选择**新建**。</span><span class="sxs-lookup"><span data-stu-id="a1907-245">To begin the process, select **New** on the app bar while you're in the main **Inbound operation** document list.</span></span> <span data-ttu-id="a1907-246">然后，系统将提示您选择将为商店位置提供库存的**转移自**仓库或商店。</span><span class="sxs-lookup"><span data-stu-id="a1907-246">You're then prompted to select a **Transfer from** warehouse or store that will provide the inventory to your store location.</span></span> <span data-ttu-id="a1907-247">值限制为商店的履行组配置中定义的选择。</span><span class="sxs-lookup"><span data-stu-id="a1907-247">The values are limited to the selection that is defined in the configuration of the store's fulfillment group.</span></span> <span data-ttu-id="a1907-248">在入站转移请求中，当前商店始终是转移单的**转移至**仓库。</span><span class="sxs-lookup"><span data-stu-id="a1907-248">In an inbound transfer request, your current store will always be the **Transfer to** warehouse for the transfer order.</span></span> <span data-ttu-id="a1907-249">不能更改该值。</span><span class="sxs-lookup"><span data-stu-id="a1907-249">That value can't be changed.</span></span>

<span data-ttu-id="a1907-250">可以根据需要在**装运日期**、**接收日期**和**交货方式**字段中输入值。</span><span class="sxs-lookup"><span data-stu-id="a1907-250">You can enter values in the **Ship date**, **Receive date**, and **Mode of delivery** fields as you require.</span></span> <span data-ttu-id="a1907-251">还可以添加将与转移单标题一起存储的注释，作为单据在 Commerce Headquarters 中的附件。</span><span class="sxs-lookup"><span data-stu-id="a1907-251">You can also add a note that will be stored together with the transfer order header, as an attachment to the document in Commerce Headquarters.</span></span>

<span data-ttu-id="a1907-252">创建标题信息之后，可以向转移单添加产品。</span><span class="sxs-lookup"><span data-stu-id="a1907-252">After the header information is created, you can add products to the transfer order.</span></span> <span data-ttu-id="a1907-253">若要开始添加物料和请求的数量，请选择**添加产品**。</span><span class="sxs-lookup"><span data-stu-id="a1907-253">To start the process of adding items and requested quantities, select **Add product**.</span></span> <span data-ttu-id="a1907-254">在**详细信息**窗格中，也可以向日记帐行添加行特定的注释。</span><span class="sxs-lookup"><span data-stu-id="a1907-254">In the **Details** pane, you can also add a line-specific note to the journal lines.</span></span> <span data-ttu-id="a1907-255">这些注释将以行附件的形式存储。</span><span class="sxs-lookup"><span data-stu-id="a1907-255">These notes will be stored as a line attachment.</span></span>

<span data-ttu-id="a1907-256">在入站转移单中输入行之后，必须选择**保存**以在本地保存单据更改，或选择**提交请求**以将订单详细信息提交给 Commerce Headquarters 进行进一步的处理。</span><span class="sxs-lookup"><span data-stu-id="a1907-256">After lines are entered on the inbound transfer order, you must select **Save** to save the document changes locally or **Submit request** to submit the order details to Commerce Headquarters for further processing.</span></span> <span data-ttu-id="a1907-257">如果选择**保存**，草稿单据将存储到渠道数据库中，而出站仓库不能运行单据，直到通过**提交请求**成功处理了该单据。</span><span class="sxs-lookup"><span data-stu-id="a1907-257">If you select **Save**, the draft document is stored in the channel database, and the outbound warehouse can't run the document until it has been successfully processed via **Submit request**.</span></span> <span data-ttu-id="a1907-258">仅当尚未准备好将请求提交给 Commerce Headquarters 进行处理时，才应选择**保存**。</span><span class="sxs-lookup"><span data-stu-id="a1907-258">You should select **Save** only if you aren't ready to commit the request to Commerce Headquarters for processing.</span></span>

<span data-ttu-id="a1907-259">如果单据保存在本地，可以在**入站操作**单据列表的**草稿**选项卡中找到。</span><span class="sxs-lookup"><span data-stu-id="a1907-259">If a document is saved locally, it can be found on the **Drafts** tab of the **Inbound operation** document list.</span></span> <span data-ttu-id="a1907-260">单据为**草稿**状态时，可以通过选择**编辑**对其进行编辑。</span><span class="sxs-lookup"><span data-stu-id="a1907-260">While a document is in **Draft** status, you can edit it by selecting **Edit**.</span></span> <span data-ttu-id="a1907-261">可以根据需要更新、添加或删除行。</span><span class="sxs-lookup"><span data-stu-id="a1907-261">You can update, add, or delete lines as you require.</span></span> <span data-ttu-id="a1907-262">也可以通过选择**草稿**选项卡上的**删除**，删除**草稿**状态的整个单据。</span><span class="sxs-lookup"><span data-stu-id="a1907-262">You can also delete the whole document while it's in **Draft** status, by selecting **Delete** on the **Drafts** tab.</span></span>

<span data-ttu-id="a1907-263">草稿单据成功提交到 Commerce Headquarters 之后，将在**有效**选项卡上显示，并且状态为**已请求**。</span><span class="sxs-lookup"><span data-stu-id="a1907-263">After the draft document is successfully submitted to Commerce Headquarters, it appears on the **Active** tab and has a status of **Requested**.</span></span> <span data-ttu-id="a1907-264">此时，入站商店或仓库中的用户不再可以编辑请求的入站转移单单据。</span><span class="sxs-lookup"><span data-stu-id="a1907-264">At this point, users in the inbound store or warehouse can no longer edit the requested inbound transfer order document.</span></span> <span data-ttu-id="a1907-265">只有出站仓库中的用户可以通过在 POS 应用程序中选择**出站操作**来编辑单据。</span><span class="sxs-lookup"><span data-stu-id="a1907-265">Only users in the outbound warehouse can edit the document, by selecting **Outbound operation** in the POS application.</span></span> <span data-ttu-id="a1907-266">编辑锁定确保不会发生冲突，因为入站请求者更改转移单的同时，出站装运者正在主动为订单领料和装运。</span><span class="sxs-lookup"><span data-stu-id="a1907-266">The editing lock ensures that no conflicts occur because an inbound requestor changes the transfer order at the same time that the outbound shipper is actively picking and shipping the order.</span></span> <span data-ttu-id="a1907-267">如果在提交了转移单之后需要从入站商店或仓库进行更改，应联系并请求出站装运者输入更改。</span><span class="sxs-lookup"><span data-stu-id="a1907-267">If changes are required from the inbound store or warehouse after the transfer order has been submitted, the outbound shipper should be contacted and asked to enter the changes.</span></span>

<span data-ttu-id="a1907-268">单据为**已请求**状态之后，将在**有效**选项卡中显示。但是，还不能被入站商店或仓库接收。</span><span class="sxs-lookup"><span data-stu-id="a1907-268">After the document is in **Requested** status, it's visible on the **Active** tab. However, it can't yet be received by the inbound store or warehouse.</span></span> <span data-ttu-id="a1907-269">出站仓库已装运部分或全部转移单之后，入站商店或仓库可以在 POS 中过帐收据。</span><span class="sxs-lookup"><span data-stu-id="a1907-269">After the outbound warehouse has shipped some or all of the transfer order, the inbound store or warehouse can post receipts in POS.</span></span> <span data-ttu-id="a1907-270">当出站端处理转移单单据时，其状态将从**已请求**更新为**已装运**或**已部分装运**。</span><span class="sxs-lookup"><span data-stu-id="a1907-270">When the outbound side processes the transfer order documents, their status is updated from **Requested** to **Shipped** or **Partially Shipped**.</span></span> <span data-ttu-id="a1907-271">单据为**已装运**或**已部分装运**状态之后，入站商店或仓库可以使用入站操作收货流程过帐其收据。</span><span class="sxs-lookup"><span data-stu-id="a1907-271">After the documents are in **Shipped** or **Partially Shipped** status, the inbound store or warehouse can post receipts against them using the inbound operation receiving process.</span></span>

## <a name="related-topics"></a><span data-ttu-id="a1907-272">相关主题</span><span class="sxs-lookup"><span data-stu-id="a1907-272">Related topics</span></span>

[<span data-ttu-id="a1907-273">POS 中的出站库存操作</span><span class="sxs-lookup"><span data-stu-id="a1907-273">Outbound inventory operation in POS</span></span>](pos-outbound-inventory-operation.md)
