---
title: 定价设置
description: 本文介绍 Microsoft Dynamics 365 Commerce headquarters 中定价和折扣管理的各种设置。
author: boycez
ms.date: 09/06/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: boycez
ms.search.validFrom: 2022-08-11
ms.openlocfilehash: 79130e0ef285d6bd5e544f2d6a6368c0393fa7fa
ms.sourcegitcommit: b1df4db7facb5e7094138836c41a65c4a158f01d
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/13/2022
ms.locfileid: "9474034"
---
# <a name="pricing-settings"></a>定价设置

[!include [banner](../includes/banner.md)]

本文介绍 Microsoft Dynamics 365 Commerce headquarters 中定价和折扣管理的各种设置。 这些设置让组织能够在其 Commerce 解决方案中定义定价行为以满足特定的业务需求。

## <a name="company-level-pricing-settings"></a>公司级定价设置

大多数定价设置都在公司级别，都可以在 Commerce headquarters 中的 **Commerce 参数 \> 价格和折扣** 中找到。

### <a name="best-price-and-compound-concurrency-control-model"></a>最优价格和复折扣并用控制模型

**最优价格和复折扣并用控制模型** 设置确定定价引擎如何在 **最优价格** 或 **复合** 并用模式下处理多个折扣。 

如果此参数设置为 **最优价格和复合位于优先级中，请勿跨多个优先级进行复合**，所有具有相同定价优先级的 **复合** 折扣均为复合型。 然后，复合结果与具有相同定价优先级的任何 **最优价格** 折扣竞争，将应用最优价格，忽略所有具有较低定价优先级的折扣。

如果此参数设置为 **最优价格仅位于优先级中，请始终跨多个优先级进行复合**，所有 **复合** 折扣都将被视为 **最优价格** 折扣。 在定价优先级内，只有一个折扣会胜出。 如果该折扣是 **最优价格** 或 **复合** 折扣，它将与所有其他具有更低定价优先级的 **最优价格** 或 **复合** 折扣组合。

### <a name="discount-compound-behavior"></a>复折扣行为

**复折扣行为** 设置确定定价引擎如何计算多个复折扣。

如果此参数设置为 **复合**，一个折扣将以累积方式叠加到另一个折扣上。 如果设置为 **在原价上进行复合**，所有折扣将相互独立处理，应用于相同的原价。

例如，您希望将原价为 $100 的产品的 10% 折扣和 20% 折扣组合起来。 如果您将 **复折扣行为** 参数设置为 **复合**，最终价格将为 $72 ($100 &times; 90% &times; 80%)。 如果您将其设置为 **在原价上进行复合**，最终价格将为 $70 ($100 – $10 – $20)。

### <a name="enable-competition-between-exclusive-threshold-and-other-periodic-discounts"></a>在专享阈值与其他定期折扣之间启用竞争

如果 **在专享阈值与其他定期折扣之间启用竞争** 参数设置为 **是**，定价引擎将让专享阈值折扣与专享非阈值折扣进行竞争。 定价优先级仍然适用。 **最优价格** 和 **复合** 阈值折扣的行为保持不变。 换句话说，它们不与非阈值折扣竞争。

### <a name="manual-line-discount-and-system-discount"></a>手动行折扣和系统折扣

**手动行折扣和系统折扣** 设置确定定价引擎如何将手动行折扣和系统折扣应用于同一行。 人工行折扣可以与系统折扣组合，也可以代替系统折扣。 当人工行折扣与系统折扣组合时，计算逻辑遵从 **复折扣行为** 设置。 应用于整个订单的手动合计折扣不遵从此设置。

### <a name="keep-items-on-the-same-sales-line-for-discount-price-rounding"></a>将物料保持在同一销售订单行用于折扣价舍入

有时，数量折扣金额的金额无法按合格数量进行均匀划分（例如，如果购买三个单位的折扣金额为 $10）。 在这些情况下，**将物料保持在同一销售订单行用于折扣价舍入** 设置确定定价引擎如何应用和分配折扣金额。 如果此参数设置为 **是**，折扣金额将作为一个整体应用，而不拆分。 如果设置为 **否**，折扣金额将按合格数量划分并舍入。 例如，购买三件商品的 $10 折扣金额划分为一件商品 $3.33 折扣，第二件商品 $3.33 折扣，第三件商品 $3.34 折扣。

### <a name="apply-discounts-to-key-in-price-products"></a>将折扣应用于“键入价格”产品

**将折扣应用于“键入价格”产品** 设置确定折扣是否可以与在销售点 (POS) 输入的“键入价格”一起应用。 产品配置中的 **键入价格** 设置确定产品是否以及如何支持键入价格。

### <a name="apply-discounts-to-price-overrides"></a>将折扣应用于价格覆盖

**将折扣应用于价格覆盖** 设置确定折扣是否可以与价格覆盖一起应用。

### <a name="distribute-discounts-for-least-expensive-discounts"></a>为最便宜折扣分配折扣

对于使用“最便宜”计算类型的组合购买折扣，**为最便宜折扣分配折扣** 设置确定定价引擎是否跨行分配折扣。

如果此参数设置为 **否**，折扣仅应用于最便宜行。 例如，对于“买 2 送 1”的组合购买折扣，最便宜商品是免费的，其他两件商品仍为全价。 在这种情况下，退回两件全价商品的客户仍会免费获得第三件商品。 这种情况可能会给零售商带来损失。

如果此参数设置为 **是**，定价引擎会在所有适用行之间分配折扣。 此设置可以帮助减少退货损失。

### <a name="manually-calculate-multi-line-prices-and-discounts"></a>手动计算多行价格和折扣

**手动计算多行价格和折扣** 设置控制定价引擎是否对 POS 应用程序和呼叫中心渠道使用延迟价格和折扣计算。 如果此参数设置为 **是**，无论何时在 POS 应用程序或呼叫中心渠道中创建或编辑销售订单时，定价引擎都不会立即计算多行折扣（如数量折扣、阈值折扣和组合购买折扣）。

> [!NOTE]
> 在 Commerce 版本 10.0.30 及更早版本中，**手动计算多行价格和折扣** 设置仅控制呼叫中心渠道。 功能配置文件中的单独 **手动计算多个商品折扣** 设置控制 POS 应用程序中的价格计算行为。 在 Commerce 版本 10.0.31 中，这两个设置合并为一个公司级设置。

### <a name="retention-period-in-days"></a>保留期(天)

**保留期(天)** 设置指示在到期日期（如果设置了到期日期）或禁用日期（如果未设置到期日期）之后多少天，应系统地删除折扣。 如果此参数设置为 **0**（零），不会发生自动删除。

> [!NOTE]
> 在 Commerce 版本 10.0.30 及更早版本中，此设置名为 **其之后应删除已过期折扣的天数**。

### <a name="coupon-bar-code"></a>优惠券条码

**优惠券条码** 设置确定使用哪个特定条码生成优惠券条码。 用户可以选择在 **条码设置** 页面配置的预定义条码之一。 有关条码和条码掩码的更多信息，请参阅[设置条码](set-up-bar-codes.md)和[设置条码掩码](set-up-bar-code-masks.md)。

### <a name="coupon-code-must-be-manually-applied-to-return-transactions"></a>必须手动将优惠券代码应用于退货交易记录

**必须手动将优惠券代码应用于退货交易记录** 设置仅适用于未提供销售收据的退货交易。 如果应自动将优惠券代码应用于交易，将此参数设置为 **否**。 如果必须手动将优惠券代码添加到交易，将其设置为 **是**。

### <a name="use-sales-agreements-set-up-for-the-organization"></a>使用为组织设置的销售协议

对于企业到企业 (B2B) 订单，如果 **使用为组织设置的销售协议** 参数设置为 **是**，定价引擎将使用在用户的客户层次结构中为组织定义的销售协议来确定基于合同的价格。 如果参数设置为 **否**，或者未定义客户层次结构，定价引擎将查找为用户定义的销售协议来确定基于合同的价格。 有关 B2B 电子商务的客户层次结构的更多信息，请参阅[使用客户层次结构管理 B2B 业务合作伙伴](b2b/partners-customer-hierarchies.md)。

## <a name="channel-level-pricing-settings"></a>渠道级定价设置

以下设置让组织能够控制特定销售渠道的定价行为。

### <a name="enable-order-price-control"></a>启用订单价格控制

**启用订单价格控制** 参数位于 **呼叫中心配置** 页面的 **常规** 快速选项卡上。 此设置确定定价引擎是否对呼叫中心渠道的价格覆盖操作实施限制。 它与 **允许价格调整** 产品级设置结合使用。

如果关闭订单价格控制，任何呼叫中心用户都可以在呼叫中心渠道中对销售行进行价格更改，不论相应产品是否允许价格调整。

如果订单价格控制打开，只有 **允许价格调整** 参数设置为 **是** 的产品允许在呼叫中心渠道销售订单中覆盖价格，并且必须在相应的销售行上提供原因代码。 呼叫中心用户只能将销售价格更改为 **成本加价百分比** 值，此值在 **Retail 和 Commerce \> 渠道设置 \> 呼叫中心设置 \> 覆盖权限** 中定义。 如果价格覆盖超过该百分比，用户必须提交请求，之后请求将通过预定义的 Commerce 工作流进行处理，以供审查和审批。 有关 Commerce 工作流的详细信息，请参阅[工作流系统概述](/dynamics365/fin-ops-core/fin-ops/organization-administration/overview-workflow-system)。

## <a name="product-level-pricing-settings"></a>产品级定价设置

以下设置在产品级别强制执行定价规则，可以在组织的 **产品配置** 页面找到。

### <a name="allow-price-adjust"></a>允许价格调整

如果 **允许价格调整** 参数设置为 **是**，可以将价格覆盖应用于呼叫中心渠道销售订单中的产品。

### <a name="key-in-price"></a>键入价格

**键入价格** 设置确定在 POS 中将产品添加到销售交易时是否必须键入键入价格。 另外还定义相应的价格值限制。

### <a name="zero-price-valid"></a>免费有效

**免费有效** 设置确定产品的预定义、系统计算或手动调整的销售价是否可以为 0（零）。 如果允许零价格，则将此参数设置为 **是**。 也可以从 Commerce 产品层次结构的类别级别指定此设置。

### <a name="prevent-all-discounts"></a>禁止所有折扣

通过将 **禁止所有折扣** 参数设置为 **是**，您可以阻止将所有类型的折扣（包括手动折扣）应用于产品。 也可以从 Commerce 产品层次结构的类别级别指定此设置。

> [!NOTE]
> 此设置不限制价格覆盖操作，因为该操作将设置价格，不被视为折扣。

### <a name="prevent-manual-discounts"></a>禁止零售折扣

通过将 **禁止零售折扣** 参数设置为 **是**，您可以阻止将手动行或交易折扣应用于产品。 所有其他折扣仍然可以应用。 也可以从 Commerce 产品层次结构的类别级别指定此设置。

> [!NOTE]
> 此设置不限制价格覆盖操作，因为该操作将设置价格，不被视为折扣。

### <a name="prevent-retail-discounts"></a>禁止零售折扣

如果 **禁止零售折扣** 参数设置为 **是**，**简单**、**数量**、**阈值**、**组合购买** 和 **装运** 折扣不能应用于产品。 所有其他折扣（包括手动折扣）仍然可以应用。

### <a name="prevent-tender-based-discounts"></a>禁止基于支付方式的折扣

如果 **禁止基于支付方式的折扣** 参数设置为 **是**，**基于支付方式** 的折扣不能应用于产品。 所有其他折扣（包括手动折扣）仍然可以应用。

零售商通常会选择从基于商品的折扣（如简单折扣和数量折扣）中排除一些产品，如新商品或热销商品。 但是，如果客户使用首选支付方式支付，他们可能仍会希望应用基于支付方式的折扣。 为了实现这一结果，零售商可以将 **禁止所有折扣** 和 **禁止基于支付方式的折扣** 参数设置为 **否**，将 **禁止零售折扣** 和 **禁止手动折扣** 参数设置为 **是**。

## <a name="deprecated-or-removed-settings"></a>已弃用或删除的设置

以下定价设置已从 Dynamics 365 Commerce 中删除或计划要删除。

| 设置 | 弃用或删除原因 | 弃用或删除状态 |
|---------|-----------------------------------|-------------------------------|
| 重叠折扣处理 | 我们在 Commerce 参数中提供了此设置，来控制定价引擎如何搜索和确定要应用的最佳折扣组合。 **最佳折扣** 选项在定价计算期间将强制通过所有可能的折扣组合。 **最佳效果** 选项是使用启发式算法和边际值排名方法的优化选项，可以及时确定最佳折扣组合的优先级并评估和确定最佳折扣组合。 代码库中的 **平衡计算** 选项与 **最佳效果** 的作用相同。 因此，它基本上是重复的选项。 为帮助提高效果，定价引擎已更新，现在仅使用 **最佳效果** 作为标准选项。 因此，此设置不再适用。 | 在 10.0.21 版本中已弃用，并将于 2022 年 10 月删除。 |
| 允许价格调整以提高产品价格 | 我们提供此设置来控制价格调整功能能否提高产品价格。 如果关闭此参数，组织只能使用价格调整功能来设置产品的单价，使其低于基价和贸易协议销售价。 我们已弃用此设置，因为价格调整功能已更新，以支持现成可用的双向调整（提高或降低）。 | 在 10.0.30 版本中已弃用，将于 2023 年 10 月删除。 |
| 为零售商店启用价格报告 | 我们提供此设置来控制 **价格报表** 功能是否可以在商店配置页面使用。 我们已弃用此设置，因为商店配置页面已更新，以始终提供 **价格报表** 作为标准功能。 | 在 10.0.31 版本中已弃用，将于 2023 年 10 月删除。 |
| 使用今天计算价格 | Dynamics 365 Supply Chain Management 定价引擎支持基于“要求装运日期”和“要求收货日期”以及今天的日期计算定价。 Commerce 定价引擎仅支持基于今天的日期计算定价。 对于同时使用 Supply Chain Management 和 Commerce 功能的客户，我们提供了此设置并建议客户始终将其设置为 **是**，以使两个定价引擎可以协同工作。 我们已弃用此设置，因为它不会从根本上更改计算行为，是多余的。 | 在 10.0.31 版本中已弃用，将于 2023 年 10 月删除。 |
| 最高价格 | 我们在功能配置文件中提供此设置来控制是否只有销售价低于指定最高价格的产品才可以通过特定商店的 POS 销售。 由于功能使用率低，我们已弃用此设置。 | 在 10.0.31 版本中已弃用，将于 2023 年 10 月删除。 |
| 将折扣应用于单位价格 | 此设置用于控制在定价计算期间是在单价级别还是在销售行级别舍入价格和折扣。 我们已将其弃用，因为此设置没有在当前代码库的任何地方使用。 | 在 10.0.31 版本中已弃用，将于 2023 年 10 月删除。 |
| 手动计算多个物料折扣 | 我们提供此设置来控制定价引擎是否对零售店渠道使用延迟价格计算。 如果此参数设置为 **是**，无论何时在 POS 应用程序中创建或编辑销售订单时，定价引擎都不会立即计算多行折扣（如数量折扣、阈值折扣和组合购买折扣）。 我们决定将此设置与 Commerce 参数中的类似设置合并，以进行全渠道控制。 | 在 10.0.31 版本中已弃用，将于 2023 年 10 月删除。 |

有关 Dynamics 365 Commerce 中已删除或已弃用功能的完整列表，请参阅 [Dynamics 365 Commerce 中已删除或弃用的功能](get-started/removed-deprecated-features-commerce.md)。

[!INCLUDE[footer-include](../includes/footer-banner.md)]
