---
title: 零售销售价管理
description: 本主题介绍在 Dynamics 365 Commerce 中创建和管理销售价的概念。
author: ShalabhjainMSFT
manager: AnnBe
ms.date: 01/06/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-retail
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.search.region: Global
ms.search.industry: retail
ms.author: ShalabhjainMSFT
ms.search.validFrom: 2018-03-30
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 1eb0b218b9008b255cc5a09eefb8c7fa35836cd7
ms.sourcegitcommit: 12b9d6f2dd24e52e46487748c848864909af6967
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/14/2020
ms.locfileid: "3057479"
---
# <a name="retail-sales-price-management"></a><span data-ttu-id="e9ff1-103">零售销售价格管理</span><span class="sxs-lookup"><span data-stu-id="e9ff1-103">Retail sales price management</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="e9ff1-104">本主题提供有关 Dynamics 365 Commerce 中的销售价创建和管理流程的信息。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-104">This topic provides information about the process of creating and managing sales prices in Dynamics 365 Commerce.</span></span> <span data-ttu-id="e9ff1-105">重点介绍此流程中涉及的概念，以及各种配置选项对销售价的影响。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-105">It focuses on the concepts that are involved in this process, and on the effects of the various configuration options for sales prices.</span></span>

## <a name="terminology"></a><span data-ttu-id="e9ff1-106">术语</span><span class="sxs-lookup"><span data-stu-id="e9ff1-106">Terminology</span></span>

<span data-ttu-id="e9ff1-107">本主题中使用了以下术语。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-107">The following terms are used in this topic.</span></span>

| <span data-ttu-id="e9ff1-108">术语</span><span class="sxs-lookup"><span data-stu-id="e9ff1-108">Term</span></span> | <span data-ttu-id="e9ff1-109">定义、用法和注释</span><span class="sxs-lookup"><span data-stu-id="e9ff1-109">Definition, usage, and notes</span></span> |
|---|---|
| <span data-ttu-id="e9ff1-110">价格</span><span class="sxs-lookup"><span data-stu-id="e9ff1-110">Price</span></span> | <span data-ttu-id="e9ff1-111">销售点 (POS) 客户端或销售订单中的产品销售单价。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-111">The single unit amount that a product sells for in a point of sale (POS) client or on a sales order.</span></span> <span data-ttu-id="e9ff1-112">本主题中，术语*价格*始终指的是销售价，而不是库存价或成本费。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-112">In this topic, the term *price* always refers to the sales price, not the inventory price or cost price.</span></span> |
| <span data-ttu-id="e9ff1-113">基价</span><span class="sxs-lookup"><span data-stu-id="e9ff1-113">Base price</span></span> | <span data-ttu-id="e9ff1-114">在**价格**字段中为发布的产品设置的价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-114">The price that is set in the **Price** field on a released product.</span></span> |
| <span data-ttu-id="e9ff1-115">贸易协议价格</span><span class="sxs-lookup"><span data-stu-id="e9ff1-115">Trade agreement price</span></span> | <span data-ttu-id="e9ff1-116">使用**价格(销售)** 类型的贸易协议为产品或变型设置的价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-116">The price that is set on a product or variant by using a trade agreement of the **Price (sales)** type.</span></span> |
| <span data-ttu-id="e9ff1-117">最优价格</span><span class="sxs-lookup"><span data-stu-id="e9ff1-117">Best price</span></span> | <span data-ttu-id="e9ff1-118">可为产品应用多个价格或折扣时，生成客户必须支付的最低可行净额的最小价格金额和/或最大折扣金额。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-118">When more than one price or discount can be applied to a product, the smallest price amount and/or the largest discount amount that produces the lowest possible net amount that the customer must pay.</span></span> <span data-ttu-id="e9ff1-119">在本主题中，最优价格的概念始终称为“最优价格”。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-119">In this topic, the concept of best price is always referred to as "the best price."</span></span> <span data-ttu-id="e9ff1-120">这里的最优价格与折扣的并发模式**最优价格**枚举值不同，不应与其混淆。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-120">This best price differs from and should not be confused with the **Best price** enumeration value for a discount's concurrency mode.</span></span> |

## <a name="price-groups"></a><span data-ttu-id="e9ff1-121">价格组</span><span class="sxs-lookup"><span data-stu-id="e9ff1-121">Price groups</span></span>

<span data-ttu-id="e9ff1-122">价格组是 Commerce 中价格和折扣管理的核心。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-122">Price groups are at the heart of price and discount management in Commerce.</span></span> <span data-ttu-id="e9ff1-123">价格组用于将价格和折扣分配给商业实体（即渠道、目录、隶属关系和会员计划）。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-123">Price groups are used to assign prices and discounts to commerce entities (that is, channels, catalogs, affiliations, and loyalty programs).</span></span> <span data-ttu-id="e9ff1-124">由于价格组用于所有定价和折扣，所以首先规划其用法至关重要。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-124">Because price groups are used for all pricing and discounts, it's very important that you plan how you will use them before you start.</span></span>

<span data-ttu-id="e9ff1-125">价格组本身不过是名称、描述加定价优先级（可选）。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-125">By itself, a price group is just a name, a description, and, optionally, a pricing priority.</span></span> <span data-ttu-id="e9ff1-126">价格组最值得记住的是其用于管理折扣和价格与商业实体之间的多对多关系。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-126">The main point to remember about price groups is that they are used to manage the many-to-many relationships that discounts and prices have with commerce entities.</span></span>

<span data-ttu-id="e9ff1-127">下图说明如何使用价格组。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-127">The following illustration shows how price groups are used.</span></span> <span data-ttu-id="e9ff1-128">请注意，此图中“价格组”的确位于定价和折扣管理的中央。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-128">In this illustration, notice that "Price group" is literally at the center of pricing and discount management.</span></span> <span data-ttu-id="e9ff1-129">可用于管理差异价格和折扣的商业实体位于左侧，实际价格和折扣记录位于右侧。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-129">The commerce entities that you can use to manage differential prices and discounts are on the left, and the actual price and discount records are on the right.</span></span>

<span data-ttu-id="e9ff1-130">![价格组](./media/PriceGroups.png "价格组")</span><span class="sxs-lookup"><span data-stu-id="e9ff1-130">![Price groups](./media/PriceGroups.png "Price groups")</span></span>

<span data-ttu-id="e9ff1-131">创建价格组时，不应将一个价格组用于多种商业实体。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-131">When you create price groups, you should not use a single price group for multiple types of commerce entities.</span></span> <span data-ttu-id="e9ff1-132">否则可能很难确定为何将特定价格或折扣应用于某个交易。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-132">Otherwise, it can be difficult to determine why a specific price or discount is being applied to a transaction.</span></span>

<span data-ttu-id="e9ff1-133">正如图中红色虚线所示，Commerce 的确支持直接为客户设置价格组这项 Microsoft Dynamics 365 核心功能。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-133">As the red dashed line in the illustration shows, Commerce does support the core Microsoft Dynamics 365 functionality of a price group that is set directly on a customer.</span></span> <span data-ttu-id="e9ff1-134">但是在此情况下，将仅获得销售价贸易协议。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-134">However, in this case, you get only sales price trade agreements.</span></span> <span data-ttu-id="e9ff1-135">如果要应用客户特定的价格，建议不要直接为客户设置价格组。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-135">If you want to apply customer-specific prices, we recommend that you not set price groups directly on the customer.</span></span> <span data-ttu-id="e9ff1-136">而应使用隶属关系。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-136">Instead, you should use affiliations.</span></span>

<span data-ttu-id="e9ff1-137">下面的章节提供有关使用价格组时可用于设置不同价格的商业实体的更多信息。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-137">The following sections provide more information about the commerce entities that you can use to set distinct prices when the price groups are used.</span></span> <span data-ttu-id="e9ff1-138">所有这些实体的价格和折扣配置过程分为两步。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-138">The configuration of prices and discounts for all these entities is a two-step process.</span></span> <span data-ttu-id="e9ff1-139">可按照任何顺序执行这些步骤。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-139">These steps can be done in either order.</span></span> <span data-ttu-id="e9ff1-140">但是，合理的顺序是首先为实体设置价格组，因为此步骤可能是要在实施期间完成的一次性设置。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-140">However, the logical order is to set the price groups on the entities first, because this step is likely to be a one-time setup that is done during implementation.</span></span> <span data-ttu-id="e9ff1-141">然后可以在创建价格和折扣后为这些价格和折扣单独设置价格组。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-141">Then, as prices and discounts are created, you can set the price groups on those prices and discounts individually.</span></span>

### <a name="channels"></a><span data-ttu-id="e9ff1-142">渠道</span><span class="sxs-lookup"><span data-stu-id="e9ff1-142">Channels</span></span>

<span data-ttu-id="e9ff1-143">在商业中，不同渠道采用不同价格极为普遍。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-143">In the commerce industry, it's very typical to have different prices in different channels.</span></span> <span data-ttu-id="e9ff1-144">影响渠道特定价格的两个主要因素是成本和本地市场条件。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-144">The two primary factors that affect channel-specific prices are costs and local market conditions.</span></span>

- <span data-ttu-id="e9ff1-145">**成本** – 渠道与产品源之间的距离越远，产品的贮存成本就越高。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-145">**Costs** – The farther away a channel is from the product source, the more it costs to stock a product.</span></span> <span data-ttu-id="e9ff1-146">例如，果蔬的保质期有限，并且具有特定的生产要求（例如，生长季节）。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-146">For example, fresh produce has a limited shelf life and specific production requirements (for example, a growing season).</span></span> <span data-ttu-id="e9ff1-147">在冬季，新鲜莴苣的成本在北方气候环境下可能比在南方气候环境下高。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-147">During the winter, fresh lettuce likely costs more in northern climates than in southern climates.</span></span> <span data-ttu-id="e9ff1-148">如果为地理区域极大的渠道设置价格，可能需要为不同渠道设置不同价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-148">If you're setting prices for channels over a large geographical area, you will probably want to set different prices in different channels.</span></span>
- <span data-ttu-id="e9ff1-149">**本地市场条件** – 所在街道有直接竞争对手的商店对价格的敏感程度比附近没有直接竞争对手的商店高得多。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-149">**Local market conditions** – A store that has a direct competitor across the street will be much more price-sensitive than a store that doesn't have a direct competitor nearby.</span></span>

### <a name="affiliations"></a><span data-ttu-id="e9ff1-150">隶属关系</span><span class="sxs-lookup"><span data-stu-id="e9ff1-150">Affiliations</span></span>

<span data-ttu-id="e9ff1-151">隶属关系的一般定义是指向组的链接或与组之间的关联。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-151">The general definition of an affiliation is a link to or association with a group.</span></span> <span data-ttu-id="e9ff1-152">在 Commerce 中，隶属关系是客户构成的组。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-152">In Commerce, affiliations are groups of customers.</span></span> <span data-ttu-id="e9ff1-153">相比客户组和折扣组这一 Microsoft Dynamics 365 核心概念，隶属关系是灵活得多的客户定价和折扣工具。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-153">Affiliations are a much more flexible tool for customer pricing and discounts than the core Microsoft Dynamics 365 concept of customer groups and discount groups.</span></span> <span data-ttu-id="e9ff1-154">首先，隶属关系既可用于价格，又可用于折扣，而非零售定价则每种折扣和价格有一个不同组。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-154">First, an affiliation can be used for both prices and discounts, whereas non-retail pricing has a different group for each type of discount and price.</span></span> <span data-ttu-id="e9ff1-155">然后，一个客户可以属于多个隶属关系，但是仅属于每种类型的一个非零售定价组。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-155">Next, a customer can belong to multiple affiliations but can belong to only one non-retail pricing group of each type.</span></span> <span data-ttu-id="e9ff1-156">最后，尽管可以将隶属关系设置为链接到客户，但是不必这样做。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-156">Finally, although affiliations can be set up so that they are linked to a customer, they don't have to be.</span></span> <span data-ttu-id="e9ff1-157">可在 POS 中将临时隶属关系用于匿名客户。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-157">An ad-hoc affiliation can be used for anonymous customers at the POS.</span></span> <span data-ttu-id="e9ff1-158">下面是一个典型的匿名隶属关系折扣示例：老年人折扣或学生折扣，客户只需出示组成员资格卡即可享受折扣。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-158">A typical example of an anonymous affiliation discount is a senior or student discount, where a customer can receive a discount just by showing a group membership card.</span></span>

<span data-ttu-id="e9ff1-159">尽管隶属关系最常与折扣关联，您还是可以将其用于设置差异定价。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-159">Although affiliations are most often associated with discounts, you can also use them to set differential pricing.</span></span> <span data-ttu-id="e9ff1-160">例如，当零售商向员工销售时，可能需要更改销售价，而不是为常规价格应用折扣。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-160">For example, when a retailer sells to an employee, it might want to change the selling price instead of applying a discount on top of the regular price.</span></span> <span data-ttu-id="e9ff1-161">再如，同时向消费者客户和商业客户销售的零售商可能根据商业客户的采购量为商业客户提供更优惠的价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-161">As another example, a retailer that sells to both consumer customers and business customers might offer business customers better prices, based on their purchasing volume.</span></span> <span data-ttu-id="e9ff1-162">隶属关系同时支持这两种方案。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-162">Affiliations enable both these scenarios.</span></span>

### <a name="loyalty-programs"></a><span data-ttu-id="e9ff1-163">会员计划</span><span class="sxs-lookup"><span data-stu-id="e9ff1-163">Loyalty programs</span></span>

<span data-ttu-id="e9ff1-164">在价格和折扣方面，会员计划本质上就是隶属关系，不过采用了特殊名称。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-164">In relation to prices and discounts, loyalty programs are basically just an affiliation that has a special name.</span></span> <span data-ttu-id="e9ff1-165">可以为会员计划设置价格和折扣，就像可以为隶属关系设置一样。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-165">Both prices and discounts can be set for a loyalty program, just as they can be set for an affiliation.</span></span> <span data-ttu-id="e9ff1-166">但是，客户在交易或订购期间获得会员定价的方法与获得隶属关系定价的方法不同。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-166">However, the way that customers get loyalty pricing during a transaction or order differs from the way that they get affiliation pricing.</span></span> <span data-ttu-id="e9ff1-167">只有向交易添加了会员卡，客户才能获得会员定价。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-167">Customers can get loyalty pricing only if a loyalty card is added to a transaction.</span></span> <span data-ttu-id="e9ff1-168">如果向交易添加会员卡，也会添加会员计划。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-168">When a loyalty card is added to a transaction, the loyalty program is also added.</span></span> <span data-ttu-id="e9ff1-169">然后，会员计划就将启用特殊价格和折扣。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-169">The loyalty program then enables special prices and discounts.</span></span>

<span data-ttu-id="e9ff1-170">会员计划可以有多个级别，不同级别享受的折扣不同。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-170">Loyalty programs can have multiple tiers, and the discounts can differ for different tiers.</span></span> <span data-ttu-id="e9ff1-171">这样，零售商就可以给常客提供更大的回报，同时不必将其手动放入特殊组中。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-171">In this way, retailers can give frequent customers larger rewards without having to manually put those customers into a special group.</span></span>

<span data-ttu-id="e9ff1-172">除了价格和折扣，会员计划还有其他功能。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-172">Loyalty programs have additional functionality besides prices and discounts.</span></span> <span data-ttu-id="e9ff1-173">但是，从定价和折扣的角度来说，它们与隶属关系是同一回事。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-173">However, from the perspective of pricing and discounts, they are the same as affiliations.</span></span>

### <a name="catalogs"></a><span data-ttu-id="e9ff1-174">目录</span><span class="sxs-lookup"><span data-stu-id="e9ff1-174">Catalogs</span></span>

<span data-ttu-id="e9ff1-175">有些零售商使用实体目录或虚拟目录针对重点客户组销售产品或制订产品价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-175">Some retailers use physical or virtual catalogs to market products to, and price them for, focused groups of customers.</span></span> <span data-ttu-id="e9ff1-176">在通过目录执行定向营销的业务模型中，这些零售商可以在各种目录中设置差异价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-176">As part of their business model to target marketing via a catalog, these retailers can set differential prices on their various catalogs.</span></span> <span data-ttu-id="e9ff1-177">Microsoft Dynamics 365 支持此项功能，方法是允许您定义目录特定的折扣和价格，就像可以定义渠道特定的折扣或隶属关系特定的折扣。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-177">Microsoft Dynamics 365 supports this capability by letting you define catalog-specific discounts and prices, just as you can define channel-specific or affiliation-specific discounts.</span></span> <span data-ttu-id="e9ff1-178">编辑目录时，可以将价格组与目录关联，就像可以将其与渠道、隶属关系或会员计划关联。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-178">When you edit a catalog, you can associate price groups with the catalog, just as you can associate them with a channel, affiliation, or loyalty program.</span></span>

### <a name="best-practices-for-price-groups"></a><span data-ttu-id="e9ff1-179">价格组的最佳实践</span><span class="sxs-lookup"><span data-stu-id="e9ff1-179">Best practices for price groups</span></span>

<span data-ttu-id="e9ff1-180">请勿将一个价格组用于多个实体类型。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-180">Don't use a price group for multiple entity types.</span></span> <span data-ttu-id="e9ff1-181">请改为对渠道使用一套价格组，对隶属关系或会员计划使用一套不同的价格组，依此类推。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-181">Instead, use one set of price groups for channels, a different set of price groups for affiliations or loyalty programs, and so on.</span></span> <span data-ttu-id="e9ff1-182">可在价格组名称中使用前缀或后缀为所用各种类型的价格组视觉分组。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-182">You can use a prefix or suffix in the name of the price group to visually group the various types of price groups that you're using.</span></span>

<span data-ttu-id="e9ff1-183">请不要直接为客户设置价格组。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-183">Avoid setting price groups directly on a customer.</span></span> <span data-ttu-id="e9ff1-184">而是改用隶属关系。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-184">Instead, use an affiliation.</span></span> <span data-ttu-id="e9ff1-185">这样就可以将所有类型的价格和折扣分配给客户，而不仅是销售价贸易协议。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-185">In this way, you can assign all types of prices and discounts to customers, not just sales price trade agreements.</span></span>

## <a name="pricing-priority"></a><span data-ttu-id="e9ff1-186">定价优先级</span><span class="sxs-lookup"><span data-stu-id="e9ff1-186">Pricing priority</span></span>

<span data-ttu-id="e9ff1-187">定价优先级本身不过是编号加描述。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-187">By itself, a pricing priority is just a number and a description.</span></span> <span data-ttu-id="e9ff1-188">可将定价优先级应用于价格组，也可以将其直接应用于折扣。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-188">Pricing priorities can be applied to price groups, or they can be applied directly to discounts.</span></span> <span data-ttu-id="e9ff1-189">使用定价优先级时，零售商可通过控制为产品应用价格和折扣的顺序来替代最优价格的原则。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-189">When pricing priorities are used, they let a retailer override the principle of the best price by controlling the order in which prices and discounts are applied to products.</span></span> <span data-ttu-id="e9ff1-190">较大定价优先级编号的评估优于较低定价优先级编号。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-190">A larger pricing priority number is evaluated before a lower pricing priority number.</span></span> <span data-ttu-id="e9ff1-191">此外，如果在任何优先级编号发现了价格或折扣，则忽略具有较低优先级编号的所有价格或折扣。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-191">Additionally, if a price or discount is found at any priority number, all prices or discounts that have lower priority numbers are ignored.</span></span>

<span data-ttu-id="e9ff1-192">价格和折扣可以源自两个不同的定价优先级，因为这些定价优先级分别应用于价格和折扣。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-192">The price and a discount can come from two different pricing priorities, because pricing priorities apply to prices and discounts independently.</span></span>

<span data-ttu-id="e9ff1-193">要为价格应用定价优先级，必须为价格组分配定价优先级，然后为该价格组创建销售价贸易协议。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-193">To use pricing priority for prices, you must assign a pricing priority to a price group and then create a sales price trade agreement for that price group.</span></span>

<span data-ttu-id="e9ff1-194">引入定价优先级是为了向零售商希望在特定商店组应用更高价格的情况提供支持。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-194">The pricing priority feature was introduced to support the scenario where a retailer wants to apply higher prices in a specific set of stores.</span></span> <span data-ttu-id="e9ff1-195">例如，零售商为美国东海岸定义了区域价格，但希望为纽约商店部分产品定义更高价格，因为某些产品的纽约销售成本更高，并且/或者当地市场可以承担更高价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-195">For example, a retailer has defined regional prices for the east coast of the United States but wants higher prices for some products in New York City stores, because it costs more to sell some products in the city, and/or because the local market will bear a higher price.</span></span>

<span data-ttu-id="e9ff1-196">正如本主题“最优价格”部分中的说明，定价引擎通常会选择两个价格中较低的价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-196">As was described in the "Best price" section of this topic, the pricing engine typically selects the lower of two prices.</span></span> <span data-ttu-id="e9ff1-197">因此，在同时有东海岸价格组和纽约价格组的商店中，通常会阻止零售商使用两个价格中较高的价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-197">Therefore, the retailer is usually prevented from using the higher of two prices in a store that has both the East coast and New York price groups.</span></span> <span data-ttu-id="e9ff1-198">在引入定价优先级功能之前，要解决这个问题，零售商必须为每个产品定义价格两次，但不分配两个价格组。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-198">To resolve this issue before the pricing priority feature was introduced, the retailer had to define prices for every product two times and not assign both price groups.</span></span> <span data-ttu-id="e9ff1-199">或者，零售商必须创建额外的价格组来隔离价格比具有正常较低价格的产品高的产品。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-199">Alternatively, the retailer had to create extra price groups to isolate the products that have higher prices from products that have the usual, lower prices.</span></span>

<span data-ttu-id="e9ff1-200">但是，零售商可使用定价优先级功能为商店价格创建比区域价格的定价优先级更高的定价优先级。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-200">However, the pricing priority feature lets the retailer create a pricing priority for store prices that is higher than the pricing priority for regional prices.</span></span> <span data-ttu-id="e9ff1-201">零售商也可以仅为商店价格创建定价优先级，并保留区域价格的默认优先级，即 0（零）。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-201">Alternatively, the retailer can create a pricing priority just for store prices and leave regional prices at the default pricing priority, which is 0 (zero).</span></span> <span data-ttu-id="e9ff1-202">这两种设置都有助于确保商店价格的使用优先级始终高于区域价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-202">Both setups help guarantee that store prices will always be used before regional prices.</span></span>

### <a name="pricing-priority-example"></a><span data-ttu-id="e9ff1-203">定价优先级示例</span><span class="sxs-lookup"><span data-stu-id="e9ff1-203">Pricing priority example</span></span>

<span data-ttu-id="e9ff1-204">下面是商店价格替代其他价格的示例。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-204">Let's look at an example where store prices override other prices.</span></span>

<span data-ttu-id="e9ff1-205">国家/地区零售商按区域设置了大多数价格，而区域有四个：东北部、东南部、中西部和西部。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-205">A national retailer sets most prices per region, and it has four regions: North east, South east, Mid-west and West.</span></span> <span data-ttu-id="e9ff1-206">它确认了几个可承担较高价格的高成本市场。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-206">It has identified several high-cost markets that can support higher prices.</span></span> <span data-ttu-id="e9ff1-207">这些市场在纽约市、芝加哥和旧金山湾区。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-207">These markets are in New York City, Chicago, and the San Francisco Bay area.</span></span>

<span data-ttu-id="e9ff1-208">在本示例中，我们将深入研究东北部区域。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-208">For this example, we will drill into the North east region.</span></span> <span data-ttu-id="e9ff1-209">商店 1 在波士顿，商店 2 在曼哈顿。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-209">Store 1 is in Boston, and store 2 is in Manhattan.</span></span> <span data-ttu-id="e9ff1-210">对于波士顿商店，两个价格组与渠道链接：“东北部”和“商店 1”。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-210">For the Boston store, two price groups are linked to the channel: North East and Store 1.</span></span> <span data-ttu-id="e9ff1-211">对于曼哈顿商店，三个价格组与渠道链接：“东北部”、“纽约”和“商店 2”。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-211">For the Manhattan store, three price groups are linked to the channel: North East, NYC, and Store 2.</span></span>

<span data-ttu-id="e9ff1-212">零售商设置了两个定价优先级：“高成本”的优先级编号为 5，“商店价格”的优先级编号为 10。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-212">The retailer sets up two pricing priorities: High cost has a priority number of 5, and Store prices has a priority number of 10.</span></span> <span data-ttu-id="e9ff1-213">（请记住，默认情况下定价优先级为 0 \[零\]，较高优先级编号的价格或折扣的使用优先级高于较低优先级编号的价格或折扣。）对于“东北部”价格组，定价优先级保持为默认值 **0**（零）。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-213">(Remember that, by default, the pricing priority is 0 \[zero\], and a price or discount that has a higher priority number is used before a price or discount that has a lower priority number.) For the North East price group, the pricing priority is left at the default value of **0** (zero).</span></span> <span data-ttu-id="e9ff1-214">对于“纽约”价格组，定价优先级设置为 **5**，因为纽约是高成本市场。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-214">For the NYC price group, the pricing priority is set to **5**, because New York City is a high-cost market.</span></span> <span data-ttu-id="e9ff1-215">对于“商店 1”和“商店 2”价格组，定价优先级设置为 **10**。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-215">For the Store 1 and Store 2 price groups, the pricing priority is set to **10**.</span></span>

<span data-ttu-id="e9ff1-216">零售商销售的两种产品是产品 1（一款普通的 T 恤衫）和产品 2（一款时尚品牌牛仔裤）。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-216">Two products that the retailer sells are product 1, a commodity T-shirt, and product 2, brand-specific fashion jeans.</span></span>

| <span data-ttu-id="e9ff1-217">产品</span><span class="sxs-lookup"><span data-stu-id="e9ff1-217">Product</span></span> | <span data-ttu-id="e9ff1-218">东北部价格</span><span class="sxs-lookup"><span data-stu-id="e9ff1-218">North East price</span></span> | <span data-ttu-id="e9ff1-219">纽约价格</span><span class="sxs-lookup"><span data-stu-id="e9ff1-219">NYC price</span></span> | <span data-ttu-id="e9ff1-220">商店价格</span><span class="sxs-lookup"><span data-stu-id="e9ff1-220">Store price</span></span> |
|---|---|---|---|
| <span data-ttu-id="e9ff1-221">T 恤杉</span><span class="sxs-lookup"><span data-stu-id="e9ff1-221">T-shirt</span></span> | <span data-ttu-id="e9ff1-222">$15</span><span class="sxs-lookup"><span data-stu-id="e9ff1-222">$15</span></span> | <span data-ttu-id="e9ff1-223">未设置</span><span class="sxs-lookup"><span data-stu-id="e9ff1-223">Not set</span></span> | <span data-ttu-id="e9ff1-224">未设置</span><span class="sxs-lookup"><span data-stu-id="e9ff1-224">Not set</span></span> |
| <span data-ttu-id="e9ff1-225">时尚牛仔裤</span><span class="sxs-lookup"><span data-stu-id="e9ff1-225">Fashion jeans</span></span> | <span data-ttu-id="e9ff1-226">$50</span><span class="sxs-lookup"><span data-stu-id="e9ff1-226">$50</span></span> | <span data-ttu-id="e9ff1-227">$70</span><span class="sxs-lookup"><span data-stu-id="e9ff1-227">$70</span></span> | <span data-ttu-id="e9ff1-228">未设置</span><span class="sxs-lookup"><span data-stu-id="e9ff1-228">Not set</span></span> |

<span data-ttu-id="e9ff1-229">T 恤衫在波士顿和曼哈顿商店的销售价格相同（即 $15），因为与这两个渠道链接的“东北部”价格组中仅设置了一个价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-229">The T-shirt sells for the same price (that is, $15) at both the Boston and Manhattan stores, because only one price is set in the North East price group that is linked to both channels.</span></span> <span data-ttu-id="e9ff1-230">这款时尚牛仔裤在波士顿商店卖 $50，因为该价格是这家商店的唯一价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-230">The fashion jeans sell for $50 in the Boston store, because that price is the only price that is available in that store.</span></span> <span data-ttu-id="e9ff1-231">但是在曼哈顿商店则有两个价格：$50 和 $70。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-231">However, in the Manhattan store, two prices are available: $50 and $70.</span></span> <span data-ttu-id="e9ff1-232">因为“纽约”价格组的定价优先级 5 比“东北部”价格组的定价优先级 0（零）高，所以该价格在 POS 系统中将上升为 $70。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-232">Because the pricing priority of 5 for the NYC price group is higher than the pricing priority of 0 (zero) for the North East price group, the price will be rung up as $70 in the POS system.</span></span>

> [!NOTE]
> <span data-ttu-id="e9ff1-233">对于每个定价优先级，零售定价引擎需要全通逻辑。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-233">For each pricing priority, a full pass through the logic for the retail pricing engine is required.</span></span> <span data-ttu-id="e9ff1-234">因为，为了帮助维持价格和折扣的计算性能，应保守使用定价优先级。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-234">Therefore, to help maintain the performance of the price and discount calculation, you should use pricing priorities sparingly.</span></span>

## <a name="types-of-prices"></a><span data-ttu-id="e9ff1-235">价格的类型</span><span class="sxs-lookup"><span data-stu-id="e9ff1-235">Types of prices</span></span>

<span data-ttu-id="e9ff1-236">在 Microsoft Dynamics 365 中，可在三处设置产品价格：</span><span class="sxs-lookup"><span data-stu-id="e9ff1-236">In Microsoft Dynamics 365, you can set the price of a product in three places:</span></span>

- <span data-ttu-id="e9ff1-237">直接为产品设置（基价）</span><span class="sxs-lookup"><span data-stu-id="e9ff1-237">Directly on the product (base price)</span></span>
- <span data-ttu-id="e9ff1-238">在销售价贸易协议中设置</span><span class="sxs-lookup"><span data-stu-id="e9ff1-238">In a sales price trade agreement</span></span>
- <span data-ttu-id="e9ff1-239">在价格调整中设置</span><span class="sxs-lookup"><span data-stu-id="e9ff1-239">In a price adjustment</span></span>

<span data-ttu-id="e9ff1-240">基价和贸易协议属于 Dynamics 365 的核心，即使您不使用 Commerce 也可用。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-240">The base price and trade agreement price are part of core Dynamics 365, and are available even if you don't use Commerce.</span></span> <span data-ttu-id="e9ff1-241">只有 Commerce 中才提供价格调整功能。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-241">The price adjustment functionality is available only in Commerce.</span></span> <span data-ttu-id="e9ff1-242">下一节提供有关用于设置价格的各种选项的更多信息，并介绍这些选项如何协同工作。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-242">The next section provides more information about each of these options for setting prices and explains how the options work together.</span></span>

## <a name="setting-prices"></a><span data-ttu-id="e9ff1-243">设置价格</span><span class="sxs-lookup"><span data-stu-id="e9ff1-243">Setting prices</span></span>

### <a name="base-price"></a><span data-ttu-id="e9ff1-244">基价</span><span class="sxs-lookup"><span data-stu-id="e9ff1-244">Base price</span></span>

<span data-ttu-id="e9ff1-245">最简单的产品价格设置位置是直接对产品设置。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-245">The easiest place to set the price for a product is directly on the product.</span></span> <span data-ttu-id="e9ff1-246">直接为产品设置的值通常称为产品的基价。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-246">The value that you set directly on a product is often referred to as the base price for the product.</span></span> <span data-ttu-id="e9ff1-247">请在**已发布产品详细信息**页**销售**选项卡上的**价格**字段中设置基价。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-247">You set the base price in the **Price** field on the **Sell** tab of the **Released product details** page.</span></span> <span data-ttu-id="e9ff1-248">输入的值采用公司币种。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-248">The value that you enter is in the company currency.</span></span> <span data-ttu-id="e9ff1-249">默认情况下，此价格是采用**销售**选项卡上**单位**字段中设置的度量单位 (UoM) 且数量为 1 时的价格。产品每个单位的实际价格基于 UoM、价格数量和货币。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-249">By default, the price is for a quantity of 1 of the unit of measure (UoM) that is set in the **Unit** field on the **Sell** tab. The actual price per unit of a product is based on the UoM, the price quantity, and the currency.</span></span>

<span data-ttu-id="e9ff1-250">如果某个产品有一个适用于所有人的价格，则基价管理该产品的价格的效率最高。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-250">If a product has one price for everyone, the base price offers the most efficient way to manage the price of that product.</span></span> <span data-ttu-id="e9ff1-251">即使使用贸易协议设置价格，也可以为产品设置基价。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-251">Even if you use trade agreements to set prices, you might also set the base price on a product.</span></span> <span data-ttu-id="e9ff1-252">如果您不使用**全部**贸易协议，则具有备选价格，在不应用贸易协议时使用。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-252">Then, if you don't use an **All** trade agreement, you have a fallback price that is used when no trade agreement applies.</span></span>

<span data-ttu-id="e9ff1-253">如果渠道的货币与公司货币不同，则通过对为产品设置的价格执行货币转换确定该渠道的基价。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-253">If a channel's currency differs from the company currency, the base price in that channel is determined by using currency conversion on the price that is set on the product.</span></span>

<span data-ttu-id="e9ff1-254">尽管价格单位不是常用的方案，但是仍然受定价引擎支持。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-254">Although the price unit isn't a common scenario, the pricing engine supports it.</span></span> <span data-ttu-id="e9ff1-255">如果为价格单位设置的值非 **0**（零），则每单位的价格等于价格 ÷ 价格单位。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-255">If the price unit is set to a value other than **0** (zero), the price per unit equals Price ÷ Price unit.</span></span> <span data-ttu-id="e9ff1-256">例如，如果产品的价格为 $10.00，并且价格单位为 50，则数量为 1 的价格为 $0.20 (= $10.00 ÷ 50)。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-256">For example, if a product's price is $10.00, and the price unit is 50, the price for a quantity of 1 is $0.20 (= $10.00 ÷ 50).</span></span>

### <a name="sales-price-trade-agreement"></a><span data-ttu-id="e9ff1-257">销售价贸易协议</span><span class="sxs-lookup"><span data-stu-id="e9ff1-257">Sales price trade agreement</span></span>

<span data-ttu-id="e9ff1-258">可使用贸易协议日记帐为各产品创建销售价贸易协议。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-258">By using the trade agreement journal, you can create sales price trade agreements for each product.</span></span> <span data-ttu-id="e9ff1-259">在 Microsoft Dynamics 365 中，销售价贸易协议有三种客户范围：**表**、**组**和**全部**。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-259">In Microsoft Dynamics 365, there are three customer scopes for sales price trade agreements: **Table**, **Group**, and **All**.</span></span> <span data-ttu-id="e9ff1-260">客户范围确定给定销售价贸易协议适用的客户。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-260">The customer scope determines the customers that a given sales price trade agreement applies to.</span></span>

<span data-ttu-id="e9ff1-261">**表**销售价贸易协议适用于直接在贸易协议中设置的一位客户。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-261">A **Table** sales price trade agreement is for a single customer that is set directly on the trade agreement.</span></span> <span data-ttu-id="e9ff1-262">此方案不是典型的企业对消费者 (B2C) 方案。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-262">This scenario isn't a typical business-to-consumer (B2C) scenario.</span></span> <span data-ttu-id="e9ff1-263">但是如果出现这种情况，定价引擎在确定价格时将使用**表**贸易协议。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-263">However, if it occurs, the pricing engine uses **Table** trade agreements when it determines price.</span></span>

<span data-ttu-id="e9ff1-264">**组**销售价贸易协议是最常用的类型。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-264">A **Group** sales price trade agreement is the type that is most often used with.</span></span> <span data-ttu-id="e9ff1-265">在 Commerce 之外，**组**销售价贸易协议适用于简单客户组。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-265">Outside Commerce, **Group** sales price trade agreements are for a simple customer group.</span></span> <span data-ttu-id="e9ff1-266">但是在 Commerce 中，已扩展了客户组的概念，所以这是更通用的价格组。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-266">However, in Commerce, the concept of a customer group has been extended so that it's a more generic price group.</span></span> <span data-ttu-id="e9ff1-267">价格组可链接到渠道、隶属关系、会员计划或目录。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-267">A price group can be linked to a channel, affiliation, loyalty program, or catalog.</span></span> <span data-ttu-id="e9ff1-268">有关价格组的详细信息，请参阅本主题前文的“价格组”部分。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-268">For detailed information about price groups, see the "Price groups" section earlier in this topic.</span></span>

> [!NOTE]
> <span data-ttu-id="e9ff1-269">贸易协议价格的使用优先级始终高于基价。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-269">A trade agreement price is always used before the base price.</span></span>

### <a name="price-adjustment"></a><span data-ttu-id="e9ff1-270">价格调整</span><span class="sxs-lookup"><span data-stu-id="e9ff1-270">Price adjustment</span></span>

<span data-ttu-id="e9ff1-271">正如名称的暗示，价格调整用于修改直接为产品设置的价格或使用贸易协议设置的价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-271">As the name implies, a price adjustment is used to modify the price that was either set directly on the product or set by using a trade agreement.</span></span> <span data-ttu-id="e9ff1-272">价格调整只能用于降低价格，不能用于提高价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-272">A price adjustment can be used only to lower the price, not raise it.</span></span> <span data-ttu-id="e9ff1-273">建议零售商使用价格调整创建、跟踪和管理产品一段时间的减价。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-273">A price adjustment is the recommended way for retailers to create, track, and manage price markdowns for their products over time.</span></span>

<span data-ttu-id="e9ff1-274">价格调整有三种：百分比折扣、金额折扣和价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-274">There are three types of price adjustments: percentage off, amount off, and price.</span></span> <span data-ttu-id="e9ff1-275">设置为销售交易应用百分比折扣或金额折扣类型的价格调整。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-275">A price adjustment of the percentage off or amount off type is always applied to a sale transaction.</span></span> <span data-ttu-id="e9ff1-276">但是，仅当调整后价格低于使用基价或贸易协议价格设置的价格时，才应用价格类型的价格调整。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-276">However, a price adjustment of the price type is applied only if the adjusted price is less than the price that was set by using the base price or trade agreement price.</span></span> <span data-ttu-id="e9ff1-277">因此，如果价格调整中设置的价格高于调整前的价格，则不使用价格调整。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-277">Therefore, if the price that is set in a price adjustment is more than the unadjusted price, the price adjustment isn't used.</span></span>

## <a name="determining-price-for-a-product-in-a-transaction"></a><span data-ttu-id="e9ff1-278">确定交易的产品的价格</span><span class="sxs-lookup"><span data-stu-id="e9ff1-278">Determining price for a product in a transaction</span></span>

<span data-ttu-id="e9ff1-279">交易的价格和折扣计算方法使用为客户查找最优价格这一原则。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-279">The calculation of the price and discount on a transaction uses the principle of finding the best price for the customer.</span></span> <span data-ttu-id="e9ff1-280">根据此原则，如果找到多个价格，则使用最低价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-280">According to this principle, if more than one price is found, the lowest price is used.</span></span> <span data-ttu-id="e9ff1-281">此外，还将使用为整个交易产生的折扣金额最高的折扣组合。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-281">Additionally, the combination of discounts that produces the largest discount amount for the whole transaction is used.</span></span> <span data-ttu-id="e9ff1-282">在某些情况下，必须为单个产品使用较低折扣，以便为交易中的其他产品应用其他折扣。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-282">In some cases, a smaller discount must be used on a single product, so that additional discounts can be applied to other products in the transaction.</span></span>

<span data-ttu-id="e9ff1-283">查找客户的最优价格这一原则的唯一例外是组合购买最便宜折扣的选项。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-283">The only exception to the principle of finding the best price for the customer is an option for mix-and-match least-expensive discounts.</span></span> <span data-ttu-id="e9ff1-284">选择产品和为产品分组时，此选项可生成有利于零售商的最便宜折扣。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-284">This option enables least-expensive discounts that favor the retailer when products are selected and grouped.</span></span> <span data-ttu-id="e9ff1-285">因此，如果交易中包含的产品比最便宜折扣资格所需产品多，则定价引擎将选择为客户生成的可行折扣金额最小的产品。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-285">Therefore, when a transaction includes more products than are required to qualify for the least-expensive discount, the pricing engine selects the products that produce the smallest possible discount amount for the customer.</span></span>

<span data-ttu-id="e9ff1-286">定价引擎为每个产品返回三种价格：基价、贸易协议价格和有效价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-286">The pricing engine returns three prices for every product: the base price, the trade agreement price, and the active price.</span></span>

<span data-ttu-id="e9ff1-287">基价就是产品的属性，在所有地方对所有人都相同。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-287">The base price is just the property on the product and is the same for everyone everywhere.</span></span>

<span data-ttu-id="e9ff1-288">在销售价贸易协议中，如果**查找下一个**选项设置为**是**，则为适用的销售价贸易协议找到的最低价格将用作贸易协议价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-288">On the sales price trade agreement, if the **Find next** option is set to **Yes**, the lowest price that is found for applicable sales price trade agreements is used as the trade agreement price.</span></span> <span data-ttu-id="e9ff1-289">可使用价格组或**全部**科目代码查找贸易协议。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-289">Trade agreements can be found by using price groups or the **ALL** account code.</span></span> <span data-ttu-id="e9ff1-290">也可以直接为客户分配贸易协议。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-290">Alternatively, trade agreements can be assigned directly to a customer.</span></span> <span data-ttu-id="e9ff1-291">如果**查找下一个**选项设置为**否**，则使用找到的第一个贸易协议价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-291">If the **Find next** option is set to **No**, the first trade agreement price that is found is used.</span></span> <span data-ttu-id="e9ff1-292">如果未找到任何销售价贸易协议，则将贸易协议价格设置为等于基价。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-292">If no sales price trade agreements are found, then the trade agreement price is set equal to the base price.</span></span>

<span data-ttu-id="e9ff1-293">有效价格的计算方法是采用贸易协议价格，然后应用适用于产品的最大价格调整。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-293">The active price is calculated by taking the trade agreement price and applying the largest price adjustment that applies to the product.</span></span> <span data-ttu-id="e9ff1-294">如果未找到任何价格调整，或者计算出的有效价格高于贸易协议价格，则将有效价格设置为等于贸易协议价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-294">If no price adjustments are found, or if the calculated active price is more than the trade agreement price, the active price is set equal to the trade agreement price.</span></span> <span data-ttu-id="e9ff1-295">请记住，不能使用价格调整提高产品的价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-295">Remember that you can't raise the price of a product by using a price adjustment.</span></span> <span data-ttu-id="e9ff1-296">只能通过使用为渠道、目录、隶属关系或会员计划分配的价格组查找适用的价格调整。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-296">The applicable price adjustments can be found only by using price groups that are assigned to a channel, catalog, affiliation, or loyalty program.</span></span>

## <a name="category-price-rules"></a><span data-ttu-id="e9ff1-297">类别价格规则</span><span class="sxs-lookup"><span data-stu-id="e9ff1-297">Category price rules</span></span>

<span data-ttu-id="e9ff1-298">可通过 Commerce 中的类别价格规则功能为类别中的所有产品轻松创建新的贸易协议。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-298">The category price rules feature in Commerce gives you an easy way to create new trade agreements for all the products in a category.</span></span> <span data-ttu-id="e9ff1-299">还可以使用此功能自动为类别中的产品查找现有贸易协议和使其到期。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-299">This feature also lets you automatically find existing trade agreements for the products in the category and expire them.</span></span>

<span data-ttu-id="e9ff1-300">如果选择用于使现有贸易协议到期的选项，系统将为类别中具有有效贸易协议的产品创建新的贸易协议日记帐。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-300">When you select the option to expire existing trade agreements, the system creates a new trade agreement journal for the products in the category that have an active trade agreement.</span></span> <span data-ttu-id="e9ff1-301">但是，必须手动过帐该日记帐。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-301">However, the journal must be manually posted.</span></span> <span data-ttu-id="e9ff1-302">此外，仅当使用同一个价格规则（即创建的新价格规则使用的是以前使用的同一个类别）时，类别价格规则才能找到现有贸易协议。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-302">Additionally, the category price rules can find existing trade agreements only if you're using the same price rule (that is, if you create a new price rule that uses the same category that was before).</span></span> <span data-ttu-id="e9ff1-303">如果不使用同一个价格规则，则现有贸易协议不到期。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-303">If you aren't using the same price rule, the existing trade agreements won't be expired.</span></span>

<span data-ttu-id="e9ff1-304">可使用类别价格规则的**价格规则**和**价格基准**字段提高或降低价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-304">The prices can be increased or decreased by using the **Price rule** and **Price basis** fields of the category price rules.</span></span>

- <span data-ttu-id="e9ff1-305">在**价格规则**字段中，选择将使用的价格更改类型：</span><span class="sxs-lookup"><span data-stu-id="e9ff1-305">In the **Price rule** field, select the type of price change to use:</span></span>

    - <span data-ttu-id="e9ff1-306">**加价** – 百分比价格基数用于计算销售价。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-306">**Markup** – A percentage of the price basis is used to calculate the sales price.</span></span> <span data-ttu-id="e9ff1-307">例如，产品成本为 10.00 而销售价为 15.00，则加价为 50%。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-307">For example, a product that costs 10.00 and sells for 15.00 has a markup of 50 percent.</span></span>
    - <span data-ttu-id="e9ff1-308">**毛利** – 百分比销售价格用于计算利润量。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-308">**Margin** – A percentage of the sales price is used to calculate the amount of profit.</span></span> <span data-ttu-id="e9ff1-309">例如，产品成本为 10.00 而销售价为 15.00，则毛利为 33.3%。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-309">For example, a product that costs 10.00 and sells for 15.00 has a margin of 33.3 percent.</span></span>
    - <span data-ttu-id="e9ff1-310">**固定金额** - 价格基数上增加的金额用于计算销售价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-310">**Fixed amount** – An amount that is added to the price basis is used to calculate the sales price.</span></span> <span data-ttu-id="e9ff1-311">例如，产品成本为 10.00 而销售价为 15.00，则固定金额为 5。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-311">For example, a product that costs 10.00 and sells for 15.00 has a fixed amount of 5.00.</span></span>

- <span data-ttu-id="e9ff1-312">在**价格基准**字段中，选择价格类型以修改：</span><span class="sxs-lookup"><span data-stu-id="e9ff1-312">In the **Price basis** field, select the type of price to modify:</span></span>

    - <span data-ttu-id="e9ff1-313">**基本成本** – 零售商支付给供应商的金额。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-313">**Base cost** – The amount that the retailer paid to the supplier.</span></span>
    - <span data-ttu-id="e9ff1-314">**基价** - 应用贸易协议和价格调整前的销售价。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-314">**Base price** – The sales price before trade agreements and price adjustments are applied.</span></span>
    - <span data-ttu-id="e9ff1-315">**当前价格** - 应用贸易协议和价格调整后的销售价。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-315">**Current price** – The sales price after trade agreements and price adjustments are applied.</span></span>

<span data-ttu-id="e9ff1-316">若要轻松更新不同产品类别的各种产品的价格，可结合使用补充产品类别和类别价格规则。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-316">To easily update the prices of various products from different product categories, you can use the supplemental product categories together with the category price rules.</span></span>

## <a name="best-practices"></a><span data-ttu-id="e9ff1-317">最佳实践</span><span class="sxs-lookup"><span data-stu-id="e9ff1-317">Best practices</span></span>

<span data-ttu-id="e9ff1-318">Microsoft SQL Server Express 因为成本原因（免费），通常用于渠道数据库。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-318">Microsoft SQL Server Express is often used for channel databases because of the cost (free).</span></span> <span data-ttu-id="e9ff1-319">请注意，SQL Server Express 具有硬件限制和数据大小限制。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-319">Keep in mind that SQL Server Express has hardware limitations and limits on data size.</span></span> <span data-ttu-id="e9ff1-320">如果规划不当，可能很快就会达到 SQL Server Express 的数据大小限制。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-320">If you don't plan correctly, you can quickly reach the data size limits of SQL Server Express.</span></span> <span data-ttu-id="e9ff1-321">此注意事项不仅适用于定价，还适用于其他产品领域。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-321">This consideration applies not only to pricing but also to other areas of the product.</span></span> <span data-ttu-id="e9ff1-322">下面是一些可帮助您减小数据大小的最佳实践：</span><span class="sxs-lookup"><span data-stu-id="e9ff1-322">Here are a few best practices that can help you reduce the size of your data:</span></span>

- <span data-ttu-id="e9ff1-323">如果在使用贸易协议，并且价格会改变，则应通过设置结束日期使原来的贸易协议到期。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-323">If you're using trade agreements, and your prices change, you should expire the old trade agreements by setting an end date.</span></span> <span data-ttu-id="e9ff1-324">一段时间后，此方法将帮助减少渠道数据库中保留的贸易协议数量。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-324">Over time, this approach helps reduce the number of trade agreements that are kept in channel databases.</span></span> <span data-ttu-id="e9ff1-325">还有助于减小价格计算算法必须处理的数据量。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-325">It also helps reduce the amount of data that the price calculation algorithm must work with.</span></span>
- <span data-ttu-id="e9ff1-326">如果价格随产品变型变化，请考虑将产品基价用作最常用变型的价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-326">If your prices vary by product variant, consider using the product base price as the price of the most common variant.</span></span> <span data-ttu-id="e9ff1-327">然后将贸易协议仅用于例外变型价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-327">Then use trade agreements only for the variant prices that are exceptions.</span></span> <span data-ttu-id="e9ff1-328">此方法有助于减少贸易协议记录数量。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-328">This approach helps reduce the number of trade agreement records.</span></span> <span data-ttu-id="e9ff1-329">由于非常容易将数据导入到 Microsoft Dynamics 365 中，所以您可能抵挡不住诱惑导入每个产品所有变型的贸易协议。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-329">Because it's so easy to import data into Microsoft Dynamics 365, you might be tempted to import a trade agreement for every variant of every product.</span></span> <span data-ttu-id="e9ff1-330">但是，这种方法可能会生成大量具有相同值的贸易协议。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-330">However, that approach can produce many trade agreements that have the same value.</span></span> <span data-ttu-id="e9ff1-331">因此，可能会不必要地增加数据大小。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-331">Therefore, it can needlessly increase the size of your data.</span></span>
- <span data-ttu-id="e9ff1-332">Commerce 处理变型特定的价格的顺序是从最特定到最不特定。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-332">Commerce processes variant-specific prices in order from most specific to least specific.</span></span> <span data-ttu-id="e9ff1-333">如果产品维度不影响价格，则不必为其定义贸易协议。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-333">If a product dimension doesn't affect the price, you don't have to define trade agreements for it.</span></span> <span data-ttu-id="e9ff1-334">例如，一款产品有三种颜色，四种尺寸，但是只有尺寸会影响价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-334">For example, a product is available in three colors and four sizes, but the price varies only by size.</span></span> <span data-ttu-id="e9ff1-335">如果为每种变型定义一个贸易协议，则需要创建 12 个记录。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-335">If you define a trade agreement for every variant, you create 12 records.</span></span> <span data-ttu-id="e9ff1-336">但是，只需要为每种尺寸定义一个贸易协议，可以让“颜色”维度保留为空。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-336">Instead, you can define a trade agreement just for each size and leave the Color dimension blank.</span></span> <span data-ttu-id="e9ff1-337">在这种情况下，只会生成四个记录。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-337">In this case, you produce only four records.</span></span>

    <span data-ttu-id="e9ff1-338">或者，如果并非维度的每个值都会生成一个不同的价格，则可以为基础产品定义一个贸易协议，并且让所有产品维度保留为空。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-338">Alternatively, if not every value of a dimension produces a different price, you can define one trade agreement for the product master and leave all product dimensions blank.</span></span> <span data-ttu-id="e9ff1-339">然后仅为每个将生成不同价格的维度值定义一个单独的贸易协议。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-339">Then define a separate trade agreement just for each dimension value that produces a different price.</span></span> <span data-ttu-id="e9ff1-340">例如，如果 XXL 尺寸的价格最高，但是其他所有尺寸的价格相同，则只需两个贸易协议：基础产品一个，XXL 尺寸一个。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-340">For example, if the XXL size has a higher price, but all other sizes have the same price, you require only two trade agreements: one for the product master and one for the XXL size.</span></span>

## <a name="prices-that-include-tax-vs-prices-that-exclude-tax"></a><span data-ttu-id="e9ff1-341">含税的价格与不含税的价格</span><span class="sxs-lookup"><span data-stu-id="e9ff1-341">Prices that include tax vs. prices that exclude tax</span></span>

<span data-ttu-id="e9ff1-342">在 Dynamics 365 中设置销售价时，不指定要设置的价格值含税还是不含税。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-342">When you set sales prices in Dynamics 365, you don't specify whether the price value that you're setting includes or excludes tax.</span></span> <span data-ttu-id="e9ff1-343">该值就只是价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-343">The value is just the price.</span></span> <span data-ttu-id="e9ff1-344">但是，可通过渠道的**价格含销售税**设置配置渠道，以便让价格含税或不含税。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-344">However, the **Price includes sales tax** setting on channels lets you configure channels so that they either include or exclude tax from prices.</span></span> <span data-ttu-id="e9ff1-345">此设置对渠道设置，即使在单个公司内也可以更改。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-345">This setting is set on the channel and can change even in a single company.</span></span>

<span data-ttu-id="e9ff1-346">如果同时使用含税类型和不含税类型，请务必正确设置价格，因为如果更改了**价格含销售税**设置，客户支付的总额将改变。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-346">If you work with both inclusive and exclusive types of tax, it's very important that you set prices correctly, because the total amount that the customer pays will change if the **Price includes sales tax** setting on the channel is changed.</span></span>

## <a name="differences-between-retail-pricing-and-non-retail-pricing"></a><span data-ttu-id="e9ff1-347">零售定价与非零售定价之间的区别</span><span class="sxs-lookup"><span data-stu-id="e9ff1-347">Differences between retail pricing and non-retail pricing</span></span>

<span data-ttu-id="e9ff1-348">使用单个定价引擎计算所有渠道的价格：呼叫中心、零售商店和在线商店。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-348">A single pricing engine is used to calculate prices across all channels: Call center, Retail store, and Online stores.</span></span> <span data-ttu-id="e9ff1-349">这有助于实现统一的商务方案。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-349">This helps in enabling the unified commerce scenarios.</span></span>

<span data-ttu-id="e9ff1-350">定价设计为处理零售实体，而不是非零售实体。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-350">Pricing is designed to work with retail entities instead of non-retail entities.</span></span> <span data-ttu-id="e9ff1-351">尤其是设计为按商店，而不是按仓库设置价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-351">Specifically, it's designed to set prices by store, not by warehouse.</span></span>

<span data-ttu-id="e9ff1-352">定价引擎**不支持**以下定价功能：</span><span class="sxs-lookup"><span data-stu-id="e9ff1-352">The pricing engine **does not support** the following pricing features:</span></span>

- <span data-ttu-id="e9ff1-353">不支持按站点或站点和仓库存储维度设置价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-353">Setting prices by Site or Site and Warehouse storage dimensions is not supported.</span></span> <span data-ttu-id="e9ff1-354">如果仅在贸易协议上指定站点维度，定价引擎将忽略站点并将贸易协议应用于所有站点。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-354">If you only specify Site dimension on the trade agreements, then the pricing engine will ignore the Site and apply the trade agreement to all sites.</span></span> <span data-ttu-id="e9ff1-355">如果同时指定“站点”和“仓库”，此行为是未定义/未测试的，因为预计零售商会使用商店价格组来控制每个商店/仓库的价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-355">If you specify both Site and Warehouse, then the behavior is undefined/untested because it’s expected that retailers use the store price groups to control the prices for each store/warehouse.</span></span>
- <span data-ttu-id="e9ff1-356">不支持基于属性的定价。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-356">Attribute-based pricing is not supported.</span></span>
- <span data-ttu-id="e9ff1-357">不支持供应商折扣传递。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-357">Vendor discount pass-through is not supported.</span></span>

<span data-ttu-id="e9ff1-358">此外，**只有**定价引擎支持以下定价功能：</span><span class="sxs-lookup"><span data-stu-id="e9ff1-358">In addition, **only** the pricing engine supports the following pricing features:</span></span>

- <span data-ttu-id="e9ff1-359">价格基于产品维度，以便从最特定的变型价格到最不特定的变型价格，再到基础产品价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-359">The price is based on product dimensions, in order from the most-specific variant price to the least-specific variant price to the product master price.</span></span> <span data-ttu-id="e9ff1-360">使用两个产品维度（例如“颜色”和“尺寸”）设置的价格的使用优先级高于仅使用一个产品维度（如“尺寸”）设置的价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-360">A price that is set by using two product dimensions (for example, Color and Size) is used before a price that is set by using only one product dimension (for example, Size).</span></span>
- <span data-ttu-id="e9ff1-361">可使用同一个价格组控制定价和折扣。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-361">The same price group can be used to control pricing and discounts.</span></span>

## <a name="pricing-api-enhancements"></a><span data-ttu-id="e9ff1-362">定价 API 改进</span><span class="sxs-lookup"><span data-stu-id="e9ff1-362">Pricing API enhancements</span></span>

<span data-ttu-id="e9ff1-363">价格是控制许多客户做出购买决定的最重要因素之一，许多客户会在购买前比较不同地点的价格。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-363">Price is one of the most important factors that controls the buying decisions of many customers, and many customers compare prices on various sites before they make a purchase.</span></span> <span data-ttu-id="e9ff1-364">为了帮助确保提供具有竞争力的价格，零售商会仔细关注竞争对手，并且经常会开展促销活动。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-364">To help ensure that they provide competitive prices, retailers carefully watch their competitors and often run promotions.</span></span> <span data-ttu-id="e9ff1-365">若要帮助这些零售商打动客户，产品搜索、浏览功能、列表和产品详细信息页面显示最精确价格这一点非常重要。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-365">To help these retailers attract customers, it's very important that product search, the browse feature, lists, and the product details page show the most accurate prices.</span></span>

<span data-ttu-id="e9ff1-366">在即将推出的 Commerce 版本中，**GetActivePrices** 应用程序编程接口 (API) 返回的价格中包括简单折扣（例如，不受购物车中其他商品影响的单行折扣）。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-366">In an upcoming release of Commerce, the **GetActivePrices** application programming interface (API) will return prices that include simple discounts (for example, single-line discounts that don't depend on other items in the cart).</span></span> <span data-ttu-id="e9ff1-367">这样，显示的价格接近客户为商品支付的实际金额。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-367">In this way, the prices that are shown are close to the actual amount that customers will pay for items.</span></span> <span data-ttu-id="e9ff1-368">此 API 中将包含所有类型的简单折扣：基于隶属关系、基于会员制、基于目录和基于渠道的折扣。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-368">This API will include all the types of simple discounts: affiliation-based, loyalty-based, catalog-based, and channel-based discounts.</span></span> <span data-ttu-id="e9ff1-369">此外，此 API 还将返回实施的折扣的名称和有效期信息，这样零售商就可以提供更详细的价格说明，并在折扣的有效期即将过去时产生紧迫感。</span><span class="sxs-lookup"><span data-stu-id="e9ff1-369">Additionally, the API will return the names and validity information for the applied discounts, so that retailers can provide a more detailed description of the price and create a sense of urgency if the discount's validity will expire soon.</span></span>
