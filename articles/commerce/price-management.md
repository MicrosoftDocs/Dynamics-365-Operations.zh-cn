---
title: 零售销售价管理
description: 本主题介绍在 Dynamics 365 Commerce 中创建和管理销售价的概念。
author: ShalabhjainMSFT
manager: AnnBe
ms.date: 05/28/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-retail
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.search.region: Global
ms.search.industry: retail
ms.author: shajain
ms.search.validFrom: 2018-03-30
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: a90f5706c87d398f495fae40f42f6c2d408b1c2a
ms.sourcegitcommit: 708ca25687a4e48271cdcd6d2d22d99fb94cf140
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/10/2020
ms.locfileid: "3980808"
---
# <a name="retail-sales-price-management"></a>零售销售价格管理

[!include [banner](includes/banner.md)]

本主题提供有关 Dynamics 365 Commerce 中的销售价创建和管理流程的信息。 重点介绍此流程中涉及的概念，以及各种配置选项对销售价的影响。

## <a name="terminology"></a>术语

本主题中使用了以下术语。

| 术语 | 定义、用法和注释 |
|---|---|
| 价格 | 销售点 (POS) 客户端或销售订单中的产品销售单价。 本主题中，术语*价格*始终指的是销售价，而不是库存价或成本费。 |
| 基价 | 在**价格**字段中为发布的产品设置的价格。 |
| 贸易协议价格 | 使用**价格(销售)** 类型的贸易协议为产品或变型设置的价格。 |
| 最优价格 | 可为产品应用多个价格或折扣时，生成客户必须支付的最低可行净额的最小价格金额和/或最大折扣金额。 在本主题中，最优价格的概念始终称为“最优价格”。 这里的最优价格与折扣的并发模式**最优价格**枚举值不同，不应与其混淆。 |

## <a name="price-groups"></a>价格组

价格组是 Commerce 中价格和折扣管理的核心。 价格组用于将价格和折扣分配给商业实体（即渠道、目录、隶属关系和会员计划）。 由于价格组用于所有定价和折扣，所以首先规划其用法至关重要。

价格组本身不过是名称、描述加定价优先级（可选）。 价格组最值得记住的是其用于管理折扣和价格与商业实体之间的多对多关系。

下图说明如何使用价格组。 请注意，此图中“价格组”的确位于定价和折扣管理的中央。 可用于管理差异价格和折扣的商业实体位于左侧，实际价格和折扣记录位于右侧。

![价格组](./media/PriceGroups.png "价格组")

创建价格组时，不应将一个价格组用于多种商业实体。 否则可能很难确定为何将特定价格或折扣应用于某个交易。

正如图中红色虚线所示，Commerce 的确支持直接为客户设置价格组这项 Microsoft Dynamics 365 核心功能。 但是在此情况下，将仅获得销售价贸易协议。 如果要应用客户特定的价格，建议不要直接为客户设置价格组。 而应使用隶属关系。 

请注意，如果在客户上设置了价格组，那么此价格组将与为此客户创建的订单的销售订单头相关联。 如果用户更改订单头上的价格组，仅当前订单的旧价格组会替换为新价格组。 例如，旧价格组不会影响当前订单，但仍会在将来的订单中与客户关联。

下面的章节提供有关使用价格组时可用于设置不同价格的商业实体的更多信息。 所有这些实体的价格和折扣配置过程分为两步。 可按照任何顺序执行这些步骤。 但是，合理的顺序是首先为实体设置价格组，因为此步骤可能是要在实施期间完成的一次性设置。 然后可以在创建价格和折扣后为这些价格和折扣单独设置价格组。

### <a name="channels"></a>渠道

在商业中，不同渠道采用不同价格极为普遍。 影响渠道特定价格的两个主要因素是成本和本地市场条件。

- **成本** – 渠道与产品源之间的距离越远，产品的贮存成本就越高。 例如，果蔬的保质期有限，并且具有特定的生产要求（例如，生长季节）。 在冬季，新鲜莴苣的成本在北方气候环境下可能比在南方气候环境下高。 如果为地理区域极大的渠道设置价格，可能需要为不同渠道设置不同价格。
- **本地市场条件** – 所在街道有直接竞争对手的商店对价格的敏感程度比附近没有直接竞争对手的商店高得多。

### <a name="affiliations"></a>隶属关系

隶属关系的一般定义是指向组的链接或与组之间的关联。 在 Commerce 中，隶属关系是客户构成的组。 相比客户组和折扣组这一 Microsoft Dynamics 365 核心概念，隶属关系是灵活得多的客户定价和折扣工具。 首先，隶属关系既可用于价格，又可用于折扣，而非零售定价则每种折扣和价格有一个不同组。 然后，一个客户可以属于多个隶属关系，但是仅属于每种类型的一个非零售定价组。 最后，尽管可以将隶属关系设置为链接到客户，但是不必这样做。 可在 POS 中将临时隶属关系用于匿名客户。 下面是一个典型的匿名隶属关系折扣示例：老年人折扣或学生折扣，客户只需出示组成员资格卡即可享受折扣。

尽管隶属关系最常与折扣关联，您还是可以将其用于设置差异定价。 例如，当零售商向员工销售时，可能需要更改销售价，而不是为常规价格应用折扣。 再如，同时向消费者客户和商业客户销售的零售商可能根据商业客户的采购量为商业客户提供更优惠的价格。 隶属关系同时支持这两种方案。

### <a name="loyalty-programs"></a>会员计划

在价格和折扣方面，会员计划本质上就是隶属关系，不过采用了特殊名称。 可以为会员计划设置价格和折扣，就像可以为隶属关系设置一样。 但是，客户在交易或订购期间获得会员定价的方法与获得隶属关系定价的方法不同。 只有向交易添加了会员卡，客户才能获得会员定价。 如果向交易添加会员卡，也会添加会员计划。 然后，会员计划就将启用特殊价格和折扣。

会员计划可以有多个级别，不同级别享受的折扣不同。 这样，零售商就可以给常客提供更大的回报，同时不必将其手动放入特殊组中。

除了价格和折扣，会员计划还有其他功能。 但是，从定价和折扣的角度来说，它们与隶属关系是同一回事。

### <a name="catalogs"></a>目录

有些零售商使用实体目录或虚拟目录针对重点客户组销售产品或制订产品价格。 在通过目录执行定向营销的业务模型中，这些零售商可以在各种目录中设置差异价格。 Microsoft Dynamics 365 支持此项功能，方法是允许您定义目录特定的折扣和价格，就像可以定义渠道特定的折扣或隶属关系特定的折扣。 编辑目录时，可以将价格组与目录关联，就像可以将其与渠道、隶属关系或会员计划关联。

### <a name="best-practices-for-price-groups"></a>价格组的最佳实践

请勿将一个价格组用于多个实体类型。 请改为对渠道使用一套价格组，对隶属关系或会员计划使用一套不同的价格组，依此类推。 可在价格组名称中使用前缀或后缀为所用各种类型的价格组视觉分组。

请不要直接为客户设置价格组。 而是改用隶属关系。 这样就可以将所有类型的价格和折扣分配给客户，而不仅是销售价贸易协议。

## <a name="pricing-priority"></a>定价优先级

定价优先级本身不过是编号加描述。 可将定价优先级应用于价格组，也可以将其直接应用于折扣。 使用定价优先级时，零售商可通过控制为产品应用价格和折扣的顺序来替代最优价格的原则。 较大定价优先级编号的评估优于较低定价优先级编号。 此外，如果在任何优先级编号发现了价格或折扣，则忽略具有较低优先级编号的所有价格或折扣。

价格和折扣可以源自两个不同的定价优先级，因为这些定价优先级分别应用于价格和折扣。

要为价格应用定价优先级，必须为价格组分配定价优先级，然后为该价格组创建销售价贸易协议。

引入定价优先级是为了向零售商希望在特定商店组应用更高价格的情况提供支持。 例如，零售商为美国东海岸定义了区域价格，但希望为纽约商店部分产品定义更高价格，因为某些产品的纽约销售成本更高，并且/或者当地市场可以承担更高价格。

正如本主题“最优价格”部分中的说明，定价引擎通常会选择两个价格中较低的价格。 因此，在同时有东海岸价格组和纽约价格组的商店中，通常会阻止零售商使用两个价格中较高的价格。 在引入定价优先级功能之前，要解决这个问题，零售商必须为每个产品定义价格两次，但不分配两个价格组。 或者，零售商必须创建额外的价格组来隔离价格比具有正常较低价格的产品高的产品。

但是，零售商可使用定价优先级功能为商店价格创建比区域价格的定价优先级更高的定价优先级。 零售商也可以仅为商店价格创建定价优先级，并保留区域价格的默认优先级，即 0（零）。 这两种设置都有助于确保商店价格的使用优先级始终高于区域价格。

### <a name="pricing-priority-example"></a>定价优先级示例

下面是商店价格替代其他价格的示例。

国家/地区零售商按区域设置了大多数价格，而区域有四个：东北部、东南部、中西部和西部。 它确认了几个可承担较高价格的高成本市场。 这些市场在纽约市、芝加哥和旧金山湾区。

在本示例中，我们将深入研究东北部区域。 商店 1 在波士顿，商店 2 在曼哈顿。 对于波士顿商店，两个价格组与渠道链接：“东北部”和“商店 1”。 对于曼哈顿商店，三个价格组与渠道链接：“东北部”、“纽约”和“商店 2”。

零售商设置了两个定价优先级：“高成本”的优先级编号为 5，“商店价格”的优先级编号为 10。 （请记住，默认情况下定价优先级为 0 \[零\]，较高优先级编号的价格或折扣的使用优先级高于较低优先级编号的价格或折扣。）对于“东北部”价格组，定价优先级保持为默认值 **0**（零）。 对于“纽约”价格组，定价优先级设置为 **5**，因为纽约是高成本市场。 对于“商店 1”和“商店 2”价格组，定价优先级设置为 **10**。

零售商销售的两种产品是产品 1（一款普通的 T 恤衫）和产品 2（一款时尚品牌牛仔裤）。

| 产品 | 东北部价格 | 纽约价格 | 商店价格 |
|---|---|---|---|
| T 恤杉 | $15 | 未设置 | 未设置 |
| 时尚牛仔裤 | $50 | $70 | 未设置 |

T 恤衫在波士顿和曼哈顿商店的销售价格相同（即 $15），因为与这两个渠道链接的“东北部”价格组中仅设置了一个价格。 这款时尚牛仔裤在波士顿商店卖 $50，因为该价格是这家商店的唯一价格。 但是在曼哈顿商店则有两个价格：$50 和 $70。 因为“纽约”价格组的定价优先级 5 比“东北部”价格组的定价优先级 0（零）高，所以该价格在 POS 系统中将上升为 $70。

> [!NOTE]
> 对于每个定价优先级，零售定价引擎需要全通逻辑。 因为，为了帮助维持价格和折扣的计算性能，应保守使用定价优先级。

## <a name="types-of-prices"></a>价格的类型

在 Microsoft Dynamics 365 中，可在三处设置产品价格：

- 直接为产品设置（基价）
- 在销售价贸易协议中设置
- 在价格调整中设置

基价和贸易协议属于 Dynamics 365 的核心，即使您不使用 Commerce 也可用。 只有 Commerce 中才提供价格调整功能。 下一节提供有关用于设置价格的各种选项的更多信息，并介绍这些选项如何协同工作。

## <a name="setting-prices"></a>设置价格

### <a name="base-price"></a>基价

最简单的产品价格设置位置是直接对产品设置。 直接为产品设置的值通常称为产品的基价。 请在**已发布产品详细信息**页**销售**选项卡上的**价格**字段中设置基价。 输入的值采用公司币种。 默认情况下，此价格是采用**销售**选项卡上**单位**字段中设置的度量单位 (UoM) 且数量为 1 时的价格。产品每个单位的实际价格基于 UoM、价格数量和货币。

如果某个产品有一个适用于所有人的价格，则基价管理该产品的价格的效率最高。 即使使用贸易协议设置价格，也可以为产品设置基价。 如果您不使用**全部**贸易协议，则具有备选价格，在不应用贸易协议时使用。

如果渠道的货币与公司货币不同，则通过对为产品设置的价格执行货币转换确定该渠道的基价。

尽管价格单位不是常用的方案，但是仍然受定价引擎支持。 如果为价格单位设置的值非 **0**（零），则每单位的价格等于价格 ÷ 价格单位。 例如，如果产品的价格为 $10.00，并且价格单位为 50，则数量为 1 的价格为 $0.20 (= $10.00 ÷ 50)。

### <a name="sales-price-trade-agreement"></a>销售价贸易协议

可使用贸易协议日记帐为各产品创建销售价贸易协议。 在 Microsoft Dynamics 365 中，销售价贸易协议有三种客户范围：**表**、**组**和**全部**。 客户范围确定给定销售价贸易协议适用的客户。

**表**销售价贸易协议适用于直接在贸易协议中设置的一位客户。 此方案不是典型的企业对消费者 (B2C) 方案。 但是如果出现这种情况，定价引擎在确定价格时将使用**表**贸易协议。

**组**销售价贸易协议是最常用的类型。 在 Commerce 之外，**组**销售价贸易协议适用于简单客户组。 但是在 Commerce 中，已扩展了客户组的概念，所以这是更通用的价格组。 价格组可链接到渠道、隶属关系、会员计划或目录。 有关价格组的详细信息，请参阅本主题前文的“价格组”部分。

> [!NOTE]
> 贸易协议价格的使用优先级始终高于基价。

### <a name="price-adjustment"></a>价格调整

正如名称的暗示，价格调整用于修改直接为产品设置的价格或使用贸易协议设置的价格。 价格调整只能用于降低价格，不能用于提高价格。 建议零售商使用价格调整创建、跟踪和管理产品一段时间的减价。

价格调整有三种：百分比折扣、金额折扣和价格。 设置为销售交易应用百分比折扣或金额折扣类型的价格调整。 但是，仅当调整后价格低于使用基价或贸易协议价格设置的价格时，才应用价格类型的价格调整。 因此，如果价格调整中设置的价格高于调整前的价格，则不使用价格调整。

## <a name="determining-price-for-a-product-in-a-transaction"></a>确定交易的产品的价格

交易的价格和折扣计算方法使用为客户查找最优价格这一原则。 根据此原则，如果找到多个价格，则使用最低价格。 此外，还将使用为整个交易产生的折扣金额最高的折扣组合。 在某些情况下，必须为单个产品使用较低折扣，以便为交易中的其他产品应用其他折扣。

查找客户的最优价格这一原则的唯一例外是组合购买最便宜折扣的选项。 选择产品和为产品分组时，此选项可生成有利于零售商的最便宜折扣。 因此，如果交易中包含的产品比最便宜折扣资格所需产品多，则定价引擎将选择为客户生成的可行折扣金额最小的产品。

定价引擎为每个产品返回三种价格：基价、贸易协议价格和有效价格。

基价就是产品的属性，在所有地方对所有人都相同。

在销售价贸易协议中，如果**查找下一个**选项设置为**是**，则为适用的销售价贸易协议找到的最低价格将用作贸易协议价格。 可使用价格组或**全部**科目代码查找贸易协议。 也可以直接为客户分配贸易协议。 如果**查找下一个**选项设置为**否**，则使用找到的第一个贸易协议价格。 如果未找到任何销售价贸易协议，则将贸易协议价格设置为等于基价。

有效价格的计算方法是采用贸易协议价格，然后应用适用于产品的最大价格调整。 如果未找到任何价格调整，或者计算出的有效价格高于贸易协议价格，则将有效价格设置为等于贸易协议价格。 请记住，不能使用价格调整提高产品的价格。 只能通过使用为渠道、目录、隶属关系或会员计划分配的价格组查找适用的价格调整。

## <a name="category-price-rules"></a>类别价格规则

可通过 Commerce 中的类别价格规则功能为类别中的所有产品轻松创建新的贸易协议。 还可以使用此功能自动为类别中的产品查找现有贸易协议和使其到期。

如果选择用于使现有贸易协议到期的选项，系统将为类别中具有有效贸易协议的产品创建新的贸易协议日记帐。 但是，必须手动过帐该日记帐。 此外，仅当使用同一个价格规则（即创建的新价格规则使用的是以前使用的同一个类别）时，类别价格规则才能找到现有贸易协议。 如果不使用同一个价格规则，则现有贸易协议不到期。

可使用类别价格规则的**价格规则**和**价格基准**字段提高或降低价格。

- 在**价格规则**字段中，选择将使用的价格更改类型：

    - **加价** – 百分比价格基数用于计算销售价。 例如，产品成本为 10.00 而销售价为 15.00，则加价为 50%。
    - **毛利** – 百分比销售价格用于计算利润量。 例如，产品成本为 10.00 而销售价为 15.00，则毛利为 33.3%。
    - **固定金额** - 价格基数上增加的金额用于计算销售价格。 例如，产品成本为 10.00 而销售价为 15.00，则固定金额为 5。

- 在**价格基准**字段中，选择价格类型以修改：

    - **基本成本** – 零售商支付给供应商的金额。
    - **基价** - 应用贸易协议和价格调整前的销售价。
    - **当前价格** - 应用贸易协议和价格调整后的销售价。

若要轻松更新不同产品类别的各种产品的价格，可结合使用补充产品类别和类别价格规则。

## <a name="best-practices"></a>最佳实践

Microsoft SQL Server Express 因为成本原因（免费），通常用于渠道数据库。 请注意，SQL Server Express 具有硬件限制和数据大小限制。 如果规划不当，可能很快就会达到 SQL Server Express 的数据大小限制。 此注意事项不仅适用于定价，还适用于其他产品领域。 下面是一些可帮助您减小数据大小的最佳实践：

- 如果在使用贸易协议，并且价格会改变，则应通过设置结束日期使原来的贸易协议到期。 一段时间后，此方法将帮助减少渠道数据库中保留的贸易协议数量。 还有助于减小价格计算算法必须处理的数据量。
- 如果价格随产品变型变化，请考虑将产品基价用作最常用变型的价格。 然后将贸易协议仅用于例外变型价格。 此方法有助于减少贸易协议记录数量。 由于非常容易将数据导入到 Microsoft Dynamics 365 中，所以您可能抵挡不住诱惑导入每个产品所有变型的贸易协议。 但是，这种方法可能会生成大量具有相同值的贸易协议。 因此，可能会不必要地增加数据大小。
- Commerce 处理变型特定的价格的顺序是从最特定到最不特定。 如果产品维度不影响价格，则不必为其定义贸易协议。 例如，一款产品有三种颜色，四种尺寸，但是只有尺寸会影响价格。 如果为每种变型定义一个贸易协议，则需要创建 12 个记录。 但是，只需要为每种尺寸定义一个贸易协议，可以让“颜色”维度保留为空。 在这种情况下，只会生成四个记录。

    或者，如果并非维度的每个值都会生成一个不同的价格，则可以为基础产品定义一个贸易协议，并且让所有产品维度保留为空。 然后仅为每个将生成不同价格的维度值定义一个单独的贸易协议。 例如，如果 XXL 尺寸的价格最高，但是其他所有尺寸的价格相同，则只需两个贸易协议：基础产品一个，XXL 尺寸一个。

## <a name="prices-that-include-tax-vs-prices-that-exclude-tax"></a>含税的价格与不含税的价格

在 Dynamics 365 中设置销售价时，不指定要设置的价格值含税还是不含税。 该值就只是价格。 但是，可通过渠道的**价格含销售税**设置配置渠道，以便让价格含税或不含税。 此设置对渠道设置，即使在单个公司内也可以更改。

如果同时使用含税类型和不含税类型，请务必正确设置价格，因为如果更改了**价格含销售税**设置，客户支付的总额将改变。

## <a name="differences-between-retail-pricing-and-non-retail-pricing"></a>零售定价与非零售定价之间的区别

使用单个定价引擎计算所有渠道的价格：呼叫中心、零售商店和在线商店。 这有助于实现统一的商务方案。

定价设计为处理零售实体，而不是非零售实体。 尤其是设计为按商店，而不是按仓库设置价格。

定价引擎**不支持**以下定价功能：

- 不支持按站点或站点和仓库存储维度设置价格。 如果仅在贸易协议上指定站点维度，定价引擎将忽略站点并将贸易协议应用于所有站点。 如果同时指定“站点”和“仓库”，此行为是未定义/未测试的，因为预计零售商会使用商店价格组来控制每个商店/仓库的价格。
- 不支持基于属性的定价。
- 不支持供应商折扣传递。
- 标准 Supply Chain Management 定价引擎支持基于“要求装运日期”和“要求收货日期”以及当前日期计算定价。 但是，零售定价目前不支持这些值。 原因是对于 B2C 场景，客户不希望要求交货日期影响商品价格。 在某些情况下，零售商同时有 B2B 和 B2C 运营。 对于 B2B 运营，通常会根据交货日期更改价格。 这些零售商可以将 Supply Chain Management 定价用于 B2B 业务，将零售定价用于 B2C 业务。 仅当将应用程序用户被添加为呼叫中心用户时，零售定价才会生效，因此零售商可以分配某些将使用 Supply Chain Management 定价的用户，并分配几个将使用零售定价的用户，即这些用户应该添加为呼叫中心用户。 此外，**Commerce 参数 > 定价和折扣 > 杂项**部分的**使用今天的日期计算价格**属性必须打开。 这样，他们可以继续为 Supply Chain Management 定价的要求装运日期或要求收货日期使用应收帐款参数值，但零售定价将继续使用今天的日期进行定价计算。

此外，**只有**定价引擎支持以下定价功能：

- 价格基于产品维度，以便从最特定的变型价格到最不特定的变型价格，再到基础产品价格。 使用两个产品维度（例如“颜色”和“尺寸”）设置的价格的使用优先级高于仅使用一个产品维度（如“尺寸”）设置的价格。
- 可使用同一个价格组控制定价和折扣。

## <a name="pricing-api-enhancements"></a>定价 API 改进

价格是控制许多客户做出购买决定的最重要因素之一，许多客户会在购买前比较不同地点的价格。 为了帮助确保提供具有竞争力的价格，零售商会仔细关注竞争对手，并且经常会开展促销活动。 若要帮助这些零售商打动客户，产品搜索、浏览功能、列表和产品详细信息页面显示最精确价格这一点非常重要。

在即将推出的 Commerce 版本中，**GetActivePrices** 应用程序编程接口 (API) 返回的价格中包括简单折扣（例如，不受购物车中其他商品影响的单行折扣）。 这样，显示的价格接近客户为商品支付的实际金额。 此 API 中将包含所有类型的简单折扣：基于隶属关系、基于会员制、基于目录和基于渠道的折扣。 此外，此 API 还将返回实施的折扣的名称和有效期信息，这样零售商就可以提供更详细的价格说明，并在折扣的有效期即将过去时产生紧迫感。
