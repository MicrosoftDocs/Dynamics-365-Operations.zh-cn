---
title: 产品比较模块
description: 本文介绍产品比较模块以及如何实现这些模块，以便客户可以在 Microsoft Dynamics 365 Commerce 电子商务网站上进行产品比较。
author: ashishmsft
ms.date: 10/03/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: asharchw
ms.search.validFrom: 2022-02-28
ms.openlocfilehash: 9ff45f3fbcc86b21f336d580582adef586417de4
ms.sourcegitcommit: 66b954827826706ea2ba00c2afd5d694ad92148d
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/03/2022
ms.locfileid: "9618377"
---
# <a name="product-comparison-modules"></a>产品比较模块

[!include [banner](../includes/banner.md)]

本文介绍产品比较模块以及如何实现这些模块，以便客户可以在 Microsoft Dynamics 365 Commerce 电子商务网站上进行产品比较。

> [!NOTE]
> 从 Dynamics 365 Commerce 版本 10.0.29 开始，可以使用产品比较和产品比较按钮模块。 它们可用于企业到消费者 (B2C) 和企业到企业 (B2B) 网站。

通过产品比较功能，购物者可以在产品比较页面上比较产品详细信息，以帮助他们做出更好的购买决定。 此功能通过使用产品比较模块在 Commerce 站点生成器中配置。 在产品列表页面 (PLP) 上，例如在类别结果、搜索结果和产品集合页面上，您可以配置产品比较按钮，让购物者将产品添加到比较托盘中。 此功能通过使用产品比较按钮模块（其工作方式类似于[快速视图模块](quick-view-module.md)）在站点生成器中配置。

当站点用户通过在产品磁贴上选择产品来添加要进行比较的产品时，页面底部会出现一个比较托盘。 比较托盘显示购物者当前正在比较的产品，以及产品的简短预览。 站点用户还可以从产品详细信息页面 (PDP) 添加产品，并且他们可以添加特定的产品变体以与产品主数据进行比较。

客户将一些产品添加到比较托盘后，他们可以选择 **比较** 以重定向到产品比较页。 产品比较页面显示每个选定产品的产品详细信息，以便客户可以比较图像、价格、产品维度（大小、样式和颜色）、聚合评级信息和其他产品属性。

下图显示了“比较产品”按钮、“从比较中删除”按钮、比较托盘和产品比较页的示例。

![此产品比较概览显示了“比较产品”按钮、“从比较中删除”按钮、比较托盘面板和产品比较页。](./media/Product-Comparison-Overview.png)

> [!NOTE]
> - 产品比较页面比较默认的产品属性集和可在给定产品的 PDP 上查看的所有属性。
> - 无法在产品比较页面上查看交货模式、现有库存量和度量单位等属性。
> - 客户可以将不同类别的产品添加到比较托盘，前提是产品来自同一目录。
> - 产品比较功能当前仅限于比较单个目录中的产品。 站点用户无法执行跨目录比较。
> - 您应确保为所有产品比较模块清除了 **呈现模块客户端** 属性。
> - 您应确保已对使用产品比较模块的所有页面禁用页面级别缓存。 这些页面包括 PDP、PLP 和产品比较页面。 有关详细信息，请参阅[配置页面缓存](e-commerce-extensibility/page-caching.md)。

下图显示了产品比较页的示例。

![产品比较页。](./media/Product-Comparison-Page.png)

## <a name="add-the-product-comparison-module-to-a-new-product-comparison-page"></a>将产品比较模块添加到新产品比较页

您可以通过将产品比较模块添加到页面正文来创建专用产品比较页面。 除了使客户能够比较不同产品的产品详细信息之外，您还可以配置产品比较模块，以便客户可以选择在比较产品后快速完成购买。 产品比较模块还包含 **空比较** 插槽，您可以在其中添加描述空状态（例如“您的产品比较为空”）的内容块模块。

要将产品比较模块添加到新的产品比较页面，请执行以下步骤。

1. 转到 **页面**，选择 **新建** 创建新页面。
1. 在 **创建新页面** 对话框的 **页面名称** 下面，输入相应的页面名称（例如 **产品比较**），然后选择 **下一步**。
1. 在 **选择模板** 下面，选择适当的模板（例如，默认类别页面使用的模板），然后选择 **下一步**。
1. 在 **选择布局** 下面，选择页面布局（例如，**灵活布局**），然后选择 **下一步**。
1. 在 **查看并完成** 下面，查看页面配置。 如果您必须编辑页面信息，请选择 **返回**。 如果页面信息正确，请选择 **创建页面**。
1. 在 **主要插槽** 中，选择省略号 (**...**)，然后选择 **添加模块**。
1. 在 **选择模块** 对话框中，选择 **容器** 模块，然后选择 **确定**。
1. 在 **容器** 插槽中，选择省略号 (**...**)，然后选择 **添加模块**。
1. 在 **选择模块** 对话框中，选择 **产品比较** 模块，然后选择 **确定**。
1. 在 **快速视图按钮** 插槽中，选择省略号 (**...**)，然后选择 **添加模块**。
1. 在 **选择模块** 对话框中，选择 **产品快速视图** 模块，然后选择 **确定**。
1. 在右侧的属性窗格中，配置 **产品快速视图** 模块属性。
1. 在 **空比较** 插槽中，选择省略号 (**...**)，然后选择 **添加模块**。
1. 在 **选择模块** 对话框中，选择 **内容块** 模块，然后选择 **确定**。
1. 在右侧的属性窗格中，配置 **内容块** 模块属性。 
1. 选择 **保存**，然后选择 **预览** 以预览页面。
1. 选择 **完成编辑** 签入页面，然后选择 **发布** 进行发布。

下图显示站点生成器中空比较页面的示例。

![产品比较模块。](./media/Product-comparison-module.png)

## <a name="add-a-product-comparison-button-to-product-tiles-on-search-and-category-results-pages"></a>在搜索和类别结果页面上的产品磁贴中添加产品比较按钮

产品比较按钮可让用户在浏览列表页面上的产品时快速将产品添加到比较托盘。 他们可以从列表页面将一种或多种产品添加到比较托盘，而无需转到 PDP。

产品集合、搜索结果和 PDP 购买框模块支持产品比较按钮。

要在搜索和类别结果页面上的产品磁贴中添加产品比较按钮，请执行以下步骤。

1. 在站点生成器中，转到 **页面**，然后打开要将产品比较按钮添加到的类别页面。
1. 在 **主要插槽** 中，选择省略号 (**...**)，然后选择 **添加模块**。
1. 在 **选择模块** 对话框中，选择 **搜索结果** 模块，然后选择 **确定**。
1. 在 **搜索结果** 模块的 **产品比较按钮** 插槽中，选择省略号 (**...**)，然后选择 **添加模块**。
1. 在 **选择模块** 对话框中，选择 **产品比较按钮** 模块，然后选择 **确定**。
1. 在右侧的属性窗格中，配置 **产品比较按钮** 模块属性。
1. 选择 **保存**，然后选择 **预览** 以预览页面。
1. 选择 **完成编辑** 签入页面，然后选择 **发布** 进行发布。

## <a name="add-a-product-comparison-preview-panel-module-to-pages-on-your-website"></a>将产品比较预览面板模块添加到您网站上的页面

产品比较预览面板模块为您的客户提供了查看他们添加到比较中或从中删除的产品的选项。 预览面板还提供了直接导航到比较页面或清除整个产品列表的选项。 

我们建议您在启用了 **产品比较按钮** 的所有页面上启用预览面板。 此模块可以作为插槽添加到 **产品比较按钮**，也可以作为独立模块使用，您可以在任何页面上进行配置，即使没有添加或删除要比较的产品的功能。 

您必须手动将产品比较预览面板模块添加到页面。 您应该只在页面上添加一个预览面板模块。 如果您将模块的多个实例添加到页面，将呈现第一个模块，其余实例将被忽略。

![产品比较预览面板](./media/product-comparison-preview-panel-2.png)

如果您指定产品比较限制，您可以选择在预览面板上启用灰色占位符，来指示还可以将多少产品添加到比较中。 灰色占位符在被添加到比较时会被替换为产品。 要配置产品比较限制并启用灰色占位符，在站点构建器中，转到 **站点设置 > 扩展**，然后在 **产品比较** 部分进行更改。 配置将应用于所有页面的所有预览面板。 


## <a name="specify-the-maximum-number-of-products-to-show-in-the-comparison-tray"></a>指定要在比较托盘中显示的最大产品数

您可以通过转到站点生成器中的 **站点设置 \> 扩展** 来指定要在比较托盘中显示的最大产品数量。 您可以为桌面和移动/平板电脑视图配置单独的最大限制。 默认情况下，如果未定义最大限制，则不会强制实施任何限制。

> [!NOTE]
> 为了获得最佳浏览体验，我们建议您针对移动视区将比较托盘中的产品最大数量设置为 **2**，针对桌面视区将其设置为 **4**，以减少所需的水平滚动量。

若要指定要在比较托盘中显示的最大产品数，请执行以下步骤。

1. 在您的站点生成器中，转到 **站点设置 \> 扩展**。
1. 对于 **比较限制中的产品 - 桌面设备** 属性，输入应在桌面视区的比较托盘中显示的产品最大数量。
1. 对于 **比较限制中的产品 - 移动和平板电脑设备** 属性，输入应在移动和平板电脑视区的比较托盘中显示的产品最大数量。
1. 在命令栏中，选择 **保存并发布**。

![用于限制比较托盘中的产品的站点设置。](./media/Site-settings-to-limit-products-in-comparison-tray.png)
