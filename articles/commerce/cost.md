---
title: 分配的订单管理 (DOM) 的成本配置
description: 本主题将介绍 Dynamics 365 Commerce 中分配的订单管理 (DOM) 功能的成本配置。
author: josaw1
manager: AnnBe
ms.date: 12/05/2018
ms.topic: index-page
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: ''
ms.assetid: ed0f77f7-3609-4330-bebd-ca3134575216
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2018-12-15
ms.dyn365.ops.version: ''
ms.openlocfilehash: 7644cb9800a418fd123b32a0257b787277fcb19f
ms.sourcegitcommit: 199848e78df5cb7c439b001bdbe1ece963593cdb
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/13/2020
ms.locfileid: "4458498"
---
# <a name="cost-configuration-for-distributed-order-management-dom"></a>分配的订单管理 (DOM) 的成本配置

[!include [banner](../includes/banner.md)]

组织需要考虑多个成本构成以确定履行订单的最佳位置。 其中一些成本构成是装运成本、处理成本和包装成本。 通过计算这些成本的组合来确定履行位置。

Dynamics 365 Commerce 中分布的订单管理 (DOM) 的第一次迭代在优化履行位置的订单分配时，只考虑距离因素。 虽然距离与成本相关，但不同于成本。 例如，对于相同距离，连夜装运方式的成本要高于三日装运或七日装运。

成本配置功能让零售商可以定义和配置其他需要计算并考虑在内的成本构成，用于确定履行订单行的最佳位置。

在配置了成本构成时，DOM 求解器仅使用这些成本定义来确定订单履行的最佳位置。 它不将距离构成视为成本。 但是，如果没有配置成本构成，DOM 求解器就会使用距离构成作为成本，用于确定订单履行的最佳位置。

## <a name="set-up-cost-components"></a>设置成本构成

在系统中可以定义两个主要成本构成类型：**装运** 和 **其他**。

两个成本构成类型均支持多个计算依据，如下表中所示。

<table>
<thead>
<tr>
<th>成本构成类型</th>
<th>计算依据</th>
</tr>
</thead>
<tbody>
<tr>
<td>装运</td>
<td>
<ul>
<li>简单</li>
<li>分层</li>
</ul>
</td>
</tr>
<tr>
<td>其他</td>
<td>
<ul>
<li>销售订单</li>
<li>销售行</li>
<li>位置</li>
</ul>
</td>
</tr>
</tbody>
</table>

### <a name="shipping-cost-component-type"></a>装运成本构成类型

本节说明如何设置 **装运** 成本构成类型与装运成本计算依据的各种组合。 它还介绍了 DOM 求解器如何使用各个组合。

#### <a name="cost-component-type--shipping-and-calculation-basis--simple"></a>成本构成类型 = 装运，计算依据 = 简单

如果使用 **装运** 成本构成类型和 **简单** 计算依据组合，则交货方式的装运成本基于净成本或距离。

您必须为此组合设置下列字段：

- **成本系数** - 输入成本系数的唯一标识符。
- **描述** - 输入成本系数的名称和描述。
- **开始日期** 和 **结束日期** - 您可以使用这些字段限制特定日期范围的成本系数。 如果将这些字段留空，则成本系数将无限期有效。
- **有效** - 指示成本系数是否有效。 DOM 仅考虑与履行配置文件关联的有效成本系数。
- **公司** - 指定为其配置成本系数的法人。 计算条件的所有行必须针对相同法人。
- **交货方式** - 指定为其配置成本的交货方式。
- **计算类型** - 指定应该如何为特定交货方式计算成本。 支持两种计算类型：

    - **固定** - 为交货方式使用净成本。 如果选择此计算类型，**成本** 字段定义净成本。
    - **每距离单位** - 交货方式成本的计算方式为，在 **成本** 字段中指定的成本值乘以交货地址与交货位置之间的距离。

- **成本** - 指定与 **计算类型** 字段一起用于计算交货方式成本的成本值。

#### <a name="cost-component-type--shipping-and-calculation-basis--tiered"></a>成本构成类型 = 装运，计算依据 = 分层

如果使用 **装运** 成本构成类型和 **分层** 计算依据组合，则交货方式的装运成本基于净成本或距离。 但是，在此组合中，距离基于分层的距离范围。

您必须为此组合设置下列字段：

- **成本系数** - 输入成本系数的唯一标识符。
- **描述** - 输入成本系数的名称和描述。
- **默认成本** - 指定在交货地址与交货位置之间的距离不在交货方式的任意分层距离之内时，应该为交货方式使用的成本。
- **开始日期** 和 **结束日期** - 您可以使用这些字段限制特定日期范围的成本系数。 如果将这些字段留空，则成本系数将无限期有效。
- **有效** - 指示成本系数是否有效。 DOM 仅考虑与履行配置文件关联的有效成本系数。
- **公司** - 指定为其配置成本系数的法人。 计算条件的所有行必须针对相同法人。
- **交货方式** - 指定为其配置成本的交货方式。
- **距离类型** - 指定分层距离定义是航空距离还是公路距离。
- **距离单位** - 指定衡量分层距离所用的单位。
- **起始距离** - 指定分层距离的开始范围。
- **结束距离** - 指定分层距离的结束范围。
- **计算类型** - 指定应该如何为特定交货方式和分层距离计算成本。 支持两种计算类型：

    - **固定** - 为交货方式使用净成本。 如果选择此计算类型，**成本** 字段定义净成本。
    - **每距离单位** - 交货方式和分层距离成本的计算方式为，在 **成本** 字段中指定的成本值乘以交货地址与交货位置之间的距离。

- **成本** - 指定与 **计算类型** 字段一起用于计算交货方式成本的成本值。

> [!NOTE]
> - 在您定义分层距离时，系统会验证没有缺少或重叠的距离。
> - 为交货方式使用的距离类型必须在所有分层距离中相同。

### <a name="other-cost-component-type"></a>其他成本构成类型

本节说明如何设置 **其他** 成本构成类型与非装运成本的其他成本类型的各种组合。 它还介绍了 DOM 求解器如何使用各个组合。

#### <a name="cost-component-type--other-and-other-cost-type--sales-order"></a>成本构成类型 = 其他，其他成本类型 = 销售订单

**其他** 成本构成类型与 **销售订单** 其他成本类型的组合用于在销售订单级别定义非装运成本。

您必须为此组合设置下列字段：

- **成本系数** - 输入成本系数的唯一标识符。
- **描述** - 输入成本系数的名称和描述。
- **开始日期** 和 **结束日期** - 您可以使用这些字段限制特定日期范围的成本系数。 如果将这些字段留空，则成本系数将无限期有效。
- **有效** - 指示成本系数是否有效。 DOM 仅考虑与履行配置文件关联的有效成本系数。
- **成本** - 在销售订单级别指定非装运成本的成本值。

#### <a name="cost-component-type--other-and-other-cost-type--sales-line"></a>成本构成类型 = 其他，其他成本类型 = 销售行

**其他** 成本构成类型与 **销售行** 其他成本类型的组合用于在销售订单行级别定义非装运成本。

您必须为此组合设置下列字段：

- **成本系数** - 输入成本系数的唯一标识符。
- **描述** - 输入成本系数的名称和描述。
- **开始日期** 和 **结束日期** - 您可以使用这些字段限制特定日期范围的成本系数。 如果将这些字段留空，则成本系数将无限期有效。
- **有效** - 指示成本系数是否有效。 DOM 仅考虑与履行配置文件关联的有效成本系数。
- **成本** - 在销售订单行级别指定非装运成本的成本值。

#### <a name="cost-component-type--other-and-other-cost-type--location"></a>成本构成类型 = 其他，其他成本类型 = 位置

**其他** 成本构成类型与 **位置** 其他成本类型的组合用于定义一组位置或单个位置的非装运成本。

您必须为此组合设置下列字段：

- **成本系数** - 输入成本系数的唯一标识符。
- **描述** - 输入成本系数的名称和描述。
- **开始日期** 和 **结束日期** - 您可以使用这些字段限制特定日期范围的成本系数。 如果将这些字段留空，则成本系数将无限期有效。
- **有效** - 指示成本系数是否有效。 DOM 仅考虑与履行配置文件关联的有效成本系数。
- **履行组** - 指定为其定义非装运成本的一组位置。
- **履行位置** - 指定为其定义非装运成本的位置。

    > [!NOTE]
    > 您不能为基于位置的计算标准在同一行上指定履行组和履行位置。

- **成本** - 在履行组级别或履行位置级别为非装运成本指定成本值。

> [!IMPORTANT]
> 要在运行时使 DOM 考虑这些成本，您必须将成本系数添加到相关履行配置文件。
