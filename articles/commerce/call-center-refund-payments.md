---
title: 呼叫中心退款处理
description: 本主题说明创建退货时或取消订单或订单行时如何通过呼叫中心生成付款退款。
author: hhainesms
manager: annbe
ms.date: 01/05/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.region: global
ms.author: hhaines
ms.search.validFrom: ''
ms.dyn365.ops.version: ''
ms.openlocfilehash: 3f98fbc14fc2946499a9c003eb0bd0edb7f2017e
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/15/2021
ms.locfileid: "4991407"
---
# <a name="refund-payment-processing-in-call-centers"></a><span data-ttu-id="199c7-103">呼叫中心退款处理</span><span class="sxs-lookup"><span data-stu-id="199c7-103">Refund payment processing in call centers</span></span>

<span data-ttu-id="199c7-104">本主题说明创建退货时或取消订单或订单行时如何通过呼叫中心生成付款退款。</span><span class="sxs-lookup"><span data-stu-id="199c7-104">This topic explains how payment refunds are generated through call centers when returns are created, or when orders or order lines are canceled.</span></span>

<span data-ttu-id="199c7-105">在 Microsoft Dynamics 365 Commerce 总部作为呼叫中心用户为客户创建退货单的用户使用 **退货单** 页创建初始材料退回授权 (RMA)。</span><span class="sxs-lookup"><span data-stu-id="199c7-105">A user who creates a return order for a customer as a call center user in Microsoft Dynamics 365 Commerce headquarters uses the **Return order** page to create the initial return materials authorization (RMA).</span></span> <span data-ttu-id="199c7-106">RMA 定义客户要退回或更换的产品，创建订单类型为 **退回订单** 的链接的退货销售订单。</span><span class="sxs-lookup"><span data-stu-id="199c7-106">The RMA defines the products that the customer wants to return or exchange, and it creates a linked return sales order that has an order type of **Returned order**.</span></span> <span data-ttu-id="199c7-107">此链接的退回订单用于跟踪退货库存的过帐以及过帐的所有贷方通知单或付款退款。</span><span class="sxs-lookup"><span data-stu-id="199c7-107">This linked returned order is used to track the posting of the returned inventory and any credit notes or payment refunds that are posted.</span></span>

<span data-ttu-id="199c7-108">如果呼叫中心渠道的 **启用订单完成** 选项设置为 **是**，创建 RMA 的呼叫中心用户必须通过选择 **退货单** 页上的 **完成** 来运行订单完成处理流。</span><span class="sxs-lookup"><span data-stu-id="199c7-108">If the **Enable order completion** option is set to **Yes** for the call center channel, the call center user who creates the RMA must run the order completion processing flow by selecting **Complete** on the **Return order** page.</span></span> <span data-ttu-id="199c7-109">**完成** 功能提供计算得出的退货摘要，其中大概描述了到期的退款金额。</span><span class="sxs-lookup"><span data-stu-id="199c7-109">The **Complete** function provides a calculated return summary that outlines the refund amount that is due.</span></span> <span data-ttu-id="199c7-110">此外，正确配置后，此功能会针对退回订单系统地创建退款付款行。</span><span class="sxs-lookup"><span data-stu-id="199c7-110">Additionally, when it's correctly configured, it systematically creates a refund payment line against the returned order.</span></span>

<span data-ttu-id="199c7-111">呼叫中心逻辑根据原始订单所使用的付款方式来确定退款付款行的付款方式。</span><span class="sxs-lookup"><span data-stu-id="199c7-111">Call center logic determines the payment method for the refund payment line, based on the payment method that was used for the original order.</span></span> <span data-ttu-id="199c7-112">如果创建的退货单未链接到原始订单，将应用从系统参数获取的默认付款方式。</span><span class="sxs-lookup"><span data-stu-id="199c7-112">If the return order that is created isn't linked to an original order, a default payment method that is taken from a system parameter is applied.</span></span>

## <a name="how-a-call-center-determines-which-payment-method-to-apply-to-a-return-order"></a><span data-ttu-id="199c7-113">呼叫中心如何确定应用于退货单的付款方式</span><span class="sxs-lookup"><span data-stu-id="199c7-113">How a call center determines which payment method to apply to a return order</span></span>

<span data-ttu-id="199c7-114">呼叫中心使用原始订单的付款方式来确定应该应用于退货单的付款方式。</span><span class="sxs-lookup"><span data-stu-id="199c7-114">The call center uses the payment method of the original order to determine the payment method that should be applied to a return order.</span></span> <span data-ttu-id="199c7-115">以下是以下原始付款方式在此流程中的工作方式：</span><span class="sxs-lookup"><span data-stu-id="199c7-115">Here is how this process works for the following original payment methods:</span></span>

- <span data-ttu-id="199c7-116">**常规**（现金）或 **支票** – 当创建的退货单引用使用常规（现金）或支票付款类型支付的原始订单时，呼叫中心应用程序将引用 **呼叫中心退款方式** 页上的配置。</span><span class="sxs-lookup"><span data-stu-id="199c7-116">**Normal** (cash) or **Check** – When a return order that is created references an original order that was paid for by using the normal (cash) or check payment type, the call center application references configurations on the **Call center refund methods** page.</span></span> <span data-ttu-id="199c7-117">此页面让组织能够通过订单货币定义如何将最初使用常规或支票付款类型支付的订单的退款发放给客户。</span><span class="sxs-lookup"><span data-stu-id="199c7-117">This page enables organizations to define, by order currency, how refunds are issued to customers for orders that were originally paid for by using the normal or check payment type.</span></span> <span data-ttu-id="199c7-118">**呼叫中心退款方式** 页还让组织能够选择是将系统生成的退款支票发送给客户，还是根据内部客户帐户余额创建客户帐户贷方。</span><span class="sxs-lookup"><span data-stu-id="199c7-118">The **Call center refund methods** page also enables organizations to select whether a system-generated refund check is sent to the customer, or whether a customer account credit is created against the internal customer account balance.</span></span> <span data-ttu-id="199c7-119">在这些场景中，呼叫中心逻辑将引用退货单的货币，然后使用该货币的 **零售付款方式** 值在退货销售订单上创建退款付款行。</span><span class="sxs-lookup"><span data-stu-id="199c7-119">In these scenarios, call center logic references the currency of the return order and then uses the **Retail payment method** value for that currency to create a refund payment line on the return sales order.</span></span> <span data-ttu-id="199c7-120">以后，使用映射的 AR 付款方式的应收帐款 (AR) 客户付款日记帐将链接到此货币。</span><span class="sxs-lookup"><span data-stu-id="199c7-120">Later, an accounts receivable (AR) customer payment journal that uses the mapped AR payment method is linked to the currency.</span></span>

    <span data-ttu-id="199c7-121">下图显示了一个场景的配置，在这一场景中，客户退回链接到美元货币的销售订单中的产品，该销售订单最初使用常规或支票付款类型支付。</span><span class="sxs-lookup"><span data-stu-id="199c7-121">The following illustration shows the configuration for a scenario where a customer returns products from a sales order that is linked to the USD currency, and that was originally paid for by using the normal or check payment type.</span></span> <span data-ttu-id="199c7-122">在此场景中，退款将通过系统生成的退款支票发放给客户。</span><span class="sxs-lookup"><span data-stu-id="199c7-122">In this scenario, a refund will be issued to the customer through a system-generated refund check.</span></span> <span data-ttu-id="199c7-123">**REF-CHK** AR 付款方式已配置为退款支票付款类型。</span><span class="sxs-lookup"><span data-stu-id="199c7-123">The **REF-CHK** AR payment method has been configured as a refund check payment type.</span></span>

    ![常规和支票原始付款的呼叫中心退款方式的配置](media/callcenterrefundmethods.png)

- <span data-ttu-id="199c7-125">**信用卡** – 当创建的退货单引用使用信用卡支付的原始订单时，退款付款的呼叫中心逻辑将对该退货单使用同一个原始信用卡。</span><span class="sxs-lookup"><span data-stu-id="199c7-125">**Credit card** – When a return order that is created references an original order that was paid for by using a credit card, call center logic for refund payments applies the same original credit card to the return order.</span></span>
- <span data-ttu-id="199c7-126">**会员卡** – 当创建的退货单引用使用客户会员卡支付的原始订单时，退款付款的呼叫中心逻辑会向相同会员卡执行退款。</span><span class="sxs-lookup"><span data-stu-id="199c7-126">**Loyalty card** – When a return order that is created references an original order that was paid for by using a customer loyalty card, call center logic for refund payments applies the refund to the same loyalty card.</span></span>
- <span data-ttu-id="199c7-127">**礼品卡**（内部）– 当创建的退货单引用使用从 Dynamics 365 Commerce（内部礼品卡功能）发放的礼品卡支付的原始订单时，退款付款的呼叫中心逻辑会对相同的原始礼品卡号执行退款。</span><span class="sxs-lookup"><span data-stu-id="199c7-127">**Gift card** (internal) – When a return order that is created references an original order that was paid for by using a gift card that was issued from Dynamics 365 Commerce (internal gift card functionality), call center logic for refund payments applies the refund to the same original gift card number.</span></span>
- <span data-ttu-id="199c7-128">**礼品卡**（外部）– 当创建的退货单引用使用外部第三方礼品卡支付的原始订单时，退款付款的呼叫中心逻辑将应用在 **呼叫中心参数** 页的 **RMA/退货** 选项卡上定义的默认退货付款方式。</span><span class="sxs-lookup"><span data-stu-id="199c7-128">**Gift card** (External) – When a return order that is created references an original order that was paid for by using an external third-party gift card, call center logic for refund payments applies the default return payment method that is defined on the **RMA/Return** tab of the **Call center parameters** page.</span></span>

<span data-ttu-id="199c7-129">如果由于某种原因原始订单付款类型未知，或者如果使用多种付款方式支付原始订单，呼叫中心逻辑将应用在 **呼叫中心参数** 页的 **RMA/退货** 选项卡上定义的默认退货付款方式。</span><span class="sxs-lookup"><span data-stu-id="199c7-129">If the original order payment type is unknown for any reason, or if multiple payment methods were used to pay for the original order, call center logic applies the default return payment method that is defined on the **RMA/Return** tab of the **Call center parameters** page.</span></span>

<span data-ttu-id="199c7-130">下图显示了 **呼叫中心参数** 页的 **RMA/退货** 选项卡上的 **付款方式** 字段。</span><span class="sxs-lookup"><span data-stu-id="199c7-130">The following illustration shows the **Payment method** field on the **RMA/Return** tab of the **Call center parameters** page.</span></span>

![呼叫中心参数页的“RMA/退货”选项卡上的“付款方式”字段](media/callcenterrefundparameters.png)

> [!NOTE]
> <span data-ttu-id="199c7-132">前面所述的退款处理规则也将应用于呼叫中心用户在 Commerce Headquarters 中取消的订单或订单行。</span><span class="sxs-lookup"><span data-stu-id="199c7-132">The refund processing rules that are described earlier also apply to orders or order lines that a call center user cancels in Commerce headquarters.</span></span> <span data-ttu-id="199c7-133">如果取消订单或特定订单行导致任何超额支付，将使用相同的规则来生成退款付款行。</span><span class="sxs-lookup"><span data-stu-id="199c7-133">If the cancellation of an order or specific order lines causes any overpayments, the same rules will be used to generate refund payment lines.</span></span>

<span data-ttu-id="199c7-134">通常，退货单会经过一个标准流程，即接收（或报废）库存，针对退货单发布装箱单，然后为退货销售订单运行发票过帐流程。</span><span class="sxs-lookup"><span data-stu-id="199c7-134">Typically, a return order goes through a standard process, where inventory is received (or scrapped), a packing slip is posted against the return order, and then an invoice posting process is run for the return sales order.</span></span> <span data-ttu-id="199c7-135">退货销售订单作为创建退货单流程的一部分链接和系统地生成。</span><span class="sxs-lookup"><span data-stu-id="199c7-135">The return sales order is linked and systematically generated as part of the process of creating the return order.</span></span> <span data-ttu-id="199c7-136">在典型场景中，在过帐退货订单的发票前，不会向客户发放付款退款。</span><span class="sxs-lookup"><span data-stu-id="199c7-136">In typical scenarios, payment refunds aren't issued to customers until the invoice for the return sales order is posted.</span></span>

### <a name="what-happens-when-an-invoice-is-posted-on-a-return-sales-order"></a><span data-ttu-id="199c7-137">发票在退货销售订单上过帐时会发生什么</span><span class="sxs-lookup"><span data-stu-id="199c7-137">What happens when an invoice is posted on a return sales order</span></span>

<span data-ttu-id="199c7-138">以下场景说明了发票在退货销售订单上过帐时会发生什么：</span><span class="sxs-lookup"><span data-stu-id="199c7-138">The following scenarios explain what happens when an invoice is posted on a return sales order:</span></span>

- <span data-ttu-id="199c7-139">如果退货单上的退款付款是由信用卡支付的，发票过帐时会调用其他逻辑。</span><span class="sxs-lookup"><span data-stu-id="199c7-139">If the refund payment on the return order is for a credit card, additional logic is invoked when the invoice is posted.</span></span> <span data-ttu-id="199c7-140">此逻辑调用付款处理程序来将付款退还到客户的信用卡。</span><span class="sxs-lookup"><span data-stu-id="199c7-140">This logic calls the payment processor to refund payment to the customer's credit card.</span></span> <span data-ttu-id="199c7-141">另外还将创建退款客户付款凭证，并针对客户帐户系统地过帐。</span><span class="sxs-lookup"><span data-stu-id="199c7-141">A refund customer payment voucher is also created and systematically posted against the customer's account.</span></span> <span data-ttu-id="199c7-142">此付款日记帐将根据退货单贷方通知单凭证进行结算。</span><span class="sxs-lookup"><span data-stu-id="199c7-142">This payment journal will be settled against the return order credit note voucher.</span></span>
- <span data-ttu-id="199c7-143">如果必须发出的退款付款是支票付款类型，将创建使用 AR 付款方式的客户付款凭证，并且必须对其手动过帐或打印，然后付款凭证才能针对客户帐户过帐。</span><span class="sxs-lookup"><span data-stu-id="199c7-143">If the refund payment that must be issued is for the check payment type, a customer payment voucher that uses the AR payment method is created, and must be manually posted or printed before the payment voucher can be posted against the customer account.</span></span> <span data-ttu-id="199c7-144">要处理退款支票，用户可以使用“应收帐款”中的 **客户付款日记帐** 页，或 Retail 和 Commerce 中的专用 **退款支票处理** 页。</span><span class="sxs-lookup"><span data-stu-id="199c7-144">To process the refund check, users can use either the **Customer payment journal** page in Accounts receivable or the specialized **Refund check processing** page in Retail and Commerce.</span></span>
- <span data-ttu-id="199c7-145">如果必须发出的退款付款是内部礼品卡或会员卡付款类型，在退货单开票时，退款付款凭证将创建并针对客户帐户过帐。</span><span class="sxs-lookup"><span data-stu-id="199c7-145">If the refund payment that must be issued is for the internal gift card or loyalty card payment type, when the return order is invoiced, the refund payment voucher is created and posted against the customer account.</span></span> <span data-ttu-id="199c7-146">此开票步骤还会将退款金额加回客户内部跟踪的礼品卡余额或会员积分余额。</span><span class="sxs-lookup"><span data-stu-id="199c7-146">This invoicing step also adds the refund amount back to the customer's internally tracked gift card balance or loyalty points balance.</span></span>
- <span data-ttu-id="199c7-147">如果使用 **客户** 功能（例如，客户帐户）的付款方式链接到退货销售订单，在处理付款时将忽略信用额度验证。</span><span class="sxs-lookup"><span data-stu-id="199c7-147">If a payment method that uses the **Customer** function (for example, a customer account) is linked to the return sales order, credit limit validations are ignored when the payment is processed.</span></span> <span data-ttu-id="199c7-148">在这种情况下，不会创建或过帐付款凭证。</span><span class="sxs-lookup"><span data-stu-id="199c7-148">No payment voucher is created or posted in this context.</span></span> <span data-ttu-id="199c7-149">在退货单上使用客户付款类型时，发票过帐流程创建的贷方通知单凭证可以用作客户贷方凭证，并指示退还到客户 AR 余额的退款。</span><span class="sxs-lookup"><span data-stu-id="199c7-149">When a customer payment type is used on a return order, the credit note voucher that the invoice posting process creates serves as the customer credit voucher and indicates a refund to the customer's AR balance.</span></span>

## <a name="advance-credit"></a><span data-ttu-id="199c7-150">预付信用</span><span class="sxs-lookup"><span data-stu-id="199c7-150">Advance credit</span></span>

<span data-ttu-id="199c7-151">当用户在呼叫中心在 **启用订单完成** 选项设置为 **是** 的情况下以呼叫中心用户的身份处理退货单时，如果正在创建退货单的呼叫中心用户将 **呼叫中心参数** 页的 **RMA/退货** 选项卡上的 **预付款贷方** 选项设置为 **是**，则可能发生上述退款付款过帐流程的例外情况。</span><span class="sxs-lookup"><span data-stu-id="199c7-151">When a user processes return orders as a call center user in a call center where the **Enable order completion** option is set to **Yes**, an exception to the previously described process for refund payment posting can occur if the call center user who is creating the return order sets the **Advance credit** option to **Yes** on the **RMA/Return** tab of the **Call center parameters** page.</span></span> <span data-ttu-id="199c7-152">在这种情况下，付款退款将在使用 **退货摘要** 页上的 **提交** 功能成功提交退货单后立即发生。</span><span class="sxs-lookup"><span data-stu-id="199c7-152">In this case, the payment refund occurs immediately after the return order is successfully submitted by using the **Submit** function on the **Return summary** page.</span></span> <span data-ttu-id="199c7-153">系统会立即为退货值创建预付款客户付款凭证，即使尚未为退货销售订单开票。</span><span class="sxs-lookup"><span data-stu-id="199c7-153">The system immediately creates a prepayment customer payment voucher for the return value, even though the return sales order itself hasn't yet been invoiced.</span></span> <span data-ttu-id="199c7-154">在组织由于客户服务问题而必须提前向客户发出退款的情况下，并且不希望要求在退款发出之前必须收到退货库存时，可以使用此方法。</span><span class="sxs-lookup"><span data-stu-id="199c7-154">This approach can be used in situations where an organization must issue refunds to customers in advance because of customer service issues, and it doesn't want to require that returned inventory be received before the refunds are issued.</span></span>

## <a name="replacement-orders"></a><span data-ttu-id="199c7-155">更换单</span><span class="sxs-lookup"><span data-stu-id="199c7-155">Replacement orders</span></span>

<span data-ttu-id="199c7-156">发出退货单时，**更换单** 功能可用于为客户生成新的销售订单。</span><span class="sxs-lookup"><span data-stu-id="199c7-156">When a return order is issued, the **Replacement order** function can be used to generate a new sales order for the customer.</span></span> <span data-ttu-id="199c7-157">此方法可用于换货场景。</span><span class="sxs-lookup"><span data-stu-id="199c7-157">This approach can be used in exchange scenarios.</span></span> <span data-ttu-id="199c7-158">**更换单** 功能为必须发送的新商品创建另一个销售订单，但是 **呼叫中心参数** 页的 **RMA/退货** 选项卡上的交叉引用链接将链接更换单、RMA 和退回销售订单。</span><span class="sxs-lookup"><span data-stu-id="199c7-158">The **Replacement order** function creates another sales order for the new items that must be sent, but a cross-reference link on the **RMA/Return** tab of the **Call center parameters** page links the replacement order, the RMA, and the returned sales order.</span></span>

<span data-ttu-id="199c7-159">处理更换单上的付款时，组织有两个选项：</span><span class="sxs-lookup"><span data-stu-id="199c7-159">When payments on a replacement order are processed, organizations have two options:</span></span>

- <span data-ttu-id="199c7-160">根据原始付款方式为退货单的客户退款，然后为更换单收取单独付款。</span><span class="sxs-lookup"><span data-stu-id="199c7-160">Refund the customer for the return order, based on the original payment method, and then collect a separate payment for the replacement order.</span></span> <span data-ttu-id="199c7-161">使用此选项不需要任何其他配置。</span><span class="sxs-lookup"><span data-stu-id="199c7-161">No additional configuration is required to use this option.</span></span>
- <span data-ttu-id="199c7-162">在 **呼叫中心参数** 页上的 **RMA/退货** 选项卡上，将 **应用贷方** 选项设置为 **是**。</span><span class="sxs-lookup"><span data-stu-id="199c7-162">Set the **Apply credit** option to **Yes** on the **RMA/Return** tab of the **Call center parameters** page.</span></span> <span data-ttu-id="199c7-163">在这种情况下，客户付款方式将系统地应用于退货单和更换单。</span><span class="sxs-lookup"><span data-stu-id="199c7-163">In this case, a customer payment method is systematically applied to both the return order and the replacement order.</span></span> <span data-ttu-id="199c7-164">此选项可以帮助阻止发出任何外部退款付款。</span><span class="sxs-lookup"><span data-stu-id="199c7-164">This option can help prevent any external refund payment from being issued.</span></span> <span data-ttu-id="199c7-165">它还可以帮助阻止在交易中进行任何付款处理。</span><span class="sxs-lookup"><span data-stu-id="199c7-165">It also helps prevent any payment processing on the transaction.</span></span> <span data-ttu-id="199c7-166">在正在处理等价换货，并且组织倾向于使用为退货单开票以为更换单生成的发票付款时生成的贷方凭证的情况下，此选项很有用。</span><span class="sxs-lookup"><span data-stu-id="199c7-166">It can be useful in situations where an even exchange is being processed, and the organization prefers to use the credit voucher that is generated when the return order is invoiced to pay for the invoice that is generated by the replacement order.</span></span> <span data-ttu-id="199c7-167">当 **应用贷方** 选项设置为 **是** 时，组织必须在生成这两个财务单据后，根据更换单的发票手动结算贷方通知单。</span><span class="sxs-lookup"><span data-stu-id="199c7-167">When the **Apply credit** option is set to **Yes**, the organization must manually settle the credit note against the replacement order's invoice after both those financial documents have been generated.</span></span>

<span data-ttu-id="199c7-168">将 **应用贷方** 选项设置为 **是** 仅在退货单将链接到更换单时适用。</span><span class="sxs-lookup"><span data-stu-id="199c7-168">A setting of **Yes** for the **Apply credit** option is applicable only when the return order will be linked to a replacement order.</span></span> <span data-ttu-id="199c7-169">在这种情况下，用于系统地为退货单和更换单付款的客户付款方式将由 **呼叫中心参数** 页的 **RMA/退货** 上的 **应用贷方付款方式** 字段定义。</span><span class="sxs-lookup"><span data-stu-id="199c7-169">In this case, the customer payment method that will be used to systematically pay for the return and the exchange order is defined by the **Apply credits payment method** field on the **RMA/Return** tab of the **Call center parameters** page.</span></span> <span data-ttu-id="199c7-170">仅 **客户** 功能付款类型的付款可以在此字段中选择。</span><span class="sxs-lookup"><span data-stu-id="199c7-170">Only a payment of the **Customer** function payment type can be selected in this field.</span></span>

> [!NOTE]
> <span data-ttu-id="199c7-171">对于没有链接的更换单的退货单，将 **应用贷方** 选项设置为 **是** 不会对退货单付款逻辑产生影响，因为此设置仅应用于更换单。</span><span class="sxs-lookup"><span data-stu-id="199c7-171">For a return order that has no linked replacement order, a setting of **Yes** for the **Apply credit** option will have no effect on the return order payment logic, because this setting applies only to replacement orders.</span></span>

![呼叫中心参数页的“RMA/退货”选项卡上的“应用贷方付款方式”字段](media/callcenterrefundparameters1.png)

> [!IMPORTANT]
> <span data-ttu-id="199c7-173">如果创建更换单的用户计划使用 **应用贷方** 选项，他们不应该在将 **应用贷方** 选项设置为 **是** 之前，对退货单运行 **完成** 功能。</span><span class="sxs-lookup"><span data-stu-id="199c7-173">If users who create replacement orders plan to use the **Apply credit** option, they should not run the **Complete** function on the return order before they set the **Apply credit** option to **Yes**.</span></span> <span data-ttu-id="199c7-174">运行 **完成** 功能后，将计算退款付款并应用于退货销售订单。</span><span class="sxs-lookup"><span data-stu-id="199c7-174">After the **Complete** function is run, the refund payment is calculated and applied to the return sales order.</span></span> <span data-ttu-id="199c7-175">在已经计算并应用退款付款后，将 **应用贷方** 选项设置为 **是** 的任何尝试都不会触发退款付款的重新计算，在 **应用贷方付款方式** 字段选择的付款方式也不会应用。</span><span class="sxs-lookup"><span data-stu-id="199c7-175">Any attempt to set the **Apply credit** option to **Yes** after a refund payment has already been calculated and applied won't trigger a recalculation of the refund payment, and the payment method that is selected in the **Apply credits payment method** field won't be applied.</span></span> <span data-ttu-id="199c7-176">如果在这种情况下必须使用 **应用贷方** 选项，用户必须删除更换单和 RMA，然后重新开始并创建新 RMA。</span><span class="sxs-lookup"><span data-stu-id="199c7-176">If the **Apply credit** option must be used in this context, the user must delete the replacement order and the RMA, and then start over and create a new RMA.</span></span> <span data-ttu-id="199c7-177">这次，用户必须确保在运行 **完成** 功能之前，将 **应用贷方** 选项设置为 **是**。</span><span class="sxs-lookup"><span data-stu-id="199c7-177">This time, the user must ensure that the **Apply credit** option is set to **Yes** before the **Complete** function is run.</span></span>

## <a name="payment-overrides-for-call-center-returns"></a><span data-ttu-id="199c7-178">呼叫中心退货的付款替代</span><span class="sxs-lookup"><span data-stu-id="199c7-178">Payment overrides for call center returns</span></span>

<span data-ttu-id="199c7-179">虽然呼叫中心逻辑会按照本主题前面所述的方式系统地确定退款付款方式，但用户有时可能希望替代这些付款。</span><span class="sxs-lookup"><span data-stu-id="199c7-179">Although call center logic systematically determines the refund payment method in the manner that is described earlier in this topic, users might sometimes want to override those payments.</span></span> <span data-ttu-id="199c7-180">例如，用户可以编辑或删除现有的退款付款行，然后应用新付款行。</span><span class="sxs-lookup"><span data-stu-id="199c7-180">For example, a user might edit or remove existing refund payment lines, and apply new payment lines.</span></span> <span data-ttu-id="199c7-181">系统计算的退款付款只能由具有正确替代权限的用户更改。</span><span class="sxs-lookup"><span data-stu-id="199c7-181">System-calculated refund payments can be changed only by users who have the correct override permissions.</span></span> <span data-ttu-id="199c7-182">这些权限可以在 Retail 和 Commerce 中的 **替代权限** 页配置。</span><span class="sxs-lookup"><span data-stu-id="199c7-182">These permissions can be configured on the **Override permissions** page in Retail and Commerce.</span></span> <span data-ttu-id="199c7-183">要进行退款付款替代，用户必须被链接到在 **替代权限** 页上将 **允许替代付款** 选项设置为 **是** 的安全角色。</span><span class="sxs-lookup"><span data-stu-id="199c7-183">To do a refund payment override, the user must be linked to a security role where the **Allow alternate payment** option is set to **Yes** on the **Override permissions** page.</span></span>

![“替代权限”页上的“允许替代付款”选项](media/overridepermissions.png)

<span data-ttu-id="199c7-185">或者，组织可以将 **呼叫中心参数** 页的 **RMA/退货** 选项卡上的 **允许付款替代** 选项设置为 **是**。</span><span class="sxs-lookup"><span data-stu-id="199c7-185">Alternatively, an organization can set the **Allow payment override** option to **Yes** on the **RMA/Return** tab of the **Call center parameters** page.</span></span> <span data-ttu-id="199c7-186">在这种情况下，必须在 **安全替代代码** 字段中选择一个安全替代代码。</span><span class="sxs-lookup"><span data-stu-id="199c7-186">In this case, a security override code must be selected in the **Security Override Code** field.</span></span> <span data-ttu-id="199c7-187">安全替代代码是必须在外部管理的字母数字代码，因为设置后用户无法在 Commerce headquarters 中进行查看。</span><span class="sxs-lookup"><span data-stu-id="199c7-187">The security override code is an alphanumeric code that must be externally managed, because users can't view it in Commerce headquarters after it's set.</span></span> <span data-ttu-id="199c7-188">组织中应该只有几个关键的受信任的人员知道安全替代代码。</span><span class="sxs-lookup"><span data-stu-id="199c7-188">The security override code should be known by only a few key, trusted people in an organization.</span></span> <span data-ttu-id="199c7-189">将 **允许付款替代** 选项设置为 **是** 时，如果没有任何具有正确角色权限的用户尝试更改退货单上的付款方式，他们可以选择输入安全替代代码。</span><span class="sxs-lookup"><span data-stu-id="199c7-189">When the **Allow payment override** option is set to **Yes**, if any users who don't have the correct role permissions try to change the method of payment on a return order, they will have the option to enter the security override code.</span></span> <span data-ttu-id="199c7-190">如果他们不知道此代码，或者经理或主管无法为他们在页面上输入，他们将无法替代退货付款方式。</span><span class="sxs-lookup"><span data-stu-id="199c7-190">If they don't know it, or if a manager or supervisor can't enter it on the page for them, they won't be able to override the return payment method.</span></span>

> [!NOTE]
> <span data-ttu-id="199c7-191">如果安全替代代码丢失或遗忘，组织必须通过在 **呼叫中心参数** 页的 **RMA/退货** 选项卡的 **安全替代代码** 字段中定义新的安全替代代码来将其重置。</span><span class="sxs-lookup"><span data-stu-id="199c7-191">If the security override code is lost or forgotten, the organization will have to reset it by defining a new security override code in the **Security Override Code** field on the **RMA/Return** tab of the **Call center parameters** page.</span></span>

![呼叫中心参数页的“RMA/退货”选项卡上的付款替代参数](media/overridepaymentparameter.png)

> [!IMPORTANT]
> <span data-ttu-id="199c7-193">在组织尝试替代使用信用卡付款类型的退款付款之前，他们应该确认他们的信用卡处理程序允许未链接的退货。</span><span class="sxs-lookup"><span data-stu-id="199c7-193">Before organizations try to override refund payments that use credit card payment types, they should verify that their credit card processor allows for unlinked returns.</span></span> <span data-ttu-id="199c7-194">很多处理程序要求退款发回原始卡。</span><span class="sxs-lookup"><span data-stu-id="199c7-194">Many processors require that refunds be posted back to the original card.</span></span> <span data-ttu-id="199c7-195">任何尝试向没有先前捕获的卡发放退款的尝试都有可能导致处理程序发放退款失败。</span><span class="sxs-lookup"><span data-stu-id="199c7-195">Any attempt to issue a refund to a card that has no previous captures might cause posting failures with the processor.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="199c7-196">其他资源</span><span class="sxs-lookup"><span data-stu-id="199c7-196">Additional resources</span></span>

[<span data-ttu-id="199c7-197">呼叫中心付款方式</span><span class="sxs-lookup"><span data-stu-id="199c7-197">Payment methods in call centers</span></span>](work-with-payments.md)
