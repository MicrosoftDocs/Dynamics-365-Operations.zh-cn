---
title: 呼叫中心退款处理
description: 本文说明创建退货时或取消订单或订单行时如何通过呼叫中心生成付款退款。
author: hhainesms
ms.date: 01/05/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgriffin
ms.search.region: global
ms.author: hhaines
ms.search.validFrom: ''
ms.dyn365.ops.version: ''
ms.openlocfilehash: b1f3462529d501d9a5c279fd15dec69cb447cd51
ms.sourcegitcommit: 87e727005399c82cbb6509f5ce9fb33d18928d30
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/12/2022
ms.locfileid: "9276911"
---
# <a name="refund-payment-processing-in-call-centers"></a>呼叫中心退款处理

本文说明创建退货时或取消订单或订单行时如何通过呼叫中心生成付款退款。

在 Microsoft Dynamics 365 Commerce 总部作为呼叫中心用户为客户创建退货单的用户使用 **退货单** 页创建初始物料退回授权 (RMA)。 RMA 定义客户要退回或更换的产品，创建订单类型为 **退回订单** 的链接的退货销售订单。 此链接的退回订单用于跟踪退货库存的过帐以及过帐的所有贷方通知单或付款退款。

如果呼叫中心渠道的 **启用订单完成** 选项设置为 **是**，创建 RMA 的呼叫中心用户必须通过选择 **退货单** 页上的 **完成** 来运行订单完成处理流。 **完成** 功能提供计算得出的退货摘要，其中大概描述了到期的退款金额。 此外，正确配置后，此功能会针对退回订单系统地创建退款付款行。

呼叫中心逻辑根据原始订单所使用的付款方式来确定退款付款行的付款方式。 如果创建的退货单未链接到原始订单，将应用从系统参数获取的默认付款方式。

## <a name="how-a-call-center-determines-which-payment-method-to-apply-to-a-return-order"></a>呼叫中心如何确定应用于退货单的付款方式

呼叫中心使用原始订单的付款方式来确定应该应用于退货单的付款方式。 以下是以下原始付款方式在此流程中的工作方式：

- **常规**（现金）或 **支票** – 当创建的退货单引用使用常规（现金）或支票付款类型支付的原始订单时，呼叫中心应用程序将引用 **呼叫中心退款方式** 页上的配置。 此页面让组织能够通过订单货币定义如何将最初使用常规或支票付款类型支付的订单的退款发放给客户。 **呼叫中心退款方式** 页面还允许组织选择是否应将系统生成的退款支票发送给客户。 在这些场景中，呼叫中心逻辑将引用退货单的货币，然后使用该货币的 **零售付款方式** 值在退货销售订单上创建退款付款行。 以后，使用映射的 AR 付款方式的应收帐款 (AR) 客户付款日记帐将链接到此货币。

    下图显示了一个场景的配置，在这一场景中，客户退回链接到美元货币的销售订单中的产品，该销售订单最初使用常规或支票付款类型支付。 在此场景中，退款将通过系统生成的退款支票发放给客户。 **REF-CHK** AR 付款方式已配置为退款支票付款类型。

    ![常规和支票原始付款的呼叫中心退款方式的配置。](media/callcenterrefundmethods.png)

    > [!NOTE]
    > 客户帐户未采用支持的现金或支票付款退款方式。

- **信用卡** – 当创建的退货单引用使用信用卡支付的原始订单时，退款付款的呼叫中心逻辑将对该退货单使用同一个原始信用卡。
- **会员卡** – 当创建的退货单引用使用客户会员卡支付的原始订单时，退款付款的呼叫中心逻辑会向相同会员卡执行退款。
- **礼品卡**（内部）– 当创建的退货单引用使用从 Dynamics 365 Commerce（内部礼品卡功能）发放的礼品卡支付的原始订单时，退款付款的呼叫中心逻辑会对相同的原始礼品卡号执行退款。
- **礼品卡**（外部）– 当创建的退货单引用使用外部第三方礼品卡支付的原始订单时，退款付款的呼叫中心逻辑将应用在 **呼叫中心参数** 页的 **RMA/退货** 选项卡上定义的默认退货付款方式。

如果由于某种原因原始订单付款类型未知，或者如果使用多种付款方式支付原始订单，呼叫中心逻辑将应用在 **呼叫中心参数** 页的 **RMA/退货** 选项卡上定义的默认退货付款方式。

下图显示了 **呼叫中心参数** 页的 **RMA/退货** 选项卡上的 **付款方式** 字段。

![呼叫中心参数页面的“RMA/退货”选项卡上的“付款方式”字段。](media/callcenterrefundparameters.png)

> [!NOTE]
> 前面所述的退款处理规则也将应用于呼叫中心用户在 Commerce Headquarters 中取消的订单或订单行。 如果取消订单或特定订单行导致任何超额支付，将使用相同的规则来生成退款付款行。

通常，退货单会经过一个标准流程，即接收（或报废）库存，针对退货单发布装箱单，然后为退货销售订单运行发票过帐流程。 退货销售订单作为创建退货单流程的一部分链接和系统地生成。 在典型场景中，在过帐退货订单的发票前，不会向客户发放付款退款。

### <a name="what-happens-when-an-invoice-is-posted-on-a-return-sales-order"></a>发票在退货销售订单上过帐时会发生什么

以下场景说明了发票在退货销售订单上过帐时会发生什么：

- 如果退货单上的退款付款是由信用卡支付的，发票过帐时会调用其他逻辑。 此逻辑调用付款处理程序来将付款退还到客户的信用卡。 另外还将创建退款客户付款凭证，并针对客户帐户系统地过帐。 此付款日记帐将根据退货单贷方通知单凭证进行结算。
- 如果必须发出的退款付款是支票付款类型，将创建使用 AR 付款方式的客户付款凭证，并且必须对其手动过帐或打印，然后付款凭证才能针对客户帐户过帐。 要处理退款支票，用户可以使用“应收帐款”中的 **客户付款日记帐** 页，或 Retail 和 Commerce 中的专用 **退款支票处理** 页。
- 如果必须发出的退款付款是内部礼品卡或会员卡付款类型，在退货单开票时，退款付款凭证将创建并针对客户帐户过帐。 此开票步骤还会将退款金额加回客户内部跟踪的礼品卡余额或会员积分余额。
- 如果使用 **客户** 功能（例如，客户帐户）的付款方式链接到退货销售订单，在处理付款时将忽略信用额度验证。 在这种情况下，不会创建或过帐付款凭证。 在退货单上使用客户付款类型时，发票过帐流程创建的贷方通知单凭证可以用作客户贷方凭证，并指示退还到客户 AR 余额的退款。

## <a name="advance-credit"></a>预付信用

当用户在呼叫中心在 **启用订单完成** 选项设置为 **是** 的情况下以呼叫中心用户的身份处理退货单时，如果正在创建退货单的呼叫中心用户将 **呼叫中心参数** 页的 **RMA/退货** 选项卡上的 **预付款贷方** 选项设置为 **是**，则可能发生上述退款付款过帐流程的例外情况。 在这种情况下，付款退款将在使用 **退货摘要** 页上的 **提交** 功能成功提交退货单后立即发生。 系统会立即为退货值创建预付款客户付款凭证，即使尚未为退货销售订单开票。 在组织由于客户服务问题而必须提前向客户发出退款的情况下，并且不希望要求在退款发出之前必须收到退货库存时，可以使用此方法。

## <a name="replacement-orders"></a>更换单

发出退货单时，**更换单** 功能可用于为客户生成新的销售订单。 此方法可用于换货场景。 **更换单** 功能为必须发送的新商品创建另一个销售订单，但是 **呼叫中心参数** 页的 **RMA/退货** 选项卡上的交叉引用链接将链接更换单、RMA 和退回销售订单。

处理更换单上的付款时，组织有两个选项：

- 根据原始付款方式为退货单的客户退款，然后为更换单收取单独付款。 使用此选项不需要任何其他配置。
- 在 **呼叫中心参数** 页上的 **RMA/退货** 选项卡上，将 **应用贷方** 选项设置为 **是**。 在这种情况下，客户付款方式将系统地应用于退货单和更换单。 此选项可以帮助阻止发出任何外部退款付款。 它还可以帮助阻止在交易中进行任何付款处理。 在正在处理等价换货，并且组织倾向于使用为退货单开票以为更换单生成的发票付款时生成的贷方凭证的情况下，此选项很有用。 当 **应用贷方** 选项设置为 **是** 时，组织必须在生成这两个财务单据后，根据更换单的发票手动结算贷方通知单。

将 **应用贷方** 选项设置为 **是** 仅在退货单将链接到更换单时适用。 在这种情况下，用于系统地为退货单和更换单付款的客户付款方式将由 **呼叫中心参数** 页的 **RMA/退货** 上的 **应用贷方付款方式** 字段定义。 仅 **客户** 功能付款类型的付款可以在此字段中选择。

> [!NOTE]
> 对于没有链接的更换单的退货单，将 **应用贷方** 选项设置为 **是** 不会对退货单付款逻辑产生影响，因为此设置仅应用于更换单。

![呼叫中心参数页面的“RMA/退货”选项卡上的“应用贷方付款方式”字段。](media/callcenterrefundparameters1.png)

> [!IMPORTANT]
> 如果创建更换单的用户计划使用 **应用贷方** 选项，他们不应该在将 **应用贷方** 选项设置为 **是** 之前，对退货单运行 **完成** 功能。 运行 **完成** 功能后，将计算退款付款并应用于退货销售订单。 在已经计算并应用退款付款后，将 **应用贷方** 选项设置为 **是** 的任何尝试都不会触发退款付款的重新计算，在 **应用贷方付款方式** 字段选择的付款方式也不会应用。 如果在这种情况下必须使用 **应用贷方** 选项，用户必须删除更换单和 RMA，然后重新开始并创建新 RMA。 这次，用户必须确保在运行 **完成** 功能之前，将 **应用贷方** 选项设置为 **是**。

## <a name="payment-overrides-for-call-center-returns"></a>呼叫中心退货的付款替代

虽然呼叫中心逻辑会按照本文前面所述的方式系统地确定退款付款方式，但用户有时可能希望替代这些付款。 例如，用户可以编辑或删除现有的退款付款行，然后应用新付款行。 系统计算的退款付款只能由具有正确替代权限的用户更改。 这些权限可以在 Retail 和 Commerce 中的 **替代权限** 页配置。 要进行退款付款替代，用户必须被链接到在 **替代权限** 页上将 **允许替代付款** 选项设置为 **是** 的安全角色。

![“替代权限”页面上的“允许替代付款”选项。](media/overridepermissions.png)

或者，组织可以将 **呼叫中心参数** 页的 **RMA/退货** 选项卡上的 **允许付款替代** 选项设置为 **是**。 在这种情况下，必须在 **安全替代代码** 字段中选择一个安全替代代码。 安全替代代码是必须在外部管理的字母数字代码，因为设置后用户无法在 Commerce headquarters 中进行查看。 组织中应该只有几个关键的受信任的人员知道安全替代代码。 将 **允许付款替代** 选项设置为 **是** 时，如果没有任何具有正确角色权限的用户尝试更改退货单上的付款方式，他们可以选择输入安全替代代码。 如果他们不知道此代码，或者经理或主管无法为他们在页面上输入，他们将无法替代退货付款方式。

> [!NOTE]
> 如果安全替代代码丢失或遗忘，组织必须通过在 **呼叫中心参数** 页的 **RMA/退货** 选项卡的 **安全替代代码** 字段中定义新的安全替代代码来将其重置。

![呼叫中心参数页面的“RMA/退货”选项卡上的付款替代参数。](media/overridepaymentparameter.png)

> [!IMPORTANT]
> 在组织尝试替代使用信用卡付款类型的退款付款之前，他们应该确认他们的信用卡处理程序允许未链接的退货。 很多处理程序要求退款发回原始卡。 任何尝试向没有先前捕获的卡发放退款的尝试都有可能导致处理程序发放退款失败。

## <a name="additional-resources"></a>其他资源

[呼叫中心付款方式](work-with-payments.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
