---
title: 配置呼叫中心交货方式和费用
description: 本主题介绍如何在 Dynamics 365 Commerce 中为呼叫中心订单设置交货方式和费用。
author: josaw1
ms.date: 04/26/2018
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: RetailMCRChannelDetailPage, MCROrderParameters
audience: Application User
ms.reviewer: josaw
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2018-04-30
ms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update
ms.openlocfilehash: ac3d540ee3d1737e4e8be45394cd5807ae4a8d6f
ms.sourcegitcommit: 3cdc42346bb653c13ab33a7142dbb7969f1f6dda
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/31/2021
ms.locfileid: "5796140"
---
# <a name="configure-call-center-delivery-modes-and-charges"></a>配置呼叫中心交货方式和费用

[!INCLUDE [banner](includes/banner.md)]

在 Dynamics 365 Commerce 中下达销售订单时，如果该销售订单的输入人员已链接到呼叫中心渠道，将使用逻辑和规则验证交货的方式（交货方式）和计算订单的费用。

创建销售订单时，可在销售订单头和销售订单行中选择交货方式。 默认情况下，在订单头中选择的交货方式用于所有销售订单行。 但是可以根据需要覆盖单个销售行中的默认交货方式。 也可以在客户记录中定义交货方式。 然后为客户创建订单时，将默认在销售订单头中使用该交货方式。

Commerce 有一些功能可供用户限制渠道可使用的交货方式、可用于产品的交货方式，以及对特定运输目的地有效的交货方式。 也可以定义费用，这样将根据为销售订单选择的交货方式和客户的订单总价值向订单添加额外费用。

## <a name="define-delivery-modes"></a>定义交货方式

指定可将哪些交货方式用于呼叫中心订单和定义关联的规则和费用之前，必须定义交货方式。 转到 **销售和市场营销 \> 设置 \> 分配 \> 交货方式**。 选择 **新建** 创建新的交货方式。 也可以选择列表中的现有交货方式，然后选择 **编辑** 进行更改。

在 **交货方式** 字段中，可根据业务需求输入字母数字字符的任何组合。 然后可以使用 **描述** 字段提供更多上下文。 **费用组** 和 **加速** 字段为可选字段，本主题后文将进行说明。

在 **商业渠道** 快速选项卡中，添加应允许在其中创建销售交易记录时使用交货方式的任何渠道。

在 **产品** 快速选项卡中，可指定交货方式可使用的产品和/或产品类别，以及不可用使用的。 例如，如果某个产品因为危险材料（危险品）限制而不能空运，请确保从涉及空运的所有交货方式中排除该产品或产品类别。

在 **地址** 快速选项卡中，可指定交货方式可用于的国家、地区或州（省\直辖市\自治区），以及不可用于的。 例如，发货目的地为夏威夷或阿拉斯加的订单就不能陆运。 因此，应从与陆运服务关联的所有交货方式中排除这些州，但应包含在与空运服务关联的所有交货方式中。

## <a name="validate-delivery-modes-for-a-call-center-order"></a>验证呼叫中心订单的交货方式

定义交货方式后，必须运行 **处理交货方式** 批处理作业。 此作业启用这些交货方式，以便可在渠道的销售订单流程中使用。 若要运行 **处理交货方式** 作业，请转到 **Retail 和 Commerce \> Retail 和 Commerce IT \> 处理交货方式**。 只要向渠道添加了新交货方式或对现有交货方式/渠道关系进行了更改，都应该运行此作业。

运行 **处理交货方式** 批处理作业后，可以转到 **Retail 和 Commerce \> 渠道 \> 呼叫中心 \> 所有呼叫中心**。 在 **所有呼叫中心** 页操作窗格上的 **设置** 选项卡中，选择 **交货方式**。 **交货方式** 页将列出所选呼叫中心渠道的所有有效交货方式。 若要编辑现有交货方式或添加新交货方式，请选择 **管理交货方式**。 请注意，只要进行了更改，都必须运行 **处理交货方式** 作业。

## <a name="define-charges-for-delivery-services"></a>为交货服务定义费用

为客户创建销售订单后，公司可能希望添加将根据为订单选择的交货方式自动计算的费用。 可配置这些费用，使其对所有客户和交货方式均相同。 这些费用也可以根据为销售订单选择的客户/或交货方式改变。

若要定义费用，请转到 **Retail 和 Commerce \> 渠道设置 \> 费用 \> 自动费用**。 选择 **新建** 以添加新费用。 也可以选择现有条目，然后选择 **编辑**。

可以将费用定义为在订单头或订单行级别计算。 请使用 **级别** 字段选择所需级别。

可以为特定客户、一组客户或所有客户定义费用。 在 **帐户编码** 字段中，选择 **表** 以定义仅适用于特定客户的费用。 选择 **组** 则定义特定客户组的费用。 选择 **所有** 则将费用应用于下的订单使用相关交货方式的每位客户。 如果在 **帐户编码** 字段中选择了 **表** 或 **组**，请在 **帐户关联** 字段中选择客户或客户组。

可将费用配置为适用于特定交货方式、交货方式组或所有交货方式。 如果在 **交货方式代码** 字段中选择 **表**，则必须在 **交货方式关系** 字段中选择特定交付方式。 如果选择 **组**，则必须在 **交货方式关系** 字段中选择交货方式组。 交货方式组在 **Retail 和 Commerce \> 渠道设置 \> 费用 \> 交货费用组** 中设置。 然后可在 **交货方式** 页将其链接到一个或多个交货方式。 如果在定义费用时选择一个组，则链接到所选计划组的所有交货方式都将使用这些费用。 最后，如果在 **交货方式代码** 字段中选择 **所有**，则所有交货方式都将使用这些费用。 因此，请勿在 **交货方式关系** 字段中选择值。

可以根据需要在 **行** 部分中按币种定义一个或多个费用。 必须将费用链接到费用代码，以便为其定义财务过帐规则。 **类别** 字段用于定义费用的计算方法。 例如，如果应该向客户收取 9.95 美元的统一费用才能按特定交货方式为订单发货，请使用 **固定** 类别。 如果企业决定向客户收取的交货费用为占订单总额的一个百分比，则使用 **百分比** 类别。 向客户收取的实际费用在 **费用值** 字段中定义。

公司通常会配置分层费用。 在这种情况下，客户为交货支付的金额基于订单值。 若要配置分层费用，除了在 **费用值** 字段中定义费用本身，还需要在 **起始金额** 和 **终止金额** 字段中输入值。 例如，对于值低于 50 美元的订单，零售商将收取 5.95 美元的陆运费用。 对于值等于或高于 50 美元，但低于 100 美元的订单，零售商将收取 7.95 美元。 最后，对于值等于或高于 100 美元的订单，零售商则免收运费。 下图显示这些费用的配置。

![固定分层费用示例](media/fixedtieredcharges.png)

可对费用使用类别组合，具体取决于业务需求。 例如，对于值低于 100 美元的所有订单，运费固定为 9.95 美元。 然后，对于值等于或高于 100 美元的订单，运费为订单值的百分之五。 下图显示这些费用的配置。

![组合分层费用示例](media/mixedtieredcharges.png)

## <a name="apply-delivery-modes-during-order-entry-in-a-call-center"></a>呼叫中心订单录入期间应用交货方式

创建新销售订单时，必须在销售订单头的 **交货** 快速选项卡上 **交货方式** 字段中指定值。 可能会根据客户记录中的默认值自动填写该字段。

创建销售订单行时，将把订单头中定义的交货方式自动复制到销售订单行。 但是，可以在销售订单录入页 **行详细信息** 部分中的 **交货** 选项卡上更改特定行项的交货方式设置。

如果所选交货方式对为订单或订单行定义的产品或交货地址无效，您将收到错误消息。 然后必须选择一种已定义的交货方式来为该产品或地址配置提供支持。

## <a name="calculation-of-delivery-charges-during-entry-of-order"></a>录入订单期间计算交货费用

如果为您的呼叫中心渠道开启了 **启用订单完成** 设置，用户选择 **完成** 时，将自动计算销售订单的运费。 将在 **销售订单摘要** 页顶部显示以下消息：“已计算分层费用。” 将把计算的费用添加到 **销售额总计** 字段中。 **金额** 快速选项卡上的 **费用** 字段显示已为订单和行计算出的所有费用的总金额。 若要查看更详细的费用明细，请在 **销售订单摘要** 页中选择 **订单**，然后选择 **费用** 选项查看、添加或编辑费用。 请注意，订单头中的交货费用的计算基于链接到该订单头的交货方式。 行级别交货费用基于为销售行配置的交货方式计算。 如果在不同行中使用了多种交货方式，则可能会同时应用和添加多个费用。 然后在 **销售订单摘要** 页中的 **费用** 字段内显示总金额。

如果关闭了 **启用订单完成** 设置，用户必须手动触发费用的计算。 在 **销售订单** 页操作窗格中 **销售** 选项卡的 **计算** 组中，选择 **分层费用**。 将显示“已计算分层费用”消息。 然后可以选择 **销售** 选项卡中的 **费用** 选项查看、编辑或删除计算出的费用。

## <a name="use-expedited-delivery-modes-on-call-center-orders"></a>在呼叫中心订单中使用加速交货方式

可选择向配置的任何交货方式链接加速代码。 此代码用作优先级排序和报告工具。 它现在不会导致为订单应用额外费用。 若要设置加速代码，请转到 **销售和市场营销 \> 设置 \> 配送 \> 加速代码**。

例如，对于次日空运的订单，必须在每天下午 1 点前完成拣货。 在这种情况下，可以创建加速代码，并且可以将该代码链接到系统中配置的任何次日交货方式。 仓库创建其拣货波次时，可将 **加速** 字段中的相应加速代码用作筛选器，以便仅对交货方式链接至该代码的订单运行拣货。

此外，输入呼叫中心订单时，可以将加速代码手动应用于销售订单头或单独的销售订单行。 再有，可将该代码用于排序或报告目的。 有时因为客户服务问题，必须仔细处理某个订单。 在此情况下，可以为订单头或行应用特定加速代码，以便在实施过程中帮助识别订单和优先处理该订单。


[!INCLUDE[footer-include](../includes/footer-banner.md)]