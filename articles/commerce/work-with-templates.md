---
title: 使用模板
description: 此主题描述如何在 Microsoft Dynamics 365 Commerce 中使用模板。
author: phinneyridge
ms.date: 02/03/2022
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: ''
ms.author: niholman
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: ab6ccfac96249b39cb007d9a9fce10475f0c7149
ms.sourcegitcommit: 1eef00796f7c5511f432b01800cdf8920992d7d5
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/04/2022
ms.locfileid: "8090786"
---
# <a name="work-with-templates"></a>使用模板

[!include [banner](includes/banner.md)]

此主题描述如何在 Microsoft Dynamics 365 Commerce 中使用模板。

[模板和布局概述](templates-layouts-overview.md)中已介绍过，模板定义可供下游作者使用的一组选项。 多个原因让模块对企业的 Web 制作团队非常有用，而精心构造的模板可以帮助达成下面的所有目标：

- 简化日常内容编辑者角色的创作体验

    - 筛选模块选项，以便对特定页面部分仅显示相关模块。 （例如，可以将模板的市场营销部分配置为筛选掉不应在该上下文中使用的无关模板，仅使内容创作任务在显示时复杂化。）
    - 配置默认模块设置以帮助提高创作效率。
    - 定义默认页面片段以帮助提高创作效率。 （例如，每个下游页中都将自动显示模板中的页眉和页脚片段。）

- 通过定义一组批准的模块安排和配置选项，让企业站点保持品牌化。

    > [!TIP] 
    > 成功的电子商务站点为客户提供的是属性、可重复和品牌化的用户体验 (UX) 设计模式。 通过使用模板，可帮助控制站点中的一致性。

- 可通过确保可重复且可以编程方式定义的页面定义和元数据来提高搜索引擎优化 (SEO) 分数。

> [!NOTE]
> 虽然模板旨在控制站点中的一致性，理论上也可以配置为不实现任何一致性。 品牌和站点管理员可为其站点中的页面定义任何可变性级别。 例如，可以让模板完全开放，这样内容创作者就可以创建选择的任何页面设计。 在此情况下，不能享受上一个列表中的任何优点。

## <a name="modify-a-template"></a>修改模板

可使用模板编辑器修改模板。

要在 Commerce 站点构建器中打开模板编辑器，请按照以下步骤之一操作：

- 在站点的导航窗格中，选择 **模板**，然后选择要修改的模板。
- 在现有页面的页面编辑器中，选择左侧大纲树中的顶级节点。 然后，在右侧属性窗格中，选择 **编辑模板**。

左侧大纲树视图将显示子布局和页面的可用模块选项和结构。 在大纲树中选择模块之后，可在右侧属性窗格中查看所选模块的模板属性。 这些属性中的一些专用于编辑模板。 下表描述这些属性。

| 属性名称 | 说明 |
|---|---|
| 最小发生次数 | 此属性定义所选模块的最小发生次数。 例如，如果此值设置为 **1**，则下游作者需要此模块，而如果此值设置为 **0**（零），则此模块可选。 |
| 最大发生次数 | 此属性定义所选模块的最大发生次数。 例如，如果此值设置为 **1**，则此模块只能添加一次。 |
| 最小模块数量（容器） | 对于其中包含其他模块的模块（即对于 *容器模块*），此属性定义应该作为子代添加的模块的最小总数。 例如，对于传送模块，此值可以设置为大于 1 的数字。 |
| 最大模块数量（容器） | 对于容器模块，此属性定义应该作为子代添加的模块的最大总数。 例如，对于传送模块，此值可以设置为小于 10 的数字。 |
| 已锁定 | 所有核心模块属性旁边都会显示一个 **已锁定** 布尔值控件。 模块作者可将其用于锁定模板中的模块设置。 任何子布局或页面都不能替代已锁定的模块设置。 它将成为所有使用模板的布局和页面的可集中编辑的属性值。 |

## <a name="create-a-new-template"></a>创建新模板

要在站点构建器中创建新模板，请执行以下步骤。

1. 在站点的导航窗格中，选择 **模板** 打开模板检查器视图。
1. 选择 **新建模板**。
1. 在模板创建对话框中，输入模板的名称和描述。 作者创建新页面时，将对作者显示您输入的值。 因此，输入对页面作者有用的元数据。 例如，为描述输入 **使用此模板创建常规市场营销页**。 以后可以编辑此元数据。
1. 选择 **确定** 创建新模板，然后打开模板编辑器。 模板编辑器将在左侧显示大纲树，在右侧显示属性窗格。
1. 在大纲树中，展开节点，然后选择 **HTML 标头** 插槽。
1. 如果此插槽中还没有任何模块，请选择省略号按钮 (**...**)，然后选择 **添加模块**。
1. 在 **添加模块** 对话框中，选择 **定义页面摘要**，然后选择 **确定**。
1. 在大纲树中，选择新模块，然后在属性窗格中，输入应该为模板所有子页自动配置的任何默认设置。 如果不需要任何默认设置，请将值保留为空。
1. 在大纲树中，选择 **正文** 插槽，选择省略号按钮，然后选择 **添加模块**。
1. 选择页面容器模块（可能只有一个选项），然后选择 **确定**。

在新页面容器模块下，可以看到一组新插槽（**页眉**、**主** 等）。 可在此处添加和配置当作者基于此模板创建页面时的可用模块选项。 默认情况下，如果不向插槽添加任何模块，则该插槽支持所有可用模块类型。

从技术角度来说，此模板现在有效，可以保存，签入和用于创建新页面。 但是，下面的三个部分介绍您可能希望先配置的其他一些默认设置。

## <a name="add-a-header-and-a-footer"></a>添加页眉和页脚

如果站点已经有页眉片段，请在站点构建器中执行以下步骤向模板添加页眉和页脚。

1. 在大纲树中，展开 **正文** 插槽及其子页模块。
1. 选择 **页眉** 插槽。
1. 选择 **页眉** 插槽的省略号按钮，然后选择 **添加片段**。
1. 搜索并选择站点的页眉片段，然后选择 **确定**。

所有使用模板的页面将自动继承此页眉片段。

如果站点还没有页眉片段，请参阅[创建片段](work-with-fragments.md#create-a-fragment)了解有关如何创建片段的信息，然后完成上一个过程。

## <a name="change-the-template-theme"></a>更改模板主题

要设置所有使用模板的页面的默认主题，请在站点构建器中执行以下步骤。

1. 在左侧的大纲树中，展开 **正文** 插槽。
1. 在 **正文** 插槽中，选择页面容器模块（例如，**默认页**）。
1. 在右侧的属性窗格中 **主题** 字段内，选择一个主题。

默认情况下，所有新页面现在都使用所选主题。 若要避免页面在布局或页面级别替代此设置，请将 **已锁定** 布尔值控件设置为 **True**。

## <a name="add-a-script-to-a-template"></a>向模板添加脚本

可向模板添加其中包含 JavaScript 的 HTML **&lt;script&gt;** 元素。 这样，就可以向页面的 HTML 标题、正文开始和正文结束部分提供默认脚本行为。

要将脚本添加到站点构建器中的模板，请按照下列步骤操作。

1. 在左侧的大纲树中，选择要在其中添加 **&lt;script&gt;** 元素（如 HTML 标题、正文开始或正文结束）的插槽。
1. 选择插槽的省略号按钮，然后选择 **添加模块**。
1. 在 **添加模块** 对话框中，选择一个脚本模块（例如，**外部脚本** 或 **内联脚本**）。
1. 在右侧属性窗格中相应脚本属性控件（例如，**内联脚本** 或 **脚本标记**）中，输入您的脚本。
1. 在属性窗格中，输入要配置的其他任何可选设置。

> [!TIP]
> 如果要重复使用其他模板的任何脚本模块，可将其转换为片段。 这样，就可以帮助提高创作流程的效率，而您可以集中执行更新流程。 有关如何将脚本模块转换为片段的信息，请参阅[将现有模块配置另存为片段](work-with-fragments.md#save-an-existing-module-configuration-as-a-fragment)。

## <a name="save-check-in-preview-and-publish-a-template"></a>保存，签入，预览和发布模块

要在站点构建器中保存和签入模板，请执行以下步骤。

1. 选择模板编辑器顶部的 **保存**。 保存的更改在签入前，不影响下游页。
1. 选择 **完成编辑**。 现在可为下游工作流发现更改。

若要预览更改，请打开使用模板的现有页面，或基于模板创建新页面。

预览对模板的更改之后，执行以下步骤之一将模板发布到您的活动站点：

* 转到 **模板**，选择模板，然后选择 **发布**。
* 选择布局名称打开布局编辑器，然后选择 **发布**。
* 发布引用未发布模板的页面。 将自动发布此模板。

> [!WARNING]
> 模板或其他任何内容管理系统 (CMS) 项发布后，可在 Internet 中发现。 准备好公开文档或资产之前，切勿发布这些文档或资产。 只有已经过身份验证的用户才可以发现已保存且签入，但尚未发布的文档版本。

## <a name="rename-a-template"></a>重命名模板

要在站点构建器中重命名现有模板，请执行以下步骤。

1. 在左侧导航窗格中，选择 **模板**。
1. 选择您想要重命名的模板的模板名称。
1. 选择 **编辑** 开始编辑模板。 请注意，如果其他人已在编辑模板，您将无法编辑该模板。
1. 在模板属性窗格中，选择模板名称旁边的笔符号。
1. 根据需要编辑模板名称。
1. 选择复选标记确认名称更改。
1. 选择 **完成编辑**。

## <a name="additional-resources"></a>其他资源

[模板和布局概览](templates-layouts-overview.md)

[使用预设布局](work-with-layouts.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
