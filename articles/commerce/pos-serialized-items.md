---
title: 在 POS 中处理序列化产品
description: 本主题说明如何在销售点 (POS) 应用程序中管理序列化产品。
author: boycezhu
manager: annbe
ms.date: 01/08/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.region: global
ms.author: boycez
ms.search.validFrom: ''
ms.dyn365.ops.version: 10.0.11
ms.openlocfilehash: 0431ffa45eceac5c12d8ed991b00730c50ca62f8
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/15/2021
ms.locfileid: "4972547"
---
# <a name="work-with-serialized-items-in-the-pos"></a><span data-ttu-id="f7dcd-103">在 POS 中处理序列化产品</span><span class="sxs-lookup"><span data-stu-id="f7dcd-103">Work with serialized items in the POS</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="f7dcd-104">许多零售商出售需要进行一系列控制的产品。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-104">Many retailers sell products that require serial control.</span></span> <span data-ttu-id="f7dcd-105">这些产品称为 *序列化产品*。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-105">These products are referred to as *serialized items*.</span></span> <span data-ttu-id="f7dcd-106">一些零售商可能希望将序列号保留在商店或仓库库存中以进行跟踪。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-106">Some retailers might want to maintain serial numbers in store or warehouse inventory for tracking purposes.</span></span> <span data-ttu-id="f7dcd-107">其他零售商可能希望在销售流程中获取序列号，以用于维护和保修目的。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-107">Other retailers might want to capture serial numbers during the sales process, for service and warranty purposes.</span></span> <span data-ttu-id="f7dcd-108">本主题说明如何在 Microsoft Dynamics 365 Commerce 销售点 (POS) 应用程序中管理序列化产品。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-108">This topic explains how you can manage serialized items in the Microsoft Dynamics 365 Commerce point of sale (POS) application.</span></span>

## <a name="serial-number-configurations"></a><span data-ttu-id="f7dcd-109">序列号配置</span><span class="sxs-lookup"><span data-stu-id="f7dcd-109">Serial number configurations</span></span>

<span data-ttu-id="f7dcd-110">如果为项目分配了跟踪维度组，且该组被设置为允许使用序列号，则该产品被视为序列化产品。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-110">An item is considered a serialized item if it's assigned a tracking dimension group that's set up to allow for serial numbers.</span></span> <span data-ttu-id="f7dcd-111">在 Commerce 总部的 **跟踪维度组** 页面中，选择 **有效** 选项以针对库存流程启用序列号，或选择 **在销售流程中有效** 选项以针对销售流程启用序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-111">In Commerce headquarters, on the **Tracking dimension groups** page, select the **Active** option to enable serial numbers for the inventory process, or select the **Active in sales process** option to enable serial numbers for the sales process.</span></span>

<span data-ttu-id="f7dcd-112">在 **跟踪维度** 快速选项卡上，打开 **允许空白收据** 参数，以允许序列号在序列化物料库存收货流程中充当可选输入。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-112">On the **Tracking dimensions** FastTab, turn on the **Blank receipt allowed** parameter to allow serial number to be an optional input during the inventory receipt process of serialized item.</span></span> <span data-ttu-id="f7dcd-113">关闭此参数则会强制序列号成为必需输入。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-113">Turning off this parameter enforces serial number to be a required input.</span></span> <span data-ttu-id="f7dcd-114">同样，**允许空发货** 参数控制库存装运流程期间是否需要序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-114">Similarly, the **Blank issue allowed** parameter controls whether serial number is required during the inventory shipment process.</span></span>

> [!NOTE]
> <span data-ttu-id="f7dcd-115">若要使用 **入站库存** 和 **出站库存** POS 操作来注册或验证序列化产品的序列号，必须将该产品配置为要为其分配一个跟踪维组，该组设置为允许针对 **有效** 选项（而不是 **在销售流程中有效** 选项）使用序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-115">To use the **Inbound inventory** and **Outbound inventory** POS operations to register or validate serial numbers against a serialized item, you must configure that item to be assigned a tracking dimension group that's set up to allow for serial numbers for the **Active** option, not the **Active in sales process** option.</span></span>

## <a name="serial-number-management-page"></a><span data-ttu-id="f7dcd-116">序列号管理页面</span><span class="sxs-lookup"><span data-stu-id="f7dcd-116">Serial number management page</span></span>

<span data-ttu-id="f7dcd-117">在 **入站库存** 和 **出站库存** POS 操作中，如果正在选择，接收或装运的产品为序列化产品，则 **详细信息** 窗格中包含 **管理序列号** 选项，该选项链接到 **序列号管理** 页面，可在该页面中注册或验证产品的序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-117">In the **Inbound inventory** and **Outbound inventory** POS operations, if the item that is being selected, received, or shipped is a serialized item, the **Details** pane contains a **Manage serial number** option that links to the **Serial number management** page where you can register or validate serial numbers for the item.</span></span> <span data-ttu-id="f7dcd-118">或者，您可以通过以下方法打开 **序列号管理** 页面：在订单详细信息视图的应用栏上选择 **序列号** 操作，或者在接收或装运过程中提示您的对话框中选择 **管理序列号** 选项。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-118">Alternatively, you can open the **Serial number management** page either by selecting the **Serial number** action on the app bar of the order details view, or by selecting the **Manage serial number** option in the dialog box that prompts you during the receiving or shipping process.</span></span> 

<span data-ttu-id="f7dcd-119">**序列号管理** 页面列出了所有待注册或待验证的已打开序列号行。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-119">The **Serial number management** page lists all open serial number lines that are pending registration or validation.</span></span> <span data-ttu-id="f7dcd-120">此页面上可能有两个选项卡：一个适用于当前产品，另一个适用于订单中的所有序列化产品。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-120">There might be two tabs on this page: one for the current item and another for all serialized items in the order.</span></span>

<span data-ttu-id="f7dcd-121">**序列号管理** 页面上的 **状态** 字段提供有关每个序列号所在的当前阶段的信息：</span><span class="sxs-lookup"><span data-stu-id="f7dcd-121">The **Status** field on the **Serial number management** page provides information about the current stage that each serial number is in:</span></span>

- <span data-ttu-id="f7dcd-122">**未注册** – 尚未提供序列号，或者尚未验证预注册的序列号（在接收流程中）。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-122">**Not registered** – The serial number hasn't been provided, or the preregistered serial number hasn't yet been validated (in the receiving process).</span></span>
- <span data-ttu-id="f7dcd-123">**正在注册** – 序列号已注册并保存在本地商店的渠道数据库中，或者预注册的序列号已通过验证。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-123">**Registering** – The serial number has been registered and saved locally to the store's channel database, or the preregistered serial number has been validated.</span></span> <span data-ttu-id="f7dcd-124">只有在完成接收或履行后，状态为 **正在注册** 的序列号才会提交至 Commerce 总部。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-124">Only serial numbers that have a status of **Registering** will be submitted to Commerce headquarters when you finish receiving or fulfillment.</span></span>

## <a name="receive-serialized-items"></a><span data-ttu-id="f7dcd-125">接收序列化产品</span><span class="sxs-lookup"><span data-stu-id="f7dcd-125">Receive serialized items</span></span>

<span data-ttu-id="f7dcd-126">通过 **入站库存** POS 操作，用户可以对序列化产品执行以下任务：</span><span class="sxs-lookup"><span data-stu-id="f7dcd-126">The **Inbound inventory** POS operation lets users perform the following tasks for serialized items:</span></span>

- <span data-ttu-id="f7dcd-127">当通过采购订单在商店中收到序列化产品时，为这些序列化产品注册序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-127">Register serial numbers against serialized items when those items are received in the store via a purchase order.</span></span>
- <span data-ttu-id="f7dcd-128">当通过采购订单或转移订单在商店中收到序列化产品时，为这些序列化产品验证预先注册的序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-128">Validate preregistered serial numbers against serialized items when those items are received in the store via a purchase order or transfer order.</span></span>

### <a name="register-serial-numbers-against-serialized-items"></a><span data-ttu-id="f7dcd-129">为序列化产品注册序列号</span><span class="sxs-lookup"><span data-stu-id="f7dcd-129">Register serial numbers against serialized items</span></span>

<span data-ttu-id="f7dcd-130">对于采购订单，序列化产品接收流程中将通过一个对话框提示您，该对话框中有 **管理序列号** 选项。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-130">For a purchase order, you'll be prompted with a dialog box with the **Manage serial number** option during the receiving process of a serialized item.</span></span> <span data-ttu-id="f7dcd-131">您可以选择该选项以打开 **序列号管理** 页面并开始注册序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-131">You can select that option to open the **Serial number management** page and start to register serial numbers.</span></span> <span data-ttu-id="f7dcd-132">您也可以在接收流程中跳过此步骤，并稍后提供输入，然后再过帐收据。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-132">You can also skip this step during the receiving process and provide the input later, before the receipt is posted.</span></span>

<span data-ttu-id="f7dcd-133">默认情况下显示了当前产品的选项卡。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-133">By default, the tab for the current item is shown.</span></span> <span data-ttu-id="f7dcd-134">所有序列号行都有一个空序列号值，并且状态为 **未注册**。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-134">All serial number lines have an empty serial number value and a status of **Not registered**.</span></span> <span data-ttu-id="f7dcd-135">您可以扫描序列号条形码，也可以在应用栏上选择 **序列号** 以连续输入序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-135">You can scan serial number bar codes, or you can select **Serial number** on the app bar to continuously enter serial numbers.</span></span> <span data-ttu-id="f7dcd-136">您输入的序列号会出现在列表中，并且其状态会更改为 **正在注册**。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-136">The serial numbers that you enter appear in the list, and their status is changed to **Registering**.</span></span> <span data-ttu-id="f7dcd-137">您可以在列表中注册的序列号的最大数目等于接收数量。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-137">The maximum number of serial numbers that you can register in the list is equal to the receiving quantity.</span></span> <span data-ttu-id="f7dcd-138">如果输入有误，则可以在 **详细信息** 窗格中选择 **编辑** 或 **清除**，以更改输入的序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-138">If you make a mistake, you can select **Edit** or **Clear** in the **Details** pane to make changes to the serial numbers that you entered.</span></span>

<span data-ttu-id="f7dcd-139">您还可以在 **序列号管理** 页面的 **所有序列化产品** 选项卡上注册序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-139">You can also register serial numbers on the **All serialized items** tab of the **Serial number management** page.</span></span> <span data-ttu-id="f7dcd-140">在此列表中，选择要为其注册序列号的产品。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-140">In the list, select the item that you want to register serial numbers against.</span></span>

### <a name="validate-serial-numbers-on-serialized-items"></a><span data-ttu-id="f7dcd-141">验证序列化产品的序列号</span><span class="sxs-lookup"><span data-stu-id="f7dcd-141">Validate serial numbers on serialized items</span></span>

<span data-ttu-id="f7dcd-142">对于转移订单，出库方必须在装运过程中对序列化产品预先注册序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-142">For a transfer order, the outbound side must preregister serial numbers on the serialized items during the shipment process.</span></span> <span data-ttu-id="f7dcd-143">对于采购订单，供应商可能会通过装运前通知 (ASN) 提供序列号信息，您可以对要装运的产品预先注册编号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-143">For a purchase order, the supplier might provide serial number information through an Advance Shipment Notice (ASN), and you can preregister the numbers on the items that will be shipped.</span></span> <span data-ttu-id="f7dcd-144">在这两种情况下，序列号在接收之前都是已知的。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-144">In both cases, the serial numbers are known before the receipt.</span></span> <span data-ttu-id="f7dcd-145">因此，在入库端，您只需要验证您已经收到了应该收到的东西即可。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-145">Therefore, on the inbound side, you just have to validate that you received what you were supposed to receive.</span></span>

<span data-ttu-id="f7dcd-146">要验证序列号，您可以在接收流程中或在过帐收据之前随时打开 **序列号管理** 页面。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-146">To validate serial numbers, you can open the **Serial number management** page either during the receiving process or at any time before the receipt is posted.</span></span> <span data-ttu-id="f7dcd-147">对于每个具有预先注册的序列号的序列化产品，所有序列号都会在此页面上自动设置为 **未注册** 初始状态。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-147">For each serialized item that has preregistered serial numbers, all the serial numbers are automatically set to an initial status of **Not registered** on this page.</span></span> <span data-ttu-id="f7dcd-148">要验证序列号，您可以扫描或输入序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-148">To validate serial numbers, you can scan or enter them.</span></span> <span data-ttu-id="f7dcd-149">输入序列号后，应用程序将验证它们是否与预注册的序列号匹配。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-149">As serial number are entered, the application validates whether they match preregistered serial numbers.</span></span> <span data-ttu-id="f7dcd-150">如果它们匹配，则它们的状态将更改为 **正在注册**。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-150">If they match, their status is changed to **Registering**.</span></span> <span data-ttu-id="f7dcd-151">否则，您会收到一条错误消息。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-151">Otherwise, you receive an error message.</span></span> <span data-ttu-id="f7dcd-152">或者，您可以直接选择序列号，然后选择 **详细信息** 页面中的 **验证序列号** 快速将该序列号标记为已验证。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-152">Alternatively, you can directly select a serial number, then select the **Validate serial number** option in the **Details** pane to quickly mark that serial number as validated.</span></span> <span data-ttu-id="f7dcd-153">您可以在列表中验证的序列号的最大数目等于接收数量。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-153">The maximum number of serial numbers that you can validate in the list is equal to the receiving quantity.</span></span>

<span data-ttu-id="f7dcd-154">您还可以在 **序列号管理** 页面的 **所有序列化产品** 选项卡上验证序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-154">You can also validate serial numbers on the **All serialized items** tab of the **Serial number management** page.</span></span> <span data-ttu-id="f7dcd-155">在此列表中，选择要为其验证序列号的产品。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-155">In the list, select the item that you want to validate serial numbers against.</span></span>

## <a name="ship-serialized-items"></a><span data-ttu-id="f7dcd-156">装运序列化产品</span><span class="sxs-lookup"><span data-stu-id="f7dcd-156">Ship serialized items</span></span>

<span data-ttu-id="f7dcd-157">通过转运单将序列化产品运出当前商店时，可使用 **出站库存** POS 操作注册序列化产品的序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-157">You can use the **Outbound inventory** POS operation to register serial numbers against serialized items when shipping them out of current store via a transfer order.</span></span>

### <a name="register-serial-numbers-against-serialized-items"></a><span data-ttu-id="f7dcd-158">为序列化产品注册序列号</span><span class="sxs-lookup"><span data-stu-id="f7dcd-158">Register serial numbers against serialized items</span></span>

<span data-ttu-id="f7dcd-159">对于转运单，序列化产品装运流程中将通过一个对话框提示您，该对话框中有 **管理序列号** 选项。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-159">For a transfer order, you'll be prompted with a dialog box with the **Manage serial number** option during the shipping process of a serialized item.</span></span> <span data-ttu-id="f7dcd-160">您可以选择该选项以打开 **序列号管理** 页面并开始注册序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-160">You can select the option to open the **Serial number management** page and start to register serial numbers.</span></span> <span data-ttu-id="f7dcd-161">您也可以在装运流程中跳过此步骤，并稍后提供输入，然后再过帐装运。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-161">You can also skip this step during the shipping process and provide the input later, before the shipment is posted.</span></span>

<span data-ttu-id="f7dcd-162">默认情况下显示了当前产品的选项卡。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-162">By default, the tab for the current item is shown.</span></span> <span data-ttu-id="f7dcd-163">所有序列号行都有一个空序列号值，并且状态为 **未注册**。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-163">All serial number lines have an empty serial number value and a status of **Not registered**.</span></span> <span data-ttu-id="f7dcd-164">您可以扫描序列号条形码，也可以在应用栏上选择 **序列号** 以连续输入序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-164">You can scan serial number bar codes, or you can select **Serial number** on the app bar to continuously enter serial numbers.</span></span> <span data-ttu-id="f7dcd-165">您输入的序列号会出现在列表中，并且其状态会更改为 **正在注册**。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-165">The serial numbers that you enter appear in the list, and their status is changed to **Registering**.</span></span> <span data-ttu-id="f7dcd-166">您可以在列表中注册的序列号的最大数目等于装运数量。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-166">The maximum number of serial numbers that you can register in the list is equal to the shipping quantity.</span></span> <span data-ttu-id="f7dcd-167">如果输入有误，则可以在 **详细信息** 窗格中选择 **编辑** 或 **清除**，以更改输入的序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-167">If you make a mistake, you can select **Edit** or **Clear** in the **Details** pane to make changes to the serial numbers that you entered.</span></span>

<span data-ttu-id="f7dcd-168">您还可以在 **序列号管理** 页面中的 **所有序列化产品** 选项卡上注册序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-168">You can also register serial numbers on the **All serialized items** tab on the **Serial number management** page.</span></span> <span data-ttu-id="f7dcd-169">在此列表中，选择要为其注册序列号的产品。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-169">In the list, select the item that you want to register serial numbers against.</span></span>

<span data-ttu-id="f7dcd-170">（可选）您可以在序列号注册期间对出站转移单启用序列号可用性验证。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-170">Optionally, you can enable serial number availability validation during the serial number registration against an outbound transfer order.</span></span> <span data-ttu-id="f7dcd-171">启用此验证之后，如果装运商店的库存中没有您尝试装运的序列号，则会收到错误消息，并且必须提供其他序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-171">With this validation, if you attempt to ship a serial number that is not available in the inventory of the shipping store, you will receive an error message and must provide a different number.</span></span>

<span data-ttu-id="f7dcd-172">若要启用此类验证，首先需要计划定期运行以下作业：</span><span class="sxs-lookup"><span data-stu-id="f7dcd-172">To enable such validation, as a prerequisite, you need to schedule the following jobs to run on a recurring basis:</span></span>

- <span data-ttu-id="f7dcd-173">**Retail 和 Commerce** > **Retail 和 Commerce IT** > **产品和库存** > **具有跟踪维度的产品可用性**</span><span class="sxs-lookup"><span data-stu-id="f7dcd-173">**Retail and Commerce** > **Retail and Commerce IT** > **Products and inventory** > **Product availability with tracking dimensions**</span></span>
- <span data-ttu-id="f7dcd-174">**Retail 和 Commerce** > **分配计划** > **1130**（**产品可用性**）</span><span class="sxs-lookup"><span data-stu-id="f7dcd-174">**Retail and Commerce** > **Distribution schedules** > **1130** (**Product availability**)</span></span>

## <a name="sell-serialized-items-in-pos"></a><span data-ttu-id="f7dcd-175">在 POS 中销售序列化产品</span><span class="sxs-lookup"><span data-stu-id="f7dcd-175">Sell serialized items in POS</span></span>

<span data-ttu-id="f7dcd-176">虽然 POS 应用程序始终支持销售序列化商品，但在 Commerce 版本 10.0.17 及更高版本中，组织可以启用功能来增强销售配置了序列号跟踪的产品时触发的业务逻辑。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-176">While the POS application has always supported selling serialized items, in Commerce version 10.0.17 and later, organizations can enable functionality that enhances the business logic that's triggered when selling products that are configured for serial number tracking.</span></span>

<span data-ttu-id="f7dcd-177">当 **POS 订单捕获和订单履行中增强的序列号验证** 功能启用时，在 POS 中销售序列化产品时，将评估以下产品配置：</span><span class="sxs-lookup"><span data-stu-id="f7dcd-177">When the **Enhanced serial number validation in POS order capture and order fulfillment** feature is enabled, the following product configurations are evaluated when selling serialized products in POS:</span></span>

- <span data-ttu-id="f7dcd-178">产品的 **序列类型** 设置（**有效** 或 **在销售中有效**）。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-178">**Serial type** setup for the product (**active** or **active in sales**).</span></span>
- <span data-ttu-id="f7dcd-179">产品的 **允许空发货** 设置。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-179">**Blank issue allowed** settings for the product.</span></span>
- <span data-ttu-id="f7dcd-180">产品和/或销售仓库的 **实际负库存** 设置。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-180">**Physical negative inventory** settings for the product and/or the selling warehouse.</span></span>

### <a name="active-serial-configurations"></a><span data-ttu-id="f7dcd-181">有效的序列配置</span><span class="sxs-lookup"><span data-stu-id="f7dcd-181">Active serial configurations</span></span>

<span data-ttu-id="f7dcd-182">在配置了 **有效** 序列号跟踪维度的 POS 中销售产品时，POS 会启动验证逻辑来阻止用户完成在销售仓库的当前库存中找不到的序列号的序列化产品的销售。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-182">When items are sold in POS that are configured with an **Active** serial number tracking dimension, POS initiates validation logic that prevents users from completing the sale of a serialized item with a serial number that can't be found in the selling warehouse’s current inventory.</span></span> <span data-ttu-id="f7dcd-183">此验证规则有两个例外：</span><span class="sxs-lookup"><span data-stu-id="f7dcd-183">There are two exceptions to this validation rule:</span></span>

- <span data-ttu-id="f7dcd-184">如果该产品还配置为启用 **允许空发货**，用户可以跳过序列号输入，直接在不指定序列号的情况下销售产品。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-184">If the item is also configured with **Blank issue allowed** enabled, users can skip the entry of the serial number and sell the item with no serial number designation.</span></span>
- <span data-ttu-id="f7dcd-185">如果产品和/或销售仓库配置为启用 **实际负库存**，应用程序接受和销售的序列号无法被确认是否在销售该序列号所依靠的仓库的库存中。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-185">If the item and/or the selling warehouse is configured with **Physical negative inventory** enabled, the application accepts and sells a serial number that can't be confirmed to be in inventory at the warehouse that it’s being sold against.</span></span> <span data-ttu-id="f7dcd-186">此配置允许该特定产品/序列号的库存交易记录为负，因此系统将允许销售未知序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-186">This configuration allows the inventory transaction for that specific item/serial number to go negative, and therefore the system will allow for sales of unknown serial numbers.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f7dcd-187">要确保 POS 应用程序可以正确验证所销售的 **有效** 序列类型产品的序列号是否在销售仓库的库存中，需要组织运行 Commerce headquarters 中的 **具有跟踪维度的产品可用性** 作业，并经常通过 Commerce headquarters 运行附带的 **1130** 产品可用性分配作业。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-187">To ensure that the POS application can properly validate whether the serial numbers being sold for **Active** serial type items are in the selling warehouse's inventory, it's required that organizations run the **Product availability with tracking dimensions** job in Commerce headquarters and the accompanying **1130** product availability distribution job through Commerce headquarters on a frequent basis.</span></span> <span data-ttu-id="f7dcd-188">当新的序列化库存被接收到销售仓库中时，为了让 POS 验证所销售的序列号的库存可用性，库存主数据库必须经常使用最新的库存可用性数据来更新渠道数据库。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-188">As new serialized inventory is received into selling warehouses, in order for the POS to validate inventory availability of serial numbers being sold, the inventory master must frequently update the channel database with the most up-to-date inventory availability data.</span></span> <span data-ttu-id="f7dcd-189">**具有跟踪维度的产品可用性** 作业为所有公司仓库拍摄主库存的当前快照，包括序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-189">The **Product availability with tracking dimensions** job takes a current snapshot of master inventory, including serial numbers, for all company warehouses.</span></span> <span data-ttu-id="f7dcd-190">**1130** 分配作业将获取该库存快照并将其与所有已配置的渠道数据库共享。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-190">The **1130** distribution job takes that inventory snapshot and shares it with all configured channel databases.</span></span>

### <a name="active-in-sales-process-serial-configurations"></a><span data-ttu-id="f7dcd-191">“在销售流程中有效”序列配置</span><span class="sxs-lookup"><span data-stu-id="f7dcd-191">Active in sales process serial configurations</span></span>

<span data-ttu-id="f7dcd-192">将序列维度配置为 **在销售流程中有效** 的产品不会通过任何库存验证逻辑，因为此配置意味着库存序列号未预先登记到存货中，序列号仅在销售时捕获。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-192">Items configured with the serial dimension as **Active in sales process** don't go through any inventory validation logic, as this configuration implies that the inventory serial numbers aren't pre-registered into stock and the serial numbers are only captured at the time of sale.</span></span>  

<span data-ttu-id="f7dcd-193">如果还为配置了 **在销售流程中有效** 的产品配置了 **允许空发货**，则可以跳过序列号输入。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-193">If **Blank issue allowed** is also configured for **Active in sales process** configured items, the serial number entry can be skipped.</span></span> <span data-ttu-id="f7dcd-194">如果未配置 **允许空发货**，应用程序将需要用户输入序列号，即使不会根据可用库存进行验证。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-194">If **Blank issue allowed** isn't configured, the application requires the user to enter a serial number, even though it won’t be validated against available inventory.</span></span>

### <a name="apply-serial-numbers-during-creation-of-pos-transactions"></a><span data-ttu-id="f7dcd-195">在创建 POS 交易期间应用序列号</span><span class="sxs-lookup"><span data-stu-id="f7dcd-195">Apply serial numbers during creation of POS transactions</span></span>

<span data-ttu-id="f7dcd-196">POS 应用程序会在销售序列化产品时立即提示用户捕获序列号，但是此应用程序允许用户跳过序列号的输入，直接转到销售流程中的某个点。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-196">The POS application immediately prompts users for serial number capture when selling a serialized item, but the application allows users to skip the entry of serial numbers up to a certain point in the selling process.</span></span> <span data-ttu-id="f7dcd-197">当用户开始捕获付款时，应用程序将强制执行并要求为所有未配置为通过未来装运或提货履行的产品输入序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-197">When the user begins to capture payment, the application enforces and requires serial number entry for any items that aren't configured to be fulfilled through future shipments or pickups.</span></span> <span data-ttu-id="f7dcd-198">为现金和结转或结转履行配置的任何序列化产品，都需要用户在完成销售之前捕获序列号（或同意将其留空(如果产品配置允许)）。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-198">Any serialized items configured for cash and carry or carryout fulfillment require the user to capture the serial number (or agree to leave it blank if the item configuration allows for it) before completing the sale.</span></span>

<span data-ttu-id="f7dcd-199">对于销售的要在将来提货或装运的序列化产品，POS 用户可以在最初跳过输入序列号，仍然可以完成客户订单的创建。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-199">For serialized items sold for future pickup or shipment, POS users can skip entering the serial number initially and still complete the customer order creation.</span></span>   

> [!NOTE]
> <span data-ttu-id="f7dcd-200">在通过 POS 应用程序销售或履行序列化产品时，销售交易中的序列化产品将被强制选择数量“1”。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-200">When selling or fulfilling serialized products through the POS application, a quantity of "1" is enforced for the serialized items on the sales transaction.</span></span> <span data-ttu-id="f7dcd-201">这是由在销售行上跟踪序列号信息的方式决定的结果。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-201">This is a result of how the serial number information is tracked on the sales line.</span></span> <span data-ttu-id="f7dcd-202">通过 POS 销售或履行多个序列化产品的交易时，每个销售行只能配置为数量为“1”。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-202">When selling or fulfilling a transaction for multiple serialized items through POS, each sales line must be only configured with a quantity of "1".</span></span> 

### <a name="apply-serial-numbers-during-customer-order-fulfillment-or-pickup"></a><span data-ttu-id="f7dcd-203">在客户订单履行或提货期间应用序列号</span><span class="sxs-lookup"><span data-stu-id="f7dcd-203">Apply serial numbers during customer order fulfillment or pickup</span></span>

<span data-ttu-id="f7dcd-204">在 POS 中使用 **订单履行** 操作履行序列化产品的客户订单行时，POS 会在最终履行之前强制捕获序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-204">When fulfilling customer order lines for serialized products using the **Order Fulfillment** operation in POS, POS enforces the capture of the serial number before final fulfillment.</span></span> <span data-ttu-id="f7dcd-205">因此，如果在初始订单捕获过程中未提供序列号，则必须在 POS 中在提货、包装或装运流程中捕获序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-205">Therefore, if a serial number wasn't provided during the initial order capture, it must be captured during the pick, pack, or ship processes in POS.</span></span> <span data-ttu-id="f7dcd-206">验证将在每个步骤执行，仅在序列号数据丢失或不再有效时才会要求用户输入序列号数据。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-206">A validation is done at each step and the user will only be asked for serial number data if it's missing or no longer valid.</span></span> <span data-ttu-id="f7dcd-207">例如，如果用户跳过提货或包装步骤，直接开始装运，而该行尚未登记序列号，POS 将要求在完成最终发票步骤之前输入序列号。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-207">For example, if a user skips the pick or pack steps and immediately initiates a shipment, and a serial number hasn't been registered for the line, POS will require the serial number to be entered before completion of the final invoice step.</span></span> <span data-ttu-id="f7dcd-208">在 POS 中执行订单履行操作过程中强制捕获序列号时，本主题前面提到的所有规则仍然适用。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-208">When enforcing the capture of the serial number during order fulfillment operations in POS, all rules mentioned previously in this topic still apply.</span></span> <span data-ttu-id="f7dcd-209">仅配置为 **有效** 的序列化产品会接受序列号库存存货验证。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-209">Only serialized items configured as **Active** go through a serial number inventory stock validation.</span></span> <span data-ttu-id="f7dcd-210">配置为 **在销售流程中有效** 的产品不会被验证。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-210">Items configured as **Active in sales process** won't get validated.</span></span> <span data-ttu-id="f7dcd-211">如果 **有效** 产品允许 **实际负库存**，则将接受任何序列号，无论存货可用性如何。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-211">If **Physical negative inventory** is allowed for **Active** products, any serial number will be accepted, regardless of stock availability.</span></span> <span data-ttu-id="f7dcd-212">对于 **有效** 和 **在销售流程中有效** 产品，如果配置了 **允许空发货**，则用户可以在提货、包装和装运步骤中根据需要将序列号留为空白。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-212">For both **Active** and **Active in sales process** items, if **Blank issue allowed** is configured, a user can leave serial numbers blank if desired during the pick, pack, and ship steps.</span></span>

<span data-ttu-id="f7dcd-213">当用户在 POS 中对客户订单执行提货操作时，也会进行序列号验证。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-213">Validations for serial numbers will also occur when a user performs the pick up operations on customer orders in POS.</span></span> <span data-ttu-id="f7dcd-214">除非序列化产品通过了前面提到的验证，POS 应用程序不允许对序列化产品完成提货。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-214">The POS application doesn't allow a pick up to be finalized on a serialized product unless it passes the validations as mentioned earlier.</span></span> <span data-ttu-id="f7dcd-215">验证始终基于产品的跟踪维度和销售仓库配置。</span><span class="sxs-lookup"><span data-stu-id="f7dcd-215">The validations are always based on the product's tracking dimension and selling warehouse configurations.</span></span> 

## <a name="additional-resources"></a><span data-ttu-id="f7dcd-216">其他资源</span><span class="sxs-lookup"><span data-stu-id="f7dcd-216">Additional resources</span></span>

[<span data-ttu-id="f7dcd-217">POS 中的传入库存操作</span><span class="sxs-lookup"><span data-stu-id="f7dcd-217">Inbound inventory operation in POS</span></span>](https://docs.microsoft.com/dynamics365/commerce/pos-inbound-inventory-operation)

[<span data-ttu-id="f7dcd-218">POS 中的传出库存操作</span><span class="sxs-lookup"><span data-stu-id="f7dcd-218">Outbound inventory operation in POS</span></span>](https://docs.microsoft.com/dynamics365/commerce/pos-outbound-inventory-operation)
