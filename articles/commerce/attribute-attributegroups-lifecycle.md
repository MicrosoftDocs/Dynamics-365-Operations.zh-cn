---
title: 管理属性和属性组
description: 本文介绍了如何管理属性和属性组来描述 Microsoft Dynamics 365 Commerce 中的产品及其特征。
author: ashishmsft
ms.date: 08/31/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: josaw
ms.search.region: Global
ms.search.industry: Retail
ms.author: asharchw
ms.search.validFrom: 2018-03-30
ms.openlocfilehash: aad448ea733aabdff3dc4438dcb682d49e0665c0
ms.sourcegitcommit: 09d4805aea6d148de47c8ca38d8244bbce9786ce
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/31/2022
ms.locfileid: "9386964"
---
# <a name="manage-attributes-and-attribute-groups"></a>管理属性和属性组

[!include [banner](includes/banner.md)]

本文介绍了如何管理属性和属性组来描述 Microsoft Dynamics 365 Commerce 中的产品及其特征。

*属性* 提供了一种通过用户定义的字段来描述产品及其特征的方法。 示例包括内存大小、硬盘容量和符合能源之星的要求。

可以将属性与各种 Commerce 实体（如产品类别和通道）关联，并且可以为属性设置默认值。 当属性与产品类别或渠道相关联时，产品会继承这些属性及其默认值。 默认属性值可在单个产品级别、在渠道级别或在目录中被替代。

例如，电视机产品通常具有以下属性。

| 类别   | 属性           | 允许的值                        | 默认值 |
|------------|---------------------|-------------------------------------------|---------------|
| 电视和视频 | 品牌               | 任何有效的品牌值                     | 否          |
| TV         | 屏幕尺寸         | 20–85 英寸                              | 55 英寸     |
|            | 垂直行业解决方案 | 4K (2160p)、全高清 (1080p) 或高清 (720p) | 4K (2160p)    |
|            | 屏幕刷新率 | 60hz、120hz 或 240hz                     | 60hz          |
|            | HDMI 输入         | 0–10                                      | 3             |

## <a name="attributes-and-attribute-types"></a>属性和属性类型

属性基于 *属性类型*。 属性类型标识可为特定属性输入的数据类型。 Commerce 中支持以下属性类型：

- **货币** - 此类型支持货币值。 它可以受约束（即，它可以支持某个值范围），也可以保持开放。
- **日期时间** - 此类型支持日期和时间值。 它可以有范围，也可以保持开放。
- **小数** - 此类型支持包括小数位的数字值。 它还支持度量单位。 它可以有范围，也可以保持开放。
- **整数** - 此类型支持数字值。 它还支持度量单位。 它可以有范围，也可以保持开放。
- **文本** - 此类型支持文本值。 当启用 **固定列表** 设置时，还支持一组预定义的可能值。
- **布尔** - 此类型支持二进制值（**true** 或 **false**）。
- **引用** - 此类型引用其他属性。

> [!NOTE]
> 由于 [Azure 搜索索引的限制](/rest/api/searchservice/data-type-map-for-indexers-in-azure-search)，云驱动的搜索体验不支持 **小数** 属性类型。 Azure 认知搜索不支持将 **小数** 属性类型转换为 **Edm.Double** 目标索引字段类型，因为这种转换会降低精确度。

### <a name="set-up-attribute-types"></a>设置属性类型

要设置属性类型，请按照此示例过程中的步骤操作。

1. 以促销活动经理身份登录 Commerce headquarters。
1. 转到 **产品信息管理 \> 设置 \> 类别和属性 \> 属性类型**。
1. 在操作窗格上，选择 **新建**。
1. 在 **属性类型名称** 字段中，输入 **包类型**。
1. 在 **类型** 字段中，选择 **文本**。
1. 将 **固定列表** 选项设置为 **是**。
1. 在 **值** 快速选项卡上，选择 **添加**。
1. 在新行的 **值** 字段中，输入 **Satchel**。
1. 再添加五行。 在每一行的 **值** 字段中，输入不同的值：**Clutch**、**Purse**、**Backpack**、**Messenger** 或 **Wallet**。
1. 在操作窗格上，选择 **保存**。
1. 在操作窗格上，选择 **新建**。
1. 在 **属性类型名称** 字段中，输入 **太阳镜品牌**。
1. 在 **类型** 字段中，选择 **文本**。
1. 将 **固定列表** 选项设置为 **是**。
1. 在 **值** 快速选项卡上，选择 **添加**。
1. 在新行的 **值** 字段中，输入 **Ray ban**。
1. 再添加两行。 在每一行的 **值** 字段中，输入不同的值：**Aviator** 或 **Oakley**。
1. 在操作窗格上，选择 **保存**。

![属性类型页面。](media/AttributeType_2022Series.png)

### <a name="set-up-an-attribute"></a>设置属性

要设置属性，请按照此示例过程中的步骤操作。

1. 以促销活动经理身份登录 Commerce headquarters。
1. 转到 **产品信息管理 \> 设置 \> 类别和属性 \> 属性**。
1. 在操作窗格上，选择 **新建**。
1. 在 **名称** 字段中，输入 **箱包类型**。
1. 在 **属性类型** 字段中，选择 **箱包类型**。
1. 在操作窗格上，选择 **保存**。

![属性页面。](media/Attribute_2022Series.png)

## <a name="attribute-metadata"></a>属性元数据

*属性元数据* 用于选择选项来指定各产品的属性的行为。 例如，您可指定是否要求属性，它们是否可用于搜索，和他们是否可用作筛选器。

对于产品，可在渠道级别覆盖属性元数据设置。

属性的 **属性** 页中包含与属性元数据有关的若干选项。 例如，如果您在 **Commerce 渠道的属性元数据** 下将 **可细化** 选项设置为 **是**，将显示该属性以进行细化或筛选搜索结果和类别浏览页面上的产品。 要将属性配置为可细化，您必须首先在操作窗格中选择 **筛选器设置** 并确认该属性的筛选器设置。

## <a name="filter-settings-for-attributes"></a>属性的筛选设置

可通过属性的筛选器设置定义属性筛选器如何在销售点 (POS) 中显示。 若要访问属性的筛选器设置，在属性的 **属性** 页面上，然后在操作窗格中选择 **筛选器设置**。

**筛选器设置** 页面中包含以下字段：

- **名称** - 默认情况下，此字段设置为属性的名称。 然而，您可以更改值。
- **显示选项** - 以下选项可用：

    - **单一值** - 此选项可用于以下属性类型：**布尔**、**货币**、**小数**、**整数** 和 **文本**。 它只允许在产品列表页（如类别浏览和产品搜索结果页）上为精简项选择一个值。
    - **多个值** - 此选项可用于以下属性类型：**货币**、**小数**、**整数** 和 **文本**。 它允许为客户端中的属性选择多个值，来进行细化。

- **显示控制** - 以下选项可用：

    - **列表** – 此选项可用于所有属性类型。
    - **范围** - 此选项可用于以下属性类型：**货币**、**小数** 和 **整数**。
    - **滑块** - 此选项可用于以下属性类型：**货币**、**小数** 和 **整数**。
    - **带有滑块的滚动条** - 此选项可用于以下属性类型：**货币**、**小数** 和 **整数**。

- **阈值** - 如果选择了 **范围** 作为显示控制类型，则需要此设置。 可将分号 (;) 用作分隔符来定义值。

    例如，对于属性类型为 **整数** 的 **包容量** 属性，阈值可能是 **10；20；50；100；200；500；1000；5000**。 在此情况下，POS 将显示以下范围。 在结果集中无任何产品的范围将灰显。

    - 小于 10
    - 10 - 20
    - 20 - 50
    - 50 - 100
    - 100 - 200
    - 200 - 500
    - 500 次或更多

属性的筛选器设置仅适用于产品属性，可用于细化产品搜索和类别浏览结果。 它们不适用于客户搜索或订单搜索，但可以使用相同的属性来扩充客户或订单信息。

在默认的 Commerce 模块中，不提供现成的 **显示控制** 筛选器设置（如 **范围**、**滑块** 和 **带有滑块的滚动条**）支持。 POS 解决方案继续支持 **范围** 和 **滑块** 设置，而 **带有滑块的滚动条** 设置适用于旧的 SharePoint 在线店面，并且继续可用于第三方集成和自定义场景。

我们建议可细化属性具有启用了 **固定列表** 选项的 **文本** 类型的属性，并且保持对列表的管理（最多 100-200 个唯一值）。 如果精简项会有 1,000 个或更多唯一值，则更适合使用禁用了 **固定列表** 选项的 **文本** 类型的属性。

翻译对于属性名称及其值至关重要。 对于启用了 **固定列表** 选项的 **文本** 类型的属性，您可以在 **属性类型** 下为属性值定义翻译。 对于所有其他属性类型，您可以在定义属性值的页面上定义翻译。 例如，对于 **文本** 类型的属性，您可以在属性的 **属性** 页面定义默认值的翻译。 但是，如果您在产品级别替代默认值，您可以在产品的 **产品属性** 页面定义属性的翻译。

在渠道的属性被标记为可细化后，您不应更新属性类型。 否则，您将影响产品数据发布到搜索索引。 我们建议您为新类型的精简项创建新属性，然后从其他属性组中删除以前的属性来将其停用。

支持按属性搜索，但仅提取与搜索词完全匹配的结果。 例如，**面料** 属性的值为 **Cashmere cotton**。 如果客户搜索“Cash”，将不会检索到面料为 **Cashmere cotton** 的产品。 但是，如果客户搜索“Cashmere”、“Cotton”或“Cashmere Cotton”，将会检索到面料为 **Cashmere cotton** 的产品。

### <a name="additional-attribute-metadata-options"></a>其他属性元数据选项

> [!NOTE]
> 这些属性元数据选项仅适用于旧 SharePoint 在线店面和外部集成。 有关这些属性元数据选项的详细信息，请参阅 [SharePoint Server 2013 中的搜索架构概述](/SharePoint/search/search-schema-overview)。

**属性** 页面还提供以下其他属性元数据选项：

- 可搜索
- 可检索
- 可查询
- 可排序
- 忽略大小写和格式
- 完成匹配

这些选项最初用于改进基于旧 SharePoint 的在线店面的搜索功能。 它们不一定适用于 Commerce 电子商务网站或 POS 终端。 由于继续支持无头集成，这些选项可用于使用 Commerce 软件开发工具包 (SDK) 导出属性元数据。 您可以使用 Commerce SDK 将产品放入自定义的经过优化的外部搜索索引中。 通过这种方式，您可以确保仅对应编制索引的属性编制索引。

## <a name="attribute-groups"></a>属性组

*属性组* 用于对产品中的一个组件或子组件的单个属性进行分组。 一个属性可以包含在多个属性组中。 属性组可帮助用户配置产品，因为可将多种选择安排到特定上下文中。 可将属性组分配给类别或渠道。 您还可以为属性组中的属性设置默认值。

![属性组页面。](media/AttributeGroup_2022Series.png)

### <a name="create-an-attribute-group"></a>创建属性组

要创建属性组，请按照此示例过程中的步骤操作。

1. 以促销活动经理身份登录 Commerce headquarters。
1. 转到 **产品信息管理 \> 设置 \> 类别和属性 \> 属性组**。
1. 创建一个名称为 **礼服衬衫** 的属性组。
1. 添加以下属性：**CleaningMethod**、**CollarType**、**Collection** 和 **Design**。

> [!NOTE]
> 属性组中属性的显示顺序值不影响或适用于搜索和类别浏览结果中的精简项的顺序。 它们仅适用于“订单属性”场景。

### <a name="assign-attribute-groups-to-categories"></a>将属性组分配到类别

一个或多个属性组可以与以下类别层次结构类型中的类别节点相关联：

- 商业产品层次结构
- 渠道导航类别层次结构
- 补充产品类别层次结构

当产品按与属性组关联的类别进行分类时，它们会继承这些属性组中包含的属性。

![Commerce 产品层次结构页面上的“产品属性组”快速选项卡。](media/AGRetailProdHierarchy_2022Series.png)

要将属性组分配给 Commerce 产品层次结构中的类别，请按照此示例过程中的步骤操作。

1. 以促销活动经理身份登录 Commerce headquarters。
1. 转至 **Retail 和 Commerce \> 产品和类别 \> 商业产品层次结构**。
1. 选择 **时尚** 导航层次结构。
1. 在 **男装** 下，选择 **裤子** 类别，然后在 **产品属性组** 快速选项卡中，添加一个名称为 **男士皮带** 的属性组。
1. 选择 **时尚太阳镜** 类别，然后通过选择 **查看属性** 验证 **时尚太阳镜** 属性组中的新属性。 该属性组应显示新的 **镜片形状** 和 **太阳镜品牌** 属性。
1. 选择 **裤子** 类别，然后通过选择 **查看属性** 验证 **男士皮带** 属性组的属性。 该属性组应显示 **男士皮带品牌**、**皮带材质** 和 **皮带尺寸** 属性。

相同的基本过程也可用于为渠道导航类别层次结构和补充产品类别层次结构中的列表分配属性组。 但是，在步骤 2 中，根据您要将属性组分配到的层次结构，使用以下路径之一：

- **渠道导航类别层次结构：** 转到 **Retail 和 Commerce \> 类别和产品管理 \> 渠道导航类别**。
- **补充产品类别层次结构：** 转到 **Retail 和 Commerce \> 类别和产品管理 \> 补充产品类别**。

> [!NOTE]
> 确保您仅在 **产品属性组** 快速选项卡上关联类别层次结构中的属性组，而不是在 **类别属性值** 快速选项卡上。 如果属性出现在 **类别属性值** 快速选项卡上，在操作窗格上选择 **编辑类别层次结构**。 然后，在 **类别属性组** 快速选项卡上，选择类别节点，然后选择 **删除**。 不支持通过 Commerce Scale Unit 按类别提取属性。

## <a name="identify-viewable-and-refinable-attributes-for-commerce-channels-for-the-default-product-collection"></a>识别默认产品集合的 Commerce 渠道的可查看和可细化属性

在将各个属性组与各个层次结构（Commerce 产品层次结构或渠道导航类别）中的类别相关联并根据类别关联为每个产品定义属性值后，您必须启用 **在渠道上显示属性** 标志来使这些属性可在特定渠道中查看。

1. 转到 **Retail 和 Commerce \> 渠道设置 \> 渠道类别和产品属性**。
1. 选择 **设置属性元数据**，然后在左侧导航窗格中选择一个属性。
1. 在 **渠道产品属性** 快速选项卡（不是 **类别属性** 快速选项卡）上，将 **在渠道上显示属性** 选项设置为 **是** 让属性可查看。
1. 如果您还希望属性可细化，将 **可细化** 选项设置为 **是**。

### <a name="control-visibility-of-dimension-based-refiners-such-as-size-style-and-color"></a>控制基于维度的精简项的可见性，如尺寸、样式和颜色

尺寸、样式和颜色等产品维度是最常用的精简项。 要使这些产品维度可以用作精简项，您应该在渠道级别关联一个属性组，该属性组包含对自动从产品维度值继承值的属性类型的引用。

您可以通过更新 **渠道类别和产品属性** 页面上的标志来指定产品维度是可查看和可细化的。 在导航窗格中选择根节点，然后在 **渠道产品属性** 快速选项卡上，将 **尺寸**、**样式** 和 **颜色** 属性的 **在渠道上显示属性** 选项设置为 **是**。 如果您还希望这些属性可细化，将每个属性的 **可细化** 选项设置为 **是**。

![为维度精简项设置属性元数据。](./media/ProductDimensionRefinersMetadataSetup_2022Series.png)

要启用属性以使其在基于演示数据的休斯顿渠道中可用，请按照此示例过程中的步骤操作。

1. 转到 **Retail 和 Commerce \> 渠道设置 \> 渠道类别和产品属性**。
1. 选择 **休斯顿** 渠道。
1. 在操作窗格上，选择 **设置属性元数据**。
1. 选择 **时尚** 类别节点，然后在 **渠道产品属性** 快速选项卡上，为每个属性选择 **包括属性**。
1. 选择 **时尚配件** 类别节点，选择 **时尚太阳镜** 类别，然后在 **渠道产品属性** 快速选项卡上，为每个属性选择 **包括属性**。
1. 选择 **安装** 类别节点，选择 **裤子** 类别，然后在 **渠道产品属性** 快速选项卡上，为每个属性选择 **包括属性**。
1. 更新预期属性和精简项的属性元数据后，请确保保存更改并运行 **发布渠道更新** 作业。 然后，在发布更新后，您必须运行以下作业：**1070**（**渠道配置**）、**1040**（**产品**）和 **1150**（**目录**）。

> [!NOTE]
> - 如果您的业务需要您经常在导航层次结构中添加或删除产品，或者您需要进行更改（如更新显示订单值、添加新类别以及向类别添加新属性组），我们建议您配置 **发布渠道更新** 作业作为高频率的批处理作业运行。 或者，手动触发 **发布渠道更新** 作业，然后执行以下 Commerce Data Exchange (CDX) 作业：**1070**（**渠道配置**）、**1040**（**产品**）和 **1150**（**目录**）。
> - 可通过 **继承** 选项指定渠道应继承其在层次结构中的父渠道的属性组。 如果将 **继承** 选项设置为 **是**，子渠道将继承其所有属性组和这些属性组中的所有属性。
> - 如果操作窗格上的 **设置属性元数据** 按钮不可用，请确保 **导航层次结构** 与 **常规** 快速选项卡上的渠道关联。
> - 您不能在渠道级别关联除基于维度的属性组以外的任何属性组（例如，在 **渠道类别和产品属性** 页面上的 **属性组** 下）。
> - 在 Commerce 版本 10.0.27 中引入对特定于客户的企业到企业 (B2B) 目录的支持后，您需要以本文所述的方式识别每个 B2B 目录的精简项和属性设置。

## <a name="override-attribute-values"></a>替代属性值

单个产品的默认属性值可在产品级别替代。 也可以针对特定渠道的特定目录中的单个产品替代。

### <a name="override-the-attribute-values-of-an-individual-product"></a>覆盖单个产品的属性值

要替代单个产品的属性值，请按照此示例过程中的步骤操作。

1. 以促销活动经理身份登录 Commerce headquarters。
1. 转到 **Retail 和 Commerce \> 类别和产品管理 \> 已发布产品(按类别)**。
1. 选择 **时尚 \> 时尚配件 \> 时尚太阳镜**。
1. 在网格中选择所需产品。 然后，在操作窗格中 **产品** 选项卡上的 **设置** 组中，选择 **产品属性**。
1. 在左窗格中选择一个属性，然后在右窗格中更新其值。

![产品属性值页面。](media/ProdDetailsProdAttrValues_2022Series.png)

### <a name="override-the-attribute-values-of-all-products-in-a-catalog"></a>替代目录中所有产品的属性值

要替代目录中所有产品的属性值，请按照此示例过程中的步骤操作。

1. 以促销活动经理身份登录 Commerce headquarters。
1. 转到 **Retail 和 Commerce \> 目录管理 \> 所有目录**。
1. 选择 **Fabrikam Base Catalog** 目录。
1. 选择 **时尚 \> 时尚配件 \> 时尚太阳镜**。
1. 在 **产品** 快速选项卡中，选择所需产品，然后选择产品网格上方的 **属性**。
1. 在以下快速选项卡上，更新所需属性的值。

    - 共享的产品媒体
    - 共享产品属性
    - 渠道媒体
    - 渠道产品属性

### <a name="override-the-attribute-values-of-all-products-in-a-channel"></a>替代渠道中所有产品的属性值

要替代渠道中所有产品的属性值，请按照此示例过程中的步骤操作。

1. 以促销活动经理身份登录 Commerce headquarters。
1. 转到 **Retail 和 Commerce \> 渠道设置 \> 渠道类别和产品属性**。
1. 选择 **休斯顿** 渠道。
1. 在 **产品** 快速选项卡中，选择所需产品，然后选择产品网格上方的 **属性**。
1. 如果无可用产品，在 **产品** 快速选项卡上选择 **添加**，然后在 **添加产品** 对话框中选择所需产品。
1. 在以下快速选项卡上，更新所需属性的值。

    - 共享的产品媒体
    - 共享产品属性
    - 渠道媒体
    - 渠道产品属性

### <a name="define-variant-specific-attribute-values-and-define-multiple-values-for-product-attributes"></a>定义特定于变型的属性值并为产品属性定义多个值

要定义特定于变型的属性值，并为产品属性定义多个值，请按照此示例过程中的步骤操作。

1. 以促销活动经理身份登录 Commerce headquarters。
1. 转到 **Retail 和 Commerce \> 渠道设置 \> 渠道类别和产品属性**。
1. 选择 **休斯顿** 渠道。
1. 在 **产品** 快速选项卡中，选择所需产品变型，然后选择产品网格上方的 **属性**。
1. 如果无可用产品，在 **产品** 快速选项卡上选择 **添加**，然后在 **添加产品** 对话框中选择所需产品变型。
1. 在以下快速选项卡上，更新所需属性的值。

    - 共享的产品媒体
    - 共享产品属性
    - 渠道媒体
    - 渠道产品属性

#### <a name="example-of-variant-specific-attribute-configuration"></a>特定于变型的属性配置的示例
        
在此示例中，**P001-Master** 产品是一款可在多种活动中使用的鞋，具有三个变型：**跑步**、**散步** 和 **徒步**。 对于每个变型，您需要唯一地定义 **活动** 属性的值。 在您的渠道的 **渠道类别和产品属性** 页面的 **产品** 快速选项卡上，为变型定义 **活动** 属性值，如下表所示。

| 变型     | 活动属性值 |
|-------------|--------------------------|
| P001-Master | 运动                   |
| P001-1      | 跑步                  |
| P001-2      | 散步                  |
| P001-3      | 徒步                 |

如果用户搜索“鞋”，**P001-Master** 产品将出现在搜索结果中。 如果您将 **活动** 属性配置为可细化，**活动** 精简项会仅将 **运动** 列为可细化值，因为该值在 **P001-Master** 产品级别为 **活动** 属性定义。

默认情况下，变型级别属性仅用于产品详细信息页面 (PDP)。 当您在 PDP 上选择特定产品变型时，PDP 上的产品规格会针对该特定变型更新。

为使精简项选取在产品变型级别定义的属性值，您必须在基础产品级别定义一个属性，选中 **允许多个值** 复选框，并将属性类型设置为 **文本**。

接下来，您必须确定产品变型的所有可能值。 对于此示例中使用的 **活动** 属性，可能的值可能包括 **跑步**、**散步**、**远足**、**徒步**、**露营**、**水上运动** 和 **雪上运动**。

确定变型属性值应该有哪些后，您可以使用竖线分隔值在基础产品级别定义这些值。 对于 **活动** 属性，您可以将基础产品上的属性值定义为 **跑步|散步|远足|徒步|露营|水上运动|雪上运动**。

然后，对于每个变型，您可以通过输入竖线分隔值或单个值来定义属性值。 对于 **活动** 属性，您可以将单个产品变型配置为 **跑步|散步|远足**、**跑步**、**跑步|远足|水上运动**，等等。

定义变型属性值后，在 **渠道类别和产品属性** 页面的操作窗格中，选择 **发布渠道更新**，然后运行 **1150**、**1040** 和 **1070** 作业。

作业完成并更新搜索索引后，所有预期值应出现在搜索结果和类别浏览结果中。

[!INCLUDE[footer-include](../includes/footer-banner.md)]
