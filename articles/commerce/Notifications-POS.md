---
title: 在销售点 (POS) 中显示订单通知
description: 此主题介绍如何在销售点和通知框架中启用订单通知。
author: ShalabhjainMSFT
ms.date: 03/12/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: RetailOperations, RetailFunctionalityProfile
audience: Application User
ms.reviewer: josaw
ms.search.region: Global
ms.search.industry: retail
ms.author: shajain
ms.search.validFrom: 2017-10-30
ms.dyn365.ops.version: ''
ms.openlocfilehash: f7b28a33dff4af6bf2b97db825a5a8304213f3a0
ms.sourcegitcommit: 3cdc42346bb653c13ab33a7142dbb7969f1f6dda
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/31/2021
ms.locfileid: "5796478"
---
# <a name="show-order-notifications-in-the-point-of-sale-pos"></a><span data-ttu-id="f81ac-103">在销售点 (POS) 中显示订单通知</span><span class="sxs-lookup"><span data-stu-id="f81ac-103">Show order notifications in the point of sale (POS)</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="f81ac-104">可以为商店助理分配其商店中的各种任务，例如履行订单或执行库存接收或库存盘点。</span><span class="sxs-lookup"><span data-stu-id="f81ac-104">Store associates may be assigned various tasks in their store, such as fulfilling orders or performing inventory receiving or stock counts.</span></span> <span data-ttu-id="f81ac-105">销售点 (POS) 客户端提供一个应用程序，可供通过店员所有这些任务。</span><span class="sxs-lookup"><span data-stu-id="f81ac-105">The point of sale (POS) client provides a single application where associates can be notified of these tasks.</span></span> <span data-ttu-id="f81ac-106">POS 中的通知框架可以提供帮助，方法是让零售商配置基于角色的通知。</span><span class="sxs-lookup"><span data-stu-id="f81ac-106">The notification framework in the POS helps by letting retailers configure role-based notifications.</span></span> <span data-ttu-id="f81ac-107">从具有应用程序更新 5 的 Dynamics 365 Retail 开始，这些通知仅可针对 POS 操作进行配置。</span><span class="sxs-lookup"><span data-stu-id="f81ac-107">Starting in Dynamics 365 Retail with application update 5, these notifications can be configured for POS operations.</span></span>

<span data-ttu-id="f81ac-108">系统可以显示有关 *订单履行* 操作的通知，从 Commerce 版本 10.0.18 开始，还可以显示有关 *撤回订单* 操作的通知。</span><span class="sxs-lookup"><span data-stu-id="f81ac-108">The system can show notifications for the *order fulfillment* operation, and starting in Commerce version 10.0.18 notifications can also be shown for the *recall order* operation.</span></span> <span data-ttu-id="f81ac-109">但是，由于该框架设计为可扩展，所以开发人员可以[编写有关任何操作的通知处理程序](dev-itpro/extend-pos-notification.md)，并在 POS 中显示相应操作的通知。</span><span class="sxs-lookup"><span data-stu-id="f81ac-109">However, because the framework is designed to be extensible, developers are able to [write a notification handler](dev-itpro/extend-pos-notification.md) for any operation and show the notifications for that operation in the POS.</span></span>

## <a name="enable-notifications-for-order-fulfillment-or-recall-order-operations"></a><span data-ttu-id="f81ac-110">启用用于订单履行或撤回订单操作的通知</span><span class="sxs-lookup"><span data-stu-id="f81ac-110">Enable notifications for order fulfillment or recall order operations</span></span>

<span data-ttu-id="f81ac-111">要启用用于订单履行或撤回订单操作的通知，请执行以下步骤。</span><span class="sxs-lookup"><span data-stu-id="f81ac-111">To enable notifications for the order fulfillment or recall order operations, follow these steps.</span></span>

1. <span data-ttu-id="f81ac-112">转至 **Retail 和 Commerce \> 渠道设置 \> POS 设置 \> POS \> 操作**。</span><span class="sxs-lookup"><span data-stu-id="f81ac-112">Go to **Retail and Commerce \> Channel setup \> POS setup \> POS \> Operations**.</span></span>
1. <span data-ttu-id="f81ac-113">搜索 **订单履行** 操作或 **撤回订单** 操作，然后为其选中 **启用通知**，以便指定通知框架应针对此操作侦听处理程序。</span><span class="sxs-lookup"><span data-stu-id="f81ac-113">Search for either the **Order fulfillment** operation or the **Recall order** operation, and then select **Enable notifications** for the operation to specify that the notification framework should listen to the handler for this operation.</span></span> <span data-ttu-id="f81ac-114">如果实施该处理程序，将在 POS 中显示有关此操作的通知。</span><span class="sxs-lookup"><span data-stu-id="f81ac-114">If the handler is implemented, notifications for this operation will then be shown in the POS.</span></span>
1. <span data-ttu-id="f81ac-115">转至 **Retail 和 Commerce \> 员工 \> 工作人员**。</span><span class="sxs-lookup"><span data-stu-id="f81ac-115">Go to **Retail and Commerce \> Employees \> Workers**.</span></span>
1. <span data-ttu-id="f81ac-116">选择 **Commerce** 选项卡，选择一个工作人员行，然后选择 **POS 权限**。</span><span class="sxs-lookup"><span data-stu-id="f81ac-116">Select the **Commerce** tab, select a worker row, and then select **POS permissions**.</span></span> <span data-ttu-id="f81ac-117">选择 **通知** 快速选项卡以将其展开，然后添加您已为其启用通知的操作。</span><span class="sxs-lookup"><span data-stu-id="f81ac-117">Select the **Notifications** FastTab to expand it, and then add the operations you have enabled notifications for.</span></span> <span data-ttu-id="f81ac-118">如果要为工作人员配置单个通知，请确保 **显示顺序** 值设置为 **1**。</span><span class="sxs-lookup"><span data-stu-id="f81ac-118">If configuring a single notification for a worker, ensure that the **Display order** value is set to **1**.</span></span> <span data-ttu-id="f81ac-119">如果要配置多个操作，请设置 **显示顺序** 值，以指示显示通知所应采用的顺序。</span><span class="sxs-lookup"><span data-stu-id="f81ac-119">If configuring more than one operation, set the **Display order** values to indicate the order in which the notifications should be displayed.</span></span> 

      <span data-ttu-id="f81ac-120">仅针对在 **通知** 快速选项卡上添加的操作显示通知。</span><span class="sxs-lookup"><span data-stu-id="f81ac-120">Notifications are shown only for operations that are added on the **Notifications** FastTab.</span></span> <span data-ttu-id="f81ac-121">只有在 **POS 操作** 页上选中了这些操作的 **启用通知** 复选框后，才能在此添加操作。</span><span class="sxs-lookup"><span data-stu-id="f81ac-121">You can add operations there only if the **Enable notifications** check boxes for those operations have been selected on the **POS operations** page.</span></span> <span data-ttu-id="f81ac-122">此外，仅当将操作添加到了工作人员的 POS 权限，才对这些工作人员显示有关该操作的通知。</span><span class="sxs-lookup"><span data-stu-id="f81ac-122">Additionally, notifications for an operation are only shown to workers if the operation is added to the POS permissions for those workers.</span></span>

    > [!NOTE]
    > <span data-ttu-id="f81ac-123">可以在用户级别覆盖通知。</span><span class="sxs-lookup"><span data-stu-id="f81ac-123">Notifications can be overridden at the user level.</span></span> <span data-ttu-id="f81ac-124">为此，请打开工作人员的记录，选择 **POS 权限**，然后编辑该用户的通知订阅。</span><span class="sxs-lookup"><span data-stu-id="f81ac-124">To do this, open the worker's record, select **POS permissions**, and then edit the user's notification subscription.</span></span>

1. <span data-ttu-id="f81ac-125">转至 **Retail 和 Commerce \> 渠道设置 \> POS 设置 \> POS 配置文件 \> 功能配置文件**。</span><span class="sxs-lookup"><span data-stu-id="f81ac-125">Go to **Retail and Commerce \> Channel setup \> POS setup \> POS profiles \> Functionality profiles**.</span></span> <span data-ttu-id="f81ac-126">在 **通知时间间隔** 字段中，指定提取通知的频率。</span><span class="sxs-lookup"><span data-stu-id="f81ac-126">In the **Notification interval** field, specify how often notifications should be pulled.</span></span> <span data-ttu-id="f81ac-127">对于某些通知，POS 必须实时调用后端办公应用程序。</span><span class="sxs-lookup"><span data-stu-id="f81ac-127">For some notifications, the POS must make real-time calls to the back-office application.</span></span> <span data-ttu-id="f81ac-128">这些调用将消耗后端办公应用程序的计算能力。</span><span class="sxs-lookup"><span data-stu-id="f81ac-128">These calls consume the compute capacity of your back-office application.</span></span> <span data-ttu-id="f81ac-129">因此，设置通知时间间隔时，应同时考虑业务需求和实时调用对后端办公应用程序的影响。</span><span class="sxs-lookup"><span data-stu-id="f81ac-129">Therefore, when you set the notification interval, you should consider both your business requirements and the impact of real-time calls to the back-office application.</span></span> <span data-ttu-id="f81ac-130">值为 **0**（零）将关闭通知。</span><span class="sxs-lookup"><span data-stu-id="f81ac-130">A value of **0** (zero) turns off notifications.</span></span>
1. <span data-ttu-id="f81ac-131">转到 **Retail 和 Commerce \> Retail 和 Commerce IT \> 分配计划**。</span><span class="sxs-lookup"><span data-stu-id="f81ac-131">Go to **Retail and Commerce \> Retail and Commerce IT \> Distribution schedule**.</span></span> <span data-ttu-id="f81ac-132">选择 **1060**（**员工**）计划以同步通知订阅设置，然后选择 **立即运行**。</span><span class="sxs-lookup"><span data-stu-id="f81ac-132">Select the **1060** (**Staff**) schedule to synchronize notification subscription settings, and then select **Run now**.</span></span> <span data-ttu-id="f81ac-133">接下来，选择 **1070**（**渠道配置**）计划以同步权限时间间隔，然后选择 **立即运行**。</span><span class="sxs-lookup"><span data-stu-id="f81ac-133">Next, select the **1070** (**Channel configuration**) schedule to synchronize the permission interval, and then select **Run now**.</span></span>

## <a name="view-notifications-in-the-pos"></a><span data-ttu-id="f81ac-134">在 POS 中查看通知</span><span class="sxs-lookup"><span data-stu-id="f81ac-134">View notifications in the POS</span></span>

<span data-ttu-id="f81ac-135">完成上述步骤之后，工作人员就可以在 POS 中查看通知。</span><span class="sxs-lookup"><span data-stu-id="f81ac-135">After you complete the preceding steps, the workers will be able to view the notifications in the POS.</span></span> <span data-ttu-id="f81ac-136">要查看通知，请选择 POS 右上角的通知图标。</span><span class="sxs-lookup"><span data-stu-id="f81ac-136">To view notifications, select the notification icon in the upper-right corner of the POS.</span></span> <span data-ttu-id="f81ac-137">通知面板将出现，并显示有关为工作人员配置的操作的通知。</span><span class="sxs-lookup"><span data-stu-id="f81ac-137">A notification panel appears and shows notifications for the operations configured for the worker.</span></span> 

<span data-ttu-id="f81ac-138">对于 **订单履行** 操作，通知面板将显示以下组：</span><span class="sxs-lookup"><span data-stu-id="f81ac-138">For the **order fulfillment** operation, the notification panel will show the following groups:</span></span>

- <span data-ttu-id="f81ac-139">**商店提货** - 此组显示计划从当前商店提货的单个订单行的计数。</span><span class="sxs-lookup"><span data-stu-id="f81ac-139">**Store pickup** – This group shows the count of individual order lines that are scheduled for pickup from the current store.</span></span> <span data-ttu-id="f81ac-140">您可以选择组上的数字以使用筛选器打开 **订单履行** 操作，从而仅显示为从当前商店取货而设置的有效订单行。</span><span class="sxs-lookup"><span data-stu-id="f81ac-140">You can select the number on the group to open the **Order fulfillment** operation with a filter so that it shows only the active order lines that are set up for pickup from the current store.</span></span>
- <span data-ttu-id="f81ac-141">**从商店装运** – 该组显示已配置为从用户当前商店装运的单个订单行的数量。</span><span class="sxs-lookup"><span data-stu-id="f81ac-141">**Ship from store** – This group shows the count of individual order lines that have been configured to ship from the user's current store.</span></span> <span data-ttu-id="f81ac-142">您可以选择组上的数字以使用筛选的视图打开 **订单履行** 操作，此视图仅显示为从当前商店装运而设置的有效订单行。</span><span class="sxs-lookup"><span data-stu-id="f81ac-142">You can select the number on the group to open the **Order fulfillment** operation with a filtered view that only shows the active order lines that are set up for shipment from the current store.</span></span>

<span data-ttu-id="f81ac-143">对于 **撤回订单** 操作，通知面板将显示以下组：</span><span class="sxs-lookup"><span data-stu-id="f81ac-143">For the **recall order** operation, the notification panel will show the following groups:</span></span>

- <span data-ttu-id="f81ac-144">**要履行的订单** – 该组显示为从用户当前商店执行提货或装运而配置的订单的计数。</span><span class="sxs-lookup"><span data-stu-id="f81ac-144">**Orders to fulfill** – This group shows the count of orders that are configured either for pickup or shipping fulfillment for the user's current store.</span></span> <span data-ttu-id="f81ac-145">您可以选择组上的数字以使用筛选视图打开 **撤回订单** 操作，该视图仅显示用户的当前商店为在店内提货或从商店装运方案而需要履行的未结订单。</span><span class="sxs-lookup"><span data-stu-id="f81ac-145">You can select the number on the group to open the **Recall order** operation with a filtered view that only shows the open orders that need to be fulfilled by the user's current store for either pick up in store or ship from store scenarios.</span></span>
- <span data-ttu-id="f81ac-146">**要提货的订单** - 此组显示计划从当前商店提货的订单的计数。</span><span class="sxs-lookup"><span data-stu-id="f81ac-146">**Orders to pick up** – This group shows the count of orders that are scheduled for pickup from the current store.</span></span> <span data-ttu-id="f81ac-147">您可以选择组上的数字以使用筛选视图打开 **撤回订单** 操作，该视图仅显示需要履行的未结订单以便客户从用户的当前商店提货。</span><span class="sxs-lookup"><span data-stu-id="f81ac-147">You can select the number on the group to open the **Recall order** operation with a filtered view that only shows open orders that need to be fulfilled for customer pickup from the user's current store.</span></span>
- <span data-ttu-id="f81ac-148">**要装运的订单** – 此组显示要从用户的当前商店装运的订单数。</span><span class="sxs-lookup"><span data-stu-id="f81ac-148">**Orders to ship** – This group shows the count of orders to be shipped from the user's current store.</span></span> <span data-ttu-id="f81ac-149">您可以选择组上的数字以使用筛选视图打开 **撤回订单** 操作，该视图仅显示需要履行的未结订单以便从用户的当前商店装运。</span><span class="sxs-lookup"><span data-stu-id="f81ac-149">You can select the number on the group to open the **Recall order** operation with a filtered view that only shows open orders that need to be fulfilled for shipment from the user's current store.</span></span>

<span data-ttu-id="f81ac-150">对于订单履行和撤回订单通知，当流程对新订单进行提货时，通知图标将更改，以指示有新通知，并将更新相应组的计数。</span><span class="sxs-lookup"><span data-stu-id="f81ac-150">For both the order fulfillment and recall order notifications, as new orders are picked up by the process the notification icon changes to indicate that there are new notifications, and the count for the appropriate groups is updated.</span></span> <span data-ttu-id="f81ac-151">尽管组按照定期时间间隔刷新，但是 POS 用户随时可以通过选择组旁边的 **刷新** 来手动刷新组。</span><span class="sxs-lookup"><span data-stu-id="f81ac-151">Even though the groups are refreshed at regular intervals, POS users can manually refresh the groups at any time by selecting **Refresh** next to the group.</span></span> <span data-ttu-id="f81ac-152">最后，如果组有当前工作人员尚未查看的新项，则该组将显示一个爆炸符号以指示新内容。</span><span class="sxs-lookup"><span data-stu-id="f81ac-152">Lastly, if a group has a new item that the current worker hasn't viewed, then the group shows a burst symbol to indicate new content.</span></span>

## <a name="enable-live-content-on-pos-buttons"></a><span data-ttu-id="f81ac-153">在 POS 按钮上启用实时内容</span><span class="sxs-lookup"><span data-stu-id="f81ac-153">Enable live content on POS buttons</span></span>

<span data-ttu-id="f81ac-154">POS 按钮现在可以显示计数以帮助工作人员轻松确定哪些任务需要他们立即注意。</span><span class="sxs-lookup"><span data-stu-id="f81ac-154">POS buttons can now show a count to help workers easily determine which tasks require their immediate attention.</span></span> <span data-ttu-id="f81ac-155">若要在 POS 按钮上显示此编号，必须完成此主题前文介绍的通知设置（即，必须启用有关操作的通知，设置通知时间间隔和更新工作人员的 POS 权限组）。</span><span class="sxs-lookup"><span data-stu-id="f81ac-155">To show this number on a POS button, you must complete the notification setup that is described earlier in this topic (that is, you must enable notifications for an operation, set up a notification interval, and update the POS permission group for the worker).</span></span> <span data-ttu-id="f81ac-156">此外，还必须打开按钮网格设计器，查看按钮的属性，以及选中 **启用实时内容** 复选框。</span><span class="sxs-lookup"><span data-stu-id="f81ac-156">Additionally, you must open the button grid designer, view the button's properties, and select the **Enable live content** check box.</span></span> <span data-ttu-id="f81ac-157">在 **内容对齐** 字段中，可选择计数在按钮右上角（**靠上右对齐**）还是中央（**居中**）显示。</span><span class="sxs-lookup"><span data-stu-id="f81ac-157">In the **Content alignment** field, you can select whether the count appears in the upper-right corner of the button (**Top right**) or in the center (**Center**).</span></span>

> [!NOTE]
> <span data-ttu-id="f81ac-158">仅当按照此主题中前文的说明在 **POS 操作** 页上为操作选中了 **启用通知** 复选框，才能为操作启用实时内容。</span><span class="sxs-lookup"><span data-stu-id="f81ac-158">The live content can be enabled for operations only if the **Enable notifications** check box has been selected for them on the **POS operations** page, as described earlier in this topic.</span></span>

<span data-ttu-id="f81ac-159">下图显示按钮网格设计器中的实时内容设置。</span><span class="sxs-lookup"><span data-stu-id="f81ac-159">The following illustration shows the live content settings in the button grid designer.</span></span>

<span data-ttu-id="f81ac-160">![按钮网格设计器中的实时内容设置](./media/ButtonGridDesigner.png "按钮网格设计器中的实时内容设置")</span><span class="sxs-lookup"><span data-stu-id="f81ac-160">![Live content settings in the button grid designer](./media/ButtonGridDesigner.png "Live content settings in the button grid designer")</span></span>

<span data-ttu-id="f81ac-161">若要在按钮上显示通知数量，需要确保更新正确的屏幕布局。</span><span class="sxs-lookup"><span data-stu-id="f81ac-161">To show the notification count on a button, you need to ensure that the correct screen layout is being updated.</span></span> <span data-ttu-id="f81ac-162">若要确定 POS 使用的屏幕布局，请选择右上角的 **设置** 图标，然后记下 **屏幕布局 ID** 和 **布局分辨率**。</span><span class="sxs-lookup"><span data-stu-id="f81ac-162">To determine the screen layout that is being used by the POS, select the **Settings** icon in upper-right corner and note the **Screen layout ID** and **Layout resolution**.</span></span> <span data-ttu-id="f81ac-163">现在使用 Edge 浏览器转到 **屏幕布局** 页面，找到上面确定的 **屏幕布局 ID** 和 **布局分辨率**，然后选中 **启用动态内容** 复选框。</span><span class="sxs-lookup"><span data-stu-id="f81ac-163">Now using Edge browser, go to the **Screen layout** page, find the **Screen layout ID** and **Layout resolution** identified above and select the **Enable live content** check box.</span></span> <span data-ttu-id="f81ac-164">转到 **Retail 和 Commerce \> Retail 和 Commerce IT \> 配送计划**，然后运行 1090（收银机）作业以同步布局更改。</span><span class="sxs-lookup"><span data-stu-id="f81ac-164">Go to **Retail and Commerce \> Retail and Commerce IT \> Distribution schedule** and run the 1090 (Registers) job to synchronize layout changes.</span></span>

<span data-ttu-id="f81ac-165">![查找 POS 使用的屏幕布局](./media/Choose_screen_layout.png "查找屏幕布局")</span><span class="sxs-lookup"><span data-stu-id="f81ac-165">![Find the screen layout used by POS](./media/Choose_screen_layout.png "Find the screen layout")</span></span>

<span data-ttu-id="f81ac-166">下图显示在 **内容对齐** 字段中选择 **靠上右对齐** 与 **居中** 对各种尺寸的按钮的影响。</span><span class="sxs-lookup"><span data-stu-id="f81ac-166">The following illustration shows the effect of selecting **Top right** versus **Center** in the **Content alignment** field for buttons of various sizes.</span></span>

<span data-ttu-id="f81ac-167">![POS 按钮上的实时内容](./media/ButtonsWithLiveContent.png "POS 按钮上的实时内容")</span><span class="sxs-lookup"><span data-stu-id="f81ac-167">![Live content on POS buttons](./media/ButtonsWithLiveContent.png "Live content on POS buttons")</span></span>

[!INCLUDE[footer-include](../includes/footer-banner.md)]
