---
title: 在销售点 (POS) 中显示订单通知
description: 此主题介绍如何在销售点和通知框架中启用订单通知。
author: ShalabhjainMSFT
manager: AnnBe
ms.date: 04/30/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailOperations, RetailFunctionalityProfile
audience: Application User
ms.reviewer: josaw
ms.search.region: Global
ms.search.industry: retail
ms.author: shajain
ms.search.validFrom: 2017-10-30
ms.dyn365.ops.version: ''
ms.openlocfilehash: c3b8e2774a189f2afefa757e7c4f3885b674918c
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/15/2021
ms.locfileid: "4976780"
---
# <a name="show-order-notifications-in-the-point-of-sale-pos"></a>在销售点 (POS) 中显示订单通知

[!include [banner](includes/banner.md)]

在现代零售环境中，商店店员被分配了各种任务，例如帮助客户、输入交易记录、执行存货盘点以及在商店接收订单。 销售点 (POS) 客户端提供一个应用程序，可供店员执行所有这些任务和其他大量任务。 由于各种任务必须在当天执行，所以可能必须在需要店员注意时通知店员。 POS 中的通知框架可以提供帮助，方法是让零售商配置基于角色的通知。 截至具有应用程序更新 5 的 Dynamics 365 for Retail，这些通知仅可针对 POS 操作进行配置。


现在，系统只能显示有关订单履行操作的通知。 但是，由于该框架设计为可扩展，所以开发人员最终将可以编写有关任何操作的通知处理程序，并在 POS 中显示相应操作的通知。

## <a name="enable-notifications-for-order-fulfillment-operations"></a>启用用于订单履行操作的通知

要启用有关订单履行操作的通知，请执行以下步骤。

1. 转至 **Retail 和 Commerce** &gt; **渠道设置** &gt; **POS 设置** &gt; **POS** &gt; **操作**。
2. 搜索 **订单履行** 操作，然后为其选中 **启用通知** 复选框，以便指定通知框架应针对此操作侦听处理程序。 如果实施该处理程序，将在 POS 中显示有关此操作的通知。
3. 转到 **Retail 和 Commerce** &gt; **员工** &gt; **工作人员** &gt;，在“Commerce”选项卡下，打开与该工作人员关联的 POS 权限。 展开 **通知** 快速选项卡，添加 **订单履行** 操作，然后将 **显示顺序** 字段设置为 **1**。 如果配置了多个通知，将把此字段用于排列通知。 **显示顺序** 值较低的通知在该值较高的通知上方显示。 **显示顺序** 值为 **1** 的通知在最上面显示。

    将仅显示有关 **通知** 快速选项卡上添加的操作的通知，而只有 **POS 操作** 页上已选中了 **启用通知** 选项卡，才能在这里添加操作。 此外，仅当将操作添加到了工作人员的 POS 权限，才对这些工作人员显示有关该操作的通知。

    > [!NOTE]
    > 可以在用户级别覆盖通知。 打开工作人员的记录，选择 **POS 权限**，然后编辑该用户的通知订阅。

4. 转至 **Retail 和 Commerce** &gt; **渠道设置** &gt; **POS 设置** &gt; **POS 配置文件** &gt; **功能配置文件**。 在 **通知时间间隔** 字段中，指定提取通知的频率。 对于某些通知，POS 必须实时调用后端办公应用程序。 这些调用将消耗后端办公应用程序的计算能力。 因此，设置通知时间间隔时，应同时考虑业务需求和实时调用对后端办公应用程序的影响。 值为 **0**（零）将关闭通知。
5. 转到 **Retail 和 Commerce** &gt; **Retail 和 Commerce IT** &gt; **配送计划**。 选择 **1060**（**员工**）计划以同步通知订阅设置，然后选择 **立即运行**。 接下来，选择 **1070**（**渠道配置**）计划以同步权限时间间隔，然后选择 **立即运行**。

## <a name="view-notifications-in-the-pos"></a>在 POS 中查看通知

完成上述步骤之后，工作人员就可以在 POS 中查看通知。 要查看通知，按 POS 右上角的通知图标。 通知中心将显示，其中显示有关订单履行操作的通知。 通知中心应该在订单履行操作中显示以下组：

- **商店提货** - 此组显示交货方式为 **提货** 并且已经计划从当前商店提货的订单计数。 可按组上的编号打开 **订单履行** 页。 在此情况下，将过滤页面，以便仅显示为从当前商店提货而设置的有效订单。
- **从商店装运** - 此组显示交货方式为 **装运** 并且已经计划从当前商店装运的订单计数。 可按组上的编号打开 **订单履行** 页。 在此情况下，将过滤页面，以便仅显示为从当前商店装运而设置的有效订单。

将新订单分配给商店履行时，通知图标将更改，以指示有新通知，并将更新相应组的计数。 尽管组按照定期时间间隔刷新，但是 POS 用户随时可以通过选择组旁边的 **刷新** 按钮手动刷新组。 最后，如果组有当前工作人员尚未查看的新项，该组将显示一个爆炸符号以指示新内容。

## <a name="enable-live-content-on-pos-buttons"></a>在 POS 按钮上启用实时内容

POS 按钮现在可以显示计数以帮助工作人员轻松确定哪些任务需要他们立即注意。 若要在 POS 按钮上显示此编号，必须完成此主题前文介绍的通知设置（即，必须启用有关操作的通知，设置通知时间间隔和更新工作人员的 POS 权限组）。 此外，还必须打开按钮网格设计器，查看按钮的属性，以及选中 **启用实时内容** 复选框。 在 **内容对齐** 字段中，可选择计数在按钮右上角（**靠上右对齐**）还是中央（**居中**）显示。

> [!NOTE]
> 仅当按照此主题中前文的说明在 **POS 操作** 页上为操作选中了 **启用通知** 复选框，才能为操作启用实时内容。

下图显示按钮网格设计器中的实时内容设置。

![按钮网格设计器中的实时内容设置](./media/ButtonGridDesigner.png "按钮网格设计器中的实时内容设置")

若要在按钮上显示通知数量，需要确保更新正确的屏幕布局。 若要确定 POS 使用的屏幕布局，请选择右上角的 **设置** 图标，然后记下 **屏幕布局 ID** 和 **布局分辨率**。 现在使用 Edge 浏览器转到 **屏幕布局** 页面，找到上面确定的 **屏幕布局 ID** 和 **布局分辨率**，然后选中 **启用动态内容** 复选框。 转到 **Retail 和 Commerce \> Retail 和 Commerce IT \> 配送计划**，然后运行 1090（收银机）作业以同步布局更改。


![查找 POS 使用的屏幕布局](./media/Choose_screen_layout.png "查找屏幕布局")

下图显示在 **内容对齐** 字段中选择 **靠上右对齐** 与 **居中** 对各种尺寸的按钮的影响。

![POS 按钮上的实时内容](./media/ButtonsWithLiveContent.png "POS 按钮上的实时内容")


[!INCLUDE[footer-include](../includes/footer-banner.md)]