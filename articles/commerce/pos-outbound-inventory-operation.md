---
title: POS 中的出站库存操作
description: 此主题介绍销售点 (POS) 出站库存操作的功能。
author: hhaines
manager: annbe
ms.date: 02/11/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: Retail
ms.author: hhaines
ms.search.validFrom: ''
ms.dyn365.ops.version: 10.0.9
ms.openlocfilehash: c3e50d20162340c599fb6719ae6f45654dba990a
ms.sourcegitcommit: 0dace221e8874021dd212271567666f717d39793
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/19/2020
ms.locfileid: "3071843"
---
# <a name="outbound-inventory-operation-in-pos"></a><span data-ttu-id="91be6-103">POS 中的出站库存操作</span><span class="sxs-lookup"><span data-stu-id="91be6-103">Outbound inventory operation in POS</span></span>

[!include [banner](includes/banner.md)]
[!include [banner](includes/preview-banner.md)]

<span data-ttu-id="91be6-104">在 Microsoft Dynamics 365 Commerce 版本 10.0.10 及更高版本中，销售点 (POS) 中的入站和出站操作取代了领料和收货操作。</span><span class="sxs-lookup"><span data-stu-id="91be6-104">In Microsoft Dynamics 365 Commerce version 10.0.10 and later, inbound and outbound operations in the point of sale (POS) replace the picking and receiving operation.</span></span>

> [!NOTE]
> <span data-ttu-id="91be6-105">在版本 10.0.10 及更高版本中，POS 应用程序中中与接收商店库存和采购订单及转移单有关的所有新功能将添加到入站操作中。</span><span class="sxs-lookup"><span data-stu-id="91be6-105">In version 10.0.10 and later, any new features in the POS application that are related to receiving store inventory against purchase orders and transfer orders will be added to the inbound operations operation.</span></span> <span data-ttu-id="91be6-106">如果您正在使用 POS 中的领料和收货操作，建议您指定策略从该操作迁移到新的入站和出站操作。</span><span class="sxs-lookup"><span data-stu-id="91be6-106">If you're currently using the picking and receiving operation in POS, we recommend that you develop a strategy for moving from that operation to the new inbound and outbound operations.</span></span> <span data-ttu-id="91be6-107">虽然此产品中不会移除领料和收货操作，但是在版本 10.0.9 之后，从功能角度到性能角度，都不会再对其进行更多投入。</span><span class="sxs-lookup"><span data-stu-id="91be6-107">Although the picking and receiving operation won't be removed from the product, there will be no further investments in it, from a functional or performance perspective, after version 10.0.9.</span></span>

## <a name="prerequisite-configure-an-asynchronous-document-framework"></a><span data-ttu-id="91be6-108">先决条件：配置异步单据框架</span><span class="sxs-lookup"><span data-stu-id="91be6-108">Prerequisite: Configure an asynchronous document framework</span></span>

<span data-ttu-id="91be6-109">出站操作中包含性能改进，以便确保在大量商店或公司需要过帐大量收货且拥有大量库存单据的的用户可以将这些单据传输给 Commerce Headquarters，并且不会超时或失败。</span><span class="sxs-lookup"><span data-stu-id="91be6-109">The outbound operation includes performance improvements to ensure that users who have high volumes of receipt postings across many stores or companies, and large inventory documents, can process those documents to Commerce Headquarters without experiencing time-outs or failures.</span></span> <span data-ttu-id="91be6-110">这些改进需要使用异步单据框架。</span><span class="sxs-lookup"><span data-stu-id="91be6-110">These improvements require use of an asynchronous document framework.</span></span>

<span data-ttu-id="91be6-111">使用异步单据框架时，可以将出站单据更改从 POS 提交到 Commerce Headquarters，然后继续执行其他任务，同时在后台传输到 Commerce Headquarters。</span><span class="sxs-lookup"><span data-stu-id="91be6-111">When an asynchronous document framework is used, you can commit outbound document changes from POS to Commerce Headquarters and then move on to other tasks while the processing to Commerce Headquarters occurs in the background.</span></span> <span data-ttu-id="91be6-112">可以通过 POS 中的**出站操作**单据列表页检查单据的状态，以确保过帐成功。</span><span class="sxs-lookup"><span data-stu-id="91be6-112">You can check the status of the document through the **Outbound operation** document list page in POS to make sure that posting was successful.</span></span> <span data-ttu-id="91be6-113">在 POS 应用程序中，也可以使用出站操作活动单据列表查看无法过帐到 Commerce Headquarters 的任何单据。</span><span class="sxs-lookup"><span data-stu-id="91be6-113">In the POS application, you can also use the outbound operation active document list to see any documents that could not be posted to Commerce Headquarters.</span></span> <span data-ttu-id="91be6-114">如果单据失败，POS 用户可以进行更正，然后再次尝试将其传输到 Commerce Headquarters。</span><span class="sxs-lookup"><span data-stu-id="91be6-114">If a document fails, POS users can make corrections to it and then try again to process it to Commerce Headquarters.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="91be6-115">必须在公司尝试在 POS 中使用出站操作之前配置异步单据框架。</span><span class="sxs-lookup"><span data-stu-id="91be6-115">The asynchronous document framework must be configured before a company tries to use the outbound operation in POS.</span></span>

<span data-ttu-id="91be6-116">若要配置异步单据框架，请完成以下过程。</span><span class="sxs-lookup"><span data-stu-id="91be6-116">To configure an asynchronous document framework, complete the following procedures.</span></span>

### <a name="create-and-configure-a-number-sequence"></a><span data-ttu-id="91be6-117">创建和配置编号规则</span><span class="sxs-lookup"><span data-stu-id="91be6-117">Create and configure a number sequence</span></span>

1. <span data-ttu-id="91be6-118">转到**组织管理 \> 编号规则 \> 编号规则**。</span><span class="sxs-lookup"><span data-stu-id="91be6-118">Go to **Organization administration \> Number sequences \> Number Sequences**.</span></span>
2. <span data-ttu-id="91be6-119">在**编号规则**页，创建一个编号规则。</span><span class="sxs-lookup"><span data-stu-id="91be6-119">On the **Number sequences** page, create a number sequence.</span></span>
3. <span data-ttu-id="91be6-120">在**编号规则代码**和**名称**字段中，输入用户定义的值。</span><span class="sxs-lookup"><span data-stu-id="91be6-120">In the **Number sequence code** and **Name** fields, enter user-defined values.</span></span>
4. <span data-ttu-id="91be6-121">在**引用**快速选项卡上，选择**添加**。</span><span class="sxs-lookup"><span data-stu-id="91be6-121">On the **References** FastTab, select **Add**.</span></span>
5. <span data-ttu-id="91be6-122">在**区域**字段中，选择 **Commerce 参数**。</span><span class="sxs-lookup"><span data-stu-id="91be6-122">In the **Area** field, select **Commerce parameters**.</span></span>
6. <span data-ttu-id="91be6-123">在**引用**字段中，选择**零售单据操作标识**。</span><span class="sxs-lookup"><span data-stu-id="91be6-123">In the **Reference** field, select **Retail document operation identifier**.</span></span>
7. <span data-ttu-id="91be6-124">在**常规**快速选项卡的**设置**部分中，将**连续**选项设置为**否**以确保无性能问题。</span><span class="sxs-lookup"><span data-stu-id="91be6-124">On the **General** FastTab, in the **Setup** section, set the **Continuous** option to **No** to ensure that there are no performance issues.</span></span>

### <a name="create-and-schedule-two-batch-jobs-for-the-document-processing-and-monitoring-tasks"></a><span data-ttu-id="91be6-125">为单据处理和监视任务创建和计划两个批处理作业</span><span class="sxs-lookup"><span data-stu-id="91be6-125">Create and schedule two batch jobs for the document processing and monitoring tasks</span></span>

<span data-ttu-id="91be6-126">将把创建的批处理作业用于处理失败或超时的单据。还会在从 POS 处理的活动库存单据数量超过系统配置的值时使用。</span><span class="sxs-lookup"><span data-stu-id="91be6-126">The batch jobs that you create will be used to process documents that fail or time out. They will also be used when the number of active inventory documents that are being processed from POS exceeds a system-configured value.</span></span>

1. <span data-ttu-id="91be6-127">转到**系统管理 \> 查询 \> 批处理作业**。</span><span class="sxs-lookup"><span data-stu-id="91be6-127">Go to **System Administration \> Inquiries \> Batch jobs**.</span></span>
2. <span data-ttu-id="91be6-128">在**批处理作业**页面上，创建两个批处理作业：</span><span class="sxs-lookup"><span data-stu-id="91be6-128">On the **Batch job** page, create two batch jobs:</span></span>

    - <span data-ttu-id="91be6-129">将一个作业配置为运行 **RetailDocumentOperationMonitorBatch** 类。</span><span class="sxs-lookup"><span data-stu-id="91be6-129">Configure one job to run the **RetailDocumentOperationMonitorBatch** class.</span></span>
    - <span data-ttu-id="91be6-130">将另一个作业配置为运行 **RetailDocumentOperationProcessingBatch** 类。</span><span class="sxs-lookup"><span data-stu-id="91be6-130">Configure the other job to run the **RetailDocumentOperationProcessingBatch** class.</span></span>

3. <span data-ttu-id="91be6-131">将新批处理作业计划为重复运行。</span><span class="sxs-lookup"><span data-stu-id="91be6-131">Schedule the new batch jobs to run on a recurring basis.</span></span> <span data-ttu-id="91be6-132">例如，将计划设置为每隔五分钟运行一次作业。</span><span class="sxs-lookup"><span data-stu-id="91be6-132">For example, set the schedule so that the jobs are run every five minutes.</span></span>

## <a name="prerequisite-add-outbound-operation-to-the-pos-screen-layout"></a><span data-ttu-id="91be6-133">先决条件：向 POS 屏幕布局添加出站操作</span><span class="sxs-lookup"><span data-stu-id="91be6-133">Prerequisite: Add Outbound operation to the POS screen layout</span></span>

<span data-ttu-id="91be6-134">组织必须在一个或多个 [POS 屏幕布局](https://docs.microsoft.com/dynamics365/unified-operations/retail/pos-screen-layouts)中配置**出站操作** POS 操作，才能使用出站操作功能。</span><span class="sxs-lookup"><span data-stu-id="91be6-134">Before your organization can use the outbound operation functionality, it must configure the **Outbound operation** POS operation on one or more of your [POS screen layouts](https://docs.microsoft.com/dynamics365/unified-operations/retail/pos-screen-layouts).</span></span> <span data-ttu-id="91be6-135">在生产环境中部署新操作之前，确保彻底测试该操作，并为用户培训使用方法。</span><span class="sxs-lookup"><span data-stu-id="91be6-135">Before you deploy the new operation in a production environment, make sure that you thoroughly test it and train your users to use it.</span></span>

## <a name="overview"></a><span data-ttu-id="91be6-136">概览</span><span class="sxs-lookup"><span data-stu-id="91be6-136">Overview</span></span>

<span data-ttu-id="91be6-137">POS 用户可通过出站操作执行以下任务：</span><span class="sxs-lookup"><span data-stu-id="91be6-137">The outbound operation lets POS users perform the following tasks:</span></span>

- <span data-ttu-id="91be6-138">用户的商店就是委派的出站仓库时，过帐转移单单据的装运。</span><span class="sxs-lookup"><span data-stu-id="91be6-138">Post shipments for transfer order documents in cases where the user's store is the designated outbound warehouse.</span></span>
- <span data-ttu-id="91be6-139">查看有关商店过帐的历史转移单装运的信息。</span><span class="sxs-lookup"><span data-stu-id="91be6-139">View information about historical transfer order shipments that were posted by the store.</span></span>
- <span data-ttu-id="91be6-140">创建新的出站转移单请求。</span><span class="sxs-lookup"><span data-stu-id="91be6-140">Create new outbound transfer order requests.</span></span>

<span data-ttu-id="91be6-141">从 POS 应用程序开始执行出站操作时，将显示列表页视图。</span><span class="sxs-lookup"><span data-stu-id="91be6-141">When the outbound operation is started from the POS application, a list page view appears.</span></span> <span data-ttu-id="91be6-142">此视图显示其中包含用户的当前商店打算装运和履行的库存行的未结转移单单据。</span><span class="sxs-lookup"><span data-stu-id="91be6-142">This view shows open transfer order documents that have inventory lines that the user's current store is intended to ship and fulfill.</span></span> <span data-ttu-id="91be6-143">若要查找和选择单据，用户可以滚动列表或使用搜索功能。</span><span class="sxs-lookup"><span data-stu-id="91be6-143">To find a select a document, users can scroll the list or use the search feature.</span></span>

<span data-ttu-id="91be6-144">出站库存单据列表中有三个选项卡。</span><span class="sxs-lookup"><span data-stu-id="91be6-144">The outbound inventory document list has three tabs.</span></span>

- <span data-ttu-id="91be6-145">**有效** – 此选项卡显示其状态为**已请求**或**已部分装运**的转移单。</span><span class="sxs-lookup"><span data-stu-id="91be6-145">**Active** – This tab shows transfer orders that have a status of **Requested** or **Partially Shipped**.</span></span> <span data-ttu-id="91be6-146">这些订单中包含用户的当前商店必须装运的行或行中的数量。</span><span class="sxs-lookup"><span data-stu-id="91be6-146">The orders contain lines or quantities on lines that must be shipped by the user's current store.</span></span> <span data-ttu-id="91be6-147">此选项卡还显示状态为**正在 HQ 处理**（即正在等待 Commerce Headquarters 确认过帐成功）或**处理失败**（即过帐到 Commerce Headquarters 失败，用户必须更正数据并再次尝试提交订单）的订单。</span><span class="sxs-lookup"><span data-stu-id="91be6-147">This tab also shows orders that have a status of **Processing in HQ** (that is, they are waiting for confirmation of successful posting from Commerce Headquarters) or **Processing failed** (that is, posting to Commerce Headquarters was unsuccessful, and the user must correct data and try again to submit the orders).</span></span>
- <span data-ttu-id="91be6-148">**草稿** – 此选项卡显示用户的商店创建的新出站转移单请求。</span><span class="sxs-lookup"><span data-stu-id="91be6-148">**Draft** – This tab shows new outbound transfer order requests that the user's store created.</span></span> <span data-ttu-id="91be6-149">但是，这些单据仅保存在本地。</span><span class="sxs-lookup"><span data-stu-id="91be6-149">However, the documents have only been saved locally.</span></span> <span data-ttu-id="91be6-150">尚未提交到 Commerce Headquarters 进行处理。</span><span class="sxs-lookup"><span data-stu-id="91be6-150">They haven't yet been submitted to Commerce Headquarters for processing.</span></span>
- <span data-ttu-id="91be6-151">**完成** – 此选项卡显示过去七天内商店已全部装运的转移单单据的列表。</span><span class="sxs-lookup"><span data-stu-id="91be6-151">**Complete** – This tab shows a list of transfer order documents that the store has fully shipped during the last seven days.</span></span> <span data-ttu-id="91be6-152">此选项卡仅供参考。</span><span class="sxs-lookup"><span data-stu-id="91be6-152">This tab is for informational purposes only.</span></span> <span data-ttu-id="91be6-153">对于商店来说，有关这些单据的所有信息均为只读数据。</span><span class="sxs-lookup"><span data-stu-id="91be6-153">All the information about the documents is read-only data for the store.</span></span>

<span data-ttu-id="91be6-154">查看这些选项卡中任何一个上的单据时，**状态**字段可以帮助您了解单据所处阶段。</span><span class="sxs-lookup"><span data-stu-id="91be6-154">When you view documents on any of the tabs, the **Status** field can help you understand the stage that the document is in.</span></span>

- <span data-ttu-id="91be6-155">**草稿** – 转移单单据仅已本地保存到商店的渠道数据库。</span><span class="sxs-lookup"><span data-stu-id="91be6-155">**Draft** – The transfer order document has only been saved locally to the store's channel database.</span></span> <span data-ttu-id="91be6-156">尚未将有关转移单请求的任何信息提交到 Commerce Headquarters。</span><span class="sxs-lookup"><span data-stu-id="91be6-156">No information about the transfer order request has yet been submitted to Commerce Headquarters.</span></span>
- <span data-ttu-id="91be6-157">**已请求** – 已在 Commerce Headquarters 中创建并完全打开了采购订单或转移单。</span><span class="sxs-lookup"><span data-stu-id="91be6-157">**Requested** – The purchase order or transfer order has been created in Commerce Headquarters and is fully open.</span></span> <span data-ttu-id="91be6-158">用户的当前商店尚未处理针对该单据的任何装运。</span><span class="sxs-lookup"><span data-stu-id="91be6-158">The user's current store has yet processed any shipments against the document.</span></span>
- <span data-ttu-id="91be6-159">**已部分装运** – 转移单单据有一个或多个行或部分行数量已经被出站仓库作为装运过帐。</span><span class="sxs-lookup"><span data-stu-id="91be6-159">**Partially shipped** – The transfer order document has one or more lines or partial line quantities that have been posted as shipped by the outbound warehouse.</span></span> <span data-ttu-id="91be6-160">可以通过入站操作接收这些装运的行。</span><span class="sxs-lookup"><span data-stu-id="91be6-160">These shipped lines are available to be received through the inbound operation.</span></span>
- <span data-ttu-id="91be6-161">**已完全装运** – 转移单的所有行和整行数量已经被出站仓库作为装运过帐。</span><span class="sxs-lookup"><span data-stu-id="91be6-161">**Fully shipped** – The transfer order has had all its lines and full line quantities posted as shipped by the outbound warehouse.</span></span>
- <span data-ttu-id="91be6-162">**进行中** – 此状态用于通知设备用户另一位用户正在主动处理该单据。</span><span class="sxs-lookup"><span data-stu-id="91be6-162">**In progress** – This status is used to inform device users that the document is being actively worked on by another user.</span></span>
- <span data-ttu-id="91be6-163">**已暂停** – 选择**暂停接收**以暂时停止接收流程之后，显示此状态。</span><span class="sxs-lookup"><span data-stu-id="91be6-163">**Paused** – This status is shown after **Pause receiving** is selected to temporarily stop the receiving process.</span></span>
- <span data-ttu-id="91be6-164">**正在 HQ 处理** – 单据已从 POS 应用程序提交到 Commerce Headquarters，但是尚未成功过帐到 Commerce Headquarters。</span><span class="sxs-lookup"><span data-stu-id="91be6-164">**Processing in HQ** – The document was submitted to Commerce Headquarters from the POS application, but it hasn't yet been successfully posted to Commerce Headquarters.</span></span> <span data-ttu-id="91be6-165">单据将经历异步单据过帐流程。</span><span class="sxs-lookup"><span data-stu-id="91be6-165">The document is going through the asynchronous document posting process.</span></span> <span data-ttu-id="91be6-166">将单据成功过帐到 Commerce Headquarters 之后，其状态应该会更新为**已完全接收**或**已部分接收**。</span><span class="sxs-lookup"><span data-stu-id="91be6-166">After the document is successfully posted to Commerce Headquarters, its status should be updated to **Fully received** or **Partially received**.</span></span>
- <span data-ttu-id="91be6-167">**处理失败** – 单据已过帐到 Commerce Headquarters，但被拒绝。</span><span class="sxs-lookup"><span data-stu-id="91be6-167">**Processing failed** – The document was posted to Commerce Headquarters and rejected.</span></span> <span data-ttu-id="91be6-168">**详细信息**窗格显示过帐失败的原因。</span><span class="sxs-lookup"><span data-stu-id="91be6-168">The **Details** pane shows the reason for the posting failure.</span></span> <span data-ttu-id="91be6-169">必须编辑单据以解决数据问题，然后必须将其重新提交到 Commerce Headquarters 进行处理。</span><span class="sxs-lookup"><span data-stu-id="91be6-169">The document must be edited to fix data issues, and then it must be resubmitted to Commerce Headquarters for processing.</span></span>

<span data-ttu-id="91be6-170">在列表中选择单据行之后，将显示**详细信息**窗格。</span><span class="sxs-lookup"><span data-stu-id="91be6-170">When you select a document line in the list, a **Details** pane appears.</span></span> <span data-ttu-id="91be6-171">此窗格显示有关单据的更多信息，如装运和日期信息。</span><span class="sxs-lookup"><span data-stu-id="91be6-171">This pane shows additional information about the document, such as shipment and date information.</span></span> <span data-ttu-id="91be6-172">进度条显示还必须处理多少个物料。</span><span class="sxs-lookup"><span data-stu-id="91be6-172">A progress bar shows how many items must still be processed.</span></span> <span data-ttu-id="91be6-173">如果未将单据成功过帐到 Commerce Headquarters，**详细信息**窗格还会显示与失败有关的错误消息。</span><span class="sxs-lookup"><span data-stu-id="91be6-173">If the document wasn't successfully processed to Commerce Headquarters, the **Details** pane also shows error messages that are related to the failure.</span></span>

<span data-ttu-id="91be6-174">在单据列表页视图中，可以选择应用程序栏中的**订单详细信息**查看单据详细信息。</span><span class="sxs-lookup"><span data-stu-id="91be6-174">In the document list page view, you can select **Order details** on the app bar to view the document details.</span></span> <span data-ttu-id="91be6-175">也可以在符合资格的单据行中激活收据处理。</span><span class="sxs-lookup"><span data-stu-id="91be6-175">You can also activate receipt processing on eligible document lines.</span></span>

<span data-ttu-id="91be6-176">在单据列表页视图中，还可以为商店创建新的出站转移单。</span><span class="sxs-lookup"><span data-stu-id="91be6-176">In the document list page view, you can also create a new outbound transfer order for a store.</span></span>

## <a name="transfer-order-shipping-process"></a><span data-ttu-id="91be6-177">转移单装运流程</span><span class="sxs-lookup"><span data-stu-id="91be6-177">Transfer order shipping process</span></span>

<span data-ttu-id="91be6-178">在**有效**选项卡上选择转移单单据之后，可以选择**订单详细信息**开始执行履行流程。</span><span class="sxs-lookup"><span data-stu-id="91be6-178">After you select a transfer order document on the **Active** tab, you can select **Order details** to begin the fulfillment process.</span></span> <span data-ttu-id="91be6-179">将显示**完整订单列表**视图。</span><span class="sxs-lookup"><span data-stu-id="91be6-179">The **Full order list** view appears.</span></span> <span data-ttu-id="91be6-180">此页显示其中包含该物料的所有单据行。</span><span class="sxs-lookup"><span data-stu-id="91be6-180">This page shows all the document lines that contain the item.</span></span> <span data-ttu-id="91be6-181">还显示订购数量的详细信息。</span><span class="sxs-lookup"><span data-stu-id="91be6-181">It also shows details of the ordered quantity.</span></span>

<span data-ttu-id="91be6-182">每次扫描条形码都会在**立即装运**字段中更新数量的一个单位。</span><span class="sxs-lookup"><span data-stu-id="91be6-182">Each scan of a bar code updates the quantity in the **Shipping now** field by one unit.</span></span> <span data-ttu-id="91be6-183">也可以输入装运数量，方法是在应用程序栏中选择**装运产品**，输入物料 ID，然后输入数量。</span><span class="sxs-lookup"><span data-stu-id="91be6-183">Alternatively, you can enter a shipping quantity by selecting **Ship product** on the app bar, entering an item ID, and then entering the quantity.</span></span> <span data-ttu-id="91be6-184">如果物料受位置控制，可以确认或设置单据行的装运位置。</span><span class="sxs-lookup"><span data-stu-id="91be6-184">If the item is location-controlled, you can confirm or set the shipping location for the document line.</span></span>

<span data-ttu-id="91be6-185">在**完整订单列表**视图中，可以在列表中手动选择行，然后在**详细信息**窗格中手动更新所选行的**立即装运**数量。</span><span class="sxs-lookup"><span data-stu-id="91be6-185">In the **Full order list** view, you can manually select a line in the list and then update the **Shipping now** quantity for the selected line in the **Details** pane.</span></span>

### <a name="over-delivery-shipping-validations"></a><span data-ttu-id="91be6-186">超交装运验证</span><span class="sxs-lookup"><span data-stu-id="91be6-186">Over-delivery shipping validations</span></span>

<span data-ttu-id="91be6-187">单据行的接收流程中执行验证。</span><span class="sxs-lookup"><span data-stu-id="91be6-187">Validations occur during the receiving process for the document lines.</span></span> <span data-ttu-id="91be6-188">其中包括超交验证。</span><span class="sxs-lookup"><span data-stu-id="91be6-188">They include validations for over-delivery.</span></span> <span data-ttu-id="91be6-189">如果用户尝试接收的库存比采购订单中订购的多，但是未配置超交，或接收的数量超过了为采购订单行配置的超交容差，用户将收到错误，并且不能接收超额数量。</span><span class="sxs-lookup"><span data-stu-id="91be6-189">If a user tries to receive more inventory than was ordered on a purchase order, but either over-delivery isn't configured or the quantity that is received exceeds the over-delivery tolerance that is configured for the purchase order line, the user receives an error and isn't allowed to receive the excess quantity.</span></span>

### <a name="shipping-location-controlled-items"></a><span data-ttu-id="91be6-190">装运位置控制的物料</span><span class="sxs-lookup"><span data-stu-id="91be6-190">Shipping location-controlled items</span></span>

<span data-ttu-id="91be6-191">如果正在装运的物料受位置控制，用户可以选择在装运流程中为库存发货的位置。</span><span class="sxs-lookup"><span data-stu-id="91be6-191">If the items that are being shipped are location-controlled, users can choose the location that they want to issue the inventory from during the shipping process.</span></span> <span data-ttu-id="91be6-192">建议为商店仓库配置默认发货位置，以便提高此流程的效率。</span><span class="sxs-lookup"><span data-stu-id="91be6-192">We recommend that you configure a default issue location for your store warehouse, to make this process more efficient.</span></span> <span data-ttu-id="91be6-193">即使配置了默认位置，用户也可以在需要时替换所选行中的发货位置。</span><span class="sxs-lookup"><span data-stu-id="91be6-193">Even if a default location is configured, users can override the issue location on selected lines as they require.</span></span>

<span data-ttu-id="91be6-194">此操作采用**位置**存储维度中的**允许空收货**配置，如果配置了空收货，则不要求输入位置维度。</span><span class="sxs-lookup"><span data-stu-id="91be6-194">The operation respects the **Blank receipt allowed** configuration on the **Location** storage dimension and doesn't require that a location dimension be entered if blank receipt is configured.</span></span> <span data-ttu-id="91be6-195">如果不允许物料采用空收货位置，POS 应用程序将显示错误，并要求先输入位置，之后才能过帐收据。</span><span class="sxs-lookup"><span data-stu-id="91be6-195">If blank receipt locations aren't allowed for an item, the POS application shows an error and requires that a location be entered before the receipt can be posted.</span></span>

### <a name="ship-all"></a><span data-ttu-id="91be6-196">全部装运</span><span class="sxs-lookup"><span data-stu-id="91be6-196">Ship all</span></span>

<span data-ttu-id="91be6-197">可以按照您的要求选择应用程序栏中的**全部装运**以将所有单据行的**立即装运**数量快速更新到可为这些行履行的最大值。</span><span class="sxs-lookup"><span data-stu-id="91be6-197">As you require, you can select **Ship all** on the app bar to quickly update the **Shipping now** quantity for all the document lines to the maximum value that is available to be fulfilled for those lines.</span></span>

### <a name="cancel-fulfillment"></a><span data-ttu-id="91be6-198">取消履行</span><span class="sxs-lookup"><span data-stu-id="91be6-198">Cancel fulfillment</span></span>

<span data-ttu-id="91be6-199">仅当要退出单据，并且不希望保存任何更改时，才应使用应用程序栏中的**取消履行**功能。</span><span class="sxs-lookup"><span data-stu-id="91be6-199">You should use the **Cancel fulfillment** function on the app bar only if you want to back out of the document and don't want to save any changes.</span></span> <span data-ttu-id="91be6-200">例如，最初选择了错误的单据，因此不需要之前保存的任何装运数据。</span><span class="sxs-lookup"><span data-stu-id="91be6-200">For example, you initially selected the wrong document and don't want any of the previous shipping data saved.</span></span>

### <a name="pause-fulfillment"></a><span data-ttu-id="91be6-201">暂停履行</span><span class="sxs-lookup"><span data-stu-id="91be6-201">Pause fulfillment</span></span>

<span data-ttu-id="91be6-202">如果要履行这样的，并且希望暂时停止流程，可以使用**暂停履行**功能。</span><span class="sxs-lookup"><span data-stu-id="91be6-202">If you're fulfilling the transfer order, you can use the **Pause fulfillment** function if you want to take a break from the process.</span></span> <span data-ttu-id="91be6-203">例如，您可能希望从 POS 执行另一个操作（如记录客户销售额），或推迟将装运过帐到 Commerce Headquarters。</span><span class="sxs-lookup"><span data-stu-id="91be6-203">For example, you might want to perform another operation from the POS, such as ringing up a customer sale, or delay posting of the shipment to Commerce Headquarters.</span></span>

<span data-ttu-id="91be6-204">选择**暂停履行**之后，单据状态将变为**已暂停**。</span><span class="sxs-lookup"><span data-stu-id="91be6-204">When you select **Pause fulfillment**, the document's status is changed to **Paused**.</span></span> <span data-ttu-id="91be6-205">因此，用户就会知道已在单据中输入了值，但是尚未提交单据。</span><span class="sxs-lookup"><span data-stu-id="91be6-205">Therefore, user will know that data has been entered in the document, but the document hasn't yet been committed.</span></span> <span data-ttu-id="91be6-206">准备好恢复履行流程后，选择暂停的单据，然后选择**订单详细信息**。</span><span class="sxs-lookup"><span data-stu-id="91be6-206">When you're ready to resume the fulfillment process, select the paused document, and then select **Order details**.</span></span> <span data-ttu-id="91be6-207">之前保存的所有**立即装运**数量将保留，并且可以从**完整订单列表**视图查看。</span><span class="sxs-lookup"><span data-stu-id="91be6-207">Any **Shipping now** quantities that were previously saved will be retained and can be viewed from the **Full order list** view.</span></span>

### <a name="finish-fulfillment"></a><span data-ttu-id="91be6-208">完成履行</span><span class="sxs-lookup"><span data-stu-id="91be6-208">Finish fulfillment</span></span>

<span data-ttu-id="91be6-209">输入产品的所有**立即装运**数量完毕后，必须选择应用程序栏中的**完成履行**。</span><span class="sxs-lookup"><span data-stu-id="91be6-209">When you've finished entering all the **Shipping now** quantities for products, you must select **Finish fulfillment** on the app bar.</span></span>

<span data-ttu-id="91be6-210">如果使用异步单据处理，将通过异步单据框架提交收据。</span><span class="sxs-lookup"><span data-stu-id="91be6-210">When asynchronous document processing is used, the receipt is submitted through an asynchronous document framework.</span></span> <span data-ttu-id="91be6-211">过帐单据所用时间取决于单据的大小（行数）和服务器中出现的常规处理流量。</span><span class="sxs-lookup"><span data-stu-id="91be6-211">The time that it takes for the document to be posted depends on the size of the document (the number of lines) and the general processing traffic that is occurring on the server.</span></span> <span data-ttu-id="91be6-212">此流程通常以秒为单位计算。</span><span class="sxs-lookup"><span data-stu-id="91be6-212">Typically, this process occurs in a matter of seconds.</span></span> <span data-ttu-id="91be6-213">如果单据过帐失败，将通过**有效**选项卡上的**出站操作**单据列表通知用户，此选项卡上的单据状态将更新为**处理失败**。</span><span class="sxs-lookup"><span data-stu-id="91be6-213">If document posting fails, the user is notified through the **Outbound operation** document list on the **Active** tab, where the document status will be updated to **Processing failed**.</span></span> <span data-ttu-id="91be6-214">然后，用户可在 POS 中选择失败单据，以便在**详细信息**窗格中查看错误消息和失败原因。</span><span class="sxs-lookup"><span data-stu-id="91be6-214">The user can then select the failed document in POS to view the error messages and the reason for the failure in the **Details** pane.</span></span> <span data-ttu-id="91be6-215">失败单据仍然未过帐，因此需要用户通过在 POS 中选择**订单详细信息**回到单据行。</span><span class="sxs-lookup"><span data-stu-id="91be6-215">A failed document remains unposted and requires that the user return to the document lines by selecting **Order details** in POS.</span></span> <span data-ttu-id="91be6-216">然后，用户必须根据错误通过更正更新单据。</span><span class="sxs-lookup"><span data-stu-id="91be6-216">The user must then update the document with corrections, based on the errors.</span></span> <span data-ttu-id="91be6-217">更正单据之后，用户可以通过在应用程序栏中选择**完成履行**来再次尝试处理该单据。</span><span class="sxs-lookup"><span data-stu-id="91be6-217">After a document is corrected, the user can try again to process it by selecting **Finish fulfillment** on the app bar.</span></span>

## <a name="create-an-outbound-transfer-order"></a><span data-ttu-id="91be6-218">创建出站转移单</span><span class="sxs-lookup"><span data-stu-id="91be6-218">Create an outbound transfer order</span></span>

<span data-ttu-id="91be6-219">用户可从 POS 创建新的转移单单据。</span><span class="sxs-lookup"><span data-stu-id="91be6-219">From POS, users can create new transfer order documents.</span></span> <span data-ttu-id="91be6-220">若要开始执行此流程，请在主**出站操作**单据列表中时，在应用程序栏中选择**新建**。</span><span class="sxs-lookup"><span data-stu-id="91be6-220">To begin the process, select **New** on the app bar while you're in the main **Outbound operation** document list.</span></span> <span data-ttu-id="91be6-221">然后，系统将提示您选择您的当前商店将把库存发送到的**转移至**仓库或商店。</span><span class="sxs-lookup"><span data-stu-id="91be6-221">You're then prompted to select a **Transfer to** warehouse or store that your current store will send inventory to.</span></span> <span data-ttu-id="91be6-222">值限制为商店的履行组配置中定义的选择。</span><span class="sxs-lookup"><span data-stu-id="91be6-222">The values are limited to the selection that is defined in the configuration of the store's fulfillment group.</span></span> <span data-ttu-id="91be6-223">在出站转移请求中，当前商店始终是转移单的**转移自**仓库。</span><span class="sxs-lookup"><span data-stu-id="91be6-223">In an outbound transfer request, your current store will always be the **Transfer from** warehouse for the transfer order.</span></span> <span data-ttu-id="91be6-224">不能更改该值。</span><span class="sxs-lookup"><span data-stu-id="91be6-224">That value can't be changed.</span></span>

<span data-ttu-id="91be6-225">可以根据需要在**装运日期**、**接收日期**和**交货方式**字段中输入值。</span><span class="sxs-lookup"><span data-stu-id="91be6-225">You can enter values in the **Ship date**, **Receive date**, and **Mode of delivery** fields as you require.</span></span> <span data-ttu-id="91be6-226">还可以添加将与转移单标题一起存储的注释，作为单据在 Commerce Headquarters 中的附件。</span><span class="sxs-lookup"><span data-stu-id="91be6-226">You can also add a note that will be stored together with the transfer order header, as an attachment to the document in Commerce Headquarters.</span></span>

<span data-ttu-id="91be6-227">创建标题信息之后，可以向转移单添加产品。</span><span class="sxs-lookup"><span data-stu-id="91be6-227">After the header information is created, you can add products to the transfer order.</span></span> <span data-ttu-id="91be6-228">若要开始添加物料和请求的数量，请扫描条形码或选择**添加产品**。</span><span class="sxs-lookup"><span data-stu-id="91be6-228">To start the process of adding items and requested quantities, scan bar codes or select **Add product**.</span></span>

<span data-ttu-id="91be6-229">在出站转移单中输入行之后，必须选择**保存**以在本地保存单据更改，或选择**提交请求**以将订单详细信息提交给 Commerce Headquarters 进行进一步的处理。</span><span class="sxs-lookup"><span data-stu-id="91be6-229">After lines are entered on the outbound transfer order, you must select **Save** to save the document changes locally or **Submit request** to submit the order details to Commerce Headquarters for further processing.</span></span> <span data-ttu-id="91be6-230">如果选择**保存**，草稿单据将存储到渠道数据库中，而出站仓库不能运行单据，直到通过**提交请求**成功处理了该单据。</span><span class="sxs-lookup"><span data-stu-id="91be6-230">If you select **Save**, the draft document is stored in the channel database, and the outbound warehouse can't run the document until it has been successfully processed via **Submit request**.</span></span> <span data-ttu-id="91be6-231">仅当尚未准备好将请求提交给 Commerce Headquarters 进行处理时，才应选择**保存**。</span><span class="sxs-lookup"><span data-stu-id="91be6-231">You should select **Save** only if you aren't ready to commit the request to Commerce Headquarters for processing.</span></span>

<span data-ttu-id="91be6-232">如果单据保存在本地，可以在**入站操作**单据列表的**草稿**选项卡中找到。</span><span class="sxs-lookup"><span data-stu-id="91be6-232">If a document is saved locally, it can be found on the **Drafts** tab of the **Inbound operation** document list.</span></span> <span data-ttu-id="91be6-233">单据为**草稿**状态时，可以通过选择**编辑**对其进行编辑。</span><span class="sxs-lookup"><span data-stu-id="91be6-233">While a document is in **Draft** status, you can edit it by selecting **Edit**.</span></span> <span data-ttu-id="91be6-234">可以根据需要更新、添加或删除行。</span><span class="sxs-lookup"><span data-stu-id="91be6-234">You can update, add, or delete lines as you require.</span></span> <span data-ttu-id="91be6-235">也可以通过选择**草稿**选项卡上的**删除**，删除**草稿**状态的整个单据。</span><span class="sxs-lookup"><span data-stu-id="91be6-235">You can also delete the whole document while it's in **Draft** status, by selecting **Delete** on the **Drafts** tab.</span></span>

<span data-ttu-id="91be6-236">草稿单据成功提交到 Commerce Headquarters 之后，将在**有效**选项卡上显示，并且状态为**已请求**。</span><span class="sxs-lookup"><span data-stu-id="91be6-236">After the draft document is successfully submitted to Commerce Headquarters, it appears on the **Active** tab and has a status of **Requested**.</span></span> <span data-ttu-id="91be6-237">此时，只有出站仓库中的用户可以通过在 POS 应用程序中选择**出站操作**来编辑单据。</span><span class="sxs-lookup"><span data-stu-id="91be6-237">At this point, only users in the outbound warehouse can edit the document, by selecting **Outbound operation** in the POS application.</span></span> <span data-ttu-id="91be6-238">入站仓库中的用户可以在**入站操作**单据列表的**有效**选项卡上查看转移单，但是不能编辑或删除转移单。</span><span class="sxs-lookup"><span data-stu-id="91be6-238">Users in the inbound warehouse can view the transfer order on the **Active** tab of the **Inbound operation** document list, but they can't edit or delete it.</span></span> <span data-ttu-id="91be6-239">编辑锁定确保不会发生冲突，因为入站请求者更改转移单的同时，出站装运者正在主动为订单领料和装运。</span><span class="sxs-lookup"><span data-stu-id="91be6-239">The editing lock ensures that no conflicts occur because an inbound requestor changes the transfer order at the same time that the outbound shipper is actively picking and shipping the order.</span></span> <span data-ttu-id="91be6-240">如果在提交了转移单之后需要从入站商店或仓库进行更改，应联系并请求出站装运者输入更改。</span><span class="sxs-lookup"><span data-stu-id="91be6-240">If changes are required from the inbound store or warehouse after the transfer order has been submitted, the outbound shipper should be contacted and asked to enter the changes.</span></span>

<span data-ttu-id="91be6-241">单据为**已请求**状态之后，出站仓库可以进行履行处理。</span><span class="sxs-lookup"><span data-stu-id="91be6-241">After the document is in **Requested** status, it's ready for fulfillment processing by the outbound warehouse.</span></span> <span data-ttu-id="91be6-242">由于装运是使用出站操作处理的，所以转移单单据的状态将从**已请求**更新为**已全部装运**或**已部分装运**。</span><span class="sxs-lookup"><span data-stu-id="91be6-242">As the shipment is processed by using the outbound operation, the status of the transfer order documents is updated from **Requested** to **Fully shipped** or **Partially shipped**.</span></span> <span data-ttu-id="91be6-243">单据为**已完全装运**或**已部分装运**状态之后，入站商店或仓库可以使用入站操作收货流程过帐其收据。</span><span class="sxs-lookup"><span data-stu-id="91be6-243">After the documents are in **Fully shipped** or **Partially shipped** status, the inbound store or warehouse can post receipts against them by using the inbound operation receiving process.</span></span>

<span data-ttu-id="91be6-244">已完全装运的转移单将移到**出站操作**单据列表的**完成**选项卡。</span><span class="sxs-lookup"><span data-stu-id="91be6-244">Fully shipped transfer orders are moved to the **Complete** tab of the **Outbound operation** document list.</span></span> <span data-ttu-id="91be6-245">它们在此处继续以只读模式对出站商店或仓库中的用户显示几天。</span><span class="sxs-lookup"><span data-stu-id="91be6-245">There, they remain visible to users in the outbound store or warehouse, in read-only mode, for seven days.</span></span>

## <a name="related-topics"></a><span data-ttu-id="91be6-246">相关主题</span><span class="sxs-lookup"><span data-stu-id="91be6-246">Related topics</span></span>

[<span data-ttu-id="91be6-247">POS 中的入站库存操作</span><span class="sxs-lookup"><span data-stu-id="91be6-247">Inbound inventory operation in POS</span></span>](pos-inbound-inventory-operation.md)
